(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Ux(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var sS={exports:{}},Kg={};var Ew;function rU(){if(Ew)return Kg;Ew=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:i,type:n,key:s,ref:r!==void 0?r:null,props:a}}return Kg.Fragment=e,Kg.jsx=t,Kg.jsxs=t,Kg}var Aw;function aU(){return Aw||(Aw=1,sS.exports=rU()),sS.exports}var de=aU(),lS={exports:{}},Tn={};var Cw;function sU(){if(Cw)return Tn;Cw=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,w={};function S(J,ge,Z){this.props=J,this.context=ge,this.refs=w,this.updater=Z||_}S.prototype.isReactComponent={},S.prototype.setState=function(J,ge){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ge,"setState")},S.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function A(){}A.prototype=S.prototype;function D(J,ge,Z){this.props=J,this.context=ge,this.refs=w,this.updater=Z||_}var N=D.prototype=new A;N.constructor=D,M(N,S.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function B(J,ge,Z){var Oe=Z.ref;return{$$typeof:i,type:J,key:ge,ref:Oe!==void 0?Oe:null,props:Z}}function O(J,ge){return B(J.type,ge,J.props)}function X(J){return typeof J=="object"&&J!==null&&J.$$typeof===i}function W(J){var ge={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(Z){return ge[Z]})}var se=/\/+/g;function le(J,ge){return typeof J=="object"&&J!==null&&J.key!=null?W(""+J.key):ge.toString(36)}function ie(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(z,z):(J.status="pending",J.then(function(ge){J.status==="pending"&&(J.status="fulfilled",J.value=ge)},function(ge){J.status==="pending"&&(J.status="rejected",J.reason=ge)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function Y(J,ge,Z,Oe,We){var be=typeof J;(be==="undefined"||be==="boolean")&&(J=null);var Ne=!1;if(J===null)Ne=!0;else switch(be){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(J.$$typeof){case i:case e:Ne=!0;break;case m:return Ne=J._init,Y(Ne(J._payload),ge,Z,Oe,We)}}if(Ne)return We=We(J),Ne=Oe===""?"."+le(J,0):Oe,k(We)?(Z="",Ne!=null&&(Z=Ne.replace(se,"$&/")+"/"),Y(We,ge,Z,"",function(_t){return _t})):We!=null&&(X(We)&&(We=O(We,Z+(We.key==null||J&&J.key===We.key?"":(""+We.key).replace(se,"$&/")+"/")+Ne)),ge.push(We)),1;Ne=0;var Ye=Oe===""?".":Oe+":";if(k(J))for(var at=0;at<J.length;at++)Oe=J[at],be=Ye+le(Oe,at),Ne+=Y(Oe,ge,Z,be,We);else if(at=x(J),typeof at=="function")for(J=at.call(J),at=0;!(Oe=J.next()).done;)Oe=Oe.value,be=Ye+le(Oe,at++),Ne+=Y(Oe,ge,Z,be,We);else if(be==="object"){if(typeof J.then=="function")return Y(ie(J),ge,Z,Oe,We);throw ge=String(J),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function te(J,ge,Z){if(J==null)return J;var Oe=[],We=0;return Y(J,Oe,"","",function(be){return ge.call(Z,be,We++)}),Oe}function re(J){if(J._status===-1){var ge=J._result;ge=ge(),ge.then(function(Z){(J._status===0||J._status===-1)&&(J._status=1,J._result=Z)},function(Z){(J._status===0||J._status===-1)&&(J._status=2,J._result=Z)}),J._status===-1&&(J._status=0,J._result=ge)}if(J._status===1)return J._result.default;throw J._result}var ye=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},F={map:te,forEach:function(J,ge,Z){te(J,function(){ge.apply(this,arguments)},Z)},count:function(J){var ge=0;return te(J,function(){ge++}),ge},toArray:function(J){return te(J,function(ge){return ge})||[]},only:function(J){if(!X(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return Tn.Activity=g,Tn.Children=F,Tn.Component=S,Tn.Fragment=t,Tn.Profiler=r,Tn.PureComponent=D,Tn.StrictMode=n,Tn.Suspense=c,Tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Tn.__COMPILER_RUNTIME={__proto__:null,c:function(J){return P.H.useMemoCache(J)}},Tn.cache=function(J){return function(){return J.apply(null,arguments)}},Tn.cacheSignal=function(){return null},Tn.cloneElement=function(J,ge,Z){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Oe=M({},J.props),We=J.key;if(ge!=null)for(be in ge.key!==void 0&&(We=""+ge.key),ge)!V.call(ge,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ge.ref===void 0||(Oe[be]=ge[be]);var be=arguments.length-2;if(be===1)Oe.children=Z;else if(1<be){for(var Ne=Array(be),Ye=0;Ye<be;Ye++)Ne[Ye]=arguments[Ye+2];Oe.children=Ne}return B(J.type,We,Oe)},Tn.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},Tn.createElement=function(J,ge,Z){var Oe,We={},be=null;if(ge!=null)for(Oe in ge.key!==void 0&&(be=""+ge.key),ge)V.call(ge,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&(We[Oe]=ge[Oe]);var Ne=arguments.length-2;if(Ne===1)We.children=Z;else if(1<Ne){for(var Ye=Array(Ne),at=0;at<Ne;at++)Ye[at]=arguments[at+2];We.children=Ye}if(J&&J.defaultProps)for(Oe in Ne=J.defaultProps,Ne)We[Oe]===void 0&&(We[Oe]=Ne[Oe]);return B(J,be,We)},Tn.createRef=function(){return{current:null}},Tn.forwardRef=function(J){return{$$typeof:o,render:J}},Tn.isValidElement=X,Tn.lazy=function(J){return{$$typeof:m,_payload:{_status:-1,_result:J},_init:re}},Tn.memo=function(J,ge){return{$$typeof:f,type:J,compare:ge===void 0?null:ge}},Tn.startTransition=function(J){var ge=P.T,Z={};P.T=Z;try{var Oe=J(),We=P.S;We!==null&&We(Z,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(z,ye)}catch(be){ye(be)}finally{ge!==null&&Z.types!==null&&(ge.types=Z.types),P.T=ge}},Tn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Tn.use=function(J){return P.H.use(J)},Tn.useActionState=function(J,ge,Z){return P.H.useActionState(J,ge,Z)},Tn.useCallback=function(J,ge){return P.H.useCallback(J,ge)},Tn.useContext=function(J){return P.H.useContext(J)},Tn.useDebugValue=function(){},Tn.useDeferredValue=function(J,ge){return P.H.useDeferredValue(J,ge)},Tn.useEffect=function(J,ge){return P.H.useEffect(J,ge)},Tn.useEffectEvent=function(J){return P.H.useEffectEvent(J)},Tn.useId=function(){return P.H.useId()},Tn.useImperativeHandle=function(J,ge,Z){return P.H.useImperativeHandle(J,ge,Z)},Tn.useInsertionEffect=function(J,ge){return P.H.useInsertionEffect(J,ge)},Tn.useLayoutEffect=function(J,ge){return P.H.useLayoutEffect(J,ge)},Tn.useMemo=function(J,ge){return P.H.useMemo(J,ge)},Tn.useOptimistic=function(J,ge){return P.H.useOptimistic(J,ge)},Tn.useReducer=function(J,ge,Z){return P.H.useReducer(J,ge,Z)},Tn.useRef=function(J){return P.H.useRef(J)},Tn.useState=function(J){return P.H.useState(J)},Tn.useSyncExternalStore=function(J,ge,Z){return P.H.useSyncExternalStore(J,ge,Z)},Tn.useTransition=function(){return P.H.useTransition()},Tn.version="19.2.1",Tn}var Rw;function d1(){return Rw||(Rw=1,lS.exports=sU()),lS.exports}var Me=d1();const lU=Ux(Me);var oS={exports:{}},Qg={},uS={exports:{}},cS={};var Dw;function oU(){return Dw||(Dw=1,(function(i){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var ye=re-1>>>1,F=Y[ye];if(0<r(F,te))Y[ye]=te,Y[re]=F,re=ye;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var ye=0,F=Y.length,J=F>>>1;ye<J;){var ge=2*(ye+1)-1,Z=Y[ge],Oe=ge+1,We=Y[Oe];if(0>r(Z,re))Oe<F&&0>r(We,Z)?(Y[ye]=We,Y[Oe]=re,ye=Oe):(Y[ye]=Z,Y[ge]=re,ye=ge);else if(Oe<F&&0>r(We,re))Y[ye]=We,Y[Oe]=re,ye=Oe;else break e}}return te}function r(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();i.unstable_now=function(){return s.now()-o}}var c=[],f=[],m=1,g=null,y=3,x=!1,_=!1,M=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function N(Y){for(var te=t(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=Y)n(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(f)}}function k(Y){if(M=!1,N(Y),!_)if(t(c)!==null)_=!0,z||(z=!0,W());else{var te=t(f);te!==null&&ie(k,te.startTime-Y)}}var z=!1,P=-1,V=5,B=-1;function O(){return w?!0:!(i.unstable_now()-B<V)}function X(){if(w=!1,z){var Y=i.unstable_now();B=Y;var te=!0;try{e:{_=!1,M&&(M=!1,A(P),P=-1),x=!0;var re=y;try{t:{for(N(Y),g=t(c);g!==null&&!(g.expirationTime>Y&&O());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,y=g.priorityLevel;var F=ye(g.expirationTime<=Y);if(Y=i.unstable_now(),typeof F=="function"){g.callback=F,N(Y),te=!0;break t}g===t(c)&&n(c),N(Y)}else n(c);g=t(c)}if(g!==null)te=!0;else{var J=t(f);J!==null&&ie(k,J.startTime-Y),te=!1}}break e}finally{g=null,y=re,x=!1}te=void 0}}finally{te?W():z=!1}}}var W;if(typeof D=="function")W=function(){D(X)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,le=se.port2;se.port1.onmessage=X,W=function(){le.postMessage(null)}}else W=function(){S(X,0)};function ie(Y,te){P=S(function(){Y(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var re=y;y=te;try{return Y()}finally{y=re}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=y;y=Y;try{return te()}finally{y=re}},i.unstable_scheduleCallback=function(Y,te,re){var ye=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,Y={id:m++,callback:te,priorityLevel:Y,startTime:re,expirationTime:F,sortIndex:-1},re>ye?(Y.sortIndex=re,e(f,Y),t(c)===null&&Y===t(f)&&(M?(A(P),P=-1):M=!0,ie(k,re-ye))):(Y.sortIndex=F,e(c,Y),_||x||(_=!0,z||(z=!0,W()))),Y},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(Y){var te=y;return function(){var re=y;y=te;try{return Y.apply(this,arguments)}finally{y=re}}}})(cS)),cS}var Nw;function uU(){return Nw||(Nw=1,uS.exports=oU()),uS.exports}var fS={exports:{}},Ka={};var zw;function cU(){if(zw)return Ka;zw=1;var i=d1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(c,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:c,containerInfo:f,implementation:m}}var s=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ka.createPortal=function(c,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,m)},Ka.flushSync=function(c){var f=s.T,m=n.p;try{if(s.T=null,n.p=2,c)return c()}finally{s.T=f,n.p=m,n.d.f()}},Ka.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(c,f))},Ka.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ka.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var m=f.as,g=o(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):m==="script"&&n.d.X(c,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ka.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=o(f.as,f.crossOrigin);n.d.M(c,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(c)},Ka.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=o(m,f.crossOrigin);n.d.L(c,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ka.preloadModule=function(c,f){if(typeof c=="string")if(f){var m=o(f.as,f.crossOrigin);n.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(c)},Ka.requestFormReset=function(c){n.d.r(c)},Ka.unstable_batchedUpdates=function(c,f){return c(f)},Ka.useFormState=function(c,f,m){return s.H.useFormState(c,f,m)},Ka.useFormStatus=function(){return s.H.useHostTransitionStatus()},Ka.version="19.2.1",Ka}var Ow;function fU(){if(Ow)return fS.exports;Ow=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fS.exports=cU(),fS.exports}var Lw;function hU(){if(Lw)return Qg;Lw=1;var i=uU(),e=d1(),t=fU();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function s(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function o(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(a(l)!==l)throw Error(n(188))}function f(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,v=u;;){var T=p.return;if(T===null)break;var C=T.alternate;if(C===null){if(v=T.return,v!==null){p=v;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===p)return c(T),l;if(C===v)return c(T),u;C=C.sibling}throw Error(n(188))}if(p.return!==v.return)p=T,v=C;else{for(var H=!1,K=T.child;K;){if(K===p){H=!0,p=T,v=C;break}if(K===v){H=!0,v=T,p=C;break}K=K.sibling}if(!H){for(K=C.child;K;){if(K===p){H=!0,p=C,v=T;break}if(K===v){H=!0,v=C,p=T;break}K=K.sibling}if(!H)throw Error(n(189))}}if(p.alternate!==v)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function W(l){return l===null||typeof l!="object"?null:(l=X&&l[X]||l["@@iterator"],typeof l=="function"?l:null)}var se=Symbol.for("react.client.reference");function le(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===se?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case M:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case B:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case D:return l.displayName||"Context";case A:return(l._context.displayName||"Context")+".Consumer";case N:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return u=l.displayName||null,u!==null?u:le(l.type)||"Memo";case V:u=l._payload,l=l._init;try{return le(l(u))}catch{}}return null}var ie=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ye=[],F=-1;function J(l){return{current:l}}function ge(l){0>F||(l.current=ye[F],ye[F]=null,F--)}function Z(l,u){F++,ye[F]=l.current,l.current=u}var Oe=J(null),We=J(null),be=J(null),Ne=J(null);function Ye(l,u){switch(Z(be,u),Z(We,l),Z(Oe,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?Z7(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=Z7(u),l=K7(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ge(Oe),Z(Oe,l)}function at(){ge(Oe),ge(We),ge(be)}function _t(l){l.memoizedState!==null&&Z(Ne,l);var u=Oe.current,p=K7(u,l.type);u!==p&&(Z(We,l),Z(Oe,p))}function kt(l){We.current===l&&(ge(Oe),ge(We)),Ne.current===l&&(ge(Ne),Yg._currentValue=re)}var rn,dt;function Fe(l){if(rn===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);rn=u&&u[1]||"",dt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+l+dt}var ee=!1;function Ge(l,u){if(!l||ee)return"";ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(He){var Ie=He}Reflect.construct(l,[],et)}else{try{et.call()}catch(He){Ie=He}l.call(et.prototype)}}else{try{throw Error()}catch(He){Ie=He}(et=l())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(He){if(He&&Ie&&typeof He.stack=="string")return[He.stack,Ie.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),H=C[0],K=C[1];if(H&&K){var me=H.split(`
`),Be=K.split(`
`);for(T=v=0;v<me.length&&!me[v].includes("DetermineComponentFrameRoot");)v++;for(;T<Be.length&&!Be[T].includes("DetermineComponentFrameRoot");)T++;if(v===me.length||T===Be.length)for(v=me.length-1,T=Be.length-1;1<=v&&0<=T&&me[v]!==Be[T];)T--;for(;1<=v&&0<=T;v--,T--)if(me[v]!==Be[T]){if(v!==1||T!==1)do if(v--,T--,0>T||me[v]!==Be[T]){var qe=`
`+me[v].replace(" at new "," at ");return l.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",l.displayName)),qe}while(1<=v&&0<=T);break}}}finally{ee=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Fe(p):""}function fe(l,u){switch(l.tag){case 26:case 27:case 5:return Fe(l.type);case 16:return Fe("Lazy");case 13:return l.child!==u&&u!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Ge(l.type,!1);case 11:return Ge(l.type.render,!1);case 1:return Ge(l.type,!0);case 31:return Fe("Activity");default:return""}}function it(l){try{var u="",p=null;do u+=fe(l,p),p=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ze=Object.prototype.hasOwnProperty,xt=i.unstable_scheduleCallback,tt=i.unstable_cancelCallback,Mt=i.unstable_shouldYield,ne=i.unstable_requestPaint,q=i.unstable_now,Te=i.unstable_getCurrentPriorityLevel,oe=i.unstable_ImmediatePriority,ve=i.unstable_UserBlockingPriority,Se=i.unstable_NormalPriority,nt=i.unstable_LowPriority,Qe=i.unstable_IdlePriority,Rt=i.log,ft=i.unstable_setDisableYieldValue,Ve=null,Ke=null;function Nt(l){if(typeof Rt=="function"&&ft(l),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Ve,l)}catch{}}var bt=Math.clz32?Math.clz32:ue,mt=Math.log,It=Math.LN2;function ue(l){return l>>>=0,l===0?32:31-(mt(l)/It|0)|0}var yt=256,lt=262144,ot=4194304;function $e(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Xe(l,u,p){var v=l.pendingLanes;if(v===0)return 0;var T=0,C=l.suspendedLanes,H=l.pingedLanes;l=l.warmLanes;var K=v&134217727;return K!==0?(v=K&~C,v!==0?T=$e(v):(H&=K,H!==0?T=$e(H):p||(p=K&~l,p!==0&&(T=$e(p))))):(K=v&~C,K!==0?T=$e(K):H!==0?T=$e(H):p||(p=v&~l,p!==0&&(T=$e(p)))),T===0?0:u!==0&&u!==T&&(u&C)===0&&(C=T&-T,p=u&-u,C>=p||C===32&&(p&4194048)!==0)?u:T}function Dt(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Zt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var l=ot;return ot<<=1,(ot&62914560)===0&&(ot=4194304),l}function At(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function Ft(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function gn(l,u,p,v,T,C){var H=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var K=l.entanglements,me=l.expirationTimes,Be=l.hiddenUpdates;for(p=H&~p;0<p;){var qe=31-bt(p),et=1<<qe;K[qe]=0,me[qe]=-1;var Ie=Be[qe];if(Ie!==null)for(Be[qe]=null,qe=0;qe<Ie.length;qe++){var He=Ie[qe];He!==null&&(He.lane&=-536870913)}p&=~et}v!==0&&Tt(l,v,0),C!==0&&T===0&&l.tag!==0&&(l.suspendedLanes|=C&~(H&~u))}function Tt(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-bt(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|p&261930}function ln(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-bt(p),T=1<<v;T&u|l[v]&u&&(l[v]|=u),p&=~T}}function Wt(l,u){var p=u&-u;return p=(p&42)!==0?1:jt(p),(p&(l.suspendedLanes|u))!==0?0:p}function jt(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Ci(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function hn(){var l=te.p;return l!==0?l:(l=window.event,l===void 0?32:yw(l.type))}function Wn(l,u){var p=te.p;try{return te.p=l,u()}finally{te.p=p}}var ii=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ii,vn="__reactProps$"+ii,Nn="__reactContainer$"+ii,Rr="__reactEvents$"+ii,Mi="__reactListeners$"+ii,Jr="__reactHandles$"+ii,$r="__reactResources$"+ii,Ri="__reactMarker$"+ii;function Fi(l){delete l[Gt],delete l[vn],delete l[Rr],delete l[Mi],delete l[Jr]}function In(l){var u=l[Gt];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Nn]||p[Gt]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=iw(l);l!==null;){if(p=l[Gt])return p;l=iw(l)}return u}l=p,p=l.parentNode}return null}function j(l){if(l=l[Gt]||l[Nn]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Ee(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function ze(l){var u=l[$r];return u||(u=l[$r]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ae(l){l[Ri]=!0}var we=new Set,ht={};function St(l,u){Ct(l,u),Ct(l+"Capture",u)}function Ct(l,u){for(ht[l]=u,l=0;l<u.length;l++)we.add(u[l])}var Et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kt={},en={};function Vt(l){return Ze.call(en,l)?!0:Ze.call(Kt,l)?!1:Et.test(l)?en[l]=!0:(Kt[l]=!0,!1)}function wn(l,u,p){if(Vt(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function Jn(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function $n(l,u,p,v){if(v===null)l.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+v)}}function Hn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function mi(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function an(l,u,p){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var T=v.get,C=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return T.call(this)},set:function(H){p=""+H,C.call(this,H)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return p},setValue:function(H){p=""+H},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function wi(l){if(!l._valueTracker){var u=mi(l)?"checked":"value";l._valueTracker=an(l,u,""+l[u])}}function Vn(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return l&&(v=mi(l)?l.checked?"true":"false":l.value),l=v,l!==p?(u.setValue(l),!0):!1}function _r(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var zo=/[\n"\\]/g;function Di(l){return l.replace(zo,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Kl(l,u,p,v,T,C,H,K){l.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?l.type=H:l.removeAttribute("type"),u!=null?H==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Hn(u)):l.value!==""+Hn(u)&&(l.value=""+Hn(u)):H!=="submit"&&H!=="reset"||l.removeAttribute("value"),u!=null?Dr(l,H,Hn(u)):p!=null?Dr(l,H,Hn(p)):v!=null&&l.removeAttribute("value"),T==null&&C!=null&&(l.defaultChecked=!!C),T!=null&&(l.checked=T&&typeof T!="function"&&typeof T!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.name=""+Hn(K):l.removeAttribute("name")}function Ni(l,u,p,v,T,C,H,K){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),u!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){wi(l);return}p=p!=null?""+Hn(p):"",u=u!=null?""+Hn(u):p,K||u===l.value||(l.value=u),l.defaultValue=u}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=K?l.checked:!!v,l.defaultChecked=!!v,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(l.name=H),wi(l)}function Dr(l,u,p){u==="number"&&_r(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function Nr(l,u,p,v){if(l=l.options,u){u={};for(var T=0;T<p.length;T++)u["$"+p[T]]=!0;for(p=0;p<l.length;p++)T=u.hasOwnProperty("$"+l[p].value),l[p].selected!==T&&(l[p].selected=T),T&&v&&(l[p].defaultSelected=!0)}else{for(p=""+Hn(p),u=null,T=0;T<l.length;T++){if(l[T].value===p){l[T].selected=!0,v&&(l[T].defaultSelected=!0);return}u!==null||l[T].disabled||(u=l[T])}u!==null&&(u.selected=!0)}}function zr(l,u,p){if(u!=null&&(u=""+Hn(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+Hn(p):""}function er(l,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(n(92));if(ie(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=Hn(u),l.defaultValue=p,v=l.textContent,v===p&&v!==""&&v!==null&&(l.value=v),wi(l)}function xl(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eh(l,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,p):typeof p!="number"||p===0||qs.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function E1(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var T in u)v=u[T],u.hasOwnProperty(T)&&p[T]!==v&&eh(l,T,v)}else for(var C in u)u.hasOwnProperty(C)&&eh(l,C,u[C])}function th(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ay=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nh(l){return ay.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Ql(){}var ih=null;function jd(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var xc=null,mu=null;function A1(l){var u=j(l);if(u&&(l=u.stateNode)){var p=l[vn]||null;e:switch(l=u.stateNode,u.type){case"input":if(Kl(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Di(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==l&&v.form===l.form){var T=v[vn]||null;if(!T)throw Error(n(90));Kl(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===l.form&&Vn(v)}break e;case"textarea":zr(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Nr(l,!!p.multiple,u,!1)}}}var Wd=!1;function C1(l,u,p){if(Wd)return l(u,p);Wd=!0;try{var v=l(u);return v}finally{if(Wd=!1,(xc!==null||mu!==null)&&($(),xc&&(u=xc,l=mu,mu=xc=null,A1(u),l)))for(u=0;u<l.length;u++)A1(l[u])}}function yc(l,u){var p=l.stateNode;if(p===null)return null;var v=p[vn]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var Jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=!1;if(Jl)try{var rh={};Object.defineProperty(rh,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",rh,rh),window.removeEventListener("test",rh,rh)}catch{Zd=!1}var gu=null,Kd=null,vu=null;function Qd(){if(vu)return vu;var l,u=Kd,p=u.length,v,T="value"in gu?gu.value:gu.textContent,C=T.length;for(l=0;l<p&&u[l]===T[l];l++);var H=p-l;for(v=1;v<=H&&u[p-v]===T[C-v];v++);return vu=T.slice(l,1<v?1-v:void 0)}function bc(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function ah(){return!0}function R1(){return!1}function da(l){function u(p,v,T,C,H){this._reactName=p,this._targetInst=T,this.type=v,this.nativeEvent=C,this.target=H,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(p=l[K],this[K]=p?p(C):C[K]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?ah:R1,this.isPropagationStopped=R1,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),u}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=da(xu),yl=g({},xu,{view:0,detail:0}),Jd=da(yl),$d,lh,T0,oh=g({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==T0&&(T0&&l.type==="mousemove"?($d=l.screenX-T0.screenX,lh=l.screenY-T0.screenY):lh=$d=0,T0=l),$d)},movementY:function(l){return"movementY"in l?l.movementY:lh}}),sy=da(oh),ea=g({},oh,{dataTransfer:0}),ly=da(ea),oy=g({},yl,{relatedTarget:0}),ep=da(oy),uy=g({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=da(uy),uh=g({},xu,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),D1=da(uh),fy=g({},xu,{data:0}),N1=da(fy),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=O1[l])?!!u[l]:!1}function ch(){return dy}var L1=g({},yl,{key:function(l){if(l.key){var u=hy[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=bc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?z1[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(l){return l.type==="keypress"?bc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?bc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),U1=da(L1),py=g({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=da(py),my=g({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),Oo=da(my),B1=g({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=da(B1),gy=g({},oh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),yu=da(gy),Lo=g({},xu,{newState:0,oldState:0}),k1=da(Lo),I1=[9,13,27,32],_c=Jl&&"CompositionEvent"in window,bu=null;Jl&&"documentMode"in document&&(bu=document.documentMode);var Sc=Jl&&"TextEvent"in window&&!bu,ta=Jl&&(!_c||bu&&8<bu&&11>=bu),fh=" ",P1=!1;function np(l,u){switch(l){case"keyup":return I1.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E0(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var _u=!1;function ip(l,u){switch(l){case"compositionend":return E0(u);case"keypress":return u.which!==32?null:(P1=!0,fh);case"textInput":return l=u.data,l===fh&&P1?null:l;default:return null}}function vy(l,u){if(_u)return l==="compositionend"||!_c&&np(l,u)?(l=Qd(),vu=Kd=gu=null,_u=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ta&&u.locale!=="ko"?null:u.data;default:return null}}var fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!fs[l.type]:u==="textarea"}function rp(l,u,p,v){xc?mu?mu.push(v):mu=[v]:xc=v,u=o2(u,"onChange"),0<u.length&&(p=new sh("onChange","change",null,p,v),l.push({event:p,listeners:u}))}var A0=null,C0=null;function H1(l){G7(l,0)}function R0(l){var u=Ee(l);if(Vn(u))return l}function V1(l,u){if(l==="change")return u}var hh=!1;if(Jl){var Mc;if(Jl){var Hi="oninput"in document;if(!Hi){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Hi=typeof xy.oninput=="function"}Mc=Hi}else Mc=!1;hh=Mc&&(!document.documentMode||9<document.documentMode)}function yy(){A0&&(A0.detachEvent("onpropertychange",G1),C0=A0=null)}function G1(l){if(l.propertyName==="value"&&R0(C0)){var u=[];rp(u,C0,l,jd(l)),C1(H1,u)}}function dh(l,u,p){l==="focusin"?(yy(),A0=u,C0=p,A0.attachEvent("onpropertychange",G1)):l==="focusout"&&yy()}function Su(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return R0(C0)}function by(l,u){if(l==="click")return R0(u)}function _y(l,u){if(l==="input"||l==="change")return R0(u)}function wc(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Vi=typeof Object.is=="function"?Object.is:wc;function D0(l,u){if(Vi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var T=p[v];if(!Ze.call(u,T)||!Vi(l[T],u[T]))return!1}return!0}function q1(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function X1(l,u){var p=q1(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=u&&v>=u)return{node:p,offset:u-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=q1(p)}}function ap(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?ap(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function sp(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=_r(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=_r(l.document)}return u}function N0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Sy=Jl&&"documentMode"in document&&11>=document.documentMode,z0=null,lp=null,O0=null,hs=!1;function op(l,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;hs||z0==null||z0!==_r(v)||(v=z0,"selectionStart"in v&&N0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),O0&&D0(O0,v)||(O0=v,v=o2(lp,"onSelect"),0<v.length&&(u=new sh("onSelect","select",null,u,p),l.push({event:u,listeners:v}),u.target=z0)))}function Mu(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var L0={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionrun:Mu("Transition","TransitionRun"),transitionstart:Mu("Transition","TransitionStart"),transitioncancel:Mu("Transition","TransitionCancel"),transitionend:Mu("Transition","TransitionEnd")},ph={},Aa={};Jl&&(Aa=document.createElement("div").style,"AnimationEvent"in window||(delete L0.animationend.animation,delete L0.animationiteration.animation,delete L0.animationstart.animation),"TransitionEvent"in window||delete L0.transitionend.transition);function wu(l){if(ph[l])return ph[l];if(!L0[l])return l;var u=L0[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in Aa)return ph[l]=u[p];return l}var Pa=wu("animationend"),Y1=wu("animationiteration"),$l=wu("animationstart"),U0=wu("transitionrun"),Tu=wu("transitionstart"),j1=wu("transitioncancel"),up=wu("transitionend"),Uo=new Map,cp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cp.push("scrollEnd");function pa(l,u){Uo.set(l,u),St(u,[l])}var Eu=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Hr=[],Tc=0,fp=0;function Au(){for(var l=Tc,u=fp=Tc=0;u<l;){var p=Hr[u];Hr[u++]=null;var v=Hr[u];Hr[u++]=null;var T=Hr[u];Hr[u++]=null;var C=Hr[u];if(Hr[u++]=null,v!==null&&T!==null){var H=v.pending;H===null?T.next=T:(T.next=H.next,H.next=T),v.pending=T}C!==0&&hp(p,T,C)}}function mh(l,u,p,v){Hr[Tc++]=l,Hr[Tc++]=u,Hr[Tc++]=p,Hr[Tc++]=v,fp|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function B0(l,u,p,v){return mh(l,u,p,v),k0(l)}function Cu(l,u){return mh(l,null,null,u),k0(l)}function hp(l,u,p){l.lanes|=p;var v=l.alternate;v!==null&&(v.lanes|=p);for(var T=!1,C=l.return;C!==null;)C.childLanes|=p,v=C.alternate,v!==null&&(v.childLanes|=p),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(T=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,T&&u!==null&&(T=31-bt(p),l=C.hiddenUpdates,v=l[T],v===null?l[T]=[u]:v.push(u),u.lane=p|536870912),C):null}function k0(l){if(50<Vc)throw Vc=0,Gc=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var Ru={};function My(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(l,u,p,v){return new My(l,u,p,v)}function Ra(l){return l=l.prototype,!(!l||!l.isReactComponent)}function eo(l,u){var p=l.alternate;return p===null?(p=Ca(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function ma(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function gh(l,u,p,v,T,C){var H=0;if(v=l,typeof l=="function")Ra(l)&&(H=1);else if(typeof l=="string")H=YL(l,p,Oe.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case B:return l=Ca(31,p,u,T),l.elementType=B,l.lanes=C,l;case M:return Bo(p.children,T,C,u);case w:H=8,T|=24;break;case S:return l=Ca(12,p,u,T|2),l.elementType=S,l.lanes=C,l;case k:return l=Ca(13,p,u,T),l.elementType=k,l.lanes=C,l;case z:return l=Ca(19,p,u,T),l.elementType=z,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case D:H=10;break e;case A:H=9;break e;case N:H=11;break e;case P:H=14;break e;case V:H=16,v=null;break e}H=29,p=Error(n(130,l===null?"null":typeof l,"")),v=null}return u=Ca(H,p,u,T),u.elementType=l,u.type=v,u.lanes=C,u}function Bo(l,u,p,v){return l=Ca(7,l,v,u),l.lanes=p,l}function dp(l,u,p){return l=Ca(6,l,null,u),l.lanes=p,l}function wy(l){var u=Ca(18,null,null,0);return u.stateNode=l,u}function bl(l,u,p){return u=Ca(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var W1=new WeakMap;function Fa(l,u){if(typeof l=="object"&&l!==null){var p=W1.get(l);return p!==void 0?p:(u={value:l,source:u,stack:it(u)},W1.set(l,u),u)}return{value:l,source:u,stack:it(u)}}var _l=[],Ec=0,vh=null,I0=0,ds=[],Ha=0,to=null,no=1,io="";function ko(l,u){_l[Ec++]=I0,_l[Ec++]=vh,vh=l,I0=u}function Z1(l,u,p){ds[Ha++]=no,ds[Ha++]=io,ds[Ha++]=to,to=l;var v=no;l=io;var T=32-bt(v)-1;v&=~(1<<T),p+=1;var C=32-bt(u)+T;if(30<C){var H=T-T%5;C=(v&(1<<H)-1).toString(32),v>>=H,T-=H,no=1<<32-bt(u)+T|p<<T|v,io=C+l}else no=1<<C|p<<T|v,io=l}function pp(l){l.return!==null&&(ko(l,1),Z1(l,1,0))}function Du(l){for(;l===vh;)vh=_l[--Ec],_l[Ec]=null,I0=_l[--Ec],_l[Ec]=null;for(;l===to;)to=ds[--Ha],ds[Ha]=null,io=ds[--Ha],ds[Ha]=null,no=ds[--Ha],ds[Ha]=null}function xh(l,u){ds[Ha++]=no,ds[Ha++]=io,ds[Ha++]=to,no=u.id,io=u.overflow,to=l}var Vr=null,Li=null,Zn=!1,Io=null,Gr=!1,mp=Error(n(519));function Gn(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yh(Fa(u,l)),mp}function gp(l){var u=l.stateNode,p=l.type,v=l.memoizedProps;switch(u[Gt]=l,u[vn]=v,p){case"dialog":Kn("cancel",u),Kn("close",u);break;case"iframe":case"object":case"embed":Kn("load",u);break;case"video":case"audio":for(p=0;p<Hg.length;p++)Kn(Hg[p],u);break;case"source":Kn("error",u);break;case"img":case"image":case"link":Kn("error",u),Kn("load",u);break;case"details":Kn("toggle",u);break;case"input":Kn("invalid",u),Ni(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Kn("invalid",u);break;case"textarea":Kn("invalid",u),er(u,v.value,v.defaultValue,v.children)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||j7(u.textContent,p)?(v.popover!=null&&(Kn("beforetoggle",u),Kn("toggle",u)),v.onScroll!=null&&Kn("scroll",u),v.onScrollEnd!=null&&Kn("scrollend",u),v.onClick!=null&&(u.onclick=Ql),u=!0):u=!1,u||Gn(l,!0)}function Ty(l){for(Vr=l.return;Vr;)switch(Vr.tag){case 5:case 31:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:Vr=Vr.return}}function Ac(l){if(l!==Vr)return!1;if(!Zn)return Ty(l),Zn=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||X_(l.type,l.memoizedProps)),p=!p),p&&Li&&Gn(l),Ty(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Li=nw(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Li=nw(l)}else u===27?(u=Li,rf(l.type)?(l=K_,K_=null,Li=l):Li=u):Li=Vr?mo(l.stateNode.nextSibling):null;return!0}function Cc(){Li=Vr=null,Zn=!1}function K1(){var l=Io;return l!==null&&(_a===null?_a=l:_a.push.apply(_a,l),Io=null),l}function yh(l){Io===null?Io=[l]:Io.push(l)}var Q1=J(null),Po=null,ga=null;function Fo(l,u,p){Z(Q1,u._currentValue),u._currentValue=p}function Xs(l){l._currentValue=Q1.current,ge(Q1)}function Ho(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function vp(l,u,p,v){var T=l.child;for(T!==null&&(T.return=l);T!==null;){var C=T.dependencies;if(C!==null){var H=T.child;C=C.firstContext;e:for(;C!==null;){var K=C;C=T;for(var me=0;me<u.length;me++)if(K.context===u[me]){C.lanes|=p,K=C.alternate,K!==null&&(K.lanes|=p),Ho(C.return,p,l),v||(H=null);break e}C=K.next}}else if(T.tag===18){if(H=T.return,H===null)throw Error(n(341));H.lanes|=p,C=H.alternate,C!==null&&(C.lanes|=p),Ho(H,p,l),H=null}else H=T.child;if(H!==null)H.return=T;else for(H=T;H!==null;){if(H===l){H=null;break}if(T=H.sibling,T!==null){T.return=H.return,H=T;break}H=H.return}T=H}}function Nu(l,u,p,v){l=null;for(var T=u,C=!1;T!==null;){if(!C){if((T.flags&524288)!==0)C=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var H=T.alternate;if(H===null)throw Error(n(387));if(H=H.memoizedProps,H!==null){var K=T.type;Vi(T.pendingProps.value,H.value)||(l!==null?l.push(K):l=[K])}}else if(T===Ne.current){if(H=T.alternate,H===null)throw Error(n(387));H.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(l!==null?l.push(Yg):l=[Yg])}T=T.return}l!==null&&vp(u,l,p,v),u.flags|=262144}function P0(l){for(l=l.firstContext;l!==null;){if(!Vi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Rc(l){Po=l,ga=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function qr(l){return J1(Po,l)}function bh(l,u){return Po===null&&Rc(l),J1(l,u)}function J1(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ga===null){if(l===null)throw Error(n(308));ga=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else ga=ga.next=u;return p}var Ey=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},Ay=i.unstable_scheduleCallback,$1=i.unstable_NormalPriority,tn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new Ey,data:new Map,refCount:0}}function na(l){l.refCount--,l.refCount===0&&Ay($1,function(){l.controller.abort()})}var Dc=null,tg=0,Vo=0,Sl=null;function F0(l,u){if(Dc===null){var p=Dc=[];tg=0,Vo=B_(),Sl={status:"pending",value:void 0,then:function(v){p.push(v)}}}return tg++,u.then(ng,ng),u}function ng(){if(--tg===0&&Dc!==null){Sl!==null&&(Sl.status="fulfilled");var l=Dc;Dc=null,Vo=0,Sl=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function ig(l,u){var p=[],v={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var T=0;T<p.length;T++)(0,p[T])(u)},function(T){for(v.status="rejected",v.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),v}var Cy=Y.S;Y.S=function(l,u){ef=q(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&F0(l,u),Cy!==null&&Cy(l,u)};var zu=J(null);function ro(){var l=zu.current;return l!==null?l:vi.pooledCache}function H0(l,u){u===null?Z(zu,zu.current):Z(zu,u.pool)}function xp(){var l=ro();return l===null?null:{parent:tn._currentValue,pool:l}}var Ou=Error(n(460)),_h=Error(n(474)),Ml=Error(n(542)),Sh={then:function(){}};function Ry(l){return l=l.status,l==="fulfilled"||l==="rejected"}function rg(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Ql,Ql),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ag(l),l;default:if(typeof u.status=="string")u.then(Ql,Ql);else{if(l=vi,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=v}},function(v){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ag(l),l}throw on=u,Ou}}function Nc(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(on=p,Ou):p}}var on=null;function yp(){if(on===null)throw Error(n(459));var l=on;return on=null,l}function ag(l){if(l===Ou||l===Ml)throw Error(n(483))}var Lu=null,Uu=0;function bp(l){var u=Uu;return Uu+=1,Lu===null&&(Lu=[]),rg(Lu,l,u)}function Mh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function wh(l,u){throw u.$$typeof===y?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function V0(l){function u(Re,xe){if(l){var Le=Re.deletions;Le===null?(Re.deletions=[xe],Re.flags|=16):Le.push(xe)}}function p(Re,xe){if(!l)return null;for(;xe!==null;)u(Re,xe),xe=xe.sibling;return null}function v(Re){for(var xe=new Map;Re!==null;)Re.key!==null?xe.set(Re.key,Re):xe.set(Re.index,Re),Re=Re.sibling;return xe}function T(Re,xe){return Re=eo(Re,xe),Re.index=0,Re.sibling=null,Re}function C(Re,xe,Le){return Re.index=Le,l?(Le=Re.alternate,Le!==null?(Le=Le.index,Le<xe?(Re.flags|=67108866,xe):Le):(Re.flags|=67108866,xe)):(Re.flags|=1048576,xe)}function H(Re){return l&&Re.alternate===null&&(Re.flags|=67108866),Re}function K(Re,xe,Le,Je){return xe===null||xe.tag!==6?(xe=dp(Le,Re.mode,Je),xe.return=Re,xe):(xe=T(xe,Le),xe.return=Re,xe)}function me(Re,xe,Le,Je){var sn=Le.type;return sn===M?qe(Re,xe,Le.props.children,Je,Le.key):xe!==null&&(xe.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===V&&Nc(sn)===xe.type)?(xe=T(xe,Le.props),Mh(xe,Le),xe.return=Re,xe):(xe=gh(Le.type,Le.key,Le.props,null,Re.mode,Je),Mh(xe,Le),xe.return=Re,xe)}function Be(Re,xe,Le,Je){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==Le.containerInfo||xe.stateNode.implementation!==Le.implementation?(xe=bl(Le,Re.mode,Je),xe.return=Re,xe):(xe=T(xe,Le.children||[]),xe.return=Re,xe)}function qe(Re,xe,Le,Je,sn){return xe===null||xe.tag!==7?(xe=Bo(Le,Re.mode,Je,sn),xe.return=Re,xe):(xe=T(xe,Le),xe.return=Re,xe)}function et(Re,xe,Le){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return xe=dp(""+xe,Re.mode,Le),xe.return=Re,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return Le=gh(xe.type,xe.key,xe.props,null,Re.mode,Le),Mh(Le,xe),Le.return=Re,Le;case _:return xe=bl(xe,Re.mode,Le),xe.return=Re,xe;case V:return xe=Nc(xe),et(Re,xe,Le)}if(ie(xe)||W(xe))return xe=Bo(xe,Re.mode,Le,null),xe.return=Re,xe;if(typeof xe.then=="function")return et(Re,bp(xe),Le);if(xe.$$typeof===D)return et(Re,bh(Re,xe),Le);wh(Re,xe)}return null}function Ie(Re,xe,Le,Je){var sn=xe!==null?xe.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return sn!==null?null:K(Re,xe,""+Le,Je);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:return Le.key===sn?me(Re,xe,Le,Je):null;case _:return Le.key===sn?Be(Re,xe,Le,Je):null;case V:return Le=Nc(Le),Ie(Re,xe,Le,Je)}if(ie(Le)||W(Le))return sn!==null?null:qe(Re,xe,Le,Je,null);if(typeof Le.then=="function")return Ie(Re,xe,bp(Le),Je);if(Le.$$typeof===D)return Ie(Re,xe,bh(Re,Le),Je);wh(Re,Le)}return null}function He(Re,xe,Le,Je,sn){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Re=Re.get(Le)||null,K(xe,Re,""+Je,sn);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case x:return Re=Re.get(Je.key===null?Le:Je.key)||null,me(xe,Re,Je,sn);case _:return Re=Re.get(Je.key===null?Le:Je.key)||null,Be(xe,Re,Je,sn);case V:return Je=Nc(Je),He(Re,xe,Le,Je,sn)}if(ie(Je)||W(Je))return Re=Re.get(Le)||null,qe(xe,Re,Je,sn,null);if(typeof Je.then=="function")return He(Re,xe,Le,bp(Je),sn);if(Je.$$typeof===D)return He(Re,xe,Le,bh(xe,Je),sn);wh(xe,Je)}return null}function qt(Re,xe,Le,Je){for(var sn=null,yi=null,Qt=xe,On=xe=0,ni=null;Qt!==null&&On<Le.length;On++){Qt.index>On?(ni=Qt,Qt=null):ni=Qt.sibling;var bi=Ie(Re,Qt,Le[On],Je);if(bi===null){Qt===null&&(Qt=ni);break}l&&Qt&&bi.alternate===null&&u(Re,Qt),xe=C(bi,xe,On),yi===null?sn=bi:yi.sibling=bi,yi=bi,Qt=ni}if(On===Le.length)return p(Re,Qt),Zn&&ko(Re,On),sn;if(Qt===null){for(;On<Le.length;On++)Qt=et(Re,Le[On],Je),Qt!==null&&(xe=C(Qt,xe,On),yi===null?sn=Qt:yi.sibling=Qt,yi=Qt);return Zn&&ko(Re,On),sn}for(Qt=v(Qt);On<Le.length;On++)ni=He(Qt,Re,On,Le[On],Je),ni!==null&&(l&&ni.alternate!==null&&Qt.delete(ni.key===null?On:ni.key),xe=C(ni,xe,On),yi===null?sn=ni:yi.sibling=ni,yi=ni);return l&&Qt.forEach(function(uf){return u(Re,uf)}),Zn&&ko(Re,On),sn}function fn(Re,xe,Le,Je){if(Le==null)throw Error(n(151));for(var sn=null,yi=null,Qt=xe,On=xe=0,ni=null,bi=Le.next();Qt!==null&&!bi.done;On++,bi=Le.next()){Qt.index>On?(ni=Qt,Qt=null):ni=Qt.sibling;var uf=Ie(Re,Qt,bi.value,Je);if(uf===null){Qt===null&&(Qt=ni);break}l&&Qt&&uf.alternate===null&&u(Re,Qt),xe=C(uf,xe,On),yi===null?sn=uf:yi.sibling=uf,yi=uf,Qt=ni}if(bi.done)return p(Re,Qt),Zn&&ko(Re,On),sn;if(Qt===null){for(;!bi.done;On++,bi=Le.next())bi=et(Re,bi.value,Je),bi!==null&&(xe=C(bi,xe,On),yi===null?sn=bi:yi.sibling=bi,yi=bi);return Zn&&ko(Re,On),sn}for(Qt=v(Qt);!bi.done;On++,bi=Le.next())bi=He(Qt,Re,On,bi.value,Je),bi!==null&&(l&&bi.alternate!==null&&Qt.delete(bi.key===null?On:bi.key),xe=C(bi,xe,On),yi===null?sn=bi:yi.sibling=bi,yi=bi);return l&&Qt.forEach(function(iU){return u(Re,iU)}),Zn&&ko(Re,On),sn}function ki(Re,xe,Le,Je){if(typeof Le=="object"&&Le!==null&&Le.type===M&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case x:e:{for(var sn=Le.key;xe!==null;){if(xe.key===sn){if(sn=Le.type,sn===M){if(xe.tag===7){p(Re,xe.sibling),Je=T(xe,Le.props.children),Je.return=Re,Re=Je;break e}}else if(xe.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===V&&Nc(sn)===xe.type){p(Re,xe.sibling),Je=T(xe,Le.props),Mh(Je,Le),Je.return=Re,Re=Je;break e}p(Re,xe);break}else u(Re,xe);xe=xe.sibling}Le.type===M?(Je=Bo(Le.props.children,Re.mode,Je,Le.key),Je.return=Re,Re=Je):(Je=gh(Le.type,Le.key,Le.props,null,Re.mode,Je),Mh(Je,Le),Je.return=Re,Re=Je)}return H(Re);case _:e:{for(sn=Le.key;xe!==null;){if(xe.key===sn)if(xe.tag===4&&xe.stateNode.containerInfo===Le.containerInfo&&xe.stateNode.implementation===Le.implementation){p(Re,xe.sibling),Je=T(xe,Le.children||[]),Je.return=Re,Re=Je;break e}else{p(Re,xe);break}else u(Re,xe);xe=xe.sibling}Je=bl(Le,Re.mode,Je),Je.return=Re,Re=Je}return H(Re);case V:return Le=Nc(Le),ki(Re,xe,Le,Je)}if(ie(Le))return qt(Re,xe,Le,Je);if(W(Le)){if(sn=W(Le),typeof sn!="function")throw Error(n(150));return Le=sn.call(Le),fn(Re,xe,Le,Je)}if(typeof Le.then=="function")return ki(Re,xe,bp(Le),Je);if(Le.$$typeof===D)return ki(Re,xe,bh(Re,Le),Je);wh(Re,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,xe!==null&&xe.tag===6?(p(Re,xe.sibling),Je=T(xe,Le),Je.return=Re,Re=Je):(p(Re,xe),Je=dp(Le,Re.mode,Je),Je.return=Re,Re=Je),H(Re)):p(Re,xe)}return function(Re,xe,Le,Je){try{Uu=0;var sn=ki(Re,xe,Le,Je);return Lu=null,sn}catch(Qt){if(Qt===Ou||Qt===Ml)throw Qt;var yi=Ca(29,Qt,null,Re.mode);return yi.lanes=Je,yi.return=Re,yi}finally{}}}var zc=V0(!0),Dy=V0(!1),Bu=!1;function sg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ao(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Go(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(ei&2)!==0){var T=v.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),v.pending=u,u=k0(l),hp(l,null,p),u}return mh(l,v,u,p),k0(l)}function ku(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,ln(l,p)}}function _p(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var T=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var H={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?T=C=H:C=C.next=H,p=p.next}while(p!==null);C===null?T=C=u:C=C.next=u}else T=C=u;p={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var og=!1;function Th(){if(og){var l=Sl;if(l!==null)throw l}}function Oc(l,u,p,v){og=!1;var T=l.updateQueue;Bu=!1;var C=T.firstBaseUpdate,H=T.lastBaseUpdate,K=T.shared.pending;if(K!==null){T.shared.pending=null;var me=K,Be=me.next;me.next=null,H===null?C=Be:H.next=Be,H=me;var qe=l.alternate;qe!==null&&(qe=qe.updateQueue,K=qe.lastBaseUpdate,K!==H&&(K===null?qe.firstBaseUpdate=Be:K.next=Be,qe.lastBaseUpdate=me))}if(C!==null){var et=T.baseState;H=0,qe=Be=me=null,K=C;do{var Ie=K.lane&-536870913,He=Ie!==K.lane;if(He?(qn&Ie)===Ie:(v&Ie)===Ie){Ie!==0&&Ie===Vo&&(og=!0),qe!==null&&(qe=qe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var qt=l,fn=K;Ie=u;var ki=p;switch(fn.tag){case 1:if(qt=fn.payload,typeof qt=="function"){et=qt.call(ki,et,Ie);break e}et=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=fn.payload,Ie=typeof qt=="function"?qt.call(ki,et,Ie):qt,Ie==null)break e;et=g({},et,Ie);break e;case 2:Bu=!0}}Ie=K.callback,Ie!==null&&(l.flags|=64,He&&(l.flags|=8192),He=T.callbacks,He===null?T.callbacks=[Ie]:He.push(Ie))}else He={lane:Ie,tag:K.tag,payload:K.payload,callback:K.callback,next:null},qe===null?(Be=qe=He,me=et):qe=qe.next=He,H|=Ie;if(K=K.next,K===null){if(K=T.shared.pending,K===null)break;He=K,K=He.next,He.next=null,T.lastBaseUpdate=He,T.shared.pending=null}}while(!0);qe===null&&(me=et),T.baseState=me,T.firstBaseUpdate=Be,T.lastBaseUpdate=qe,C===null&&(T.shared.lanes=0),ws|=H,l.lanes=H,l.memoizedState=et}}function so(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function ia(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)so(p[l],u)}var ps=J(null),Da=J(0);function ug(l,u){l=dr,Z(Da,l),Z(ps,u),dr=l|u.baseLanes}function cg(){Z(Da,dr),Z(ps,ps.current)}function va(){dr=Da.current,ge(ps),ge(Da)}var Or=J(null),Ys=null;function Iu(l){var u=l.alternate;Z(tr,tr.current&1),Z(Or,l),Ys===null&&(u===null||ps.current!==null||u.memoizedState!==null)&&(Ys=l)}function fg(l){Z(tr,tr.current),Z(Or,l),Ys===null&&(Ys=l)}function Ny(l){l.tag===22?(Z(tr,tr.current),Z(Or,l),Ys===null&&(Ys=l)):qo()}function qo(){Z(tr,tr.current),Z(Or,Or.current)}function ms(l){ge(Or),Ys===l&&(Ys=null),ge(tr)}var tr=J(0);function Sp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||W_(p)||Z_(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Va=0,dn=null,Ti=null,Sr=null,Mp=!1,lo=!1,Lc=!1,wp=0,Eh=0,oo=null,E_=0;function nr(){throw Error(n(321))}function hg(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!Vi(l[p],u[p]))return!1;return!0}function dg(l,u,p,v,T,C){return Va=C,dn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=l===null||l.memoizedState===null?Qy:X0,Lc=!1,C=p(v,T),Lc=!1,lo&&(C=Oy(u,p,v,T)),zy(l),C}function zy(l){Y.H=Nh;var u=Ti!==null&&Ti.next!==null;if(Va=0,Sr=Ti=dn=null,Mp=!1,Eh=0,oo=null,u)throw Error(n(300));l===null||Gi||(l=l.dependencies,l!==null&&P0(l)&&(Gi=!0))}function Oy(l,u,p,v){dn=l;var T=0;do{if(lo&&(oo=null),Eh=0,lo=!1,25<=T)throw Error(n(301));if(T+=1,Sr=Ti=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}Y.H=zh,C=u(p,v)}while(lo);return C}function A_(){var l=Y.H,u=l.useState()[0];return u=typeof u.then=="function"?Ch(u):u,l=l.useState()[0],(Ti!==null?Ti.memoizedState:null)!==l&&(dn.flags|=1024),u}function pg(){var l=wp!==0;return wp=0,l}function mg(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function gg(l){if(Mp){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Mp=!1}Va=0,Sr=Ti=dn=null,lo=!1,Eh=wp=0,oo=null}function Na(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?dn.memoizedState=Sr=l:Sr=Sr.next=l,Sr}function ur(){if(Ti===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=Ti.next;var u=Sr===null?dn.memoizedState:Sr.next;if(u!==null)Sr=u,Ti=l;else{if(l===null)throw dn.alternate===null?Error(n(467)):Error(n(310));Ti=l,l={memoizedState:Ti.memoizedState,baseState:Ti.baseState,baseQueue:Ti.baseQueue,queue:Ti.queue,next:null},Sr===null?dn.memoizedState=Sr=l:Sr=Sr.next=l}return Sr}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ch(l){var u=Eh;return Eh+=1,oo===null&&(oo=[]),l=rg(oo,l,u),u=dn,(Sr===null?u.memoizedState:Sr.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?Qy:X0),l}function Tp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Ch(l);if(l.$$typeof===D)return qr(l)}throw Error(n(438,String(l)))}function vg(l){var u=null,p=dn.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=dn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Ah(),dn.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),v=0;v<l;v++)p[v]=O;return u.index++,p}function Xo(l,u){return typeof u=="function"?u(l):u}function Ep(l){var u=ur();return xg(u,Ti,l)}function xg(l,u,p){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=p;var T=l.baseQueue,C=v.pending;if(C!==null){if(T!==null){var H=T.next;T.next=C.next,C.next=H}u.baseQueue=T=C,v.pending=null}if(C=l.baseState,T===null)l.memoizedState=C;else{u=T.next;var K=H=null,me=null,Be=u,qe=!1;do{var et=Be.lane&-536870913;if(et!==Be.lane?(qn&et)===et:(Va&et)===et){var Ie=Be.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),et===Vo&&(qe=!0);else if((Va&Ie)===Ie){Be=Be.next,Ie===Vo&&(qe=!0);continue}else et={lane:0,revertLane:Be.revertLane,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},me===null?(K=me=et,H=C):me=me.next=et,dn.lanes|=Ie,ws|=Ie;et=Be.action,Lc&&p(C,et),C=Be.hasEagerState?Be.eagerState:p(C,et)}else Ie={lane:et,revertLane:Be.revertLane,gesture:Be.gesture,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},me===null?(K=me=Ie,H=C):me=me.next=Ie,dn.lanes|=et,ws|=et;Be=Be.next}while(Be!==null&&Be!==u);if(me===null?H=C:me.next=K,!Vi(C,l.memoizedState)&&(Gi=!0,qe&&(p=Sl,p!==null)))throw p;l.memoizedState=C,l.baseState=H,l.baseQueue=me,v.lastRenderedState=C}return T===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Ap(l){var u=ur(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var v=p.dispatch,T=p.pending,C=u.memoizedState;if(T!==null){p.pending=null;var H=T=T.next;do C=l(C,H.action),H=H.next;while(H!==T);Vi(C,u.memoizedState)||(Gi=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,v]}function yg(l,u,p){var v=dn,T=ur(),C=Zn;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=u();var H=!Vi((Ti||T).memoizedState,p);if(H&&(T.memoizedState=p,Gi=!0),T=T.queue,wg(_g.bind(null,v,T,l),[l]),T.getSnapshot!==u||H||Sr!==null&&Sr.memoizedState.tag&1){if(v.flags|=2048,G0(9,{destroy:void 0},bg.bind(null,v,T,p,u),null),vi===null)throw Error(n(349));C||(Va&127)!==0||Ly(v,u,p)}return p}function Ly(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=dn.updateQueue,u===null?(u=Ah(),dn.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function bg(l,u,p,v){u.value=p,u.getSnapshot=v,Sg(u)&&Cp(l)}function _g(l,u,p){return p(function(){Sg(u)&&Cp(l)})}function Sg(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!Vi(l,p)}catch{return!0}}function Cp(l){var u=Cu(l,2);u!==null&&d(u,l,2)}function Rh(l){var u=Na();if(typeof l=="function"){var p=l;if(l=p(),Lc){Nt(!0);try{p()}finally{Nt(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:l},u}function Uy(l,u,p,v){return l.baseState=p,xg(l,Ti,typeof v=="function"?v:Xo)}function C_(l,u,p,v,T){if(Yo(l))throw Error(n(485));if(l=u.action,l!==null){var C={payload:T,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){C.listeners.push(H)}};Y.T!==null?p(!0):C.isTransition=!1,v(C),p=u.pending,p===null?(C.next=u.pending=C,By(u,C)):(C.next=p.next,u.pending=p.next=C)}}function By(l,u){var p=u.action,v=u.payload,T=l.state;if(u.isTransition){var C=Y.T,H={};Y.T=H;try{var K=p(T,v),me=Y.S;me!==null&&me(H,K),ky(l,u,K)}catch(Be){Rp(l,u,Be)}finally{C!==null&&H.types!==null&&(C.types=H.types),Y.T=C}}else try{C=p(T,v),ky(l,u,C)}catch(Be){Rp(l,u,Be)}}function ky(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){Mg(l,u,v)},function(v){return Rp(l,u,v)}):Mg(l,u,p)}function Mg(l,u,p){u.status="fulfilled",u.value=p,Iy(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,By(l,p)))}function Rp(l,u,p){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,Iy(u),u=u.next;while(u!==v)}l.action=null}function Iy(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Py(l,u){return u}function Fy(l,u){if(Zn){var p=vi.formState;if(p!==null){e:{var v=dn;if(Zn){if(Li){t:{for(var T=Li,C=Gr;T.nodeType!==8;){if(!C){T=null;break t}if(T=mo(T.nextSibling),T===null){T=null;break t}}C=T.data,T=C==="F!"||C==="F"?T:null}if(T){Li=mo(T.nextSibling),v=T.data==="F!";break e}}Gn(v)}v=!1}v&&(u=p[0])}}return p=Na(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:u},p.queue=v,p=Ky.bind(null,dn,v),v.dispatch=p,v=Rh(!1),C=Dh.bind(null,dn,!1,v.queue),v=Na(),T={state:u,dispatch:null,action:l,pending:null},v.queue=T,p=C_.bind(null,dn,T,C,p),T.dispatch=p,v.memoizedState=l,[u,p,!1]}function Hy(l){var u=ur();return Vy(u,Ti,l)}function Vy(l,u,p){if(u=xg(l,u,Py)[0],l=Ep(Xo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Ch(u)}catch(H){throw H===Ou?Ml:H}else v=u;u=ur();var T=u.queue,C=T.dispatch;return p!==u.memoizedState&&(dn.flags|=2048,G0(9,{destroy:void 0},R_.bind(null,T,p),null)),[v,C,l]}function R_(l,u){l.action=u}function Gy(l){var u=ur(),p=Ti;if(p!==null)return Vy(u,p,l);ur(),u=u.memoizedState,p=ur();var v=p.queue.dispatch;return p.memoizedState=l,[u,v,!1]}function G0(l,u,p,v){return l={tag:l,create:p,deps:v,inst:u,next:null},u=dn.updateQueue,u===null&&(u=Ah(),dn.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l),l}function qy(){return ur().memoizedState}function Dp(l,u,p,v){var T=Na();dn.flags|=l,T.memoizedState=G0(1|u,{destroy:void 0},p,v===void 0?null:v)}function Np(l,u,p,v){var T=ur();v=v===void 0?null:v;var C=T.memoizedState.inst;Ti!==null&&v!==null&&hg(v,Ti.memoizedState.deps)?T.memoizedState=G0(u,C,p,v):(dn.flags|=l,T.memoizedState=G0(1|u,C,p,v))}function Xy(l,u){Dp(8390656,8,l,u)}function wg(l,u){Np(2048,8,l,u)}function Yy(l){dn.flags|=4;var u=dn.updateQueue;if(u===null)u=Ah(),dn.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function jy(l){var u=ur().memoizedState;return Yy({ref:u,nextImpl:l}),function(){if((ei&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function Wy(l,u){return Np(4,2,l,u)}function gs(l,u){return Np(4,4,l,u)}function Tg(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function zp(l,u,p){p=p!=null?p.concat([l]):null,Np(4,4,Tg.bind(null,u,l),p)}function Op(){}function Eg(l,u){var p=ur();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&hg(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function Ag(l,u){var p=ur();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&hg(u,v[1]))return v[0];if(v=l(),Lc){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[v,u],v}function Cg(l,u,p){return p===void 0||(Va&1073741824)!==0&&(qn&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=h(),dn.lanes|=l,ws|=l,p)}function Rg(l,u,p,v){return Vi(p,u)?p:ps.current!==null?(l=Cg(l,p,v),Vi(l,u)||(Gi=!0),l):(Va&42)===0||(Va&1073741824)!==0&&(qn&261930)===0?(Gi=!0,l.memoizedState=p):(l=h(),dn.lanes|=l,ws|=l,u)}function Dg(l,u,p,v,T){var C=te.p;te.p=C!==0&&8>C?C:8;var H=Y.T,K={};Y.T=K,Dh(l,!1,u,p);try{var me=T(),Be=Y.S;if(Be!==null&&Be(K,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=ig(me,v);q0(l,u,qe,Oa(l))}else q0(l,u,v,Oa(l))}catch(et){q0(l,u,{then:function(){},status:"rejected",reason:et},Oa())}finally{te.p=C,H!==null&&K.types!==null&&(H.types=K.types),Y.T=H}}function D_(){}function Ng(l,u,p,v){if(l.tag!==5)throw Error(n(476));var T=Zy(l).queue;Dg(l,T,u,re,p===null?D_:function(){return zg(l),p(v)})}function Zy(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:re},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function zg(l){var u=Zy(l);u.next===null&&(u=l.alternate.memoizedState),q0(l,u.next.queue,{},Oa())}function Og(){return qr(Yg)}function ra(){return ur().memoizedState}function Lg(){return ur().memoizedState}function N_(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=Oa();l=ao(p);var v=Go(u,l,p);v!==null&&(d(v,u,p),ku(v,u,p)),u={cache:eg()},l.payload=u;return}u=u.return}}function z_(l,u,p){var v=Oa();p={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Yo(l)?Uc(u,p):(p=B0(l,u,p,v),p!==null&&(d(p,l,v),Ga(p,u,v)))}function Ky(l,u,p){var v=Oa();q0(l,u,p,v)}function q0(l,u,p,v){var T={lane:v,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Yo(l))Uc(u,T);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var H=u.lastRenderedState,K=C(H,p);if(T.hasEagerState=!0,T.eagerState=K,Vi(K,H))return mh(l,u,T,0),vi===null&&Au(),!1}catch{}finally{}if(p=B0(l,u,T,v),p!==null)return d(p,l,v),Ga(p,u,v),!0}return!1}function Dh(l,u,p,v){if(v={lane:2,revertLane:B_(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Yo(l)){if(u)throw Error(n(479))}else u=B0(l,p,v,2),u!==null&&d(u,l,2)}function Yo(l){var u=l.alternate;return l===dn||u!==null&&u===dn}function Uc(l,u){lo=Mp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function Ga(l,u,p){if((p&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,ln(l,p)}}var Nh={readContext:qr,use:Tp,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useLayoutEffect:nr,useInsertionEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useSyncExternalStore:nr,useId:nr,useHostTransitionStatus:nr,useFormState:nr,useActionState:nr,useOptimistic:nr,useMemoCache:nr,useCacheRefresh:nr};Nh.useEffectEvent=nr;var Qy={readContext:qr,use:Tp,useCallback:function(l,u){return Na().memoizedState=[l,u===void 0?null:u],l},useContext:qr,useEffect:Xy,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Dp(4194308,4,Tg.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Dp(4194308,4,l,u)},useInsertionEffect:function(l,u){Dp(4,2,l,u)},useMemo:function(l,u){var p=Na();u=u===void 0?null:u;var v=l();if(Lc){Nt(!0);try{l()}finally{Nt(!1)}}return p.memoizedState=[v,u],v},useReducer:function(l,u,p){var v=Na();if(p!==void 0){var T=p(u);if(Lc){Nt(!0);try{p(u)}finally{Nt(!1)}}}else T=u;return v.memoizedState=v.baseState=T,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:T},v.queue=l,l=l.dispatch=z_.bind(null,dn,l),[v.memoizedState,l]},useRef:function(l){var u=Na();return l={current:l},u.memoizedState=l},useState:function(l){l=Rh(l);var u=l.queue,p=Ky.bind(null,dn,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Op,useDeferredValue:function(l,u){var p=Na();return Cg(p,l,u)},useTransition:function(){var l=Rh(!1);return l=Dg.bind(null,dn,l.queue,!0,!1),Na().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var v=dn,T=Na();if(Zn){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),vi===null)throw Error(n(349));(qn&127)!==0||Ly(v,u,p)}T.memoizedState=p;var C={value:p,getSnapshot:u};return T.queue=C,Xy(_g.bind(null,v,C,l),[l]),v.flags|=2048,G0(9,{destroy:void 0},bg.bind(null,v,C,p,u),null),p},useId:function(){var l=Na(),u=vi.identifierPrefix;if(Zn){var p=io,v=no;p=(v&~(1<<32-bt(v)-1)).toString(32)+p,u="_"+u+"R_"+p,p=wp++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=E_++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Og,useFormState:Fy,useActionState:Fy,useOptimistic:function(l){var u=Na();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=Dh.bind(null,dn,!0,p),p.dispatch=u,[l,u]},useMemoCache:vg,useCacheRefresh:function(){return Na().memoizedState=N_.bind(null,dn)},useEffectEvent:function(l){var u=Na(),p={impl:l};return u.memoizedState=p,function(){if((ei&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},X0={readContext:qr,use:Tp,useCallback:Eg,useContext:qr,useEffect:wg,useImperativeHandle:zp,useInsertionEffect:Wy,useLayoutEffect:gs,useMemo:Ag,useReducer:Ep,useRef:qy,useState:function(){return Ep(Xo)},useDebugValue:Op,useDeferredValue:function(l,u){var p=ur();return Rg(p,Ti.memoizedState,l,u)},useTransition:function(){var l=Ep(Xo)[0],u=ur().memoizedState;return[typeof l=="boolean"?l:Ch(l),u]},useSyncExternalStore:yg,useId:ra,useHostTransitionStatus:Og,useFormState:Hy,useActionState:Hy,useOptimistic:function(l,u){var p=ur();return Uy(p,Ti,l,u)},useMemoCache:vg,useCacheRefresh:Lg};X0.useEffectEvent=jy;var zh={readContext:qr,use:Tp,useCallback:Eg,useContext:qr,useEffect:wg,useImperativeHandle:zp,useInsertionEffect:Wy,useLayoutEffect:gs,useMemo:Ag,useReducer:Ap,useRef:qy,useState:function(){return Ap(Xo)},useDebugValue:Op,useDeferredValue:function(l,u){var p=ur();return Ti===null?Cg(p,l,u):Rg(p,Ti.memoizedState,l,u)},useTransition:function(){var l=Ap(Xo)[0],u=ur().memoizedState;return[typeof l=="boolean"?l:Ch(l),u]},useSyncExternalStore:yg,useId:ra,useHostTransitionStatus:Og,useFormState:Gy,useActionState:Gy,useOptimistic:function(l,u){var p=ur();return Ti!==null?Uy(p,Ti,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:vg,useCacheRefresh:Lg};zh.useEffectEvent=jy;function Y0(l,u,p,v){u=l.memoizedState,p=p(v,u),p=p==null?u:g({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Oh={enqueueSetState:function(l,u,p){l=l._reactInternals;var v=Oa(),T=ao(v);T.payload=u,p!=null&&(T.callback=p),u=Go(l,T,v),u!==null&&(d(u,l,v),ku(u,l,v))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=Oa(),T=ao(v);T.tag=1,T.payload=u,p!=null&&(T.callback=p),u=Go(l,T,v),u!==null&&(d(u,l,v),ku(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Oa(),v=ao(p);v.tag=2,u!=null&&(v.callback=u),u=Go(l,v,p),u!==null&&(d(u,l,p),ku(u,l,p))}};function Jy(l,u,p,v,T,C,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,H):u.prototype&&u.prototype.isPureReactComponent?!D0(p,v)||!D0(T,C):!0}function $y(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&Oh.enqueueReplaceState(u,u.state,null)}function aa(l,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(l=l.defaultProps){p===u&&(p=g({},p));for(var T in l)p[T]===void 0&&(p[T]=l[T])}return p}function Ug(l){Eu(l)}function e2(l){console.error(l)}function Lp(l){Eu(l)}function Up(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function t2(l,u,p){try{var v=l.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Bg(l,u,p){return p=ao(p),p.tag=3,p.payload={element:null},p.callback=function(){Up(l,u)},p}function j0(l){return l=ao(l),l.tag=3,l}function qa(l,u,p,v){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var C=v.value;l.payload=function(){return T(C)},l.callback=function(){t2(u,p,v)}}var H=p.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(l.callback=function(){t2(u,p,v),typeof T!="function"&&(po===null?po=new Set([this]):po.add(this));var K=v.stack;this.componentDidCatch(v.value,{componentStack:K!==null?K:""})})}function vs(l,u,p,v,T){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&Nu(u,p,T,!0),p=Or.current,p!==null){switch(p.tag){case 31:case 13:return Ys===null?bn():p.alternate===null&&xi===0&&(xi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,v===Sh?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),O_(l,v,T)),!1;case 22:return p.flags|=65536,v===Sh?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),O_(l,v,T)),!1}throw Error(n(435,p.tag))}return O_(l,v,T),bn(),!1}if(Zn)return u=Or.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,v!==mp&&(l=Error(n(422),{cause:v}),yh(Fa(l,p)))):(v!==mp&&(u=Error(n(423),{cause:v}),yh(Fa(u,p))),l=l.current.alternate,l.flags|=65536,T&=-T,l.lanes|=T,v=Fa(v,p),T=Bg(l.stateNode,v,T),_p(l,T),xi!==4&&(xi=2)),!1;var C=Error(n(520),{cause:v});if(C=Fa(C,p),Cl===null?Cl=[C]:Cl.push(C),xi!==4&&(xi=2),u===null)return!0;v=Fa(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=T&-T,p.lanes|=l,l=Bg(p.stateNode,v,l),_p(p,l),!1;case 1:if(u=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(po===null||!po.has(C))))return p.flags|=65536,T&=-T,p.lanes|=T,T=j0(T),qa(T,l,p,v),_p(p,T),!1}p=p.return}while(p!==null);return!1}var Bp=Error(n(461)),Gi=!1;function ir(l,u,p,v){u.child=l===null?Dy(u,null,p,v):zc(u,l.child,p,v)}function Lh(l,u,p,v,T){p=p.render;var C=u.ref;if("ref"in v){var H={};for(var K in v)K!=="ref"&&(H[K]=v[K])}else H=v;return Rc(u),v=dg(l,u,p,H,C,T),K=pg(),l!==null&&!Gi?(mg(l,u,T),El(l,u,T)):(Zn&&K&&pp(u),u.flags|=1,ir(l,u,v,T),u.child)}function Uh(l,u,p,v,T){if(l===null){var C=p.type;return typeof C=="function"&&!Ra(C)&&C.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=C,xs(l,u,C,v,T)):(l=gh(p.type,null,v,u,u.mode,T),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,!Fu(l,T)){var H=C.memoizedProps;if(p=p.compare,p=p!==null?p:D0,p(H,v)&&l.ref===u.ref)return El(l,u,T)}return u.flags|=1,l=eo(C,v),l.ref=u.ref,l.return=u,u.child=l}function xs(l,u,p,v,T){if(l!==null){var C=l.memoizedProps;if(D0(C,v)&&l.ref===u.ref)if(Gi=!1,u.pendingProps=v=C,Fu(l,T))(l.flags&131072)!==0&&(Gi=!0);else return u.lanes=l.lanes,El(l,u,T)}return W0(l,u,p,v,T)}function ys(l,u,p,v){var T=v.children,C=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,l!==null){for(v=u.child=l.child,T=0;v!==null;)T=T|v.lanes|v.childLanes,v=v.sibling;v=T&~C}else v=0,u.child=null;return uo(l,u,C,p,v)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&H0(u,C!==null?C.cachePool:null),C!==null?ug(u,C):cg(),Ny(u);else return v=u.lanes=536870912,uo(l,u,C!==null?C.baseLanes|p:p,p,v)}else C!==null?(H0(u,C.cachePool),ug(u,C),qo(),u.memoizedState=null):(l!==null&&H0(u,null),cg(),qo());return ir(l,u,T,p),u.child}function wl(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function uo(l,u,p,v,T){var C=ro();return C=C===null?null:{parent:tn._currentValue,pool:C},u.memoizedState={baseLanes:p,cachePool:C},l!==null&&H0(u,null),cg(),Ny(u),l!==null&&Nu(l,u,v,!0),u.childLanes=T,null}function js(l,u){return u=Z0({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function Xr(l,u,p){return zc(u,l.child,null,p),l=js(u,u.pendingProps),l.flags|=2,ms(u),u.memoizedState=null,l}function Bh(l,u,p){var v=u.pendingProps,T=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Zn){if(v.mode==="hidden")return l=js(u,v),u.lanes=536870912,wl(null,l);if(fg(u),(l=Li)?(l=tw(l,Gr),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:to!==null?{id:no,overflow:io}:null,retryLane:536870912,hydrationErrors:null},p=wy(l),p.return=u,u.child=p,Vr=u,Li=null)):l=null,l===null)throw Gn(u);return u.lanes=536870912,null}return js(u,v)}var C=l.memoizedState;if(C!==null){var H=C.dehydrated;if(fg(u),T)if(u.flags&256)u.flags&=-257,u=Xr(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(Gi||Nu(l,u,p,!1),T=(p&l.childLanes)!==0,Gi||T){if(v=vi,v!==null&&(H=Wt(v,p),H!==0&&H!==C.retryLane))throw C.retryLane=H,Cu(l,H),d(v,l,H),Bp;bn(),u=Xr(l,u,p)}else l=C.treeContext,Li=mo(H.nextSibling),Vr=u,Zn=!0,Io=null,Gr=!1,l!==null&&xh(u,l),u=js(u,v),u.flags|=4096;return u}return l=eo(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Tl(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function W0(l,u,p,v,T){return Rc(u),p=dg(l,u,p,v,void 0,T),v=pg(),l!==null&&!Gi?(mg(l,u,T),El(l,u,T)):(Zn&&v&&pp(u),u.flags|=1,ir(l,u,p,T),u.child)}function xa(l,u,p,v,T,C){return Rc(u),u.updateQueue=null,p=Oy(u,v,p,T),zy(l),v=pg(),l!==null&&!Gi?(mg(l,u,C),El(l,u,C)):(Zn&&v&&pp(u),u.flags|=1,ir(l,u,p,C),u.child)}function sa(l,u,p,v,T){if(Rc(u),u.stateNode===null){var C=Ru,H=p.contextType;typeof H=="object"&&H!==null&&(C=qr(H)),C=new p(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Oh,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},sg(u),H=p.contextType,C.context=typeof H=="object"&&H!==null?qr(H):Ru,C.state=u.memoizedState,H=p.getDerivedStateFromProps,typeof H=="function"&&(Y0(u,p,H,v),C.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(H=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),H!==C.state&&Oh.enqueueReplaceState(C,C.state,null),Oc(u,v,C,T),Th(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){C=u.stateNode;var K=u.memoizedProps,me=aa(p,K);C.props=me;var Be=C.context,qe=p.contextType;H=Ru,typeof qe=="object"&&qe!==null&&(H=qr(qe));var et=p.getDerivedStateFromProps;qe=typeof et=="function"||typeof C.getSnapshotBeforeUpdate=="function",K=u.pendingProps!==K,qe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(K||Be!==H)&&$y(u,C,v,H),Bu=!1;var Ie=u.memoizedState;C.state=Ie,Oc(u,v,C,T),Th(),Be=u.memoizedState,K||Ie!==Be||Bu?(typeof et=="function"&&(Y0(u,p,et,v),Be=u.memoizedState),(me=Bu||Jy(u,p,me,v,Ie,Be,H))?(qe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Be),C.props=v,C.state=Be,C.context=H,v=me):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,lg(l,u),H=u.memoizedProps,qe=aa(p,H),C.props=qe,et=u.pendingProps,Ie=C.context,Be=p.contextType,me=Ru,typeof Be=="object"&&Be!==null&&(me=qr(Be)),K=p.getDerivedStateFromProps,(Be=typeof K=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(H!==et||Ie!==me)&&$y(u,C,v,me),Bu=!1,Ie=u.memoizedState,C.state=Ie,Oc(u,v,C,T),Th();var He=u.memoizedState;H!==et||Ie!==He||Bu||l!==null&&l.dependencies!==null&&P0(l.dependencies)?(typeof K=="function"&&(Y0(u,p,K,v),He=u.memoizedState),(qe=Bu||Jy(u,p,qe,v,Ie,He,me)||l!==null&&l.dependencies!==null&&P0(l.dependencies))?(Be||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,He,me),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,He,me)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=He),C.props=v,C.state=He,C.context=me,v=qe):(typeof C.componentDidUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||H===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),v=!1)}return C=v,Tl(l,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,l!==null&&v?(u.child=zc(u,l.child,null,T),u.child=zc(u,null,p,T)):ir(l,u,p,T),u.memoizedState=C.state,l=u.child):l=El(l,u,T),l}function ri(l,u,p,v){return Cc(),u.flags|=256,ir(l,u,p,v),u.child}var bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ws(l){return{baseLanes:l,cachePool:xp()}}function kh(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=ti),l}function _s(l,u,p){var v=u.pendingProps,T=!1,C=(u.flags&128)!==0,H;if((H=C)||(H=l!==null&&l.memoizedState===null?!1:(tr.current&2)!==0),H&&(T=!0,u.flags&=-129),H=(u.flags&32)!==0,u.flags&=-33,l===null){if(Zn){if(T?Iu(u):qo(),(l=Li)?(l=tw(l,Gr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:to!==null?{id:no,overflow:io}:null,retryLane:536870912,hydrationErrors:null},p=wy(l),p.return=u,u.child=p,Vr=u,Li=null)):l=null,l===null)throw Gn(u);return Z_(l)?u.lanes=32:u.lanes=536870912,null}var K=v.children;return v=v.fallback,T?(qo(),T=u.mode,K=Z0({mode:"hidden",children:K},T),v=Bo(v,T,p,null),K.return=u,v.return=u,K.sibling=v,u.child=K,v=u.child,v.memoizedState=Ws(p),v.childLanes=kh(l,H,p),u.memoizedState=bs,wl(null,v)):(Iu(u),Pu(u,K))}var me=l.memoizedState;if(me!==null&&(K=me.dehydrated,K!==null)){if(C)u.flags&256?(Iu(u),u.flags&=-257,u=K0(l,u,p)):u.memoizedState!==null?(qo(),u.child=l.child,u.flags|=128,u=null):(qo(),K=v.fallback,T=u.mode,v=Z0({mode:"visible",children:v.children},T),K=Bo(K,T,p,null),K.flags|=2,v.return=u,K.return=u,v.sibling=K,u.child=v,zc(u,l.child,null,p),v=u.child,v.memoizedState=Ws(p),v.childLanes=kh(l,H,p),u.memoizedState=bs,u=wl(null,v));else if(Iu(u),Z_(K)){if(H=K.nextSibling&&K.nextSibling.dataset,H)var Be=H.dgst;H=Be,v=Error(n(419)),v.stack="",v.digest=H,yh({value:v,source:null,stack:null}),u=K0(l,u,p)}else if(Gi||Nu(l,u,p,!1),H=(p&l.childLanes)!==0,Gi||H){if(H=vi,H!==null&&(v=Wt(H,p),v!==0&&v!==me.retryLane))throw me.retryLane=v,Cu(l,v),d(H,l,v),Bp;W_(K)||bn(),u=K0(l,u,p)}else W_(K)?(u.flags|=192,u.child=l.child,u=null):(l=me.treeContext,Li=mo(K.nextSibling),Vr=u,Zn=!0,Io=null,Gr=!1,l!==null&&xh(u,l),u=Pu(u,v.children),u.flags|=4096);return u}return T?(qo(),K=v.fallback,T=u.mode,me=l.child,Be=me.sibling,v=eo(me,{mode:"hidden",children:v.children}),v.subtreeFlags=me.subtreeFlags&65011712,Be!==null?K=eo(Be,K):(K=Bo(K,T,p,null),K.flags|=2),K.return=u,v.return=u,v.sibling=K,u.child=v,wl(null,v),v=u.child,K=l.child.memoizedState,K===null?K=Ws(p):(T=K.cachePool,T!==null?(me=tn._currentValue,T=T.parent!==me?{parent:me,pool:me}:T):T=xp(),K={baseLanes:K.baseLanes|p,cachePool:T}),v.memoizedState=K,v.childLanes=kh(l,H,p),u.memoizedState=bs,wl(l.child,v)):(Iu(u),p=l.child,l=p.sibling,p=eo(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,l!==null&&(H=u.deletions,H===null?(u.deletions=[l],u.flags|=16):H.push(l)),u.child=p,u.memoizedState=null,p)}function Pu(l,u){return u=Z0({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Z0(l,u){return l=Ca(22,l,null,u),l.lanes=0,l}function K0(l,u,p){return zc(u,l.child,null,p),l=Pu(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Bc(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Ho(l.return,u,p)}function Ih(l,u,p,v,T,C){var H=l.memoizedState;H===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:T,treeForkCount:C}:(H.isBackwards=u,H.rendering=null,H.renderingStartTime=0,H.last=v,H.tail=p,H.tailMode=T,H.treeForkCount=C)}function Ph(l,u,p){var v=u.pendingProps,T=v.revealOrder,C=v.tail;v=v.children;var H=tr.current,K=(H&2)!==0;if(K?(H=H&1|2,u.flags|=128):H&=1,Z(tr,H),ir(l,u,v,p),v=Zn?I0:0,!K&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Bc(l,p,u);else if(l.tag===19)Bc(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(T){case"forwards":for(p=u.child,T=null;p!==null;)l=p.alternate,l!==null&&Sp(l)===null&&(T=p),p=p.sibling;p=T,p===null?(T=u.child,u.child=null):(T=p.sibling,p.sibling=null),Ih(u,!1,T,p,C,v);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=u.child,u.child=null;T!==null;){if(l=T.alternate,l!==null&&Sp(l)===null){u.child=T;break}l=T.sibling,T.sibling=p,p=T,T=l}Ih(u,!0,p,null,C,v);break;case"together":Ih(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function El(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),ws|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Nu(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=eo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=eo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function Fu(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&P0(l)))}function Fh(l,u,p){switch(u.tag){case 3:Ye(u,u.stateNode.containerInfo),Fo(u,tn,l.memoizedState.cache),Cc();break;case 27:case 5:_t(u);break;case 4:Ye(u,u.stateNode.containerInfo);break;case 10:Fo(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,fg(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Iu(u),u.flags|=128,null):(p&u.child.childLanes)!==0?_s(l,u,p):(Iu(u),l=El(l,u,p),l!==null?l.sibling:null);Iu(u);break;case 19:var T=(l.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(Nu(l,u,p,!1),v=(p&u.childLanes)!==0),T){if(v)return Ph(l,u,p);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Z(tr,tr.current),v)break;return null;case 22:return u.lanes=0,ys(l,u,p,u.pendingProps);case 24:Fo(u,tn,l.memoizedState.cache)}return El(l,u,p)}function kp(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Gi=!0;else{if(!Fu(l,p)&&(u.flags&128)===0)return Gi=!1,Fh(l,u,p);Gi=(l.flags&131072)!==0}else Gi=!1,Zn&&(u.flags&1048576)!==0&&Z1(u,I0,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=Nc(u.elementType),u.type=l,typeof l=="function")Ra(l)?(v=aa(l,v),u.tag=1,u=sa(null,u,l,v,p)):(u.tag=0,u=W0(null,u,l,v,p));else{if(l!=null){var T=l.$$typeof;if(T===N){u.tag=11,u=Lh(null,u,l,v,p);break e}else if(T===P){u.tag=14,u=Uh(null,u,l,v,p);break e}}throw u=le(l)||l,Error(n(306,u,""))}}return u;case 0:return W0(l,u,u.type,u.pendingProps,p);case 1:return v=u.type,T=aa(v,u.pendingProps),sa(l,u,v,T,p);case 3:e:{if(Ye(u,u.stateNode.containerInfo),l===null)throw Error(n(387));v=u.pendingProps;var C=u.memoizedState;T=C.element,lg(l,u),Oc(u,v,null,p);var H=u.memoizedState;if(v=H.cache,Fo(u,tn,v),v!==C.cache&&vp(u,[tn],p,!0),Th(),v=H.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:H.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=ri(l,u,v,p);break e}else if(v!==T){T=Fa(Error(n(424)),u),yh(T),u=ri(l,u,v,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Li=mo(l.firstChild),Vr=u,Zn=!0,Io=null,Gr=!0,p=Dy(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Cc(),v===T){u=El(l,u,p);break e}ir(l,u,v,p)}u=u.child}return u;case 26:return Tl(l,u),l===null?(p=lw(u.type,null,u.pendingProps,null))?u.memoizedState=p:Zn||(p=u.type,l=u.pendingProps,v=u2(be.current).createElement(p),v[Gt]=u,v[vn]=l,La(v,p,l),Ae(v),u.stateNode=v):u.memoizedState=lw(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return _t(u),l===null&&Zn&&(v=u.stateNode=rw(u.type,u.pendingProps,be.current),Vr=u,Gr=!0,T=Li,rf(u.type)?(K_=T,Li=mo(v.firstChild)):Li=T),ir(l,u,u.pendingProps.children,p),Tl(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Zn&&((T=v=Li)&&(v=OL(v,u.type,u.pendingProps,Gr),v!==null?(u.stateNode=v,Vr=u,Li=mo(v.firstChild),Gr=!1,T=!0):T=!1),T||Gn(u)),_t(u),T=u.type,C=u.pendingProps,H=l!==null?l.memoizedProps:null,v=C.children,X_(T,C)?v=null:H!==null&&X_(T,H)&&(u.flags|=32),u.memoizedState!==null&&(T=dg(l,u,A_,null,null,p),Yg._currentValue=T),Tl(l,u),ir(l,u,v,p),u.child;case 6:return l===null&&Zn&&((l=p=Li)&&(p=LL(p,u.pendingProps,Gr),p!==null?(u.stateNode=p,Vr=u,Li=null,l=!0):l=!1),l||Gn(u)),null;case 13:return _s(l,u,p);case 4:return Ye(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=zc(u,null,v,p):ir(l,u,v,p),u.child;case 11:return Lh(l,u,u.type,u.pendingProps,p);case 7:return ir(l,u,u.pendingProps,p),u.child;case 8:return ir(l,u,u.pendingProps.children,p),u.child;case 12:return ir(l,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,Fo(u,u.type,v.value),ir(l,u,v.children,p),u.child;case 9:return T=u.type._context,v=u.pendingProps.children,Rc(u),T=qr(T),v=v(T),u.flags|=1,ir(l,u,v,p),u.child;case 14:return Uh(l,u,u.type,u.pendingProps,p);case 15:return xs(l,u,u.type,u.pendingProps,p);case 19:return Ph(l,u,p);case 31:return Bh(l,u,p);case 22:return ys(l,u,p,u.pendingProps);case 24:return Rc(u),v=qr(tn),l===null?(T=ro(),T===null&&(T=vi,C=eg(),T.pooledCache=C,C.refCount++,C!==null&&(T.pooledCacheLanes|=p),T=C),u.memoizedState={parent:v,cache:T},sg(u),Fo(u,tn,T)):((l.lanes&p)!==0&&(lg(l,u),Oc(u,null,null,p),Th()),T=l.memoizedState,C=u.memoizedState,T.parent!==v?(T={parent:v,cache:v},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),Fo(u,tn,v)):(v=C.cache,Fo(u,tn,v),v!==T.cache&&vp(u,[tn],p,!0))),ir(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Xa(l){l.flags|=4}function Hu(l,u,p,v,T){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(T&335544128)===T)if(l.stateNode.complete)l.flags|=8192;else if(gt())l.flags|=8192;else throw on=Sh,_h}else l.flags&=-16777217}function jo(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!hw(u))if(gt())l.flags|=8192;else throw on=Sh,_h}function Q0(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?kn():536870912,l.lanes|=u,Ts|=u)}function Hh(l,u){if(!Zn)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function Si(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var T=l.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags&65011712,v|=T.flags&65011712,T.return=l,T=T.sibling;else for(T=l.child;T!==null;)p|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=l,T=T.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function kg(l,u,p){var v=u.pendingProps;switch(Du(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(u),null;case 1:return Si(u),null;case 3:return p=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Xs(tn),at(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Ac(u)?Xa(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,K1())),Si(u),null;case 26:var T=u.type,C=u.memoizedState;return l===null?(Xa(u),C!==null?(Si(u),jo(u,C)):(Si(u),Hu(u,T,null,v,p))):C?C!==l.memoizedState?(Xa(u),Si(u),jo(u,C)):(Si(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&Xa(u),Si(u),Hu(u,T,l,v,p)),null;case 27:if(kt(u),p=be.current,T=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Xa(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Si(u),null}l=Oe.current,Ac(u)?gp(u):(l=rw(T,v,p),u.stateNode=l,Xa(u))}return Si(u),null;case 5:if(kt(u),T=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Xa(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return Si(u),null}if(C=Oe.current,Ac(u))gp(u);else{var H=u2(be.current);switch(C){case 1:C=H.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:C=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":C=H.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":C=H.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":C=H.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?H.createElement("select",{is:v.is}):H.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?H.createElement(T,{is:v.is}):H.createElement(T)}}C[Gt]=u,C[vn]=v;e:for(H=u.child;H!==null;){if(H.tag===5||H.tag===6)C.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===u)break e;for(;H.sibling===null;){if(H.return===null||H.return===u)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}u.stateNode=C;e:switch(La(C,T,v),T){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Xa(u)}}return Si(u),Hu(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Xa(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(l=be.current,Ac(u)){if(l=u.stateNode,p=u.memoizedProps,v=null,T=Vr,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}l[Gt]=u,l=!!(l.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||j7(l.nodeValue,p)),l||Gn(u,!0)}else l=u2(l).createTextNode(v),l[Gt]=u,u.stateNode=l}return Si(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(v=Ac(u),p!==null){if(l===null){if(!v)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[Gt]=u}else Cc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Si(u),l=!1}else p=K1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(ms(u),u):(ms(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Si(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(T=Ac(u),v!==null&&v.dehydrated!==null){if(l===null){if(!T)throw Error(n(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Gt]=u}else Cc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Si(u),T=!1}else T=K1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(ms(u),u):(ms(u),null)}return ms(u),(u.flags&128)!==0?(u.lanes=p,u):(p=v!==null,l=l!==null&&l.memoizedState!==null,p&&(v=u.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==T&&(v.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),Q0(u,u.updateQueue),Si(u),null);case 4:return at(),l===null&&F_(u.stateNode.containerInfo),Si(u),null;case 10:return Xs(u.type),Si(u),null;case 19:if(ge(tr),v=u.memoizedState,v===null)return Si(u),null;if(T=(u.flags&128)!==0,C=v.rendering,C===null)if(T)Hh(v,!1);else{if(xi!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(C=Sp(l),C!==null){for(u.flags|=128,Hh(v,!1),l=C.updateQueue,u.updateQueue=l,Q0(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)ma(p,l),p=p.sibling;return Z(tr,tr.current&1|2),Zn&&ko(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&q()>Es&&(u.flags|=128,T=!0,Hh(v,!1),u.lanes=4194304)}else{if(!T)if(l=Sp(C),l!==null){if(u.flags|=128,T=!0,l=l.updateQueue,u.updateQueue=l,Q0(u,l),Hh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Zn)return Si(u),null}else 2*q()-v.renderingStartTime>Es&&p!==536870912&&(u.flags|=128,T=!0,Hh(v,!1),u.lanes=4194304);v.isBackwards?(C.sibling=u.child,u.child=C):(l=v.last,l!==null?l.sibling=C:u.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=q(),l.sibling=null,p=tr.current,Z(tr,T?p&1|2:p&1),Zn&&ko(u,v.treeForkCount),l):(Si(u),null);case 22:case 23:return ms(u),va(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Si(u),u.subtreeFlags&6&&(u.flags|=8192)):Si(u),p=u.updateQueue,p!==null&&Q0(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),l!==null&&ge(zu),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Xs(tn),Si(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function Ip(l,u){switch(Du(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Xs(tn),at(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return kt(u),null;case 31:if(u.memoizedState!==null){if(ms(u),u.alternate===null)throw Error(n(340));Cc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(ms(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Cc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return ge(tr),null;case 4:return at(),null;case 10:return Xs(u.type),null;case 22:case 23:return ms(u),va(),l!==null&&ge(zu),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Xs(tn),null;case 25:return null;default:return null}}function kc(l,u){switch(Du(u),u.tag){case 3:Xs(tn),at();break;case 26:case 27:case 5:kt(u);break;case 4:at();break;case 31:u.memoizedState!==null&&ms(u);break;case 13:ms(u);break;case 19:ge(tr);break;case 10:Xs(u.type);break;case 22:case 23:ms(u),va(),l!==null&&ge(zu);break;case 24:Xs(tn)}}function co(l,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var T=v.next;p=T;do{if((p.tag&l)===l){v=void 0;var C=p.create,H=p.inst;v=C(),H.destroy=v}p=p.next}while(p!==T)}}catch(K){zi(u,u.return,K)}}function Zs(l,u,p){try{var v=u.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var C=T.next;v=C;do{if((v.tag&l)===l){var H=v.inst,K=H.destroy;if(K!==void 0){H.destroy=void 0,T=u;var me=p,Be=K;try{Be()}catch(qe){zi(T,me,qe)}}}v=v.next}while(v!==C)}}catch(qe){zi(u,u.return,qe)}}function Vu(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{ia(u,p)}catch(v){zi(l,l.return,v)}}}function Ig(l,u,p){p.props=aa(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(v){zi(l,u,v)}}function fo(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof p=="function"?l.refCleanup=p(v):p.current=v}}catch(T){zi(l,u,T)}}function Ss(l,u){var p=l.ref,v=l.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(T){zi(l,u,T)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){zi(l,u,T)}else p.current=null}function Ms(l){var u=l.type,p=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(T){zi(l,l.return,T)}}function Ks(l,u,p){try{var v=l.stateNode;AL(v,l.type,p,u),v[vn]=u}catch(T){zi(l,l.return,T)}}function Mr(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&rf(l.type)||l.tag===4}function ho(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Mr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&rf(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function An(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Ql));else if(v!==4&&(v===27&&rf(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(An(l,u,p),l=l.sibling;l!==null;)An(l,u,p),l=l.sibling}function ci(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(v!==4&&(v===27&&rf(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(ci(l,u,p),l=l.sibling;l!==null;)ci(l,u,p),l=l.sibling}function cr(l){var u=l.stateNode,p=l.memoizedProps;try{for(var v=l.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);La(u,v,p),u[Gt]=l,u[vn]=p}catch(C){zi(l,l.return,C)}}var Qs=!1,qi=!1,Wo=!1,Vh=typeof WeakSet=="function"?WeakSet:Set,rr=null;function J0(l,u){if(l=l.containerInfo,G_=g2,l=sp(l),N0(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var T=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var H=0,K=-1,me=-1,Be=0,qe=0,et=l,Ie=null;t:for(;;){for(var He;et!==p||T!==0&&et.nodeType!==3||(K=H+T),et!==C||v!==0&&et.nodeType!==3||(me=H+v),et.nodeType===3&&(H+=et.nodeValue.length),(He=et.firstChild)!==null;)Ie=et,et=He;for(;;){if(et===l)break t;if(Ie===p&&++Be===T&&(K=H),Ie===C&&++qe===v&&(me=H),(He=et.nextSibling)!==null)break;et=Ie,Ie=et.parentNode}et=He}p=K===-1||me===-1?null:{start:K,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(q_={focusedElem:l,selectionRange:p},g2=!1,rr=u;rr!==null;)if(u=rr,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,rr=l;else for(;rr!==null;){switch(u=rr,C=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)T=l[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,p=u,T=C.memoizedProps,C=C.memoizedState,v=p.stateNode;try{var qt=aa(p.type,T);l=v.getSnapshotBeforeUpdate(qt,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(fn){zi(p,p.return,fn)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)j_(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":j_(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,rr=l;break}rr=u.return}}function n2(l,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:Zo(l,p),v&4&&co(5,p);break;case 1:if(Zo(l,p),v&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(H){zi(p,p.return,H)}else{var T=aa(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(T,u,l.__reactInternalSnapshotBeforeUpdate)}catch(H){zi(p,p.return,H)}}v&64&&Vu(p),v&512&&fo(p,p.return);break;case 3:if(Zo(l,p),v&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{ia(l,u)}catch(H){zi(p,p.return,H)}}break;case 27:u===null&&v&4&&cr(p);case 26:case 5:Zo(l,p),u===null&&v&4&&Ms(p),v&512&&fo(p,p.return);break;case 12:Zo(l,p);break;case 31:Zo(l,p),v&4&&Fp(l,p);break;case 13:Zo(l,p),v&4&&Pg(l,p),v&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=mL.bind(null,p),UL(l,p))));break;case 22:if(v=p.memoizedState!==null||Qs,!v){u=u!==null&&u.memoizedState!==null||qi,T=Qs;var C=qi;Qs=v,(qi=u)&&!C?gi(l,p,(p.subtreeFlags&8772)!==0):Zo(l,p),Qs=T,qi=C}break;case 30:break;default:Zo(l,p)}}function Pp(l){var u=l.alternate;u!==null&&(l.alternate=null,Pp(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Fi(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ai=null,wr=!1;function ya(l,u,p){for(p=p.child;p!==null;)Gu(l,u,p),p=p.sibling}function Gu(l,u,p){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Ve,p)}catch{}switch(p.tag){case 26:qi||Ss(p,u),ya(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:qi||Ss(p,u);var v=ai,T=wr;rf(p.type)&&(ai=p.stateNode,wr=!1),ya(l,u,p),Gg(p.stateNode),ai=v,wr=T;break;case 5:qi||Ss(p,u);case 6:if(v=ai,T=wr,ai=null,ya(l,u,p),ai=v,wr=T,ai!==null)if(wr)try{(ai.nodeType===9?ai.body:ai.nodeName==="HTML"?ai.ownerDocument.body:ai).removeChild(p.stateNode)}catch(C){zi(p,u,C)}else try{ai.removeChild(p.stateNode)}catch(C){zi(p,u,C)}break;case 18:ai!==null&&(wr?(l=ai,$7(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Qp(l)):$7(ai,p.stateNode));break;case 4:v=ai,T=wr,ai=p.stateNode.containerInfo,wr=!0,ya(l,u,p),ai=v,wr=T;break;case 0:case 11:case 14:case 15:Zs(2,p,u),qi||Zs(4,p,u),ya(l,u,p);break;case 1:qi||(Ss(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&Ig(p,u,v)),ya(l,u,p);break;case 21:ya(l,u,p);break;case 22:qi=(v=qi)||p.memoizedState!==null,ya(l,u,p),qi=v;break;default:ya(l,u,p)}}function Fp(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Qp(l)}catch(p){zi(u,u.return,p)}}}function Pg(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Qp(l)}catch(p){zi(u,u.return,p)}}function i2(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Vh),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Vh),u;default:throw Error(n(435,l.tag))}}function fr(l,u){var p=i2(l);u.forEach(function(v){if(!p.has(v)){p.add(v);var T=gL.bind(null,l,v);v.then(T,T)}})}function ba(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var T=p[v],C=l,H=u,K=H;e:for(;K!==null;){switch(K.tag){case 27:if(rf(K.type)){ai=K.stateNode,wr=!1;break e}break;case 5:ai=K.stateNode,wr=!1;break e;case 3:case 4:ai=K.stateNode.containerInfo,wr=!0;break e}K=K.return}if(ai===null)throw Error(n(160));Gu(C,H,T),ai=null,wr=!1,C=T.alternate,C!==null&&(C.return=null),T.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)qu(u,l),u=u.sibling}var Ya=null;function qu(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ba(u,l),ar(l),v&4&&(Zs(3,l,l.return),co(3,l),Zs(5,l,l.return));break;case 1:ba(u,l),ar(l),v&512&&(qi||p===null||Ss(p,p.return)),v&64&&Qs&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var T=Ya;if(ba(u,l),ar(l),v&512&&(qi||p===null||Ss(p,p.return)),v&4){var C=p!==null?p.memoizedState:null;if(v=l.memoizedState,p===null)if(v===null)if(l.stateNode===null){e:{v=l.type,p=l.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":C=T.getElementsByTagName("title")[0],(!C||C[Ri]||C[Gt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=T.createElement(v),T.head.insertBefore(C,T.querySelector("head > title"))),La(C,v,p),C[Gt]=l,Ae(C),v=C;break e;case"link":var H=cw("link","href",T).get(v+(p.href||""));if(H){for(var K=0;K<H.length;K++)if(C=H[K],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){H.splice(K,1);break t}}C=T.createElement(v),La(C,v,p),T.head.appendChild(C);break;case"meta":if(H=cw("meta","content",T).get(v+(p.content||""))){for(K=0;K<H.length;K++)if(C=H[K],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){H.splice(K,1);break t}}C=T.createElement(v),La(C,v,p),T.head.appendChild(C);break;default:throw Error(n(468,v))}C[Gt]=l,Ae(C),v=C}l.stateNode=v}else fw(T,l.type,l.stateNode);else l.stateNode=uw(T,v,l.memoizedProps);else C!==v?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,v===null?fw(T,l.type,l.stateNode):uw(T,v,l.memoizedProps)):v===null&&l.stateNode!==null&&Ks(l,l.memoizedProps,p.memoizedProps)}break;case 27:ba(u,l),ar(l),v&512&&(qi||p===null||Ss(p,p.return)),p!==null&&v&4&&Ks(l,l.memoizedProps,p.memoizedProps);break;case 5:if(ba(u,l),ar(l),v&512&&(qi||p===null||Ss(p,p.return)),l.flags&32){T=l.stateNode;try{xl(T,"")}catch(qt){zi(l,l.return,qt)}}v&4&&l.stateNode!=null&&(T=l.memoizedProps,Ks(l,T,p!==null?p.memoizedProps:T)),v&1024&&(Wo=!0);break;case 6:if(ba(u,l),ar(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,p=l.stateNode;try{p.nodeValue=v}catch(qt){zi(l,l.return,qt)}}break;case 3:if(h2=null,T=Ya,Ya=c2(u.containerInfo),ba(u,l),Ya=T,ar(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{Qp(u.containerInfo)}catch(qt){zi(l,l.return,qt)}Wo&&(Wo=!1,r2(l));break;case 4:v=Ya,Ya=c2(l.stateNode.containerInfo),ba(u,l),ar(l),Ya=v;break;case 12:ba(u,l),ar(l);break;case 31:ba(u,l),ar(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,fr(l,v)));break;case 13:ba(u,l),ar(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Jo=q()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,fr(l,v)));break;case 22:T=l.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Be=Qs,qe=qi;if(Qs=Be||T,qi=qe||me,ba(u,l),qi=qe,Qs=Be,ar(l),v&8192)e:for(u=l.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(p===null||me||Qs||qi||Ic(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){me=p=u;try{if(C=me.stateNode,T)H=C.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{K=me.stateNode;var et=me.memoizedProps.style,Ie=et!=null&&et.hasOwnProperty("display")?et.display:null;K.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(qt){zi(me,me.return,qt)}}}else if(u.tag===6){if(p===null){me=u;try{me.stateNode.nodeValue=T?"":me.memoizedProps}catch(qt){zi(me,me.return,qt)}}}else if(u.tag===18){if(p===null){me=u;try{var He=me.stateNode;T?ew(He,!0):ew(me.stateNode,!1)}catch(qt){zi(me,me.return,qt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,fr(l,p))));break;case 19:ba(u,l),ar(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,fr(l,v)));break;case 30:break;case 21:break;default:ba(u,l),ar(l)}}function ar(l){var u=l.flags;if(u&2){try{for(var p,v=l.return;v!==null;){if(Mr(v)){p=v;break}v=v.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,C=ho(l);ci(l,C,T);break;case 5:var H=p.stateNode;p.flags&32&&(xl(H,""),p.flags&=-33);var K=ho(l);ci(l,K,H);break;case 3:case 4:var me=p.stateNode.containerInfo,Be=ho(l);An(l,Be,me);break;default:throw Error(n(161))}}catch(qe){zi(l,l.return,qe)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function r2(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;r2(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Zo(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)n2(l,u.alternate,u),u=u.sibling}function Ic(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Zs(4,u,u.return),Ic(u);break;case 1:Ss(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&Ig(u,u.return,p),Ic(u);break;case 27:Gg(u.stateNode);case 26:case 5:Ss(u,u.return),Ic(u);break;case 22:u.memoizedState===null&&Ic(u);break;case 30:Ic(u);break;default:Ic(u)}l=l.sibling}}function gi(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,T=l,C=u,H=C.flags;switch(C.tag){case 0:case 11:case 15:gi(T,C,p),co(4,C);break;case 1:if(gi(T,C,p),v=C,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Be){zi(v,v.return,Be)}if(v=C,T=v.updateQueue,T!==null){var K=v.stateNode;try{var me=T.shared.hiddenCallbacks;if(me!==null)for(T.shared.hiddenCallbacks=null,T=0;T<me.length;T++)so(me[T],K)}catch(Be){zi(v,v.return,Be)}}p&&H&64&&Vu(C),fo(C,C.return);break;case 27:cr(C);case 26:case 5:gi(T,C,p),p&&v===null&&H&4&&Ms(C),fo(C,C.return);break;case 12:gi(T,C,p);break;case 31:gi(T,C,p),p&&H&4&&Fp(T,C);break;case 13:gi(T,C,p),p&&H&4&&Pg(T,C);break;case 22:C.memoizedState===null&&gi(T,C,p),fo(C,C.return);break;case 30:break;default:gi(T,C,p)}u=u.sibling}}function Hp(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&na(p))}function Ko(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&na(l))}function Lr(l,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Ji(l,u,p,v),u=u.sibling}function Ji(l,u,p,v){var T=u.flags;switch(u.tag){case 0:case 11:case 15:Lr(l,u,p,v),T&2048&&co(9,u);break;case 1:Lr(l,u,p,v);break;case 3:Lr(l,u,p,v),T&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&na(l)));break;case 12:if(T&2048){Lr(l,u,p,v),l=u.stateNode;try{var C=u.memoizedProps,H=C.id,K=C.onPostCommit;typeof K=="function"&&K(H,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(me){zi(u,u.return,me)}}else Lr(l,u,p,v);break;case 31:Lr(l,u,p,v);break;case 13:Lr(l,u,p,v);break;case 23:break;case 22:C=u.stateNode,H=u.alternate,u.memoizedState!==null?C._visibility&2?Lr(l,u,p,v):$0(l,u):C._visibility&2?Lr(l,u,p,v):(C._visibility|=2,Xu(l,u,p,v,(u.subtreeFlags&10256)!==0||!1)),T&2048&&Hp(H,u);break;case 24:Lr(l,u,p,v),T&2048&&Ko(u.alternate,u);break;default:Lr(l,u,p,v)}}function Xu(l,u,p,v,T){for(T=T&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=l,H=u,K=p,me=v,Be=H.flags;switch(H.tag){case 0:case 11:case 15:Xu(C,H,K,me,T),co(8,H);break;case 23:break;case 22:var qe=H.stateNode;H.memoizedState!==null?qe._visibility&2?Xu(C,H,K,me,T):$0(C,H):(qe._visibility|=2,Xu(C,H,K,me,T)),T&&Be&2048&&Hp(H.alternate,H);break;case 24:Xu(C,H,K,me,T),T&&Be&2048&&Ko(H.alternate,H);break;default:Xu(C,H,K,me,T)}u=u.sibling}}function $0(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,v=u,T=v.flags;switch(v.tag){case 22:$0(p,v),T&2048&&Hp(v.alternate,v);break;case 24:$0(p,v),T&2048&&Ko(v.alternate,v);break;default:$0(p,v)}u=u.sibling}}var sr=8192;function Pc(l,u,p){if(l.subtreeFlags&sr)for(l=l.child;l!==null;)hr(l,u,p),l=l.sibling}function hr(l,u,p){switch(l.tag){case 26:Pc(l,u,p),l.flags&sr&&l.memoizedState!==null&&jL(p,Ya,l.memoizedState,l.memoizedProps);break;case 5:Pc(l,u,p);break;case 3:case 4:var v=Ya;Ya=c2(l.stateNode.containerInfo),Pc(l,u,p),Ya=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=sr,sr=16777216,Pc(l,u,p),sr=v):Pc(l,u,p));break;default:Pc(l,u,p)}}function ja(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function za(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];rr=v,Gh(v,l)}ja(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Fc(l),l=l.sibling}function Fc(l){switch(l.tag){case 0:case 11:case 15:za(l),l.flags&2048&&Zs(9,l,l.return);break;case 3:za(l);break;case 12:za(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Vp(l)):za(l);break;default:za(l)}}function Vp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];rr=v,Gh(v,l)}ja(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Zs(8,u,u.return),Vp(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Vp(u));break;default:Vp(u)}l=l.sibling}}function Gh(l,u){for(;rr!==null;){var p=rr;switch(p.tag){case 0:case 11:case 15:Zs(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:na(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,rr=v;else e:for(p=l;rr!==null;){v=rr;var T=v.sibling,C=v.return;if(Pp(v),v===p){rr=null;break e}if(T!==null){T.return=C,rr=T;break e}rr=C}}}var Gp={getCacheForType:function(l){var u=qr(tn),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return qr(tn).controller.signal}},qp=typeof WeakMap=="function"?WeakMap:Map,ei=0,vi=null,Cn=null,qn=0,nn=0,Pn=null,Sn=!1,zn=!1,Ei=!1,dr=0,xi=0,ws=0,Qo=0,Al=0,ti=0,Ts=0,Cl=null,_a=null,Wa=!1,Jo=0,ef=0,Es=1/0,tf=null,po=null,$i=0,Rl=null,As=null,Js=0,$o=0,Hc=null,Xp=null,Vc=0,Gc=null;function Oa(){return(ei&2)!==0&&qn!==0?qn&-qn:Y.T!==null?B_():hn()}function h(){if(ti===0)if((qn&536870912)===0||Zn){var l=lt;lt<<=1,(lt&3932160)===0&&(lt=262144),ti=l}else ti=536870912;return l=Or.current,l!==null&&(l.flags|=32),ti}function d(l,u,p){(l===vi&&(nn===2||nn===9)||l.cancelPendingCommit!==null)&&(De(l,0),U(l,qn,ti,!1)),Ft(l,p),((ei&2)===0||l!==vi)&&(l===vi&&((ei&2)===0&&(Qo|=p),xi===4&&U(l,qn,ti,!1)),Yu(l))}function b(l,u,p){if((ei&6)!==0)throw Error(n(327));var v=!p&&(u&127)===0&&(u&l.expiredLanes)===0||Dt(l,u),T=v?qc(l,u):Za(l,u,!0),C=v;do{if(T===0){zn&&!v&&U(l,u,0,!1);break}else{if(p=l.current.alternate,C&&!R(p)){T=Za(l,u,!1),C=!1;continue}if(T===2){if(C=u,l.errorRecoveryDisabledLanes&C)var H=0;else H=l.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){u=H;e:{var K=l;T=Cl;var me=K.current.memoizedState.isDehydrated;if(me&&(De(K,H).flags|=256),H=Za(K,H,!1),H!==2){if(Ei&&!me){K.errorRecoveryDisabledLanes|=C,Qo|=C,T=4;break e}C=_a,_a=T,C!==null&&(_a===null?_a=C:_a.push.apply(_a,C))}T=H}if(C=!1,T!==2)continue}}if(T===1){De(l,0),U(l,u,0,!0);break}e:{switch(v=l,C=T,C){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:U(v,u,ti,!Sn);break e;case 2:_a=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(T=Jo+300-q(),10<T)){if(U(v,u,ti,!Sn),Xe(v,0,!0)!==0)break e;Js=u,v.timeoutHandle=Q7(E.bind(null,v,p,_a,tf,Wa,u,ti,Qo,Ts,Sn,C,"Throttled",-0,0),T);break e}E(v,p,_a,tf,Wa,u,ti,Qo,Ts,Sn,C,null,-0,0)}}break}while(!0);Yu(l)}function E(l,u,p,v,T,C,H,K,me,Be,qe,et,Ie,He){if(l.timeoutHandle=-1,et=u.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ql},hr(u,C,et);var qt=(C&62914560)===C?Jo-q():(C&4194048)===C?ef-q():0;if(qt=WL(et,qt),qt!==null){Js=C,l.cancelPendingCommit=qt(pn.bind(null,l,u,C,p,v,T,H,K,me,qe,et,null,Ie,He)),U(l,C,H,!Be);return}}pn(l,u,C,p,v,T,H,K,me)}function R(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var T=p[v],C=T.getSnapshot;T=T.value;try{if(!Vi(C(),T))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function U(l,u,p,v){u&=~Al,u&=~Qo,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var T=u;0<T;){var C=31-bt(T),H=1<<C;v[C]=-1,T&=~H}p!==0&&Tt(l,p,u)}function $(){return(ei&6)===0?(Fg(0),!1):!0}function pe(){if(Cn!==null){if(nn===0)var l=Cn.return;else l=Cn,ga=Po=null,gg(l),Lu=null,Uu=0,l=Cn;for(;l!==null;)kc(l.alternate,l),l=l.return;Cn=null}}function De(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,DL(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),Js=0,pe(),vi=l,Cn=p=eo(l.current,null),qn=u,nn=0,Pn=null,Sn=!1,zn=Dt(l,u),Ei=!1,Ts=ti=Al=Qo=ws=xi=0,_a=Cl=null,Wa=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var T=31-bt(v),C=1<<T;u|=l[T],v&=~C}return dr=u,Au(),p}function je(l,u){dn=null,Y.H=Nh,u===Ou||u===Ml?(u=yp(),nn=3):u===_h?(u=yp(),nn=4):nn=u===Bp?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Pn=u,Cn===null&&(xi=1,Up(l,Fa(u,l.current)))}function gt(){var l=Or.current;return l===null?!0:(qn&4194048)===qn?Ys===null:(qn&62914560)===qn||(qn&536870912)!==0?l===Ys:!1}function zt(){var l=Y.H;return Y.H=Nh,l===null?Nh:l}function Ut(){var l=Y.A;return Y.A=Gp,l}function bn(){xi=4,Sn||(qn&4194048)!==qn&&Or.current!==null||(zn=!0),(ws&134217727)===0&&(Qo&134217727)===0||vi===null||U(vi,qn,ti,!1)}function Za(l,u,p){var v=ei;ei|=2;var T=zt(),C=Ut();(vi!==l||qn!==u)&&(tf=null,De(l,u)),u=!1;var H=xi;e:do try{if(nn!==0&&Cn!==null){var K=Cn,me=Pn;switch(nn){case 8:pe(),H=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(u=!0);var Be=nn;if(nn=0,Pn=null,ut(l,K,me,Be),p&&zn){H=0;break e}break;default:Be=nn,nn=0,Pn=null,ut(l,K,me,Be)}}qh(),H=xi;break}catch(qe){je(l,qe)}while(!0);return u&&l.shellSuspendCounter++,ga=Po=null,ei=v,Y.H=T,Y.A=C,Cn===null&&(vi=null,qn=0,Au()),H}function qh(){for(;Cn!==null;)Ce(Cn)}function qc(l,u){var p=ei;ei|=2;var v=zt(),T=Ut();vi!==l||qn!==u?(tf=null,Es=q()+500,De(l,u)):zn=Dt(l,u);e:do try{if(nn!==0&&Cn!==null){u=Cn;var C=Pn;t:switch(nn){case 1:nn=0,Pn=null,ut(l,u,C,1);break;case 2:case 9:if(Ry(C)){nn=0,Pn=null,Pe(u);break}u=function(){nn!==2&&nn!==9||vi!==l||(nn=7),Yu(l)},C.then(u,u);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:Ry(C)?(nn=0,Pn=null,Pe(u)):(nn=0,Pn=null,ut(l,u,C,7));break;case 5:var H=null;switch(Cn.tag){case 26:H=Cn.memoizedState;case 5:case 27:var K=Cn;if(H?hw(H):K.stateNode.complete){nn=0,Pn=null;var me=K.sibling;if(me!==null)Cn=me;else{var Be=K.return;Be!==null?(Cn=Be,Jt(Be)):Cn=null}break t}}nn=0,Pn=null,ut(l,u,C,5);break;case 6:nn=0,Pn=null,ut(l,u,C,6);break;case 8:pe(),xi=6;break e;default:throw Error(n(462))}}ke();break}catch(qe){je(l,qe)}while(!0);return ga=Po=null,Y.H=v,Y.A=T,ei=p,Cn!==null?0:(vi=null,qn=0,Au(),xi)}function ke(){for(;Cn!==null&&!Mt();)Ce(Cn)}function Ce(l){var u=kp(l.alternate,l,dr);l.memoizedProps=l.pendingProps,u===null?Jt(l):Cn=u}function Pe(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=xa(p,u,u.pendingProps,u.type,void 0,qn);break;case 11:u=xa(p,u,u.pendingProps,u.type.render,u.ref,qn);break;case 5:gg(u);default:kc(p,u),u=Cn=ma(u,dr),u=kp(p,u,dr)}l.memoizedProps=l.pendingProps,u===null?Jt(l):Cn=u}function ut(l,u,p,v){ga=Po=null,gg(u),Lu=null,Uu=0;var T=u.return;try{if(vs(l,T,u,p,qn)){xi=1,Up(l,Fa(p,l.current)),Cn=null;return}}catch(C){if(T!==null)throw Cn=T,C;xi=1,Up(l,Fa(p,l.current)),Cn=null;return}u.flags&32768?(Zn||v===1?l=!0:zn||(qn&536870912)!==0?l=!1:(Sn=l=!0,(v===2||v===9||v===3||v===6)&&(v=Or.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ui(u,l)):Jt(u)}function Jt(l){var u=l;do{if((u.flags&32768)!==0){Ui(u,Sn);return}l=u.return;var p=kg(u.alternate,u,dr);if(p!==null){Cn=p;return}if(u=u.sibling,u!==null){Cn=u;return}Cn=u=l}while(u!==null);xi===0&&(xi=5)}function Ui(l,u){do{var p=Ip(l.alternate,l);if(p!==null){p.flags&=32767,Cn=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){Cn=l;return}Cn=l=p}while(l!==null);xi=6,Cn=null}function pn(l,u,p,v,T,C,H,K,me){l.cancelPendingCommit=null;do Yp();while($i!==0);if((ei&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(C=u.lanes|u.childLanes,C|=fp,gn(l,p,C,H,K,me),l===vi&&(Cn=vi=null,qn=0),As=u,Rl=l,Js=p,$o=C,Hc=T,Xp=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,vL(Se,function(){return L7(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=Y.T,Y.T=null,T=te.p,te.p=2,H=ei,ei|=4;try{J0(l,u,p)}finally{ei=H,te.p=T,Y.T=v}}$i=1,si(),Ur(),li()}}function si(){if($i===1){$i=0;var l=Rl,u=As,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null;var v=te.p;te.p=2;var T=ei;ei|=4;try{qu(u,l);var C=q_,H=sp(l.containerInfo),K=C.focusedElem,me=C.selectionRange;if(H!==K&&K&&K.ownerDocument&&ap(K.ownerDocument.documentElement,K)){if(me!==null&&N0(K)){var Be=me.start,qe=me.end;if(qe===void 0&&(qe=Be),"selectionStart"in K)K.selectionStart=Be,K.selectionEnd=Math.min(qe,K.value.length);else{var et=K.ownerDocument||document,Ie=et&&et.defaultView||window;if(Ie.getSelection){var He=Ie.getSelection(),qt=K.textContent.length,fn=Math.min(me.start,qt),ki=me.end===void 0?fn:Math.min(me.end,qt);!He.extend&&fn>ki&&(H=ki,ki=fn,fn=H);var Re=X1(K,fn),xe=X1(K,ki);if(Re&&xe&&(He.rangeCount!==1||He.anchorNode!==Re.node||He.anchorOffset!==Re.offset||He.focusNode!==xe.node||He.focusOffset!==xe.offset)){var Le=et.createRange();Le.setStart(Re.node,Re.offset),He.removeAllRanges(),fn>ki?(He.addRange(Le),He.extend(xe.node,xe.offset)):(Le.setEnd(xe.node,xe.offset),He.addRange(Le))}}}}for(et=[],He=K;He=He.parentNode;)He.nodeType===1&&et.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<et.length;K++){var Je=et[K];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}g2=!!G_,q_=G_=null}finally{ei=T,te.p=v,Y.T=p}}l.current=u,$i=2}}function Ur(){if($i===2){$i=0;var l=Rl,u=As,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=Y.T,Y.T=null;var v=te.p;te.p=2;var T=ei;ei|=4;try{n2(l,u.alternate,u)}finally{ei=T,te.p=v,Y.T=p}}$i=3}}function li(){if($i===4||$i===3){$i=0,ne();var l=Rl,u=As,p=Js,v=Xp;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$i=5:($i=0,As=Rl=null,eu(l,l.pendingLanes));var T=l.pendingLanes;if(T===0&&(po=null),Ci(p),u=u.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Ve,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=Y.T,T=te.p,te.p=2,Y.T=null;try{for(var C=l.onRecoverableError,H=0;H<v.length;H++){var K=v[H];C(K.value,{componentStack:K.stack})}}finally{Y.T=u,te.p=T}}(Js&3)!==0&&Yp(),Yu(l),T=l.pendingLanes,(p&261930)!==0&&(T&42)!==0?l===Gc?Vc++:(Vc=0,Gc=l):Vc=0,Fg(0)}}function eu(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,na(u)))}function Yp(){return si(),Ur(),li(),L7()}function L7(){if($i!==5)return!1;var l=Rl,u=$o;$o=0;var p=Ci(Js),v=Y.T,T=te.p;try{te.p=32>p?32:p,Y.T=null,p=Hc,Hc=null;var C=Rl,H=Js;if($i=0,As=Rl=null,Js=0,(ei&6)!==0)throw Error(n(331));var K=ei;if(ei|=4,Fc(C.current),Ji(C,C.current,H,p),ei=K,Fg(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Ve,C)}catch{}return!0}finally{te.p=T,Y.T=v,eu(l,u)}}function U7(l,u,p){u=Fa(p,u),u=Bg(l.stateNode,u,2),l=Go(l,u,2),l!==null&&(Ft(l,2),Yu(l))}function zi(l,u,p){if(l.tag===3)U7(l,l,p);else for(;u!==null;){if(u.tag===3){U7(u,l,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(po===null||!po.has(v))){l=Fa(p,l),p=j0(2),v=Go(u,p,2),v!==null&&(qa(p,v,u,l),Ft(v,2),Yu(v));break}}u=u.return}}function O_(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new qp;var T=new Set;v.set(u,T)}else T=v.get(u),T===void 0&&(T=new Set,v.set(u,T));T.has(p)||(Ei=!0,T.add(p),l=pL.bind(null,l,u,p),u.then(l,l))}function pL(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,vi===l&&(qn&p)===p&&(xi===4||xi===3&&(qn&62914560)===qn&&300>q()-Jo?(ei&2)===0&&De(l,0):Al|=p,Ts===qn&&(Ts=0)),Yu(l)}function B7(l,u){u===0&&(u=kn()),l=Cu(l,u),l!==null&&(Ft(l,u),Yu(l))}function mL(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),B7(l,p)}function gL(l,u){var p=0;switch(l.tag){case 31:case 13:var v=l.stateNode,T=l.memoizedState;T!==null&&(p=T.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),B7(l,p)}function vL(l,u){return xt(l,u)}var a2=null,jp=null,L_=!1,s2=!1,U_=!1,nf=0;function Yu(l){l!==jp&&l.next===null&&(jp===null?a2=jp=l:jp=jp.next=l),s2=!0,L_||(L_=!0,yL())}function Fg(l,u){if(!U_&&s2){U_=!0;do for(var p=!1,v=a2;v!==null;){if(l!==0){var T=v.pendingLanes;if(T===0)var C=0;else{var H=v.suspendedLanes,K=v.pingedLanes;C=(1<<31-bt(42|l)+1)-1,C&=T&~(H&~K),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,F7(v,C))}else C=qn,C=Xe(v,v===vi?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Dt(v,C)||(p=!0,F7(v,C));v=v.next}while(p);U_=!1}}function xL(){k7()}function k7(){s2=L_=!1;var l=0;nf!==0&&RL()&&(l=nf);for(var u=q(),p=null,v=a2;v!==null;){var T=v.next,C=I7(v,u);C===0?(v.next=null,p===null?a2=T:p.next=T,T===null&&(jp=p)):(p=v,(l!==0||(C&3)!==0)&&(s2=!0)),v=T}$i!==0&&$i!==5||Fg(l),nf!==0&&(nf=0)}function I7(l,u){for(var p=l.suspendedLanes,v=l.pingedLanes,T=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var H=31-bt(C),K=1<<H,me=T[H];me===-1?((K&p)===0||(K&v)!==0)&&(T[H]=Zt(K,u)):me<=u&&(l.expiredLanes|=K),C&=~K}if(u=vi,p=qn,p=Xe(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,p===0||l===u&&(nn===2||nn===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&tt(v),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Dt(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(v!==null&&tt(v),Ci(p)){case 2:case 8:p=ve;break;case 32:p=Se;break;case 268435456:p=Qe;break;default:p=Se}return v=P7.bind(null,l),p=xt(p,v),l.callbackPriority=u,l.callbackNode=p,u}return v!==null&&v!==null&&tt(v),l.callbackPriority=2,l.callbackNode=null,2}function P7(l,u){if($i!==0&&$i!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Yp()&&l.callbackNode!==p)return null;var v=qn;return v=Xe(l,l===vi?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(b(l,v,u),I7(l,q()),l.callbackNode!=null&&l.callbackNode===p?P7.bind(null,l):null)}function F7(l,u){if(Yp())return null;b(l,u,!0)}function yL(){NL(function(){(ei&6)!==0?xt(oe,xL):k7()})}function B_(){if(nf===0){var l=Vo;l===0&&(l=yt,yt<<=1,(yt&261888)===0&&(yt=256)),nf=l}return nf}function H7(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:nh(""+l)}function V7(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function bL(l,u,p,v,T){if(u==="submit"&&p&&p.stateNode===T){var C=H7((T[vn]||null).action),H=v.submitter;H&&(u=(u=H[vn]||null)?H7(u.formAction):H.getAttribute("formAction"),u!==null&&(C=u,H=null));var K=new sh("action","action",null,v,T);l.push({event:K,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(nf!==0){var me=H?V7(T,H):new FormData(T);Ng(p,{pending:!0,data:me,method:T.method,action:C},null,me)}}else typeof C=="function"&&(K.preventDefault(),me=H?V7(T,H):new FormData(T),Ng(p,{pending:!0,data:me,method:T.method,action:C},C,me))},currentTarget:T}]})}}for(var k_=0;k_<cp.length;k_++){var I_=cp[k_],_L=I_.toLowerCase(),SL=I_[0].toUpperCase()+I_.slice(1);pa(_L,"on"+SL)}pa(Pa,"onAnimationEnd"),pa(Y1,"onAnimationIteration"),pa($l,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(U0,"onTransitionRun"),pa(Tu,"onTransitionStart"),pa(j1,"onTransitionCancel"),pa(up,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ML=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hg));function G7(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],T=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var H=v.length-1;0<=H;H--){var K=v[H],me=K.instance,Be=K.currentTarget;if(K=K.listener,me!==C&&T.isPropagationStopped())break e;C=K,T.currentTarget=Be;try{C(T)}catch(qe){Eu(qe)}T.currentTarget=null,C=me}else for(H=0;H<v.length;H++){if(K=v[H],me=K.instance,Be=K.currentTarget,K=K.listener,me!==C&&T.isPropagationStopped())break e;C=K,T.currentTarget=Be;try{C(T)}catch(qe){Eu(qe)}T.currentTarget=null,C=me}}}}function Kn(l,u){var p=u[Rr];p===void 0&&(p=u[Rr]=new Set);var v=l+"__bubble";p.has(v)||(q7(u,l,2,!1),p.add(v))}function P_(l,u,p){var v=0;u&&(v|=4),q7(p,l,v,u)}var l2="_reactListening"+Math.random().toString(36).slice(2);function F_(l){if(!l[l2]){l[l2]=!0,we.forEach(function(p){p!=="selectionchange"&&(ML.has(p)||P_(p,!1,l),P_(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[l2]||(u[l2]=!0,P_("selectionchange",!1,u))}}function q7(l,u,p,v){switch(yw(u)){case 2:var T=QL;break;case 8:T=JL;break;default:T=tS}p=T.bind(null,u,p,l),T=void 0,!Zd||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),v?T!==void 0?l.addEventListener(u,p,{capture:!0,passive:T}):l.addEventListener(u,p,!0):T!==void 0?l.addEventListener(u,p,{passive:T}):l.addEventListener(u,p,!1)}function H_(l,u,p,v,T){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var H=v.tag;if(H===3||H===4){var K=v.stateNode.containerInfo;if(K===T)break;if(H===4)for(H=v.return;H!==null;){var me=H.tag;if((me===3||me===4)&&H.stateNode.containerInfo===T)return;H=H.return}for(;K!==null;){if(H=In(K),H===null)return;if(me=H.tag,me===5||me===6||me===26||me===27){v=C=H;continue e}K=K.parentNode}}v=v.return}C1(function(){var Be=C,qe=jd(p),et=[];e:{var Ie=Uo.get(l);if(Ie!==void 0){var He=sh,qt=l;switch(l){case"keypress":if(bc(p)===0)break e;case"keydown":case"keyup":He=U1;break;case"focusin":qt="focus",He=ep;break;case"focusout":qt="blur",He=ep;break;case"beforeblur":case"afterblur":He=ep;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=sy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=Oo;break;case Pa:case Y1:case $l:He=cy;break;case up:He=T_;break;case"scroll":case"scrollend":He=Jd;break;case"wheel":He=yu;break;case"copy":case"cut":case"paste":He=D1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=tp;break;case"toggle":case"beforetoggle":He=k1}var fn=(u&4)!==0,ki=!fn&&(l==="scroll"||l==="scrollend"),Re=fn?Ie!==null?Ie+"Capture":null:Ie;fn=[];for(var xe=Be,Le;xe!==null;){var Je=xe;if(Le=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||Le===null||Re===null||(Je=yc(xe,Re),Je!=null&&fn.push(Vg(xe,Je,Le))),ki)break;xe=xe.return}0<fn.length&&(Ie=new He(Ie,qt,null,p,qe),et.push({event:Ie,listeners:fn}))}}if((u&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",He=l==="mouseout"||l==="pointerout",Ie&&p!==ih&&(qt=p.relatedTarget||p.fromElement)&&(In(qt)||qt[Nn]))break e;if((He||Ie)&&(Ie=qe.window===qe?qe:(Ie=qe.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,He?(qt=p.relatedTarget||p.toElement,He=Be,qt=qt?In(qt):null,qt!==null&&(ki=a(qt),fn=qt.tag,qt!==ki||fn!==5&&fn!==27&&fn!==6)&&(qt=null)):(He=null,qt=Be),He!==qt)){if(fn=sy,Je="onMouseLeave",Re="onMouseEnter",xe="mouse",(l==="pointerout"||l==="pointerover")&&(fn=tp,Je="onPointerLeave",Re="onPointerEnter",xe="pointer"),ki=He==null?Ie:Ee(He),Le=qt==null?Ie:Ee(qt),Ie=new fn(Je,xe+"leave",He,p,qe),Ie.target=ki,Ie.relatedTarget=Le,Je=null,In(qe)===Be&&(fn=new fn(Re,xe+"enter",qt,p,qe),fn.target=Le,fn.relatedTarget=ki,Je=fn),ki=Je,He&&qt)t:{for(fn=wL,Re=He,xe=qt,Le=0,Je=Re;Je;Je=fn(Je))Le++;Je=0;for(var sn=xe;sn;sn=fn(sn))Je++;for(;0<Le-Je;)Re=fn(Re),Le--;for(;0<Je-Le;)xe=fn(xe),Je--;for(;Le--;){if(Re===xe||xe!==null&&Re===xe.alternate){fn=Re;break t}Re=fn(Re),xe=fn(xe)}fn=null}else fn=null;He!==null&&X7(et,Ie,He,fn,!1),qt!==null&&ki!==null&&X7(et,ki,qt,fn,!0)}}e:{if(Ie=Be?Ee(Be):window,He=Ie.nodeName&&Ie.nodeName.toLowerCase(),He==="select"||He==="input"&&Ie.type==="file")var yi=V1;else if(F1(Ie))if(hh)yi=_y;else{yi=Su;var Qt=dh}else He=Ie.nodeName,!He||He.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Be&&th(Be.elementType)&&(yi=V1):yi=by;if(yi&&(yi=yi(l,Be))){rp(et,yi,p,qe);break e}Qt&&Qt(l,Ie,Be),l==="focusout"&&Be&&Ie.type==="number"&&Be.memoizedProps.value!=null&&Dr(Ie,"number",Ie.value)}switch(Qt=Be?Ee(Be):window,l){case"focusin":(F1(Qt)||Qt.contentEditable==="true")&&(z0=Qt,lp=Be,O0=null);break;case"focusout":O0=lp=z0=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,op(et,p,qe);break;case"selectionchange":if(Sy)break;case"keydown":case"keyup":op(et,p,qe)}var On;if(_c)e:{switch(l){case"compositionstart":var ni="onCompositionStart";break e;case"compositionend":ni="onCompositionEnd";break e;case"compositionupdate":ni="onCompositionUpdate";break e}ni=void 0}else _u?np(l,p)&&(ni="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ni="onCompositionStart");ni&&(ta&&p.locale!=="ko"&&(_u||ni!=="onCompositionStart"?ni==="onCompositionEnd"&&_u&&(On=Qd()):(gu=qe,Kd="value"in gu?gu.value:gu.textContent,_u=!0)),Qt=o2(Be,ni),0<Qt.length&&(ni=new N1(ni,l,null,p,qe),et.push({event:ni,listeners:Qt}),On?ni.data=On:(On=E0(p),On!==null&&(ni.data=On)))),(On=Sc?ip(l,p):vy(l,p))&&(ni=o2(Be,"onBeforeInput"),0<ni.length&&(Qt=new N1("onBeforeInput","beforeinput",null,p,qe),et.push({event:Qt,listeners:ni}),Qt.data=On)),bL(et,l,Be,p,qe)}G7(et,u)})}function Vg(l,u,p){return{instance:l,listener:u,currentTarget:p}}function o2(l,u){for(var p=u+"Capture",v=[];l!==null;){var T=l,C=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||C===null||(T=yc(l,p),T!=null&&v.unshift(Vg(l,T,C)),T=yc(l,u),T!=null&&v.push(Vg(l,T,C))),l.tag===3)return v;l=l.return}return[]}function wL(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function X7(l,u,p,v,T){for(var C=u._reactName,H=[];p!==null&&p!==v;){var K=p,me=K.alternate,Be=K.stateNode;if(K=K.tag,me!==null&&me===v)break;K!==5&&K!==26&&K!==27||Be===null||(me=Be,T?(Be=yc(p,C),Be!=null&&H.unshift(Vg(p,Be,me))):T||(Be=yc(p,C),Be!=null&&H.push(Vg(p,Be,me)))),p=p.return}H.length!==0&&l.push({event:u,listeners:H})}var TL=/\r\n?/g,EL=/\u0000|\uFFFD/g;function Y7(l){return(typeof l=="string"?l:""+l).replace(TL,`
`).replace(EL,"")}function j7(l,u){return u=Y7(u),Y7(l)===u}function Bi(l,u,p,v,T,C){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||xl(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&xl(l,""+v);break;case"className":Jn(l,"class",v);break;case"tabIndex":Jn(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(l,p,v);break;case"style":E1(l,v,C);break;case"data":if(u!=="object"){Jn(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=nh(""+v),l.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(u!=="input"&&Bi(l,u,"name",T.name,T,null),Bi(l,u,"formEncType",T.formEncType,T,null),Bi(l,u,"formMethod",T.formMethod,T,null),Bi(l,u,"formTarget",T.formTarget,T,null)):(Bi(l,u,"encType",T.encType,T,null),Bi(l,u,"method",T.method,T,null),Bi(l,u,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(p);break}v=nh(""+v),l.setAttribute(p,v);break;case"onClick":v!=null&&(l.onclick=Ql);break;case"onScroll":v!=null&&Kn("scroll",l);break;case"onScrollEnd":v!=null&&Kn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}p=nh(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""+v):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":v===!0?l.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(p,v):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(p,v):l.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(p):l.setAttribute(p,v);break;case"popover":Kn("beforetoggle",l),Kn("toggle",l),wn(l,"popover",v);break;case"xlinkActuate":$n(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":$n(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":$n(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":$n(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":$n(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":$n(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":$n(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":$n(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":$n(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":wn(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=ry.get(p)||p,wn(l,p,v))}}function V_(l,u,p,v,T,C){switch(p){case"style":E1(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(p=v.__html,p!=null){if(T.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof v=="string"?xl(l,v):(typeof v=="number"||typeof v=="bigint")&&xl(l,""+v);break;case"onScroll":v!=null&&Kn("scroll",l);break;case"onScrollEnd":v!=null&&Kn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Ql);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),u=p.slice(2,T?p.length-7:void 0),C=l[vn]||null,C=C!=null?C[p]:null,typeof C=="function"&&l.removeEventListener(u,C,T),typeof v=="function")){typeof C!="function"&&C!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,v,T);break e}p in l?l[p]=v:v===!0?l.setAttribute(p,""):wn(l,p,v)}}}function La(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kn("error",l),Kn("load",l);var v=!1,T=!1,C;for(C in p)if(p.hasOwnProperty(C)){var H=p[C];if(H!=null)switch(C){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Bi(l,u,C,H,p,null)}}T&&Bi(l,u,"srcSet",p.srcSet,p,null),v&&Bi(l,u,"src",p.src,p,null);return;case"input":Kn("invalid",l);var K=C=H=T=null,me=null,Be=null;for(v in p)if(p.hasOwnProperty(v)){var qe=p[v];if(qe!=null)switch(v){case"name":T=qe;break;case"type":H=qe;break;case"checked":me=qe;break;case"defaultChecked":Be=qe;break;case"value":C=qe;break;case"defaultValue":K=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,u));break;default:Bi(l,u,v,qe,p,null)}}Ni(l,C,K,me,Be,H,T,!1);return;case"select":Kn("invalid",l),v=H=C=null;for(T in p)if(p.hasOwnProperty(T)&&(K=p[T],K!=null))switch(T){case"value":C=K;break;case"defaultValue":H=K;break;case"multiple":v=K;default:Bi(l,u,T,K,p,null)}u=C,p=H,l.multiple=!!v,u!=null?Nr(l,!!v,u,!1):p!=null&&Nr(l,!!v,p,!0);return;case"textarea":Kn("invalid",l),C=T=v=null;for(H in p)if(p.hasOwnProperty(H)&&(K=p[H],K!=null))switch(H){case"value":v=K;break;case"defaultValue":T=K;break;case"children":C=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:Bi(l,u,H,K,p,null)}er(l,v,T,C);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(v=p[me],v!=null))switch(me){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bi(l,u,me,v,p,null)}return;case"dialog":Kn("beforetoggle",l),Kn("toggle",l),Kn("cancel",l),Kn("close",l);break;case"iframe":case"object":Kn("load",l);break;case"video":case"audio":for(v=0;v<Hg.length;v++)Kn(Hg[v],l);break;case"image":Kn("error",l),Kn("load",l);break;case"details":Kn("toggle",l);break;case"embed":case"source":case"link":Kn("error",l),Kn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in p)if(p.hasOwnProperty(Be)&&(v=p[Be],v!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Bi(l,u,Be,v,p,null)}return;default:if(th(u)){for(qe in p)p.hasOwnProperty(qe)&&(v=p[qe],v!==void 0&&V_(l,u,qe,v,p,void 0));return}}for(K in p)p.hasOwnProperty(K)&&(v=p[K],v!=null&&Bi(l,u,K,v,p,null))}function AL(l,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,C=null,H=null,K=null,me=null,Be=null,qe=null;for(He in p){var et=p[He];if(p.hasOwnProperty(He)&&et!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":me=et;default:v.hasOwnProperty(He)||Bi(l,u,He,null,v,et)}}for(var Ie in v){var He=v[Ie];if(et=p[Ie],v.hasOwnProperty(Ie)&&(He!=null||et!=null))switch(Ie){case"type":C=He;break;case"name":T=He;break;case"checked":Be=He;break;case"defaultChecked":qe=He;break;case"value":H=He;break;case"defaultValue":K=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,u));break;default:He!==et&&Bi(l,u,Ie,He,v,et)}}Kl(l,H,K,me,Be,qe,C,T);return;case"select":He=H=K=Ie=null;for(C in p)if(me=p[C],p.hasOwnProperty(C)&&me!=null)switch(C){case"value":break;case"multiple":He=me;default:v.hasOwnProperty(C)||Bi(l,u,C,null,v,me)}for(T in v)if(C=v[T],me=p[T],v.hasOwnProperty(T)&&(C!=null||me!=null))switch(T){case"value":Ie=C;break;case"defaultValue":K=C;break;case"multiple":H=C;default:C!==me&&Bi(l,u,T,C,v,me)}u=K,p=H,v=He,Ie!=null?Nr(l,!!p,Ie,!1):!!v!=!!p&&(u!=null?Nr(l,!!p,u,!0):Nr(l,!!p,p?[]:"",!1));return;case"textarea":He=Ie=null;for(K in p)if(T=p[K],p.hasOwnProperty(K)&&T!=null&&!v.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Bi(l,u,K,null,v,T)}for(H in v)if(T=v[H],C=p[H],v.hasOwnProperty(H)&&(T!=null||C!=null))switch(H){case"value":Ie=T;break;case"defaultValue":He=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==C&&Bi(l,u,H,T,v,C)}zr(l,Ie,He);return;case"option":for(var qt in p)if(Ie=p[qt],p.hasOwnProperty(qt)&&Ie!=null&&!v.hasOwnProperty(qt))switch(qt){case"selected":l.selected=!1;break;default:Bi(l,u,qt,null,v,Ie)}for(me in v)if(Ie=v[me],He=p[me],v.hasOwnProperty(me)&&Ie!==He&&(Ie!=null||He!=null))switch(me){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Bi(l,u,me,Ie,v,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in p)Ie=p[fn],p.hasOwnProperty(fn)&&Ie!=null&&!v.hasOwnProperty(fn)&&Bi(l,u,fn,null,v,Ie);for(Be in v)if(Ie=v[Be],He=p[Be],v.hasOwnProperty(Be)&&Ie!==He&&(Ie!=null||He!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,u));break;default:Bi(l,u,Be,Ie,v,He)}return;default:if(th(u)){for(var ki in p)Ie=p[ki],p.hasOwnProperty(ki)&&Ie!==void 0&&!v.hasOwnProperty(ki)&&V_(l,u,ki,void 0,v,Ie);for(qe in v)Ie=v[qe],He=p[qe],!v.hasOwnProperty(qe)||Ie===He||Ie===void 0&&He===void 0||V_(l,u,qe,Ie,v,He);return}}for(var Re in p)Ie=p[Re],p.hasOwnProperty(Re)&&Ie!=null&&!v.hasOwnProperty(Re)&&Bi(l,u,Re,null,v,Ie);for(et in v)Ie=v[et],He=p[et],!v.hasOwnProperty(et)||Ie===He||Ie==null&&He==null||Bi(l,u,et,Ie,v,He)}function W7(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CL(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),v=0;v<p.length;v++){var T=p[v],C=T.transferSize,H=T.initiatorType,K=T.duration;if(C&&K&&W7(H)){for(H=0,K=T.responseEnd,v+=1;v<p.length;v++){var me=p[v],Be=me.startTime;if(Be>K)break;var qe=me.transferSize,et=me.initiatorType;qe&&W7(et)&&(me=me.responseEnd,H+=qe*(me<K?1:(K-Be)/(me-Be)))}if(--v,u+=8*(C+H)/(T.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var G_=null,q_=null;function u2(l){return l.nodeType===9?l:l.ownerDocument}function Z7(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K7(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function X_(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Y_=null;function RL(){var l=window.event;return l&&l.type==="popstate"?l===Y_?!1:(Y_=l,!0):(Y_=null,!1)}var Q7=typeof setTimeout=="function"?setTimeout:void 0,DL=typeof clearTimeout=="function"?clearTimeout:void 0,J7=typeof Promise=="function"?Promise:void 0,NL=typeof queueMicrotask=="function"?queueMicrotask:typeof J7<"u"?function(l){return J7.resolve(null).then(l).catch(zL)}:Q7;function zL(l){setTimeout(function(){throw l})}function rf(l){return l==="head"}function $7(l,u){var p=u,v=0;do{var T=p.nextSibling;if(l.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(v===0){l.removeChild(T),Qp(u);return}v--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")v++;else if(p==="html")Gg(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,Gg(p);for(var C=p.firstChild;C;){var H=C.nextSibling,K=C.nodeName;C[Ri]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=H}}else p==="body"&&Gg(l.ownerDocument.body);p=T}while(p);Qp(u)}function ew(l,u){var p=l;l=0;do{var v=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),v&&v.nodeType===8)if(p=v.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=v}while(p)}function j_(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":j_(p),Fi(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function OL(l,u,p,v){for(;l.nodeType===1;){var T=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ri])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==T.rel||l.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||l.getAttribute("title")!==(T.title==null?null:T.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(T.src==null?null:T.src)||l.getAttribute("type")!==(T.type==null?null:T.type)||l.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var C=T.name==null?null:""+T.name;if(T.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=mo(l.nextSibling),l===null)break}return null}function LL(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=mo(l.nextSibling),l===null))return null;return l}function tw(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=mo(l.nextSibling),l===null))return null;return l}function W_(l){return l.data==="$?"||l.data==="$~"}function Z_(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function UL(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function mo(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var K_=null;function nw(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return mo(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function iw(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function rw(l,u,p){switch(u=u2(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Gg(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Fi(l)}var go=new Map,aw=new Set;function c2(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Xc=te.d;te.d={f:BL,r:kL,D:IL,C:PL,L:FL,m:HL,X:GL,S:VL,M:qL};function BL(){var l=Xc.f(),u=$();return l||u}function kL(l){var u=j(l);u!==null&&u.tag===5&&u.type==="form"?zg(u):Xc.r(l)}var Wp=typeof document>"u"?null:document;function sw(l,u,p){var v=Wp;if(v&&typeof u=="string"&&u){var T=Di(u);T='link[rel="'+l+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),aw.has(T)||(aw.add(T),l={rel:l,crossOrigin:p,href:u},v.querySelector(T)===null&&(u=v.createElement("link"),La(u,"link",l),Ae(u),v.head.appendChild(u)))}}function IL(l){Xc.D(l),sw("dns-prefetch",l,null)}function PL(l,u){Xc.C(l,u),sw("preconnect",l,u)}function FL(l,u,p){Xc.L(l,u,p);var v=Wp;if(v&&l&&u){var T='link[rel="preload"][as="'+Di(u)+'"]';u==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+Di(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+Di(p.imageSizes)+'"]')):T+='[href="'+Di(l)+'"]';var C=T;switch(u){case"style":C=Zp(l);break;case"script":C=Kp(l)}go.has(C)||(l=g({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),go.set(C,l),v.querySelector(T)!==null||u==="style"&&v.querySelector(qg(C))||u==="script"&&v.querySelector(Xg(C))||(u=v.createElement("link"),La(u,"link",l),Ae(u),v.head.appendChild(u)))}}function HL(l,u){Xc.m(l,u);var p=Wp;if(p&&l){var v=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Di(v)+'"][href="'+Di(l)+'"]',C=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Kp(l)}if(!go.has(C)&&(l=g({rel:"modulepreload",href:l},u),go.set(C,l),p.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Xg(C)))return}v=p.createElement("link"),La(v,"link",l),Ae(v),p.head.appendChild(v)}}}function VL(l,u,p){Xc.S(l,u,p);var v=Wp;if(v&&l){var T=ze(v).hoistableStyles,C=Zp(l);u=u||"default";var H=T.get(C);if(!H){var K={loading:0,preload:null};if(H=v.querySelector(qg(C)))K.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":u},p),(p=go.get(C))&&Q_(l,p);var me=H=v.createElement("link");Ae(me),La(me,"link",l),me._p=new Promise(function(Be,qe){me.onload=Be,me.onerror=qe}),me.addEventListener("load",function(){K.loading|=1}),me.addEventListener("error",function(){K.loading|=2}),K.loading|=4,f2(H,u,v)}H={type:"stylesheet",instance:H,count:1,state:K},T.set(C,H)}}}function GL(l,u){Xc.X(l,u);var p=Wp;if(p&&l){var v=ze(p).hoistableScripts,T=Kp(l),C=v.get(T);C||(C=p.querySelector(Xg(T)),C||(l=g({src:l,async:!0},u),(u=go.get(T))&&J_(l,u),C=p.createElement("script"),Ae(C),La(C,"link",l),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(T,C))}}function qL(l,u){Xc.M(l,u);var p=Wp;if(p&&l){var v=ze(p).hoistableScripts,T=Kp(l),C=v.get(T);C||(C=p.querySelector(Xg(T)),C||(l=g({src:l,async:!0,type:"module"},u),(u=go.get(T))&&J_(l,u),C=p.createElement("script"),Ae(C),La(C,"link",l),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(T,C))}}function lw(l,u,p,v){var T=(T=be.current)?c2(T):null;if(!T)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Zp(p.href),p=ze(T).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Zp(p.href);var C=ze(T).hoistableStyles,H=C.get(l);if(H||(T=T.ownerDocument||T,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,H),(C=T.querySelector(qg(l)))&&!C._p&&(H.instance=C,H.state.loading=5),go.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},go.set(l,p),C||XL(T,l,p,H.state))),u&&v===null)throw Error(n(528,""));return H}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Kp(p),p=ze(T).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Zp(l){return'href="'+Di(l)+'"'}function qg(l){return'link[rel="stylesheet"]['+l+"]"}function ow(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function XL(l,u,p,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),La(u,"link",p),Ae(u),l.head.appendChild(u))}function Kp(l){return'[src="'+Di(l)+'"]'}function Xg(l){return"script[async]"+l}function uw(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+Di(p.href)+'"]');if(v)return u.instance=v,Ae(v),v;var T=g({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Ae(v),La(v,"style",T),f2(v,p.precedence,l),u.instance=v;case"stylesheet":T=Zp(p.href);var C=l.querySelector(qg(T));if(C)return u.state.loading|=4,u.instance=C,Ae(C),C;v=ow(p),(T=go.get(T))&&Q_(v,T),C=(l.ownerDocument||l).createElement("link"),Ae(C);var H=C;return H._p=new Promise(function(K,me){H.onload=K,H.onerror=me}),La(C,"link",v),u.state.loading|=4,f2(C,p.precedence,l),u.instance=C;case"script":return C=Kp(p.src),(T=l.querySelector(Xg(C)))?(u.instance=T,Ae(T),T):(v=p,(T=go.get(C))&&(v=g({},p),J_(v,T)),l=l.ownerDocument||l,T=l.createElement("script"),Ae(T),La(T,"link",v),l.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,f2(v,p.precedence,l));return u.instance}function f2(l,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,C=T,H=0;H<v.length;H++){var K=v[H];if(K.dataset.precedence===u)C=K;else if(C!==T)break}C?C.parentNode.insertBefore(l,C.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function Q_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function J_(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var h2=null;function cw(l,u,p){if(h2===null){var v=new Map,T=h2=new Map;T.set(p,v)}else T=h2,v=T.get(p),v||(v=new Map,T.set(p,v));if(v.has(l))return v;for(v.set(l,null),p=p.getElementsByTagName(l),T=0;T<p.length;T++){var C=p[T];if(!(C[Ri]||C[Gt]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var H=C.getAttribute(u)||"";H=l+H;var K=v.get(H);K?K.push(C):v.set(H,[C])}}return v}function fw(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function YL(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function hw(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function jL(l,u,p,v){if(p.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=Zp(v.href),C=u.querySelector(qg(T));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=d2.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=C,Ae(C);return}C=u.ownerDocument||u,v=ow(v),(T=go.get(T))&&Q_(v,T),C=C.createElement("link"),Ae(C);var H=C;H._p=new Promise(function(K,me){H.onload=K,H.onerror=me}),La(C,"link",v),p.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=d2.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var $_=0;function WL(l,u){return l.stylesheets&&l.count===0&&m2(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var v=setTimeout(function(){if(l.stylesheets&&m2(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+u);0<l.imgBytes&&$_===0&&($_=62500*CL());var T=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&m2(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>$_?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(T)}}:null}function d2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m2(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var p2=null;function m2(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,p2=new Map,u.forEach(ZL,l),p2=null,d2.call(l))}function ZL(l,u){if(!(u.state.loading&4)){var p=p2.get(l);if(p)var v=p.get(null);else{p=new Map,p2.set(l,p);for(var T=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<T.length;C++){var H=T[C];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(p.set(H.dataset.precedence,H),v=H)}v&&p.set(null,v)}T=u.instance,H=T.getAttribute("data-precedence"),C=p.get(H)||v,C===v&&p.set(null,T),p.set(H,T),this.count++,v=d2.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),C?C.parentNode.insertBefore(T,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(T,l.firstChild)),u.state.loading|=4}}var Yg={$$typeof:D,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function KL(l,u,p,v,T,C,H,K,me){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=C,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function dw(l,u,p,v,T,C,H,K,me,Be,qe,et){return l=new KL(l,u,p,H,me,Be,qe,et,K),u=1,C===!0&&(u|=24),C=Ca(3,null,null,u),l.current=C,C.stateNode=l,u=eg(),u.refCount++,l.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:p,cache:u},sg(C),l}function pw(l){return l?(l=Ru,l):Ru}function mw(l,u,p,v,T,C){T=pw(T),v.context===null?v.context=T:v.pendingContext=T,v=ao(u),v.payload={element:p},C=C===void 0?null:C,C!==null&&(v.callback=C),p=Go(l,v,u),p!==null&&(d(p,l,u),ku(p,l,u))}function gw(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function eS(l,u){gw(l,u),(l=l.alternate)&&gw(l,u)}function vw(l){if(l.tag===13||l.tag===31){var u=Cu(l,67108864);u!==null&&d(u,l,67108864),eS(l,67108864)}}function xw(l){if(l.tag===13||l.tag===31){var u=Oa();u=jt(u);var p=Cu(l,u);p!==null&&d(p,l,u),eS(l,u)}}var g2=!0;function QL(l,u,p,v){var T=Y.T;Y.T=null;var C=te.p;try{te.p=2,tS(l,u,p,v)}finally{te.p=C,Y.T=T}}function JL(l,u,p,v){var T=Y.T;Y.T=null;var C=te.p;try{te.p=8,tS(l,u,p,v)}finally{te.p=C,Y.T=T}}function tS(l,u,p,v){if(g2){var T=nS(v);if(T===null)H_(l,u,v,v2,p),bw(l,v);else if(eU(T,l,u,p,v))v.stopPropagation();else if(bw(l,v),u&4&&-1<$L.indexOf(l)){for(;T!==null;){var C=j(T);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var H=$e(C.pendingLanes);if(H!==0){var K=C;for(K.pendingLanes|=2,K.entangledLanes|=2;H;){var me=1<<31-bt(H);K.entanglements[1]|=me,H&=~me}Yu(C),(ei&6)===0&&(Es=q()+500,Fg(0))}}break;case 31:case 13:K=Cu(C,2),K!==null&&d(K,C,2),$(),eS(C,2)}if(C=nS(v),C===null&&H_(l,u,v,v2,p),C===T)break;T=C}T!==null&&v.stopPropagation()}else H_(l,u,v,null,p)}}function nS(l){return l=jd(l),iS(l)}var v2=null;function iS(l){if(v2=null,l=In(l),l!==null){var u=a(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=s(u),l!==null)return l;l=null}else if(p===31){if(l=o(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return v2=l,null}function yw(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case oe:return 2;case ve:return 8;case Se:case nt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var rS=!1,af=null,sf=null,lf=null,jg=new Map,Wg=new Map,of=[],$L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bw(l,u){switch(l){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":sf=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":jg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wg.delete(u.pointerId)}}function Zg(l,u,p,v,T,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:C,targetContainers:[T]},u!==null&&(u=j(u),u!==null&&vw(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),l)}function eU(l,u,p,v,T){switch(u){case"focusin":return af=Zg(af,l,u,p,v,T),!0;case"dragenter":return sf=Zg(sf,l,u,p,v,T),!0;case"mouseover":return lf=Zg(lf,l,u,p,v,T),!0;case"pointerover":var C=T.pointerId;return jg.set(C,Zg(jg.get(C)||null,l,u,p,v,T)),!0;case"gotpointercapture":return C=T.pointerId,Wg.set(C,Zg(Wg.get(C)||null,l,u,p,v,T)),!0}return!1}function _w(l){var u=In(l.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){l.blockedOn=u,Wn(l.priority,function(){xw(p)});return}}else if(u===31){if(u=o(p),u!==null){l.blockedOn=u,Wn(l.priority,function(){xw(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function x2(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=nS(l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);ih=v,p.target.dispatchEvent(v),ih=null}else return u=j(p),u!==null&&vw(u),l.blockedOn=p,!1;u.shift()}return!0}function Sw(l,u,p){x2(l)&&p.delete(u)}function tU(){rS=!1,af!==null&&x2(af)&&(af=null),sf!==null&&x2(sf)&&(sf=null),lf!==null&&x2(lf)&&(lf=null),jg.forEach(Sw),Wg.forEach(Sw)}function y2(l,u){l.blockedOn===u&&(l.blockedOn=null,rS||(rS=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tU)))}var b2=null;function Mw(l){b2!==l&&(b2=l,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){b2===l&&(b2=null);for(var u=0;u<l.length;u+=3){var p=l[u],v=l[u+1],T=l[u+2];if(typeof v!="function"){if(iS(v||p)===null)continue;break}var C=j(p);C!==null&&(l.splice(u,3),u-=3,Ng(C,{pending:!0,data:T,method:p.method,action:v},v,T))}}))}function Qp(l){function u(me){return y2(me,l)}af!==null&&y2(af,l),sf!==null&&y2(sf,l),lf!==null&&y2(lf,l),jg.forEach(u),Wg.forEach(u);for(var p=0;p<of.length;p++){var v=of[p];v.blockedOn===l&&(v.blockedOn=null)}for(;0<of.length&&(p=of[0],p.blockedOn===null);)_w(p),p.blockedOn===null&&of.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var T=p[v],C=p[v+1],H=T[vn]||null;if(typeof C=="function")H||Mw(p);else if(H){var K=null;if(C&&C.hasAttribute("formAction")){if(T=C,H=C[vn]||null)K=H.formAction;else if(iS(T)!==null)continue}else K=H.action;typeof K=="function"?p[v+1]=K:(p.splice(v,3),v-=3),Mw(p)}}}function ww(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(H){return T=H})},focusReset:"manual",scroll:"manual"})}function u(){T!==null&&(T(),T=null),v||setTimeout(p,20)}function p(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,T=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),T!==null&&(T(),T=null)}}}function aS(l){this._internalRoot=l}_2.prototype.render=aS.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,v=Oa();mw(p,v,l,u,null,null)},_2.prototype.unmount=aS.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;mw(l.current,2,null,l,null,null),$(),u[Nn]=null}};function _2(l){this._internalRoot=l}_2.prototype.unstable_scheduleHydration=function(l){if(l){var u=hn();l={blockedOn:null,target:l,priority:u};for(var p=0;p<of.length&&u!==0&&u<of[p].priority;p++);of.splice(p,0,l),p===0&&_w(l)}};var Tw=e.version;if(Tw!=="19.2.1")throw Error(n(527,Tw,"19.2.1"));te.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var nU={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var S2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!S2.isDisabled&&S2.supportsFiber)try{Ve=S2.inject(nU),Ke=S2}catch{}}return Qg.createRoot=function(l,u){if(!r(l))throw Error(n(299));var p=!1,v="",T=Ug,C=e2,H=Lp;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(H=u.onRecoverableError)),u=dw(l,1,!1,null,null,p,v,null,T,C,H,ww),l[Nn]=u.current,F_(l),new aS(u)},Qg.hydrateRoot=function(l,u,p){if(!r(l))throw Error(n(299));var v=!1,T="",C=Ug,H=e2,K=Lp,me=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(K=p.onRecoverableError),p.formState!==void 0&&(me=p.formState)),u=dw(l,1,!0,u,p??null,v,T,me,C,H,K,ww),u.context=pw(null),p=u.current,v=Oa(),v=jt(v),T=ao(v),T.callback=null,Go(p,T,v),p=v,u.current.lanes=p,Ft(u,p),Yu(u),l[Nn]=u.current,F_(l),new _2(u)},Qg.version="19.2.1",Qg}var Uw;function dU(){if(Uw)return oS.exports;Uw=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),oS.exports=hU(),oS.exports}var pU=dU();var Bw="popstate";function mU(i={}){function e(n,r){let{pathname:a,search:s,hash:o}=n.location;return d6("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:nx(r)}return vU(e,t,null,i)}function br(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function hu(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gU(){return Math.random().toString(36).substring(2,10)}function kw(i,e){return{usr:i.state,key:i.key,idx:e}}function d6(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?p1(e):e,state:t,key:e&&e.key||n||gU()}}function nx({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function p1(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function vU(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:a=!1}=n,s=r.history,o="POP",c=null,f=m();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function m(){return(s.state||{idx:null}).idx}function g(){o="POP";let w=m(),S=w==null?null:w-f;f=w,c&&c({action:o,location:M.location,delta:S})}function y(w,S){o="PUSH";let A=d6(M.location,w,S);f=m()+1;let D=kw(A,f),N=M.createHref(A);try{s.pushState(D,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(N)}a&&c&&c({action:o,location:M.location,delta:1})}function x(w,S){o="REPLACE";let A=d6(M.location,w,S);f=m();let D=kw(A,f),N=M.createHref(A);s.replaceState(D,"",N),a&&c&&c({action:o,location:M.location,delta:0})}function _(w){return xU(w)}let M={get action(){return o},get location(){return i(r,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Bw,g),c=w,()=>{r.removeEventListener(Bw,g),c=null}},createHref(w){return e(r,w)},createURL:_,encodeLocation(w){let S=_(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:x,go(w){return s.go(w)}};return M}function xU(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),br(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:nx(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function tC(i,e,t="/"){return yU(i,e,t,!1)}function yU(i,e,t,n){let r=typeof e=="string"?p1(e):e,a=d0(r.pathname||"/",t);if(a==null)return null;let s=nC(i);bU(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let f=NU(a);o=RU(s[c],f,n)}return o}function nC(i,e=[],t=[],n="",r=!1){let a=(s,o,c=r,f)=>{let m={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&c)return;br(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=o0([n,m.relativePath]),y=t.concat(m);s.children&&s.children.length>0&&(br(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nC(s.children,e,y,g,c)),!(s.path==null&&!s.index)&&e.push({path:g,score:AU(g,s.index),routesMeta:y})};return i.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let c of iC(s.path))a(s,o,!0,c)}),e}function iC(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return r?[a,""]:[a];let s=iC(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...s),o.map(c=>i.startsWith("/")&&c===""?"/":c)}function bU(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:CU(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var _U=/^:[\w-]+$/,SU=3,MU=2,wU=1,TU=10,EU=-2,Iw=i=>i==="*";function AU(i,e){let t=i.split("/"),n=t.length;return t.some(Iw)&&(n+=EU),e&&(n+=MU),t.filter(r=>!Iw(r)).reduce((r,a)=>r+(_U.test(a)?SU:a===""?wU:TU),n)}function CU(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function RU(i,e,t=!1){let{routesMeta:n}=i,r={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],f=o===n.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},m),y=c.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=ob({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:o0([a,g.pathname]),pathnameBase:BU(o0([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=o0([a,g.pathnameBase]))}return s}function ob(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=DU(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:g},y)=>{if(m==="*"){let _=o[y]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=o[y];return g&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:i}}function DU(i,e=!1,t=!0){hu(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function NU(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hu(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function d0(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}var zU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OU=i=>zU.test(i);function LU(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?p1(i):i,a;if(t)if(OU(t))a=t;else{if(t.includes("//")){let s=t;t=t.replace(/\/\/+/g,"/"),hu(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${t}`)}t.startsWith("/")?a=Pw(t.substring(1),"/"):a=Pw(t,e)}else a=e;return{pathname:a,search:kU(n),hash:IU(r)}}function Pw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function hS(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UU(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function rC(i){let e=UU(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function aC(i,e,t,n=!1){let r;typeof i=="string"?r=p1(i):(r={...i},br(!r.pathname||!r.pathname.includes("?"),hS("?","pathname","search",r)),br(!r.pathname||!r.pathname.includes("#"),hS("#","pathname","hash",r)),br(!r.search||!r.search.includes("#"),hS("#","search","hash",r)));let a=i===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=t;else{let g=e.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}o=g>=0?e[g]:"/"}let c=LU(r,o),f=s&&s!=="/"&&s.endsWith("/"),m=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||m)&&(c.pathname+="/"),c}var o0=i=>i.join("/").replace(/\/\/+/g,"/"),BU=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kU=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,IU=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PU(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function FU(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sC=["POST","PUT","PATCH","DELETE"];new Set(sC);var HU=["GET",...sC];new Set(HU);var m1=Me.createContext(null);m1.displayName="DataRouter";var S4=Me.createContext(null);S4.displayName="DataRouterState";Me.createContext(!1);var lC=Me.createContext({isTransitioning:!1});lC.displayName="ViewTransition";var VU=Me.createContext(new Map);VU.displayName="Fetchers";var GU=Me.createContext(null);GU.displayName="Await";var du=Me.createContext(null);du.displayName="Navigation";var Bx=Me.createContext(null);Bx.displayName="Location";var fc=Me.createContext({outlet:null,matches:[],isDataRoute:!1});fc.displayName="Route";var RM=Me.createContext(null);RM.displayName="RouteError";function qU(i,{relative:e}={}){br(kx(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=Me.useContext(du),{hash:r,pathname:a,search:s}=Ix(i,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:o0([t,a])),n.createHref({pathname:o,search:s,hash:r})}function kx(){return Me.useContext(Bx)!=null}function Yf(){return br(kx(),"useLocation() may be used only in the context of a <Router> component."),Me.useContext(Bx).location}var oC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uC(i){Me.useContext(du).static||Me.useLayoutEffect(i)}function XU(){let{isDataRoute:i}=Me.useContext(fc);return i?aB():YU()}function YU(){br(kx(),"useNavigate() may be used only in the context of a <Router> component.");let i=Me.useContext(m1),{basename:e,navigator:t}=Me.useContext(du),{matches:n}=Me.useContext(fc),{pathname:r}=Yf(),a=JSON.stringify(rC(n)),s=Me.useRef(!1);return uC(()=>{s.current=!0}),Me.useCallback((c,f={})=>{if(hu(s.current,oC),!s.current)return;if(typeof c=="number"){t.go(c);return}let m=aC(c,JSON.parse(a),r,f.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:o0([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,a,r,i])}Me.createContext(null);function jU(){let{matches:i}=Me.useContext(fc),e=i[i.length-1];return e?e.params:{}}function Ix(i,{relative:e}={}){let{matches:t}=Me.useContext(fc),{pathname:n}=Yf(),r=JSON.stringify(rC(t));return Me.useMemo(()=>aC(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function WU(i,e){return cC(i,e)}function cC(i,e,t,n,r){br(kx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Me.useContext(du),{matches:s}=Me.useContext(fc),o=s[s.length-1],c=o?o.params:{},f=o?o.pathname:"/",m=o?o.pathnameBase:"/",g=o&&o.route;{let A=g&&g.path||"";fC(f,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Yf(),x;if(e){let A=typeof e=="string"?p1(e):e;br(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=y;let _=x.pathname||"/",M=_;if(m!=="/"){let A=m.replace(/^\//,"").split("/");M="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=tC(i,{pathname:M});hu(g||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),hu(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=$U(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:o0([m,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:o0([m,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),s,t,n,r);return e&&S?Me.createElement(Bx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function ZU(){let i=rB(),e=PU(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",i),s=Me.createElement(Me.Fragment,null,Me.createElement("p",null," Hey developer "),Me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Me.createElement("code",{style:a},"ErrorBoundary")," or"," ",Me.createElement("code",{style:a},"errorElement")," prop on your route.")),Me.createElement(Me.Fragment,null,Me.createElement("h2",null,"Unexpected Application Error!"),Me.createElement("h3",{style:{fontStyle:"italic"}},e),t?Me.createElement("pre",{style:r},t):null,s)}var KU=Me.createElement(ZU,null),QU=class extends Me.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?Me.createElement(fc.Provider,{value:this.props.routeContext},Me.createElement(RM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JU({routeContext:i,match:e,children:t}){let n=Me.useContext(m1);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Me.createElement(fc.Provider,{value:i},t)}function $U(i,e=[],t=null,n=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,s=t?.errors;if(s!=null){let m=a.findIndex(g=>g.route.id&&s?.[g.route.id]!==void 0);br(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let o=!1,c=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(c=m),g.route.id){let{loaderData:y,errors:x}=t,_=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||_){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let f=t&&n?(m,g)=>{n(m,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:FU(t.matches),errorInfo:g})}:void 0;return a.reduceRight((m,g,y)=>{let x,_=!1,M=null,w=null;t&&(x=s&&g.route.id?s[g.route.id]:void 0,M=g.route.errorElement||KU,o&&(c<0&&y===0?(fC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):c===y&&(_=!0,w=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),A=()=>{let D;return x?D=M:_?D=w:g.route.Component?D=Me.createElement(g.route.Component,null):g.route.element?D=g.route.element:D=m,Me.createElement(JU,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:t!=null},children:D})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?Me.createElement(QU,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):A()},null)}function DM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eB(i){let e=Me.useContext(m1);return br(e,DM(i)),e}function tB(i){let e=Me.useContext(S4);return br(e,DM(i)),e}function nB(i){let e=Me.useContext(fc);return br(e,DM(i)),e}function NM(i){let e=nB(i),t=e.matches[e.matches.length-1];return br(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function iB(){return NM("useRouteId")}function rB(){let i=Me.useContext(RM),e=tB("useRouteError"),t=NM("useRouteError");return i!==void 0?i:e.errors?.[t]}function aB(){let{router:i}=eB("useNavigate"),e=NM("useNavigate"),t=Me.useRef(!1);return uC(()=>{t.current=!0}),Me.useCallback(async(r,a={})=>{hu(t.current,oC),t.current&&(typeof r=="number"?await i.navigate(r):await i.navigate(r,{fromRouteId:e,...a}))},[i,e])}var Fw={};function fC(i,e,t){!e&&!Fw[i]&&(Fw[i]=!0,hu(!1,t))}Me.memo(sB);function sB({routes:i,future:e,state:t,unstable_onError:n}){return cC(i,void 0,t,n,e)}function V3(i){br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lB({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:a=!1,unstable_useTransitions:s}){br(!kx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=Me.useMemo(()=>({basename:o,navigator:r,static:a,unstable_useTransitions:s,future:{}}),[o,r,a,s]);typeof t=="string"&&(t=p1(t));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:x="default"}=t,_=Me.useMemo(()=>{let M=d0(f,o);return M==null?null:{location:{pathname:M,search:m,hash:g,state:y,key:x},navigationType:n}},[o,f,m,g,y,x,n]);return hu(_!=null,`<Router basename="${o}"> is not able to match the URL "${f}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:Me.createElement(du.Provider,{value:c},Me.createElement(Bx.Provider,{children:e,value:_}))}function oB({children:i,location:e}){return WU(p6(i),e)}function p6(i,e=[]){let t=[];return Me.Children.forEach(i,(n,r)=>{if(!Me.isValidElement(n))return;let a=[...e,r];if(n.type===Me.Fragment){t.push.apply(t,p6(n.props.children,a));return}br(n.type===V3,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),br(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=p6(n.props.children,a)),t.push(s)}),t}var G3="get",q3="application/x-www-form-urlencoded";function M4(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function uB(i){return M4(i)&&i.tagName.toLowerCase()==="button"}function cB(i){return M4(i)&&i.tagName.toLowerCase()==="form"}function fB(i){return M4(i)&&i.tagName.toLowerCase()==="input"}function hB(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function dB(i,e){return i.button===0&&(!e||e==="_self")&&!hB(i)}var M2=null;function pB(){if(M2===null)try{new FormData(document.createElement("form"),0),M2=!1}catch{M2=!0}return M2}var mB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dS(i){return i!=null&&!mB.has(i)?(hu(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q3}"`),null):i}function gB(i,e){let t,n,r,a,s;if(cB(i)){let o=i.getAttribute("action");n=o?d0(o,e):null,t=i.getAttribute("method")||G3,r=dS(i.getAttribute("enctype"))||q3,a=new FormData(i)}else if(uB(i)||fB(i)&&(i.type==="submit"||i.type==="image")){let o=i.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=i.getAttribute("formaction")||o.getAttribute("action");if(n=c?d0(c,e):null,t=i.getAttribute("formmethod")||o.getAttribute("method")||G3,r=dS(i.getAttribute("formenctype"))||dS(o.getAttribute("enctype"))||q3,a=new FormData(o,i),!pB()){let{name:f,type:m,value:g}=i;if(m==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,g)}}else{if(M4(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=G3,n=null,r=q3,s=i}return a&&r==="text/plain"&&(s=a,a=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zM(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function vB(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&d0(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function xB(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yB(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function bB(i,e,t){let n=await Promise.all(i.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await xB(a,t);return s.links?s.links():[]}return[]}));return wB(n.flat(1).filter(yB).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Hw(i,e,t,n,r,a){let s=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,o=(c,f)=>t[f].pathname!==c.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,f)=>s(c,f)||o(c,f)):a==="data"?e.filter((c,f)=>{let m=n.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(s(c,f)||o(c,f))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _B(i,e,{includeHydrateFallback:t}={}){return SB(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function SB(i){return[...new Set(i)]}function MB(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function wB(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let a=JSON.stringify(MB(r));return t.has(a)||(t.add(a),n.push({key:a,link:r})),n},[])}function hC(){let i=Me.useContext(m1);return zM(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TB(){let i=Me.useContext(S4);return zM(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var OM=Me.createContext(void 0);OM.displayName="FrameworkContext";function dC(){let i=Me.useContext(OM);return zM(i,"You must render this element inside a <HydratedRouter> element"),i}function EB(i,e){let t=Me.useContext(OM),[n,r]=Me.useState(!1),[a,s]=Me.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,y=Me.useRef(null);Me.useEffect(()=>{if(i==="render"&&s(!0),i==="viewport"){let M=S=>{S.forEach(A=>{s(A.isIntersecting)})},w=new IntersectionObserver(M,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[i]),Me.useEffect(()=>{if(n){let M=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(M)}}},[n]);let x=()=>{r(!0)},_=()=>{r(!1),s(!1)};return t?i!=="intent"?[a,y,{}]:[a,y,{onFocus:Jg(o,x),onBlur:Jg(c,_),onMouseEnter:Jg(f,x),onMouseLeave:Jg(m,_),onTouchStart:Jg(g,x)}]:[!1,y,{}]}function Jg(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function AB({page:i,...e}){let{router:t}=hC(),n=Me.useMemo(()=>tC(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?Me.createElement(RB,{page:i,matches:n,...e}):null}function CB(i){let{manifest:e,routeModules:t}=dC(),[n,r]=Me.useState([]);return Me.useEffect(()=>{let a=!1;return bB(i,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[i,e,t]),n}function RB({page:i,matches:e,...t}){let n=Yf(),{manifest:r,routeModules:a}=dC(),{basename:s}=hC(),{loaderData:o,matches:c}=TB(),f=Me.useMemo(()=>Hw(i,e,c,r,n,"data"),[i,e,c,r,n]),m=Me.useMemo(()=>Hw(i,e,c,r,n,"assets"),[i,e,c,r,n]),g=Me.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let _=new Set,M=!1;if(e.forEach(S=>{let A=r.routes[S.route.id];!A||!A.hasLoader||(!f.some(D=>D.route.id===S.route.id)&&S.route.id in o&&a[S.route.id]?.shouldRevalidate||A.hasClientLoader?M=!0:_.add(S.route.id))}),_.size===0)return[];let w=vB(i,s,"data");return M&&_.size>0&&w.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[s,o,n,r,f,e,i,a]),y=Me.useMemo(()=>_B(m,r),[m,r]),x=CB(m);return Me.createElement(Me.Fragment,null,g.map(_=>Me.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>Me.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),x.map(({key:_,link:M})=>Me.createElement("link",{key:_,nonce:t.nonce,...M})))}function DB(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pC&&(window.__reactRouterVersion="7.10.1")}catch{}function NB({basename:i,children:e,unstable_useTransitions:t,window:n}){let r=Me.useRef();r.current==null&&(r.current=mU({window:n,v5Compat:!0}));let a=r.current,[s,o]=Me.useState({action:a.action,location:a.location}),c=Me.useCallback(f=>{t===!1?o(f):Me.startTransition(()=>o(f))},[t]);return Me.useLayoutEffect(()=>a.listen(c),[a,c]),Me.createElement(lB,{basename:i,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:t===!0})}var mC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zf=Me.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:a,replace:s,state:o,target:c,to:f,preventScrollReset:m,viewTransition:g,...y},x){let{basename:_,unstable_useTransitions:M}=Me.useContext(du),w=typeof f=="string"&&mC.test(f),S,A=!1;if(typeof f=="string"&&w&&(S=f,pC))try{let O=new URL(window.location.href),X=f.startsWith("//")?new URL(O.protocol+f):new URL(f),W=d0(X.pathname,_);X.origin===O.origin&&W!=null?f=W+X.search+X.hash:A=!0}catch{hu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=qU(f,{relative:r}),[N,k,z]=EB(n,y),P=UB(f,{replace:s,state:o,target:c,preventScrollReset:m,relative:r,viewTransition:g,unstable_useTransitions:M});function V(O){e&&e(O),O.defaultPrevented||P(O)}let B=Me.createElement("a",{...y,...z,href:S||D,onClick:A||a?e:V,ref:DB(x,k),target:c,"data-discover":!w&&t==="render"?"true":void 0});return N&&!w?Me.createElement(Me.Fragment,null,B,Me.createElement(AB,{page:D})):B});zf.displayName="Link";var zB=Me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:a,to:s,viewTransition:o,children:c,...f},m){let g=Ix(s,{relative:f.relative}),y=Yf(),x=Me.useContext(S4),{navigator:_,basename:M}=Me.useContext(du),w=x!=null&&FB(g)&&o===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,A=y.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(A=A.toLowerCase(),D=D?D.toLowerCase():null,S=S.toLowerCase()),D&&M&&(D=d0(D,M)||D);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=A===S||!r&&A.startsWith(S)&&A.charAt(N)==="/",z=D!=null&&(D===S||!r&&D.startsWith(S)&&D.charAt(S.length)==="/"),P={isActive:k,isPending:z,isTransitioning:w},V=k?e:void 0,B;typeof n=="function"?B=n(P):B=[n,k?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return Me.createElement(zf,{...f,"aria-current":V,className:B,ref:m,style:O,to:s,viewTransition:o},typeof c=="function"?c(P):c)});zB.displayName="NavLink";var OB=Me.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:a,method:s=G3,action:o,onSubmit:c,relative:f,preventScrollReset:m,viewTransition:g,...y},x)=>{let{unstable_useTransitions:_}=Me.useContext(du),M=IB(),w=PB(o,{relative:f}),S=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&mC.test(o),D=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,z=k?.getAttribute("formmethod")||s,P=()=>M(k||N.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:r,state:a,relative:f,preventScrollReset:m,viewTransition:g});_&&t!==!1?Me.startTransition(()=>P()):P()};return Me.createElement("form",{ref:x,method:S,action:w,onSubmit:n?c:D,...y,"data-discover":!A&&i==="render"?"true":void 0})});OB.displayName="Form";function LB(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gC(i){let e=Me.useContext(m1);return br(e,LB(i)),e}function UB(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let c=XU(),f=Yf(),m=Ix(i,{relative:a});return Me.useCallback(g=>{if(dB(g,e)){g.preventDefault();let y=t!==void 0?t:nx(f)===nx(m),x=()=>c(i,{replace:y,state:n,preventScrollReset:r,relative:a,viewTransition:s});o?Me.startTransition(()=>x()):x()}},[f,c,m,t,n,e,i,r,a,s,o])}var BB=0,kB=()=>`__${String(++BB)}__`;function IB(){let{router:i}=gC("useSubmit"),{basename:e}=Me.useContext(du),t=iB(),n=i.fetch,r=i.navigate;return Me.useCallback(async(a,s={})=>{let{action:o,method:c,encType:f,formData:m,body:g}=gB(a,e);if(s.navigate===!1){let y=s.fetcherKey||kB();await n(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||f,flushSync:s.flushSync})}else await r(s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:g,formMethod:s.method||c,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,r,e,t])}function PB(i,{relative:e}={}){let{basename:t}=Me.useContext(du),n=Me.useContext(fc);br(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),a={...Ix(i||".",{relative:e})},s=Yf();if(i==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(m=>m==="")){o.delete("index"),c.filter(g=>g).forEach(g=>o.append("index",g));let m=o.toString();a.search=m?`?${m}`:""}}return(!i||i===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:o0([t,a.pathname])),nx(a)}function FB(i,{relative:e}={}){let t=Me.useContext(lC);br(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gC("useViewTransitionState"),r=Ix(i,{relative:e});if(!t.isTransitioning)return!1;let a=d0(t.currentLocation.pathname,n)||t.currentLocation.pathname,s=d0(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ob(r.pathname,s)!=null||ob(r.pathname,a)!=null}function t0(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function vC(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var Vl={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ym={duration:.5,overwrite:!1,delay:0},LM,Ba,lr,So=1e8,Yi=1/So,m6=Math.PI*2,HB=m6/4,VB=0,xC=Math.sqrt,GB=Math.cos,qB=Math.sin,Ea=function(e){return typeof e=="string"},Ar=function(e){return typeof e=="function"},p0=function(e){return typeof e=="number"},UM=function(e){return typeof e>"u"},uc=function(e){return typeof e=="object"},ul=function(e){return e!==!1},BM=function(){return typeof window<"u"},w2=function(e){return Ar(e)||Ea(e)},yC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ls=Array.isArray,g6=/(?:-?\.?\d|\.)+/gi,bC=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Nm=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,pS=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_C=/[+-]=-?[.\d]+/,SC=/[^,'"\[\]\s]+/gi,XB=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,gr,Ku,v6,kM,Yl={},ub={},MC,wC=function(e){return(ub=jm(e,Yl))&&pl},IM=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ix=function(e,t){return!t&&console.warn(e)},TC=function(e,t){return e&&(Yl[e]=t)&&ub&&(ub[e]=t)||Yl},rx=function(){return 0},YB={suppressEvents:!0,isStart:!0,kill:!1},X3={suppressEvents:!0,kill:!1},jB={suppressEvents:!0},PM={},Of=[],x6={},EC,Ul={},mS={},Vw=30,Y3=[],FM="",HM=function(e){var t=e[0],n,r;if(uc(t)||Ar(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=Y3.length;r--&&!Y3[r].targetTest(t););n=Y3[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new KC(e[r],n)))||e.splice(r,1);return e},bd=function(e){return e._gsap||HM(Mo(e))[0]._gsap},AC=function(e,t,n){return(n=e[t])&&Ar(n)?e[t]():UM(n)&&e.getAttribute&&e.getAttribute(t)||n},cl=function(e,t){return(e=e.split(",")).forEach(t)||e},kr=function(e){return Math.round(e*1e5)/1e5||0},Kr=function(e){return Math.round(e*1e7)/1e7||0},km=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},WB=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},cb=function(){var e=Of.length,t=Of.slice(0),n,r;for(x6={},Of.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},VM=function(e){return!!(e._initted||e._startAt||e.add)},CC=function(e,t,n,r){Of.length&&!Ba&&cb(),e.render(t,n,!!(Ba&&t<0&&VM(e))),Of.length&&!Ba&&cb()},RC=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(SC).length<2?t:Ea(e)?e.trim():e},DC=function(e){return e},jl=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ZB=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},jm=function(e,t){for(var n in t)e[n]=t[n];return e},Gw=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=uc(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},fb=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},Dv=function(e){var t=e.parent||gr,n=e.keyframes?ZB(ls(e.keyframes)):jl;if(ul(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},KB=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},NC=function(e,t,n,r,a){var s=e[r],o;if(a)for(o=t[a];s&&s[a]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},w4=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var a=t._prev,s=t._next;a?a._next=s:e[n]===t&&(e[n]=s),s?s._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},Bf=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_d=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},QB=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},y6=function(e,t,n,r){return e._startAt&&(Ba?e._startAt.revert(X3):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},JB=function i(e){return!e||e._ts&&i(e.parent)},qw=function(e){return e._repeat?Wm(e._tTime,e=e.duration()+e._rDelay)*e:0},Wm=function(e,t){var n=Math.floor(e=Kr(e/t));return e&&n===e?n-1:n},hb=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},T4=function(e){return e._end=Kr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Yi)||0))},E4=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Kr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),T4(e),n._dirty||_d(n,e)),e},zC=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=hb(e.rawTime(),t),(!t._dur||Px(0,t.totalDuration(),n)-t._tTime>Yi)&&t.render(n,!0)),_d(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Yi}},$u=function(e,t,n,r){return t.parent&&Bf(t),t._start=Kr((p0(n)?n:n||e!==gr?xo(e,n,t):e._time)+t._delay),t._end=Kr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),NC(e,t,"_first","_last",e._sort?"_start":0),b6(t)||(e._recent=t),r||zC(e,t),e._ts<0&&E4(e,e._tTime),e},OC=function(e,t){return(Yl.ScrollTrigger||IM("scrollTrigger",t))&&Yl.ScrollTrigger.create(t,e)},LC=function(e,t,n,r,a){if(qM(e,t,a),!e._initted)return 1;if(!n&&e._pt&&!Ba&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&EC!==kl.frame)return Of.push(e),e._lazy=[a,r],1},$B=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},b6=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},ek=function(e,t,n,r){var a=e.ratio,s=t<0||!t&&(!e._start&&$B(e)&&!(!e._initted&&b6(e))||(e._ts<0||e._dp._ts<0)&&!b6(e))?0:1,o=e._rDelay,c=0,f,m,g;if(o&&e._repeat&&(c=Px(0,e._tDur,t),m=Wm(c,o),e._yoyo&&m&1&&(s=1-s),m!==Wm(e._tTime,o)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||Ba||r||e._zTime===Yi||!t&&e._zTime){if(!e._initted&&LC(e,t,r,n,c))return;for(g=e._zTime,e._zTime=t||(n?Yi:0),n||(n=t&&!g),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,f=e._pt;f;)f.r(s,f.d),f=f._next;t<0&&y6(e,t,n,!0),e._onUpdate&&!n&&Fl(e,"onUpdate"),c&&e._repeat&&!n&&e.parent&&Fl(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&Bf(e,1),!n&&!Ba&&(Fl(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},tk=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Zm=function(e,t,n,r){var a=e._repeat,s=Kr(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:Kr(s*(a+1)+e._rDelay*a):s,o>0&&!r&&E4(e,e._tTime=e._tDur*o),e.parent&&T4(e),n||_d(e.parent,e),e},Xw=function(e){return e instanceof Bs?_d(e):Zm(e,e._dur)},nk={_start:0,endTime:rx,totalDuration:rx},xo=function i(e,t,n){var r=e.labels,a=e._recent||nk,s=e.duration()>=So?a.endTime(!1):e._dur,o,c,f;return Ea(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),f=t.substr(-1)==="%",o=t.indexOf("="),c==="<"||c===">"?(o>=0&&(t=t.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(o<0?a:n).totalDuration()/100:1)):o<0?(t in r||(r[t]=s),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),f&&n&&(c=c/100*(ls(n)?n[0]:n).totalDuration()),o>1?i(e,t.substr(0,o-1),n)+c:s+c)):t==null?s:+t},Nv=function(e,t,n){var r=p0(t[1]),a=(r?2:1)+(e<2?0:1),s=t[a],o,c;if(r&&(s.duration=t[1]),s.parent=n,e){for(o=s,c=n;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=ul(c.vars.inherit)&&c.parent;s.immediateRender=ul(o.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new Zr(t[0],s,t[a+1])},jf=function(e,t){return e||e===0?t(e):t},Px=function(e,t,n){return n<e?e:n>t?t:n},is=function(e,t){return!Ea(e)||!(t=XB.exec(e))?"":t[1]},ik=function(e,t,n){return jf(n,function(r){return Px(e,t,r)})},_6=[].slice,UC=function(e,t){return e&&uc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&uc(e[0]))&&!e.nodeType&&e!==Ku},rk=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var a;return Ea(r)&&!t||UC(r,1)?(a=n).push.apply(a,Mo(r)):n.push(r)})||n},Mo=function(e,t,n){return lr&&!t&&lr.selector?lr.selector(e):Ea(e)&&!n&&(v6||!Km())?_6.call((t||kM).querySelectorAll(e),0):ls(e)?rk(e,n):UC(e)?_6.call(e,0):e?[e]:[]},S6=function(e){return e=Mo(e)[0]||ix("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Mo(t,n.querySelectorAll?n:n===e?ix("Invalid scope")||kM.createElement("div"):e)}},BC=function(e){return e.sort(function(){return .5-Math.random()})},kC=function(e){if(Ar(e))return e;var t=uc(e)?e:{each:e},n=Sd(t.ease),r=t.from||0,a=parseFloat(t.base)||0,s={},o=r>0&&r<1,c=isNaN(r)||o,f=t.axis,m=r,g=r;return Ea(r)?m=g={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(m=r[0],g=r[1]),function(y,x,_){var M=(_||t).length,w=s[M],S,A,D,N,k,z,P,V,B;if(!w){if(B=t.grid==="auto"?0:(t.grid||[1,So])[1],!B){for(P=-So;P<(P=_[B++].getBoundingClientRect().left)&&B<M;);B<M&&B--}for(w=s[M]=[],S=c?Math.min(B,M)*m-.5:r%B,A=B===So?0:c?M*g/B-.5:r/B|0,P=0,V=So,z=0;z<M;z++)D=z%B-S,N=A-(z/B|0),w[z]=k=f?Math.abs(f==="y"?N:D):xC(D*D+N*N),k>P&&(P=k),k<V&&(V=k);r==="random"&&BC(w),w.max=P-V,w.min=V,w.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(B>M?M-1:f?f==="y"?M/B:B:Math.max(B,M/B))||0)*(r==="edges"?-1:1),w.b=M<0?a-M:a,w.u=is(t.amount||t.each)||0,n=n&&M<0?jC(n):n}return M=(w[y]-w.min)/w.max||0,Kr(w.b+(n?n(M):M)*w.v)+w.u}},M6=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Kr(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(p0(n)?0:is(n))}},IC=function(e,t){var n=ls(e),r,a;return!n&&uc(e)&&(r=n=e.radius||So,e.values?(e=Mo(e.values),(a=!p0(e[0]))&&(r*=r)):e=M6(e.increment)),jf(t,n?Ar(e)?function(s){return a=e(s),Math.abs(a-s)<=r?a:s}:function(s){for(var o=parseFloat(a?s.x:s),c=parseFloat(a?s.y:0),f=So,m=0,g=e.length,y,x;g--;)a?(y=e[g].x-o,x=e[g].y-c,y=y*y+x*x):y=Math.abs(e[g]-o),y<f&&(f=y,m=g);return m=!r||f<=r?e[m]:s,a||m===s||p0(s)?m:m+is(s)}:M6(e))},PC=function(e,t,n,r){return jf(ls(e)?!t:n===!0?!!(n=0):!r,function(){return ls(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},ak=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(a,s){return s(a)},r)}},sk=function(e,t){return function(n){return e(parseFloat(n))+(t||is(n))}},lk=function(e,t,n){return HC(e,t,0,1,n)},FC=function(e,t,n){return jf(n,function(r){return e[~~t(r)]})},ok=function i(e,t,n){var r=t-e;return ls(e)?FC(e,i(0,e.length),t):jf(n,function(a){return(r+(a-e)%r)%r+e})},uk=function i(e,t,n){var r=t-e,a=r*2;return ls(e)?FC(e,i(0,e.length-1),t):jf(n,function(s){return s=(a+(s-e)%a)%a||0,e+(s>r?a-s:s)})},ax=function(e){for(var t=0,n="",r,a,s,o;~(r=e.indexOf("random(",t));)s=e.indexOf(")",r),o=e.charAt(r+7)==="[",a=e.substr(r+7,s-r-7).match(o?SC:g6),n+=e.substr(t,r-t)+PC(o?a:+a[0],o?0:+a[1],+a[2]||1e-5),t=s+1;return n+e.substr(t,e.length-t)},HC=function(e,t,n,r,a){var s=t-e,o=r-n;return jf(a,function(c){return n+((c-e)/s*o||0)})},ck=function i(e,t,n,r){var a=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!a){var s=Ea(e),o={},c,f,m,g,y;if(n===!0&&(r=1)&&(n=null),s)e={p:e},t={p:t};else if(ls(e)&&!ls(t)){for(m=[],g=e.length,y=g-2,f=1;f<g;f++)m.push(i(e[f-1],e[f]));g--,a=function(_){_*=g;var M=Math.min(y,~~_);return m[M](_-M)},n=t}else r||(e=jm(ls(e)?[]:{},e));if(!m){for(c in t)GM.call(o,e,c,"get",t[c]);a=function(_){return jM(_,o)||(s?e.p:e)}}}return jf(n,a)},Yw=function(e,t,n){var r=e.labels,a=So,s,o,c;for(s in r)o=r[s]-t,o<0==!!n&&o&&a>(o=Math.abs(o))&&(c=s,a=o);return c},Fl=function(e,t,n){var r=e.vars,a=r[t],s=lr,o=e._ctx,c,f,m;if(a)return c=r[t+"Params"],f=r.callbackScope||e,n&&Of.length&&cb(),o&&(lr=o),m=c?a.apply(f,c):a.call(f),lr=s,m},yv=function(e){return Bf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ba),e.progress()<1&&Fl(e,"onInterrupt"),e},zm,VC=[],GC=function(e){if(e)if(e=!e.name&&e.default||e,BM()||e.headless){var t=e.name,n=Ar(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:rx,render:jM,add:GM,kill:Ek,modifier:Tk,rawVars:0},s={targetTest:0,get:0,getSetter:YM,aliases:{},register:0};if(Km(),e!==r){if(Ul[t])return;jl(r,jl(fb(e,a),s)),jm(r.prototype,jm(a,fb(e,s))),Ul[r.prop=t]=r,e.targetTest&&(Y3.push(r),PM[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}TC(t,r),e.register&&e.register(pl,r,fl)}else VC.push(e)},Xi=255,bv={aqua:[0,Xi,Xi],lime:[0,Xi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xi],navy:[0,0,128],white:[Xi,Xi,Xi],olive:[128,128,0],yellow:[Xi,Xi,0],orange:[Xi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xi,0,0],pink:[Xi,192,203],cyan:[0,Xi,Xi],transparent:[Xi,Xi,Xi,0]},gS=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Xi+.5|0},qC=function(e,t,n){var r=e?p0(e)?[e>>16,e>>8&Xi,e&Xi]:0:bv.black,a,s,o,c,f,m,g,y,x,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),bv[e])r=bv[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+a+a+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Xi,r&Xi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Xi,e&Xi]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(g6),!t)c=+r[0]%360/360,f=+r[1]/100,m=+r[2]/100,s=m<=.5?m*(f+1):m+f-m*f,a=m*2-s,r.length>3&&(r[3]*=1),r[0]=gS(c+1/3,a,s),r[1]=gS(c,a,s),r[2]=gS(c-1/3,a,s);else if(~e.indexOf("="))return r=e.match(bC),n&&r.length<4&&(r[3]=1),r}else r=e.match(g6)||bv.transparent;r=r.map(Number)}return t&&!_&&(a=r[0]/Xi,s=r[1]/Xi,o=r[2]/Xi,g=Math.max(a,s,o),y=Math.min(a,s,o),m=(g+y)/2,g===y?c=f=0:(x=g-y,f=m>.5?x/(2-g-y):x/(g+y),c=g===a?(s-o)/x+(s<o?6:0):g===s?(o-a)/x+2:(a-s)/x+4,c*=60),r[0]=~~(c+.5),r[1]=~~(f*100+.5),r[2]=~~(m*100+.5)),n&&r.length<4&&(r[3]=1),r},XC=function(e){var t=[],n=[],r=-1;return e.split(Lf).forEach(function(a){var s=a.match(Nm)||[];t.push.apply(t,s),n.push(r+=s.length+1)}),t.c=n,t},jw=function(e,t,n){var r="",a=(e+r).match(Lf),s=t?"hsla(":"rgba(",o=0,c,f,m,g;if(!a)return e;if(a=a.map(function(y){return(y=qC(y,t,1))&&s+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(m=XC(e),c=n.c,c.join(r)!==m.c.join(r)))for(f=e.replace(Lf,"1").split(Nm),g=f.length-1;o<g;o++)r+=f[o]+(~c.indexOf(o)?a.shift()||s+"0,0,0,0)":(m.length?m:a.length?a:n).shift());if(!f)for(f=e.split(Lf),g=f.length-1;o<g;o++)r+=f[o]+a[o];return r+f[g]},Lf=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in bv)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),fk=/hsl[a]?\(/,YC=function(e){var t=e.join(" "),n;if(Lf.lastIndex=0,Lf.test(t))return n=fk.test(t),e[1]=jw(e[1],n),e[0]=jw(e[0],n,XC(e[1])),!0},sx,kl=(function(){var i=Date.now,e=500,t=33,n=i(),r=n,a=1e3/240,s=a,o=[],c,f,m,g,y,x,_=function M(w){var S=i()-r,A=w===!0,D,N,k,z;if((S>e||S<0)&&(n+=S-t),r+=S,k=r-n,D=k-s,(D>0||A)&&(z=++g.frame,y=k-g.time*1e3,g.time=k=k/1e3,s+=D+(D>=a?4:a-D),N=1),A||(c=f(M)),N)for(x=0;x<o.length;x++)o[x](k,y,z,w)};return g={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(w){return y/(1e3/(w||60))},wake:function(){MC&&(!v6&&BM()&&(Ku=v6=window,kM=Ku.document||{},Yl.gsap=pl,(Ku.gsapVersions||(Ku.gsapVersions=[])).push(pl.version),wC(ub||Ku.GreenSockGlobals||!Ku.gsap&&Ku||{}),VC.forEach(GC)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&g.sleep(),f=m||function(w){return setTimeout(w,s-g.time*1e3+1|0)},sx=1,_(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(c),sx=0,f=rx},lagSmoothing:function(w,S){e=w||1/0,t=Math.min(S||33,e)},fps:function(w){a=1e3/(w||240),s=g.time*1e3+a},add:function(w,S,A){var D=S?function(N,k,z,P){w(N,k,z,P),g.remove(D)}:w;return g.remove(w),o[A?"unshift":"push"](D),Km(),D},remove:function(w,S){~(S=o.indexOf(w))&&o.splice(S,1)&&x>=S&&x--},_listeners:o},g})(),Km=function(){return!sx&&kl.wake()},ui={},hk=/^[\d.\-M][\d.\-,\s]/,dk=/["']/g,pk=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],a=1,s=n.length,o,c,f;a<s;a++)c=n[a],o=a!==s-1?c.lastIndexOf(","):c.length,f=c.substr(0,o),t[r]=isNaN(f)?f.replace(dk,"").trim():+f,r=c.substr(o+1).trim();return t},mk=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},gk=function(e){var t=(e+"").split("("),n=ui[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[pk(t[1])]:mk(e).split(",").map(RC)):ui._CE&&hk.test(e)?ui._CE("",e):n},jC=function(e){return function(t){return 1-e(1-t)}},WC=function i(e,t){for(var n=e._first,r;n;)n instanceof Bs?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},Sd=function(e,t){return e&&(Ar(e)?e:ui[e]||gk(e))||t},Pd=function(e,t,n,r){n===void 0&&(n=function(c){return 1-t(1-c)}),r===void 0&&(r=function(c){return c<.5?t(c*2)/2:1-t((1-c)*2)/2});var a={easeIn:t,easeOut:n,easeInOut:r},s;return cl(e,function(o){ui[o]=Yl[o]=a,ui[s=o.toLowerCase()]=n;for(var c in a)ui[s+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=ui[o+"."+c]=a[c]}),a},ZC=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},vS=function i(e,t,n){var r=t>=1?t:1,a=(n||(e?.3:.45))/(t<1?t:1),s=a/m6*(Math.asin(1/r)||0),o=function(m){return m===1?1:r*Math.pow(2,-10*m)*qB((m-s)*a)+1},c=e==="out"?o:e==="in"?function(f){return 1-o(1-f)}:ZC(o);return a=m6/a,c.config=function(f,m){return i(e,f,m)},c},xS=function i(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:ZC(n);return r.config=function(a){return i(e,a)},r};cl("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Pd(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});ui.Linear.easeNone=ui.none=ui.Linear.easeIn;Pd("Elastic",vS("in"),vS("out"),vS());(function(i,e){var t=1/e,n=2*t,r=2.5*t,a=function(o){return o<t?i*o*o:o<n?i*Math.pow(o-1.5/e,2)+.75:o<r?i*(o-=2.25/e)*o+.9375:i*Math.pow(o-2.625/e,2)+.984375};Pd("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);Pd("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Pd("Circ",function(i){return-(xC(1-i*i)-1)});Pd("Sine",function(i){return i===1?1:-GB(i*HB)+1});Pd("Back",xS("in"),xS("out"),xS());ui.SteppedEase=ui.steps=Yl.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),a=t?1:0,s=1-Yi;return function(o){return((r*Px(0,s,o)|0)+a)*n}}};Ym.ease=ui["quad.out"];cl("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return FM+=i+","+i+"Params,"});var KC=function(e,t){this.id=VB++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:AC,this.set=t?t.getSetter:YM},lx=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zm(this,+t.duration,1,1),this.data=t.data,lr&&(this._ctx=lr,lr.data.push(this)),sx||kl.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Zm(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if(Km(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(E4(this,n),!a._dp||a.parent||zC(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&$u(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Yi||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),CC(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+qw(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+qw(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,r):this._repeat?Wm(this._tTime,a)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-Yi?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?hb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Yi?0:this._rts,this.totalTime(Px(-Math.abs(this._delay),this.totalDuration(),a),r!==!1),T4(this),QB(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Km(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Yi&&(this._tTime-=Yi)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&$u(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ul(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?hb(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=jB);var r=Ba;return Ba=n,VM(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Ba=r,this},e.globalTime=function(n){for(var r=this,a=arguments.length?n:r.rawTime();r;)a=r._start+a/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Xw(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Xw(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(xo(this,n),ul(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,ul(r)),this._dur||(this._zTime=-Yi),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Yi:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Yi,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=r&&a<this.endTime(!0)-Yi)},e.eventCallback=function(n,r,a){var s=this.vars;return arguments.length>1?(r?(s[n]=r,a&&(s[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=r)):delete s[n],this):s[n]},e.then=function(n){var r=this;return new Promise(function(a){var s=Ar(n)?n:DC,o=function(){var f=r.then;r.then=null,Ar(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=f),a(s),r.then=f};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){yv(this)},i})();jl(lx.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Yi,_prom:0,_ps:!1,_rts:1});var Bs=(function(i){vC(e,i);function e(n,r){var a;return n===void 0&&(n={}),a=i.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=ul(n.sortChildren),gr&&$u(n.parent||gr,t0(a),r),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&OC(t0(a),n.scrollTrigger),a}var t=e.prototype;return t.to=function(r,a,s){return Nv(0,arguments,this),this},t.from=function(r,a,s){return Nv(1,arguments,this),this},t.fromTo=function(r,a,s,o){return Nv(2,arguments,this),this},t.set=function(r,a,s){return a.duration=0,a.parent=this,Dv(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Zr(r,a,xo(this,s),1),this},t.call=function(r,a,s){return $u(this,Zr.delayedCall(0,r,a),s)},t.staggerTo=function(r,a,s,o,c,f,m){return s.duration=a,s.stagger=s.stagger||o,s.onComplete=f,s.onCompleteParams=m,s.parent=this,new Zr(r,s,xo(this,c)),this},t.staggerFrom=function(r,a,s,o,c,f,m){return s.runBackwards=1,Dv(s).immediateRender=ul(s.immediateRender),this.staggerTo(r,a,s,o,c,f,m)},t.staggerFromTo=function(r,a,s,o,c,f,m,g){return o.startAt=s,Dv(o).immediateRender=ul(o.immediateRender),this.staggerTo(r,a,o,c,f,m,g)},t.render=function(r,a,s){var o=this._time,c=this._dirty?this.totalDuration():this._tDur,f=this._dur,m=r<=0?0:Kr(r),g=this._zTime<0!=r<0&&(this._initted||!f),y,x,_,M,w,S,A,D,N,k,z,P;if(this!==gr&&m>c&&r>=0&&(m=c),m!==this._tTime||s||g){if(o!==this._time&&f&&(m+=this._time-o,r+=this._time-o),y=m,N=this._start,D=this._ts,S=!D,g&&(f||(o=this._zTime),(r||!a)&&(this._zTime=r)),this._repeat){if(z=this._yoyo,w=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(w*100+r,a,s);if(y=Kr(m%w),m===c?(M=this._repeat,y=f):(k=Kr(m/w),M=~~k,M&&M===k&&(y=f,M--),y>f&&(y=f)),k=Wm(this._tTime,w),!o&&this._tTime&&k!==M&&this._tTime-k*w-this._dur<=0&&(k=M),z&&M&1&&(y=f-y,P=1),M!==k&&!this._lock){var V=z&&k&1,B=V===(z&&M&1);if(M<k&&(V=!V),o=V?0:m%f?f:m,this._lock=1,this.render(o||(P?0:Kr(M*w)),a,!f)._lock=0,this._tTime=m,!a&&this.parent&&Fl(this,"onRepeat"),this.vars.repeatRefresh&&!P&&(this.invalidate()._lock=1),o&&o!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,c=this._tDur,B&&(this._lock=2,o=V?f:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!P&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;WC(this,P)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=tk(this,Kr(o),Kr(y)),A&&(m-=y-(y=A._start))),this._tTime=m,this._time=y,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&m&&!a&&!k&&(Fl(this,"onStart"),this._tTime!==m))return this;if(y>=o&&r>=0)for(x=this._first;x;){if(_=x._next,(x._act||y>=x._start)&&x._ts&&A!==x){if(x.parent!==this)return this.render(r,a,s);if(x.render(x._ts>0?(y-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(y-x._start)*x._ts,a,s),y!==this._time||!this._ts&&!S){A=0,_&&(m+=this._zTime=-Yi);break}}x=_}else{x=this._last;for(var O=r<0?r:y;x;){if(_=x._prev,(x._act||O<=x._end)&&x._ts&&A!==x){if(x.parent!==this)return this.render(r,a,s);if(x.render(x._ts>0?(O-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(O-x._start)*x._ts,a,s||Ba&&VM(x)),y!==this._time||!this._ts&&!S){A=0,_&&(m+=this._zTime=O?-Yi:Yi);break}}x=_}}if(A&&!a&&(this.pause(),A.render(y>=o?0:-Yi)._zTime=y>=o?1:-1,this._ts))return this._start=N,T4(this),this.render(r,a,s);this._onUpdate&&!a&&Fl(this,"onUpdate",!0),(m===c&&this._tTime>=this.totalDuration()||!m&&o)&&(N===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(m===c&&this._ts>0||!m&&this._ts<0)&&Bf(this,1),!a&&!(r<0&&!o)&&(m||o||!c)&&(Fl(this,m===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,a){var s=this;if(p0(a)||(a=xo(this,a,r)),!(r instanceof lx)){if(ls(r))return r.forEach(function(o){return s.add(o,a)}),this;if(Ea(r))return this.addLabel(r,a);if(Ar(r))r=Zr.delayedCall(0,r);else return this}return this!==r?$u(this,r,a):this},t.getChildren=function(r,a,s,o){r===void 0&&(r=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=-So);for(var c=[],f=this._first;f;)f._start>=o&&(f instanceof Zr?a&&c.push(f):(s&&c.push(f),r&&c.push.apply(c,f.getChildren(!0,a,s)))),f=f._next;return c},t.getById=function(r){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===r)return a[s]},t.remove=function(r){return Ea(r)?this.removeLabel(r):Ar(r)?this.killTweensOf(r):(r.parent===this&&w4(this,r),r===this._recent&&(this._recent=this._last),_d(this))},t.totalTime=function(r,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Kr(kl.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),i.prototype.totalTime.call(this,r,a),this._forcing=0,this):this._tTime},t.addLabel=function(r,a){return this.labels[r]=xo(this,a),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,a,s){var o=Zr.delayedCall(0,a||rx,s);return o.data="isPause",this._hasPause=1,$u(this,o,xo(this,r))},t.removePause=function(r){var a=this._first;for(r=xo(this,r);a;)a._start===r&&a.data==="isPause"&&Bf(a),a=a._next},t.killTweensOf=function(r,a,s){for(var o=this.getTweensOf(r,s),c=o.length;c--;)wf!==o[c]&&o[c].kill(r,a);return this},t.getTweensOf=function(r,a){for(var s=[],o=Mo(r),c=this._first,f=p0(a),m;c;)c instanceof Zr?WB(c._targets,o)&&(f?(!wf||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&s.push(c):(m=c.getTweensOf(o,a)).length&&s.push.apply(s,m),c=c._next;return s},t.tweenTo=function(r,a){a=a||{};var s=this,o=xo(s,r),c=a,f=c.startAt,m=c.onStart,g=c.onStartParams,y=c.immediateRender,x,_=Zr.to(s,jl({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(f&&"time"in f?f.time:s._time))/s.timeScale())||Yi,onStart:function(){if(s.pause(),!x){var w=a.duration||Math.abs((o-(f&&"time"in f?f.time:s._time))/s.timeScale());_._dur!==w&&Zm(_,w,0,1).render(_._time,!0,!0),x=1}m&&m.apply(_,g||[])}},a));return y?_.render(0):_},t.tweenFromTo=function(r,a,s){return this.tweenTo(a,jl({startAt:{time:xo(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Yw(this,xo(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Yw(this,xo(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Yi)},t.shiftChildren=function(r,a,s){s===void 0&&(s=0);for(var o=this._first,c=this.labels,f;o;)o._start>=s&&(o._start+=r,o._end+=r),o=o._next;if(a)for(f in c)c[f]>=s&&(c[f]+=r);return _d(this)},t.invalidate=function(r){var a=this._first;for(this._lock=0;a;)a.invalidate(r),a=a._next;return i.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),_d(this)},t.totalDuration=function(r){var a=0,s=this,o=s._last,c=So,f,m,g;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(g=s.parent;o;)f=o._prev,o._dirty&&o.totalDuration(),m=o._start,m>c&&s._sort&&o._ts&&!s._lock?(s._lock=1,$u(s,o,m-o._delay,1)._lock=0):c=m,m<0&&o._ts&&(a-=m,(!g&&!s._dp||g&&g.smoothChildTiming)&&(s._start+=m/s._ts,s._time-=m,s._tTime-=m),s.shiftChildren(-m,!1,-1/0),c=0),o._end>a&&o._ts&&(a=o._end),o=f;Zm(s,s===gr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(gr._ts&&(CC(gr,hb(r,gr)),EC=kl.frame),kl.frame>=Vw){Vw+=Vl.autoSleep||120;var a=gr._first;if((!a||!a._ts)&&Vl.autoSleep&&kl._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||kl.sleep()}}},e})(lx);jl(Bs.prototype,{_lock:0,_hasPause:0,_forcing:0});var vk=function(e,t,n,r,a,s,o){var c=new fl(this._pt,e,t,0,1,nR,null,a),f=0,m=0,g,y,x,_,M,w,S,A;for(c.b=n,c.e=r,n+="",r+="",(S=~r.indexOf("random("))&&(r=ax(r)),s&&(A=[n,r],s(A,e,t),n=A[0],r=A[1]),y=n.match(pS)||[];g=pS.exec(r);)_=g[0],M=r.substring(f,g.index),x?x=(x+1)%5:M.substr(-5)==="rgba("&&(x=1),_!==y[m++]&&(w=parseFloat(y[m-1])||0,c._pt={_next:c._pt,p:M||m===1?M:",",s:w,c:_.charAt(1)==="="?km(w,_)-w:parseFloat(_)-w,m:x&&x<4?Math.round:0},f=pS.lastIndex);return c.c=f<r.length?r.substring(f,r.length):"",c.fp=o,(_C.test(r)||S)&&(c.e=0),this._pt=c,c},GM=function(e,t,n,r,a,s,o,c,f,m){Ar(r)&&(r=r(a||0,e,s));var g=e[t],y=n!=="get"?n:Ar(g)?f?e[t.indexOf("set")||!Ar(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():g,x=Ar(g)?f?Sk:eR:XM,_;if(Ea(r)&&(~r.indexOf("random(")&&(r=ax(r)),r.charAt(1)==="="&&(_=km(y,r)+(is(y)||0),(_||_===0)&&(r=_))),!m||y!==r||w6)return!isNaN(y*r)&&r!==""?(_=new fl(this._pt,e,t,+y||0,r-(y||0),typeof g=="boolean"?wk:tR,0,x),f&&(_.fp=f),o&&_.modifier(o,this,e),this._pt=_):(!g&&!(t in e)&&IM(t,r),vk.call(this,e,t,y,r,x,c||Vl.stringFilter,f))},xk=function(e,t,n,r,a){if(Ar(e)&&(e=zv(e,a,t,n,r)),!uc(e)||e.style&&e.nodeType||ls(e)||yC(e))return Ea(e)?zv(e,a,t,n,r):e;var s={},o;for(o in e)s[o]=zv(e[o],a,t,n,r);return s},QC=function(e,t,n,r,a,s){var o,c,f,m;if(Ul[e]&&(o=new Ul[e]).init(a,o.rawVars?t[e]:xk(t[e],r,a,s,n),n,r,s)!==!1&&(n._pt=c=new fl(n._pt,a,e,0,1,o.render,o,0,o.priority),n!==zm))for(f=n._ptLookup[n._targets.indexOf(a)],m=o._props.length;m--;)f[o._props[m]]=c;return o},wf,w6,qM=function i(e,t,n){var r=e.vars,a=r.ease,s=r.startAt,o=r.immediateRender,c=r.lazy,f=r.onUpdate,m=r.runBackwards,g=r.yoyoEase,y=r.keyframes,x=r.autoRevert,_=e._dur,M=e._startAt,w=e._targets,S=e.parent,A=S&&S.data==="nested"?S.vars.targets:w,D=e._overwrite==="auto"&&!LM,N=e.timeline,k,z,P,V,B,O,X,W,se,le,ie,Y,te;if(N&&(!y||!a)&&(a="none"),e._ease=Sd(a,Ym.ease),e._yEase=g?jC(Sd(g===!0?a:g,Ym.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!N&&!!r.runBackwards,!N||y&&!r.stagger){if(W=w[0]?bd(w[0]).harness:0,Y=W&&r[W.prop],k=fb(r,PM),M&&(M._zTime<0&&M.progress(1),t<0&&m&&o&&!x?M.render(-1,!0):M.revert(m&&_?X3:YB),M._lazy=0),s){if(Bf(e._startAt=Zr.set(w,jl({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!M&&ul(c),startAt:null,delay:0,onUpdate:f&&function(){return Fl(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ba||!o&&!x)&&e._startAt.revert(X3),o&&_&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&_&&!M){if(t&&(o=!1),P=jl({overwrite:!1,data:"isFromStart",lazy:o&&!M&&ul(c),immediateRender:o,stagger:0,parent:S},k),Y&&(P[W.prop]=Y),Bf(e._startAt=Zr.set(w,P)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ba?e._startAt.revert(X3):e._startAt.render(-1,!0)),e._zTime=t,!o)i(e._startAt,Yi,Yi);else if(!t)return}for(e._pt=e._ptCache=0,c=_&&ul(c)||c&&!_,z=0;z<w.length;z++){if(B=w[z],X=B._gsap||HM(w)[z]._gsap,e._ptLookup[z]=le={},x6[X.id]&&Of.length&&cb(),ie=A===w?z:A.indexOf(B),W&&(se=new W).init(B,Y||k,e,ie,A)!==!1&&(e._pt=V=new fl(e._pt,B,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function(re){le[re]=V}),se.priority&&(O=1)),!W||Y)for(P in k)Ul[P]&&(se=QC(P,k,e,ie,B,A))?se.priority&&(O=1):le[P]=V=GM.call(e,B,P,"get",k[P],ie,A,0,r.stringFilter);e._op&&e._op[z]&&e.kill(B,e._op[z]),D&&e._pt&&(wf=e,gr.killTweensOf(B,le,e.globalTime(t)),te=!e.parent,wf=0),e._pt&&c&&(x6[X.id]=1)}O&&iR(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!te,y&&t<=0&&N.render(So,!0,!0)},yk=function(e,t,n,r,a,s,o,c){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,y,x;if(!f)for(f=e._ptCache[t]=[],y=e._ptLookup,x=e._targets.length;x--;){if(m=y[x][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return w6=1,e.vars[t]="+=0",qM(e,o),w6=0,c?ix(t+" not eligible for reset"):1;f.push(m)}for(x=f.length;x--;)g=f[x],m=g._pt||g,m.s=(r||r===0)&&!a?r:m.s+(r||0)+s*m.c,m.c=n-m.s,g.e&&(g.e=kr(n)+is(g.e)),g.b&&(g.b=m.s+is(g.b))},bk=function(e,t){var n=e[0]?bd(e[0]).harness:0,r=n&&n.aliases,a,s,o,c;if(!r)return t;a=jm({},t);for(s in r)if(s in a)for(c=r[s].split(","),o=c.length;o--;)a[c[o]]=a[s];return a},_k=function(e,t,n,r){var a=t.ease||r||"power1.inOut",s,o;if(ls(t))o=n[e]||(n[e]=[]),t.forEach(function(c,f){return o.push({t:f/(t.length-1)*100,v:c,e:a})});else for(s in t)o=n[s]||(n[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:t[s],e:a})},zv=function(e,t,n,r,a){return Ar(e)?e.call(t,n,r,a):Ea(e)&&~e.indexOf("random(")?ax(e):e},JC=FM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$C={};cl(JC+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return $C[i]=1});var Zr=(function(i){vC(e,i);function e(n,r,a,s){var o;typeof r=="number"&&(a.duration=r,r=a,a=null),o=i.call(this,s?r:Dv(r))||this;var c=o.vars,f=c.duration,m=c.delay,g=c.immediateRender,y=c.stagger,x=c.overwrite,_=c.keyframes,M=c.defaults,w=c.scrollTrigger,S=c.yoyoEase,A=r.parent||gr,D=(ls(n)||yC(n)?p0(n[0]):"length"in r)?[n]:Mo(n),N,k,z,P,V,B,O,X;if(o._targets=D.length?HM(D):ix("GSAP target "+n+" not found. https://gsap.com",!Vl.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=x,_||y||w2(f)||w2(m)){if(r=o.vars,N=o.timeline=new Bs({data:"nested",defaults:M||{},targets:A&&A.data==="nested"?A.vars.targets:D}),N.kill(),N.parent=N._dp=t0(o),N._start=0,y||w2(f)||w2(m)){if(P=D.length,O=y&&kC(y),uc(y))for(V in y)~JC.indexOf(V)&&(X||(X={}),X[V]=y[V]);for(k=0;k<P;k++)z=fb(r,$C),z.stagger=0,S&&(z.yoyoEase=S),X&&jm(z,X),B=D[k],z.duration=+zv(f,t0(o),k,B,D),z.delay=(+zv(m,t0(o),k,B,D)||0)-o._delay,!y&&P===1&&z.delay&&(o._delay=m=z.delay,o._start+=m,z.delay=0),N.to(B,z,O?O(k,B,D):0),N._ease=ui.none;N.duration()?f=m=0:o.timeline=0}else if(_){Dv(jl(N.vars.defaults,{ease:"none"})),N._ease=Sd(_.ease||r.ease||"none");var W=0,se,le,ie;if(ls(_))_.forEach(function(Y){return N.to(D,Y,">")}),N.duration();else{z={};for(V in _)V==="ease"||V==="easeEach"||_k(V,_[V],z,_.easeEach);for(V in z)for(se=z[V].sort(function(Y,te){return Y.t-te.t}),W=0,k=0;k<se.length;k++)le=se[k],ie={ease:le.e,duration:(le.t-(k?se[k-1].t:0))/100*f},ie[V]=le.v,N.to(D,ie,W),W+=ie.duration;N.duration()<f&&N.to({},{duration:f-N.duration()})}}f||o.duration(f=N.duration())}else o.timeline=0;return x===!0&&!LM&&(wf=t0(o),gr.killTweensOf(D),wf=0),$u(A,t0(o),a),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(g||!f&&!_&&o._start===Kr(A._time)&&ul(g)&&JB(t0(o))&&A.data!=="nested")&&(o._tTime=-Yi,o.render(Math.max(0,-m)||0)),w&&OC(t0(o),w),o}var t=e.prototype;return t.render=function(r,a,s){var o=this._time,c=this._tDur,f=this._dur,m=r<0,g=r>c-Yi&&!m?c:r<Yi?0:r,y,x,_,M,w,S,A,D,N;if(!f)ek(this,r,a,s);else if(g!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(y=g,D=this.timeline,this._repeat){if(M=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(M*100+r,a,s);if(y=Kr(g%M),g===c?(_=this._repeat,y=f):(w=Kr(g/M),_=~~w,_&&_===w?(y=f,_--):y>f&&(y=f)),S=this._yoyo&&_&1,S&&(N=this._yEase,y=f-y),w=Wm(this._tTime,M),y===o&&!s&&this._initted&&_===w)return this._tTime=g,this;_!==w&&(D&&this._yEase&&WC(D,S),this.vars.repeatRefresh&&!S&&!this._lock&&y!==M&&this._initted&&(this._lock=s=1,this.render(Kr(M*_),!0).invalidate()._lock=0))}if(!this._initted){if(LC(this,m?r:y,s,a,g))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&_!==w))return this;if(f!==this._dur)return this.render(r,a,s)}if(this._tTime=g,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(N||this._ease)(y/f),this._from&&(this.ratio=A=1-A),!o&&g&&!a&&!w&&(Fl(this,"onStart"),this._tTime!==g))return this;for(x=this._pt;x;)x.r(A,x.d),x=x._next;D&&D.render(r<0?r:D._dur*D._ease(y/this._dur),a,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!a&&(m&&y6(this,r,a,s),Fl(this,"onUpdate")),this._repeat&&_!==w&&this.vars.onRepeat&&!a&&this.parent&&Fl(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&y6(this,r,!0,!0),(r||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Bf(this,1),!a&&!(m&&!o)&&(g||o||S)&&(Fl(this,g===c?"onComplete":"onReverseComplete",!0),this._prom&&!(g<c&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),i.prototype.invalidate.call(this,r)},t.resetTo=function(r,a,s,o,c){sx||kl.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||qM(this,f),m=this._ease(f/this._dur),yk(this,r,a,s,o,m,f,c)?this.resetTo(r,a,s,o,1):(E4(this,0),this.parent||NC(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,a){if(a===void 0&&(a="all"),!r&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?yv(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ba),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,a,wf&&wf.vars.overwrite!==!0)._first||yv(this),this.parent&&s!==this.timeline.totalDuration()&&Zm(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,c=r?Mo(r):o,f=this._ptLookup,m=this._pt,g,y,x,_,M,w,S;if((!a||a==="all")&&KB(o,c))return a==="all"&&(this._pt=0),yv(this);for(g=this._op=this._op||[],a!=="all"&&(Ea(a)&&(M={},cl(a,function(A){return M[A]=1}),a=M),a=bk(o,a)),S=o.length;S--;)if(~c.indexOf(o[S])){y=f[S],a==="all"?(g[S]=a,_=y,x={}):(x=g[S]=g[S]||{},_=a);for(M in _)w=y&&y[M],w&&((!("kill"in w.d)||w.d.kill(M)===!0)&&w4(this,w,"_pt"),delete y[M]),x!=="all"&&(x[M]=1)}return this._initted&&!this._pt&&m&&yv(this),this},e.to=function(r,a){return new e(r,a,arguments[2])},e.from=function(r,a){return Nv(1,arguments)},e.delayedCall=function(r,a,s,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(r,a,s){return Nv(2,arguments)},e.set=function(r,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(r,a)},e.killTweensOf=function(r,a,s){return gr.killTweensOf(r,a,s)},e})(lx);jl(Zr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});cl("staggerTo,staggerFrom,staggerFromTo",function(i){Zr[i]=function(){var e=new Bs,t=_6.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var XM=function(e,t,n){return e[t]=n},eR=function(e,t,n){return e[t](n)},Sk=function(e,t,n,r){return e[t](r.fp,n)},Mk=function(e,t,n){return e.setAttribute(t,n)},YM=function(e,t){return Ar(e[t])?eR:UM(e[t])&&e.setAttribute?Mk:XM},tR=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},wk=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nR=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},jM=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Tk=function(e,t,n,r){for(var a=this._pt,s;a;)s=a._next,a.p===r&&a.modifier(e,t,n),a=s},Ek=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?w4(this,t,"_pt"):t.dep||(n=1),t=r;return!n},Ak=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},iR=function(e){for(var t=e._pt,n,r,a,s;t;){for(n=t._next,r=a;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:s)?t._prev._next=t:a=t,(t._next=r)?r._prev=t:s=t,t=n}e._pt=a},fl=(function(){function i(t,n,r,a,s,o,c,f,m){this.t=n,this.s=a,this.c=s,this.p=r,this.r=o||tR,this.d=c||this,this.set=f||XM,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,r,a){this.mSet=this.mSet||this.set,this.set=Ak,this.m=n,this.mt=a,this.tween=r},i})();cl(FM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return PM[i]=1});Yl.TweenMax=Yl.TweenLite=Zr;Yl.TimelineLite=Yl.TimelineMax=Bs;gr=new Bs({sortChildren:!1,defaults:Ym,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Vl.stringFilter=YC;var Md=[],j3={},Ck=[],Ww=0,Rk=0,yS=function(e){return(j3[e]||Ck).map(function(t){return t()})},T6=function(){var e=Date.now(),t=[];e-Ww>2&&(yS("matchMediaInit"),Md.forEach(function(n){var r=n.queries,a=n.conditions,s,o,c,f;for(o in r)s=Ku.matchMedia(r[o]).matches,s&&(c=1),s!==a[o]&&(a[o]=s,f=1);f&&(n.revert(),c&&t.push(n))}),yS("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Ww=e,yS("matchMedia"))},rR=(function(){function i(t,n){this.selector=n&&S6(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Rk++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,r,a){Ar(n)&&(a=r,r=n,n=Ar);var s=this,o=function(){var f=lr,m=s.selector,g;return f&&f!==s&&f.data.push(s),a&&(s.selector=S6(a)),lr=s,g=r.apply(s,arguments),Ar(g)&&s._r.push(g),lr=f,s.selector=m,s.isReverted=!1,g};return s.last=o,n===Ar?o(s,function(c){return s.add(null,c)}):n?s[n]=o:o},e.ignore=function(n){var r=lr;lr=null,n(this),lr=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof i?n.push.apply(n,r.getTweens()):r instanceof Zr&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var a=this;if(n?(function(){for(var o=a.getTweens(),c=a.data.length,f;c--;)f=a.data[c],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(m){return o.splice(o.indexOf(m),1)}));for(o.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),c=a.data.length;c--;)f=a.data[c],f instanceof Bs?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof Zr)&&f.revert&&f.revert(n);a._r.forEach(function(m){return m(n,a)}),a.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var s=Md.length;s--;)Md[s].id===this.id&&Md.splice(s,1)},e.revert=function(n){this.kill(n||{})},i})(),Dk=(function(){function i(t){this.contexts=[],this.scope=t,lr&&lr.data.push(this)}var e=i.prototype;return e.add=function(n,r,a){uc(n)||(n={matches:n});var s=new rR(0,a||this.scope),o=s.conditions={},c,f,m;lr&&!s.selector&&(s.selector=lr.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=n;for(f in n)f==="all"?m=1:(c=Ku.matchMedia(n[f]),c&&(Md.indexOf(s)<0&&Md.push(s),(o[f]=c.matches)&&(m=1),c.addListener?c.addListener(T6):c.addEventListener("change",T6)));return m&&r(s,function(g){return s.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},i})(),db={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return GC(r)})},timeline:function(e){return new Bs(e)},getTweensOf:function(e,t){return gr.getTweensOf(e,t)},getProperty:function(e,t,n,r){Ea(e)&&(e=Mo(e)[0]);var a=bd(e||{}).get,s=n?DC:RC;return n==="native"&&(n=""),e&&(t?s((Ul[t]&&Ul[t].get||a)(e,t,n,r)):function(o,c,f){return s((Ul[o]&&Ul[o].get||a)(e,o,c,f))})},quickSetter:function(e,t,n){if(e=Mo(e),e.length>1){var r=e.map(function(m){return pl.quickSetter(m,t,n)}),a=r.length;return function(m){for(var g=a;g--;)r[g](m)}}e=e[0]||{};var s=Ul[t],o=bd(e),c=o.harness&&(o.harness.aliases||{})[t]||t,f=s?function(m){var g=new s;zm._pt=0,g.init(e,n?m+n:m,zm,0,[e]),g.render(1,g),zm._pt&&jM(1,zm)}:o.set(e,c);return s?f:function(m){return f(e,c,n?m+n:m,o,1)}},quickTo:function(e,t,n){var r,a=pl.to(e,jl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(c,f,m){return a.resetTo(t,c,f,m)};return s.tween=a,s},isTweening:function(e){return gr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Sd(e.ease,Ym.ease)),Gw(Ym,e||{})},config:function(e){return Gw(Vl,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,a=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Ul[o]&&!Yl[o]&&ix(t+" effect requires "+o+" plugin.")}),mS[t]=function(o,c,f){return n(Mo(o),jl(c||{},a),f)},s&&(Bs.prototype[t]=function(o,c,f){return this.add(mS[t](o,uc(c)?c:(f=c)&&{},this),f)})},registerEase:function(e,t){ui[e]=Sd(t)},parseEase:function(e,t){return arguments.length?Sd(e,t):ui},getById:function(e){return gr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new Bs(e),r,a;for(n.smoothChildTiming=ul(e.smoothChildTiming),gr.remove(n),n._dp=0,n._time=n._tTime=gr._time,r=gr._first;r;)a=r._next,(t||!(!r._dur&&r instanceof Zr&&r.vars.onComplete===r._targets[0]))&&$u(n,r,r._start-r._delay),r=a;return $u(gr,n,0),n},context:function(e,t){return e?new rR(e,t):lr},matchMedia:function(e){return new Dk(e)},matchMediaRefresh:function(){return Md.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||T6()},addEventListener:function(e,t){var n=j3[e]||(j3[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=j3[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:ok,wrapYoyo:uk,distribute:kC,random:PC,snap:IC,normalize:lk,getUnit:is,clamp:ik,splitColor:qC,toArray:Mo,selector:S6,mapRange:HC,pipe:ak,unitize:sk,interpolate:ck,shuffle:BC},install:wC,effects:mS,ticker:kl,updateRoot:Bs.updateRoot,plugins:Ul,globalTimeline:gr,core:{PropTween:fl,globals:TC,Tween:Zr,Timeline:Bs,Animation:lx,getCache:bd,_removeLinkedListItem:w4,reverting:function(){return Ba},context:function(e){return e&&lr&&(lr.data.push(e),e._ctx=lr),lr},suppressOverwrites:function(e){return LM=e}}};cl("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return db[i]=Zr[i]});kl.add(Bs.updateRoot);zm=db.to({},{duration:0});var Nk=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},zk=function(e,t){var n=e._targets,r,a,s;for(r in t)for(a=n.length;a--;)s=e._ptLookup[a][r],s&&(s=s.d)&&(s._pt&&(s=Nk(s,r)),s&&s.modifier&&s.modifier(t[r],e,n[a],r))},bS=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,a,s){s._onInit=function(o){var c,f;if(Ea(a)&&(c={},cl(a,function(m){return c[m]=1}),a=c),t){c={};for(f in a)c[f]=t(a[f]);a=c}zk(o,a)}}}},pl=db.registerPlugin({name:"attr",init:function(e,t,n,r,a){var s,o,c;this.tween=n;for(s in t)c=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(c||0)+"",t[s],r,a,0,0,s),o.op=s,o.b=c,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)Ba?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},bS("roundProps",M6),bS("modifiers"),bS("snap",IC))||db;Zr.version=Bs.version=pl.version="3.13.0";MC=1;BM()&&Km();ui.Power0;ui.Power1;ui.Power2;ui.Power3;ui.Power4;ui.Linear;ui.Quad;ui.Cubic;ui.Quart;ui.Quint;ui.Strong;ui.Elastic;ui.Back;ui.SteppedEase;ui.Bounce;ui.Sine;ui.Expo;ui.Circ;var Zw,Tf,Im,WM,md,Kw,ZM,Ok=function(){return typeof window<"u"},m0={},cd=180/Math.PI,Pm=Math.PI/180,Jp=Math.atan2,Qw=1e8,KM=/([A-Z])/g,Lk=/(left|right|width|margin|padding|x)/i,Uk=/[\s,\(]\S/,ec={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},E6=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Bk=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},kk=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Ik=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},aR=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},sR=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Pk=function(e,t,n){return e.style[t]=n},Fk=function(e,t,n){return e.style.setProperty(t,n)},Hk=function(e,t,n){return e._gsap[t]=n},Vk=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},Gk=function(e,t,n,r,a){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(a,s)},qk=function(e,t,n,r,a){var s=e._gsap;s[t]=n,s.renderTransform(a,s)},xr="transform",hl=xr+"Origin",Xk=function i(e,t){var n=this,r=this.target,a=r.style,s=r._gsap;if(e in m0&&a){if(this.tfm=this.tfm||{},e!=="transform")e=ec[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return n.tfm[o]=n0(r,o)}):this.tfm[e]=s.x?s[e]:n0(r,e),e===hl&&(this.tfm.zOrigin=s.zOrigin);else return ec.transform.split(",").forEach(function(o){return i.call(n,o,t)});if(this.props.indexOf(xr)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(hl,t,"")),e=xr}(a||t)&&this.props.push(e,t,a[e])},lR=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Yk=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(KM,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=ZM(),(!a||!a.isStart)&&!n[xr]&&(lR(n),r.zOrigin&&n[hl]&&(n[hl]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},oR=function(e,t){var n={target:e,props:[],revert:Yk,save:Xk};return e._gsap||pl.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},uR,A6=function(e,t){var n=Tf.createElementNS?Tf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Tf.createElement(e);return n&&n.style?n:Tf.createElement(e)},wo=function i(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(KM,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&i(e,Qm(t)||t,1)||""},Jw="O,Moz,ms,Ms,Webkit".split(","),Qm=function(e,t,n){var r=t||md,a=r.style,s=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Jw[s]+e in a););return s<0?null:(s===3?"ms":s>=0?Jw[s]:"")+e},C6=function(){Ok()&&window.document&&(Zw=window,Tf=Zw.document,Im=Tf.documentElement,md=A6("div")||{style:{}},A6("div"),xr=Qm(xr),hl=xr+"Origin",md.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",uR=!!Qm("perspective"),ZM=pl.core.reverting,WM=1)},$w=function(e){var t=e.ownerSVGElement,n=A6("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),a;r.style.display="block",n.appendChild(r),Im.appendChild(n);try{a=r.getBBox()}catch{}return n.removeChild(r),Im.removeChild(n),a},eT=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},cR=function(e){var t,n;try{t=e.getBBox()}catch{t=$w(e),n=1}return t&&(t.width||t.height)||n||(t=$w(e)),t&&!t.width&&!t.x&&!t.y?{x:+eT(e,["x","cx","x1"])||0,y:+eT(e,["y","cy","y1"])||0,width:0,height:0}:t},fR=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&cR(e))},Dd=function(e,t){if(t){var n=e.style,r;t in m0&&t!==hl&&(t=xr),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(KM,"-$1").toLowerCase())):n.removeAttribute(t)}},Ef=function(e,t,n,r,a,s){var o=new fl(e._pt,t,n,0,1,s?sR:aR);return e._pt=o,o.b=r,o.e=a,e._props.push(n),o},tT={deg:1,rad:1,turn:1},jk={grid:1,flex:1},kf=function i(e,t,n,r){var a=parseFloat(n)||0,s=(n+"").trim().substr((a+"").length)||"px",o=md.style,c=Lk.test(t),f=e.tagName.toLowerCase()==="svg",m=(f?"client":"offset")+(c?"Width":"Height"),g=100,y=r==="px",x=r==="%",_,M,w,S;if(r===s||!a||tT[r]||tT[s])return a;if(s!=="px"&&!y&&(a=i(e,t,n,"px")),S=e.getCTM&&fR(e),(x||s==="%")&&(m0[t]||~t.indexOf("adius")))return _=S?e.getBBox()[c?"width":"height"]:e[m],kr(x?a/_*g:a/100*_);if(o[c?"width":"height"]=g+(y?s:r),M=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!f?e:e.parentNode,S&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===Tf||!M.appendChild)&&(M=Tf.body),w=M._gsap,w&&x&&w.width&&c&&w.time===kl.time&&!w.uncache)return kr(a/w.width*g);if(x&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=g+r,_=e[m],A?e.style[t]=A:Dd(e,t)}else(x||s==="%")&&!jk[wo(M,"display")]&&(o.position=wo(e,"position")),M===e&&(o.position="static"),M.appendChild(md),_=md[m],M.removeChild(md),o.position="absolute";return c&&x&&(w=bd(M),w.time=kl.time,w.width=M[m]),kr(y?_*a/g:_&&a?g/_*a:0)},n0=function(e,t,n,r){var a;return WM||C6(),t in ec&&t!=="transform"&&(t=ec[t],~t.indexOf(",")&&(t=t.split(",")[0])),m0[t]&&t!=="transform"?(a=ux(e,r),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:mb(wo(e,hl))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||r||~(a+"").indexOf("calc("))&&(a=pb[t]&&pb[t](e,t,n)||wo(e,t)||AC(e,t)||(t==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?kf(e,t,a,n)+n:a},Wk=function(e,t,n,r){if(!n||n==="none"){var a=Qm(t,e,1),s=a&&wo(e,a,1);s&&s!==n?(t=a,n=s):t==="borderColor"&&(n=wo(e,"borderTopColor"))}var o=new fl(this._pt,e.style,t,0,1,nR),c=0,f=0,m,g,y,x,_,M,w,S,A,D,N,k;if(o.b=n,o.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=wo(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(M=e.style[t],e.style[t]=r,r=wo(e,t)||r,M?e.style[t]=M:Dd(e,t)),m=[n,r],YC(m),n=m[0],r=m[1],y=n.match(Nm)||[],k=r.match(Nm)||[],k.length){for(;g=Nm.exec(r);)w=g[0],A=r.substring(c,g.index),_?_=(_+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(_=1),w!==(M=y[f++]||"")&&(x=parseFloat(M)||0,N=M.substr((x+"").length),w.charAt(1)==="="&&(w=km(x,w)+N),S=parseFloat(w),D=w.substr((S+"").length),c=Nm.lastIndex-D.length,D||(D=D||Vl.units[t]||N,c===r.length&&(r+=D,o.e+=D)),N!==D&&(x=kf(e,t,M,D)||0),o._pt={_next:o._pt,p:A||f===1?A:",",s:x,c:S-x,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r=t==="display"&&r==="none"?sR:aR;return _C.test(r)&&(o.e=0),this._pt=o,o},nT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Zk=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=nT[n]||n,t[1]=nT[r]||r,t.join(" ")},Kk=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,a=t.u,s=n._gsap,o,c,f;if(a==="all"||a===!0)r.cssText="",c=1;else for(a=a.split(","),f=a.length;--f>-1;)o=a[f],m0[o]&&(c=1,o=o==="transformOrigin"?hl:xr),Dd(n,o);c&&(Dd(n,xr),s&&(s.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",ux(n,1),s.uncache=1,lR(r)))}},pb={clearProps:function(e,t,n,r,a){if(a.data!=="isFromStart"){var s=e._pt=new fl(e._pt,t,n,0,0,Kk);return s.u=r,s.pr=-10,s.tween=a,e._props.push(n),1}}},ox=[1,0,0,1,0,0],hR={},dR=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},iT=function(e){var t=wo(e,xr);return dR(t)?ox:t.substr(7).match(bC).map(kr)},QM=function(e,t){var n=e._gsap||bd(e),r=e.style,a=iT(e),s,o,c,f;return n.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?ox:a):(a===ox&&!e.offsetParent&&e!==Im&&!n.svg&&(c=r.display,r.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,o=e.nextElementSibling,Im.appendChild(e)),a=iT(e),c?r.display=c:Dd(e,"display"),f&&(o?s.insertBefore(e,o):s?s.appendChild(e):Im.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},R6=function(e,t,n,r,a,s){var o=e._gsap,c=a||QM(e,!0),f=o.xOrigin||0,m=o.yOrigin||0,g=o.xOffset||0,y=o.yOffset||0,x=c[0],_=c[1],M=c[2],w=c[3],S=c[4],A=c[5],D=t.split(" "),N=parseFloat(D[0])||0,k=parseFloat(D[1])||0,z,P,V,B;n?c!==ox&&(P=x*w-_*M)&&(V=N*(w/P)+k*(-M/P)+(M*A-w*S)/P,B=N*(-_/P)+k*(x/P)-(x*A-_*S)/P,N=V,k=B):(z=cR(e),N=z.x+(~D[0].indexOf("%")?N/100*z.width:N),k=z.y+(~(D[1]||D[0]).indexOf("%")?k/100*z.height:k)),r||r!==!1&&o.smooth?(S=N-f,A=k-m,o.xOffset=g+(S*x+A*M)-S,o.yOffset=y+(S*_+A*w)-A):o.xOffset=o.yOffset=0,o.xOrigin=N,o.yOrigin=k,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!n,e.style[hl]="0px 0px",s&&(Ef(s,o,"xOrigin",f,N),Ef(s,o,"yOrigin",m,k),Ef(s,o,"xOffset",g,o.xOffset),Ef(s,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",N+" "+k)},ux=function(e,t){var n=e._gsap||new KC(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,a=n.scaleX<0,s="px",o="deg",c=getComputedStyle(e),f=wo(e,hl)||"0",m,g,y,x,_,M,w,S,A,D,N,k,z,P,V,B,O,X,W,se,le,ie,Y,te,re,ye,F,J,ge,Z,Oe,We;return m=g=y=M=w=S=A=D=N=0,x=_=1,n.svg=!!(e.getCTM&&fR(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(r[xr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[xr]!=="none"?c[xr]:"")),r.scale=r.rotate=r.translate="none"),P=QM(e,n.svg),n.svg&&(n.uncache?(re=e.getBBox(),f=n.xOrigin-re.x+"px "+(n.yOrigin-re.y)+"px",te=""):te=!t&&e.getAttribute("data-svg-origin"),R6(e,te||f,!!te||n.originIsAbsolute,n.smooth!==!1,P)),k=n.xOrigin||0,z=n.yOrigin||0,P!==ox&&(X=P[0],W=P[1],se=P[2],le=P[3],m=ie=P[4],g=Y=P[5],P.length===6?(x=Math.sqrt(X*X+W*W),_=Math.sqrt(le*le+se*se),M=X||W?Jp(W,X)*cd:0,A=se||le?Jp(se,le)*cd+M:0,A&&(_*=Math.abs(Math.cos(A*Pm))),n.svg&&(m-=k-(k*X+z*se),g-=z-(k*W+z*le))):(We=P[6],Z=P[7],F=P[8],J=P[9],ge=P[10],Oe=P[11],m=P[12],g=P[13],y=P[14],V=Jp(We,ge),w=V*cd,V&&(B=Math.cos(-V),O=Math.sin(-V),te=ie*B+F*O,re=Y*B+J*O,ye=We*B+ge*O,F=ie*-O+F*B,J=Y*-O+J*B,ge=We*-O+ge*B,Oe=Z*-O+Oe*B,ie=te,Y=re,We=ye),V=Jp(-se,ge),S=V*cd,V&&(B=Math.cos(-V),O=Math.sin(-V),te=X*B-F*O,re=W*B-J*O,ye=se*B-ge*O,Oe=le*O+Oe*B,X=te,W=re,se=ye),V=Jp(W,X),M=V*cd,V&&(B=Math.cos(V),O=Math.sin(V),te=X*B+W*O,re=ie*B+Y*O,W=W*B-X*O,Y=Y*B-ie*O,X=te,ie=re),w&&Math.abs(w)+Math.abs(M)>359.9&&(w=M=0,S=180-S),x=kr(Math.sqrt(X*X+W*W+se*se)),_=kr(Math.sqrt(Y*Y+We*We)),V=Jp(ie,Y),A=Math.abs(V)>2e-4?V*cd:0,N=Oe?1/(Oe<0?-Oe:Oe):0),n.svg&&(te=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!dR(wo(e,xr)),te&&e.setAttribute("transform",te))),Math.abs(A)>90&&Math.abs(A)<270&&(a?(x*=-1,A+=M<=0?180:-180,M+=M<=0?180:-180):(_*=-1,A+=A<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+s,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+s,n.z=y+s,n.scaleX=kr(x),n.scaleY=kr(_),n.rotation=kr(M)+o,n.rotationX=kr(w)+o,n.rotationY=kr(S)+o,n.skewX=A+o,n.skewY=D+o,n.transformPerspective=N+s,(n.zOrigin=parseFloat(f.split(" ")[2])||!t&&n.zOrigin||0)&&(r[hl]=mb(f)),n.xOffset=n.yOffset=0,n.force3D=Vl.force3D,n.renderTransform=n.svg?Jk:uR?pR:Qk,n.uncache=0,n},mb=function(e){return(e=e.split(" "))[0]+" "+e[1]},_S=function(e,t,n){var r=is(t);return kr(parseFloat(t)+parseFloat(kf(e,"x",n+"px",r)))+r},Qk=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,pR(e,t)},Xh="0deg",$g="0px",Yh=") ",pR=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,s=n.x,o=n.y,c=n.z,f=n.rotation,m=n.rotationY,g=n.rotationX,y=n.skewX,x=n.skewY,_=n.scaleX,M=n.scaleY,w=n.transformPerspective,S=n.force3D,A=n.target,D=n.zOrigin,N="",k=S==="auto"&&e&&e!==1||S===!0;if(D&&(g!==Xh||m!==Xh)){var z=parseFloat(m)*Pm,P=Math.sin(z),V=Math.cos(z),B;z=parseFloat(g)*Pm,B=Math.cos(z),s=_S(A,s,P*B*-D),o=_S(A,o,-Math.sin(z)*-D),c=_S(A,c,V*B*-D+D)}w!==$g&&(N+="perspective("+w+Yh),(r||a)&&(N+="translate("+r+"%, "+a+"%) "),(k||s!==$g||o!==$g||c!==$g)&&(N+=c!==$g||k?"translate3d("+s+", "+o+", "+c+") ":"translate("+s+", "+o+Yh),f!==Xh&&(N+="rotate("+f+Yh),m!==Xh&&(N+="rotateY("+m+Yh),g!==Xh&&(N+="rotateX("+g+Yh),(y!==Xh||x!==Xh)&&(N+="skew("+y+", "+x+Yh),(_!==1||M!==1)&&(N+="scale("+_+", "+M+Yh),A.style[xr]=N||"translate(0, 0)"},Jk=function(e,t){var n=t||this,r=n.xPercent,a=n.yPercent,s=n.x,o=n.y,c=n.rotation,f=n.skewX,m=n.skewY,g=n.scaleX,y=n.scaleY,x=n.target,_=n.xOrigin,M=n.yOrigin,w=n.xOffset,S=n.yOffset,A=n.forceCSS,D=parseFloat(s),N=parseFloat(o),k,z,P,V,B;c=parseFloat(c),f=parseFloat(f),m=parseFloat(m),m&&(m=parseFloat(m),f+=m,c+=m),c||f?(c*=Pm,f*=Pm,k=Math.cos(c)*g,z=Math.sin(c)*g,P=Math.sin(c-f)*-y,V=Math.cos(c-f)*y,f&&(m*=Pm,B=Math.tan(f-m),B=Math.sqrt(1+B*B),P*=B,V*=B,m&&(B=Math.tan(m),B=Math.sqrt(1+B*B),k*=B,z*=B)),k=kr(k),z=kr(z),P=kr(P),V=kr(V)):(k=g,V=y,z=P=0),(D&&!~(s+"").indexOf("px")||N&&!~(o+"").indexOf("px"))&&(D=kf(x,"x",s,"px"),N=kf(x,"y",o,"px")),(_||M||w||S)&&(D=kr(D+_-(_*k+M*P)+w),N=kr(N+M-(_*z+M*V)+S)),(r||a)&&(B=x.getBBox(),D=kr(D+r/100*B.width),N=kr(N+a/100*B.height)),B="matrix("+k+","+z+","+P+","+V+","+D+","+N+")",x.setAttribute("transform",B),A&&(x.style[xr]=B)},$k=function(e,t,n,r,a){var s=360,o=Ea(a),c=parseFloat(a)*(o&&~a.indexOf("rad")?cd:1),f=c-r,m=r+f+"deg",g,y;return o&&(g=a.split("_")[1],g==="short"&&(f%=s,f!==f%(s/2)&&(f+=f<0?s:-s)),g==="cw"&&f<0?f=(f+s*Qw)%s-~~(f/s)*s:g==="ccw"&&f>0&&(f=(f-s*Qw)%s-~~(f/s)*s)),e._pt=y=new fl(e._pt,t,n,r,f,Bk),y.e=m,y.u="deg",e._props.push(n),y},rT=function(e,t){for(var n in t)e[n]=t[n];return e},eI=function(e,t,n){var r=rT({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=n.style,o,c,f,m,g,y,x,_;r.svg?(f=n.getAttribute("transform"),n.setAttribute("transform",""),s[xr]=t,o=ux(n,1),Dd(n,xr),n.setAttribute("transform",f)):(f=getComputedStyle(n)[xr],s[xr]=t,o=ux(n,1),s[xr]=f);for(c in m0)f=r[c],m=o[c],f!==m&&a.indexOf(c)<0&&(x=is(f),_=is(m),g=x!==_?kf(n,c,f,_):parseFloat(f),y=parseFloat(m),e._pt=new fl(e._pt,o,c,g,y-g,E6),e._pt.u=_||0,e._props.push(c));rT(o,r)};cl("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",r="Bottom",a="Left",s=(e<3?[t,n,r,a]:[t+a,t+n,r+n,r+a]).map(function(o){return e<2?i+o:"border"+o+i});pb[e>1?"border"+i:i]=function(o,c,f,m,g){var y,x;if(arguments.length<4)return y=s.map(function(_){return n0(o,_,f)}),x=y.join(" "),x.split(y[0]).length===5?y[0]:x;y=(m+"").split(" "),x={},s.forEach(function(_,M){return x[_]=y[M]=y[M]||y[(M-1)/2|0]}),o.init(c,x,g)}});var mR={name:"css",register:C6,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,a){var s=this._props,o=e.style,c=n.vars.startAt,f,m,g,y,x,_,M,w,S,A,D,N,k,z,P,V;WM||C6(),this.styles=this.styles||oR(e),V=this.styles.props,this.tween=n;for(M in t)if(M!=="autoRound"&&(m=t[M],!(Ul[M]&&QC(M,t,n,r,e,a)))){if(x=typeof m,_=pb[M],x==="function"&&(m=m.call(n,r,e,a),x=typeof m),x==="string"&&~m.indexOf("random(")&&(m=ax(m)),_)_(this,e,M,m,n)&&(P=1);else if(M.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(M)+"").trim(),m+="",Lf.lastIndex=0,Lf.test(f)||(w=is(f),S=is(m)),S?w!==S&&(f=kf(e,M,f,S)+S):w&&(m+=w),this.add(o,"setProperty",f,m,r,a,0,0,M),s.push(M),V.push(M,0,o[M]);else if(x!=="undefined"){if(c&&M in c?(f=typeof c[M]=="function"?c[M].call(n,r,e,a):c[M],Ea(f)&&~f.indexOf("random(")&&(f=ax(f)),is(f+"")||f==="auto"||(f+=Vl.units[M]||is(n0(e,M))||""),(f+"").charAt(1)==="="&&(f=n0(e,M))):f=n0(e,M),y=parseFloat(f),A=x==="string"&&m.charAt(1)==="="&&m.substr(0,2),A&&(m=m.substr(2)),g=parseFloat(m),M in ec&&(M==="autoAlpha"&&(y===1&&n0(e,"visibility")==="hidden"&&g&&(y=0),V.push("visibility",0,o.visibility),Ef(this,o,"visibility",y?"inherit":"hidden",g?"inherit":"hidden",!g)),M!=="scale"&&M!=="transform"&&(M=ec[M],~M.indexOf(",")&&(M=M.split(",")[0]))),D=M in m0,D){if(this.styles.save(M),x==="string"&&m.substring(0,6)==="var(--"&&(m=wo(e,m.substring(4,m.indexOf(")"))),g=parseFloat(m)),N||(k=e._gsap,k.renderTransform&&!t.parseTransform||ux(e,t.parseTransform),z=t.smoothOrigin!==!1&&k.smooth,N=this._pt=new fl(this._pt,o,xr,0,1,k.renderTransform,k,0,-1),N.dep=1),M==="scale")this._pt=new fl(this._pt,k,"scaleY",k.scaleY,(A?km(k.scaleY,A+g):g)-k.scaleY||0,E6),this._pt.u=0,s.push("scaleY",M),M+="X";else if(M==="transformOrigin"){V.push(hl,0,o[hl]),m=Zk(m),k.svg?R6(e,m,0,z,0,this):(S=parseFloat(m.split(" ")[2])||0,S!==k.zOrigin&&Ef(this,k,"zOrigin",k.zOrigin,S),Ef(this,o,M,mb(f),mb(m)));continue}else if(M==="svgOrigin"){R6(e,m,1,z,0,this);continue}else if(M in hR){$k(this,k,M,y,A?km(y,A+m):m);continue}else if(M==="smoothOrigin"){Ef(this,k,"smooth",k.smooth,m);continue}else if(M==="force3D"){k[M]=m;continue}else if(M==="transform"){eI(this,m,e);continue}}else M in o||(M=Qm(M)||M);if(D||(g||g===0)&&(y||y===0)&&!Uk.test(m)&&M in o)w=(f+"").substr((y+"").length),g||(g=0),S=is(m)||(M in Vl.units?Vl.units[M]:w),w!==S&&(y=kf(e,M,f,S)),this._pt=new fl(this._pt,D?k:o,M,y,(A?km(y,A+g):g)-y,!D&&(S==="px"||M==="zIndex")&&t.autoRound!==!1?Ik:E6),this._pt.u=S||0,w!==S&&S!=="%"&&(this._pt.b=f,this._pt.r=kk);else if(M in o)Wk.call(this,e,M,f,A?A+m:m);else if(M in e)this.add(e,M,f||e[M],A?A+m:m,r,a);else if(M!=="parseTransform"){IM(M,m);continue}D||(M in o?V.push(M,0,o[M]):typeof e[M]=="function"?V.push(M,2,e[M]()):V.push(M,1,f||e[M])),s.push(M)}}P&&iR(this)},render:function(e,t){if(t.tween._time||!ZM())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:n0,aliases:ec,getSetter:function(e,t,n){var r=ec[t];return r&&r.indexOf(",")<0&&(t=r),t in m0&&t!==hl&&(e._gsap.x||n0(e,"x"))?n&&Kw===n?t==="scale"?Vk:Hk:(Kw=n||{})&&(t==="scale"?Gk:qk):e.style&&!UM(e.style[t])?Pk:~t.indexOf("-")?Fk:YM(e,t)},core:{_removeProperty:Dd,_getMatrix:QM}};pl.utils.checkPrefix=Qm;pl.core.getStyleSaver=oR;(function(i,e,t,n){var r=cl(i+","+e+","+t,function(a){m0[a]=1});cl(e,function(a){Vl.units[a]="deg",hR[a]=1}),ec[r[13]]=i+","+e,cl(n,function(a){var s=a.split(":");ec[s[1]]=r[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");cl("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){Vl.units[i]="px"});pl.registerPlugin(mR);var Ii=pl.registerPlugin(mR)||pl;Ii.core.Tween;function tI(){const[i,e]=Me.useState(!1),[t,n]=Me.useState(!1),r=Yf();Me.useEffect(()=>{const o=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const a=[{name:"Home",href:"/",isHash:!1},{name:"About",href:"#about",isHash:!0},{name:"Portfolio",href:"#portfolio",isHash:!0},{name:"Blog",href:"/blog",isHash:!1},{name:"Contact",href:"#contact",isHash:!0}],s=(o,c,f)=>{c&&r.pathname!=="/"&&(f.preventDefault(),window.location.href=`/${o}`),n(!1)};return de.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${i?"glass py-4":"py-6"}`,children:[de.jsxs("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center",children:[de.jsx(zf,{to:"/",className:"text-2xl font-light gradient-text tracking-widest",children:"LG"}),de.jsx("div",{className:"hidden md:flex gap-8",children:a.map(o=>o.isHash?de.jsxs("a",{href:o.href,onClick:c=>s(o.href,o.isHash,c),className:"text-gray-400 hover:text-[#B8860B] transition-colors relative group",children:[o.name,de.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#B8860B] group-hover:w-full transition-all duration-300"})]},o.name):de.jsxs(zf,{to:o.href,onClick:()=>n(!1),className:"text-gray-400 hover:text-[#B8860B] transition-colors relative group",children:[o.name,de.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#B8860B] group-hover:w-full transition-all duration-300"})]},o.name))}),de.jsx("button",{className:"md:hidden text-gray-300",onClick:()=>n(!t),children:de.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),t&&de.jsx("div",{className:"md:hidden glass mt-4 mx-4 rounded-lg p-4 space-y-4",children:a.map(o=>o.isHash?de.jsx("a",{href:o.href,onClick:c=>s(o.href,o.isHash,c),className:"block text-gray-400 hover:text-[#B8860B] transition-colors",children:o.name},o.name):de.jsx(zf,{to:o.href,onClick:()=>n(!1),className:"block text-gray-400 hover:text-[#B8860B] transition-colors",children:o.name},o.name))})]})}function nI(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function iI(i,e,t){return e&&nI(i.prototype,e),i}var Ua,W3,Il,Af,Cf,Fm,gR,fd,Ov,vR,l0,ru,xR,yR=function(){return Ua||typeof window<"u"&&(Ua=window.gsap)&&Ua.registerPlugin&&Ua},bR=1,Om=[],Yn=[],sc=[],Lv=Date.now,D6=function(e,t){return t},rI=function(){var e=Ov.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,Yn),r.push.apply(r,sc),Yn=n,sc=r,D6=function(s,o){return t[s](o)}},Uf=function(e,t){return~sc.indexOf(e)&&sc[sc.indexOf(e)+1][t]},Uv=function(e){return!!~vR.indexOf(e)},Ns=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:r!==!1,capture:!!a})},Cs=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},T2="scrollLeft",E2="scrollTop",N6=function(){return l0&&l0.isPressed||Yn.cache++},gb=function(e,t){var n=function r(a){if(a||a===0){bR&&(Il.history.scrollRestoration="manual");var s=l0&&l0.isPressed;a=r.v=Math.round(a)||(l0&&l0.iOS?1:0),e(a),r.cacheID=Yn.cache,s&&D6("ss",a)}else(t||Yn.cache!==r.cacheID||D6("ref"))&&(r.cacheID=Yn.cache,r.v=e());return r.v+r.offset};return n.offset=0,e&&n},ks={s:T2,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:gb(function(i){return arguments.length?Il.scrollTo(i,oa.sc()):Il.pageXOffset||Af[T2]||Cf[T2]||Fm[T2]||0})},oa={s:E2,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ks,sc:gb(function(i){return arguments.length?Il.scrollTo(ks.sc(),i):Il.pageYOffset||Af[E2]||Cf[E2]||Fm[E2]||0})},il=function(e,t){return(t&&t._ctx&&t._ctx.selector||Ua.utils.toArray)(e)[0]||(typeof e=="string"&&Ua.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},aI=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},If=function(e,t){var n=t.s,r=t.sc;Uv(e)&&(e=Af.scrollingElement||Cf);var a=Yn.indexOf(e),s=r===oa.sc?1:2;!~a&&(a=Yn.push(e)-1),Yn[a+s]||Ns(e,"scroll",N6);var o=Yn[a+s],c=o||(Yn[a+s]=gb(Uf(e,n),!0)||(Uv(e)?r:gb(function(f){return arguments.length?e[n]=f:e[n]})));return c.target=e,o||(c.smooth=Ua.getProperty(e,"scrollBehavior")==="smooth"),c},z6=function(e,t,n){var r=e,a=e,s=Lv(),o=s,c=t||50,f=Math.max(500,c*3),m=function(_,M){var w=Lv();M||w-s>c?(a=r,r=_,o=s,s=w):n?r+=_:r=a+(_-a)/(w-o)*(s-o)},g=function(){a=r=n?0:r,o=s=0},y=function(_){var M=o,w=a,S=Lv();return(_||_===0)&&_!==r&&m(_),s===o||S-o>f?0:(r+(n?w:-w))/((n?S:s)-M)*1e3};return{update:m,reset:g,getVelocity:y}},ev=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},aT=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},_R=function(){Ov=Ua.core.globals().ScrollTrigger,Ov&&Ov.core&&rI()},SR=function(e){return Ua=e||yR(),!W3&&Ua&&typeof document<"u"&&document.body&&(Il=window,Af=document,Cf=Af.documentElement,Fm=Af.body,vR=[Il,Af,Cf,Fm],Ua.utils.clamp,xR=Ua.core.context||function(){},fd="onpointerenter"in Fm?"pointer":"mouse",gR=Ir.isTouch=Il.matchMedia&&Il.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Il||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,ru=Ir.eventTypes=("ontouchstart"in Cf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Cf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return bR=0},500),_R(),W3=1),W3};ks.op=oa;Yn.cache=0;var Ir=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){W3||SR(Ua)||console.warn("Please gsap.registerPlugin(Observer)"),Ov||_R();var r=n.tolerance,a=n.dragMinimum,s=n.type,o=n.target,c=n.lineHeight,f=n.debounce,m=n.preventDefault,g=n.onStop,y=n.onStopDelay,x=n.ignore,_=n.wheelSpeed,M=n.event,w=n.onDragStart,S=n.onDragEnd,A=n.onDrag,D=n.onPress,N=n.onRelease,k=n.onRight,z=n.onLeft,P=n.onUp,V=n.onDown,B=n.onChangeX,O=n.onChangeY,X=n.onChange,W=n.onToggleX,se=n.onToggleY,le=n.onHover,ie=n.onHoverEnd,Y=n.onMove,te=n.ignoreCheck,re=n.isNormalizer,ye=n.onGestureStart,F=n.onGestureEnd,J=n.onWheel,ge=n.onEnable,Z=n.onDisable,Oe=n.onClick,We=n.scrollSpeed,be=n.capture,Ne=n.allowClicks,Ye=n.lockAxis,at=n.onLockAxis;this.target=o=il(o)||Cf,this.vars=n,x&&(x=Ua.utils.toArray(x)),r=r||1e-9,a=a||0,_=_||1,We=We||1,s=s||"wheel,touch,pointer",f=f!==!1,c||(c=parseFloat(Il.getComputedStyle(Fm).lineHeight)||22);var _t,kt,rn,dt,Fe,ee,Ge,fe=this,it=0,Ze=0,xt=n.passive||!m&&n.passive!==!1,tt=If(o,ks),Mt=If(o,oa),ne=tt(),q=Mt(),Te=~s.indexOf("touch")&&!~s.indexOf("pointer")&&ru[0]==="pointerdown",oe=Uv(o),ve=o.ownerDocument||Af,Se=[0,0,0],nt=[0,0,0],Qe=0,Rt=function(){return Qe=Lv()},ft=function(Ft,gn){return(fe.event=Ft)&&x&&aI(Ft.target,x)||gn&&Te&&Ft.pointerType!=="touch"||te&&te(Ft,gn)},Ve=function(){fe._vx.reset(),fe._vy.reset(),kt.pause(),g&&g(fe)},Ke=function(){var Ft=fe.deltaX=aT(Se),gn=fe.deltaY=aT(nt),Tt=Math.abs(Ft)>=r,ln=Math.abs(gn)>=r;X&&(Tt||ln)&&X(fe,Ft,gn,Se,nt),Tt&&(k&&fe.deltaX>0&&k(fe),z&&fe.deltaX<0&&z(fe),B&&B(fe),W&&fe.deltaX<0!=it<0&&W(fe),it=fe.deltaX,Se[0]=Se[1]=Se[2]=0),ln&&(V&&fe.deltaY>0&&V(fe),P&&fe.deltaY<0&&P(fe),O&&O(fe),se&&fe.deltaY<0!=Ze<0&&se(fe),Ze=fe.deltaY,nt[0]=nt[1]=nt[2]=0),(dt||rn)&&(Y&&Y(fe),rn&&(w&&rn===1&&w(fe),A&&A(fe),rn=0),dt=!1),ee&&!(ee=!1)&&at&&at(fe),Fe&&(J(fe),Fe=!1),_t=0},Nt=function(Ft,gn,Tt){Se[Tt]+=Ft,nt[Tt]+=gn,fe._vx.update(Ft),fe._vy.update(gn),f?_t||(_t=requestAnimationFrame(Ke)):Ke()},bt=function(Ft,gn){Ye&&!Ge&&(fe.axis=Ge=Math.abs(Ft)>Math.abs(gn)?"x":"y",ee=!0),Ge!=="y"&&(Se[2]+=Ft,fe._vx.update(Ft,!0)),Ge!=="x"&&(nt[2]+=gn,fe._vy.update(gn,!0)),f?_t||(_t=requestAnimationFrame(Ke)):Ke()},mt=function(Ft){if(!ft(Ft,1)){Ft=ev(Ft,m);var gn=Ft.clientX,Tt=Ft.clientY,ln=gn-fe.x,Wt=Tt-fe.y,jt=fe.isDragging;fe.x=gn,fe.y=Tt,(jt||(ln||Wt)&&(Math.abs(fe.startX-gn)>=a||Math.abs(fe.startY-Tt)>=a))&&(rn=jt?2:1,jt||(fe.isDragging=!0),bt(ln,Wt))}},It=fe.onPress=function(At){ft(At,1)||At&&At.button||(fe.axis=Ge=null,kt.pause(),fe.isPressed=!0,At=ev(At),it=Ze=0,fe.startX=fe.x=At.clientX,fe.startY=fe.y=At.clientY,fe._vx.reset(),fe._vy.reset(),Ns(re?o:ve,ru[1],mt,xt,!0),fe.deltaX=fe.deltaY=0,D&&D(fe))},ue=fe.onRelease=function(At){if(!ft(At,1)){Cs(re?o:ve,ru[1],mt,!0);var Ft=!isNaN(fe.y-fe.startY),gn=fe.isDragging,Tt=gn&&(Math.abs(fe.x-fe.startX)>3||Math.abs(fe.y-fe.startY)>3),ln=ev(At);!Tt&&Ft&&(fe._vx.reset(),fe._vy.reset(),m&&Ne&&Ua.delayedCall(.08,function(){if(Lv()-Qe>300&&!At.defaultPrevented){if(At.target.click)At.target.click();else if(ve.createEvent){var Wt=ve.createEvent("MouseEvents");Wt.initMouseEvent("click",!0,!0,Il,1,ln.screenX,ln.screenY,ln.clientX,ln.clientY,!1,!1,!1,!1,0,null),At.target.dispatchEvent(Wt)}}})),fe.isDragging=fe.isGesturing=fe.isPressed=!1,g&&gn&&!re&&kt.restart(!0),rn&&Ke(),S&&gn&&S(fe),N&&N(fe,Tt)}},yt=function(Ft){return Ft.touches&&Ft.touches.length>1&&(fe.isGesturing=!0)&&ye(Ft,fe.isDragging)},lt=function(){return(fe.isGesturing=!1)||F(fe)},ot=function(Ft){if(!ft(Ft)){var gn=tt(),Tt=Mt();Nt((gn-ne)*We,(Tt-q)*We,1),ne=gn,q=Tt,g&&kt.restart(!0)}},$e=function(Ft){if(!ft(Ft)){Ft=ev(Ft,m),J&&(Fe=!0);var gn=(Ft.deltaMode===1?c:Ft.deltaMode===2?Il.innerHeight:1)*_;Nt(Ft.deltaX*gn,Ft.deltaY*gn,0),g&&!re&&kt.restart(!0)}},Xe=function(Ft){if(!ft(Ft)){var gn=Ft.clientX,Tt=Ft.clientY,ln=gn-fe.x,Wt=Tt-fe.y;fe.x=gn,fe.y=Tt,dt=!0,g&&kt.restart(!0),(ln||Wt)&&bt(ln,Wt)}},Dt=function(Ft){fe.event=Ft,le(fe)},Zt=function(Ft){fe.event=Ft,ie(fe)},kn=function(Ft){return ft(Ft)||ev(Ft,m)&&Oe(fe)};kt=fe._dc=Ua.delayedCall(y||.25,Ve).pause(),fe.deltaX=fe.deltaY=0,fe._vx=z6(0,50,!0),fe._vy=z6(0,50,!0),fe.scrollX=tt,fe.scrollY=Mt,fe.isDragging=fe.isGesturing=fe.isPressed=!1,xR(this),fe.enable=function(At){return fe.isEnabled||(Ns(oe?ve:o,"scroll",N6),s.indexOf("scroll")>=0&&Ns(oe?ve:o,"scroll",ot,xt,be),s.indexOf("wheel")>=0&&Ns(o,"wheel",$e,xt,be),(s.indexOf("touch")>=0&&gR||s.indexOf("pointer")>=0)&&(Ns(o,ru[0],It,xt,be),Ns(ve,ru[2],ue),Ns(ve,ru[3],ue),Ne&&Ns(o,"click",Rt,!0,!0),Oe&&Ns(o,"click",kn),ye&&Ns(ve,"gesturestart",yt),F&&Ns(ve,"gestureend",lt),le&&Ns(o,fd+"enter",Dt),ie&&Ns(o,fd+"leave",Zt),Y&&Ns(o,fd+"move",Xe)),fe.isEnabled=!0,fe.isDragging=fe.isGesturing=fe.isPressed=dt=rn=!1,fe._vx.reset(),fe._vy.reset(),ne=tt(),q=Mt(),At&&At.type&&It(At),ge&&ge(fe)),fe},fe.disable=function(){fe.isEnabled&&(Om.filter(function(At){return At!==fe&&Uv(At.target)}).length||Cs(oe?ve:o,"scroll",N6),fe.isPressed&&(fe._vx.reset(),fe._vy.reset(),Cs(re?o:ve,ru[1],mt,!0)),Cs(oe?ve:o,"scroll",ot,be),Cs(o,"wheel",$e,be),Cs(o,ru[0],It,be),Cs(ve,ru[2],ue),Cs(ve,ru[3],ue),Cs(o,"click",Rt,!0),Cs(o,"click",kn),Cs(ve,"gesturestart",yt),Cs(ve,"gestureend",lt),Cs(o,fd+"enter",Dt),Cs(o,fd+"leave",Zt),Cs(o,fd+"move",Xe),fe.isEnabled=fe.isPressed=fe.isDragging=!1,Z&&Z(fe))},fe.kill=fe.revert=function(){fe.disable();var At=Om.indexOf(fe);At>=0&&Om.splice(At,1),l0===fe&&(l0=0)},Om.push(fe),re&&Uv(o)&&(l0=fe),fe.enable(M)},iI(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();Ir.version="3.13.0";Ir.create=function(i){return new Ir(i)};Ir.register=SR;Ir.getAll=function(){return Om.slice()};Ir.getById=function(i){return Om.filter(function(e){return e.vars.id===i})[0]};yR()&&Ua.registerPlugin(Ir);var Xt,Cm,Xn,Zi,Bl,Ai,JM,vb,cx,Bv,_v,A2,es,A4,O6,Ls,sT,lT,Rm,MR,SS,wR,Os,L6,TR,ER,bf,U6,$M,Hm,e8,xb,B6,MS,C2=1,ts=Date.now,wS=ts(),Eo=0,Sv=0,oT=function(e,t,n){var r=Ll(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},uT=function(e,t){return t&&(!Ll(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},sI=function i(){return Sv&&requestAnimationFrame(i)},cT=function(){return A4=1},fT=function(){return A4=0},Qu=function(e){return e},Mv=function(e){return Math.round(e*1e5)/1e5||0},AR=function(){return typeof window<"u"},CR=function(){return Xt||AR()&&(Xt=window.gsap)&&Xt.registerPlugin&&Xt},Nd=function(e){return!!~JM.indexOf(e)},RR=function(e){return(e==="Height"?e8:Xn["inner"+e])||Bl["client"+e]||Ai["client"+e]},DR=function(e){return Uf(e,"getBoundingClientRect")||(Nd(e)?function(){return $3.width=Xn.innerWidth,$3.height=e8,$3}:function(){return r0(e)})},lI=function(e,t,n){var r=n.d,a=n.d2,s=n.a;return(s=Uf(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?RR(a):e["client"+a])||0}},oI=function(e,t){return!t||~sc.indexOf(e)?DR(e):function(){return $3}},tc=function(e,t){var n=t.s,r=t.d2,a=t.d,s=t.a;return Math.max(0,(n="scroll"+r)&&(s=Uf(e,n))?s()-DR(e)()[a]:Nd(e)?(Bl[n]||Ai[n])-RR(r):e[n]-e["offset"+r])},R2=function(e,t){for(var n=0;n<Rm.length;n+=3)(!t||~t.indexOf(Rm[n+1]))&&e(Rm[n],Rm[n+1],Rm[n+2])},Ll=function(e){return typeof e=="string"},rs=function(e){return typeof e=="function"},wv=function(e){return typeof e=="number"},hd=function(e){return typeof e=="object"},tv=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},TS=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},$p=Math.abs,NR="left",zR="top",t8="right",n8="bottom",wd="width",Td="height",kv="Right",Iv="Left",Pv="Top",Fv="Bottom",Wr="padding",yo="margin",Jm="Width",i8="Height",la="px",bo=function(e){return Xn.getComputedStyle(e)},uI=function(e){var t=bo(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},hT=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},r0=function(e,t){var n=t&&bo(e)[O6]!=="matrix(1, 0, 0, 1, 0, 0)"&&Xt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},yb=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},OR=function(e){var t=[],n=e.labels,r=e.duration(),a;for(a in n)t.push(n[a]/r);return t},cI=function(e){return function(t){return Xt.utils.snap(OR(e),t)}},r8=function(e){var t=Xt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(r,a){return r-a});return n?function(r,a,s){s===void 0&&(s=.001);var o;if(!a)return t(r);if(a>0){for(r-=s,o=0;o<n.length;o++)if(n[o]>=r)return n[o];return n[o-1]}else for(o=n.length,r+=s;o--;)if(n[o]<=r)return n[o];return n[0]}:function(r,a,s){s===void 0&&(s=.001);var o=t(r);return!a||Math.abs(o-r)<s||o-r<0==a<0?o:t(a<0?r-e:r+e)}},fI=function(e){return function(t,n){return r8(OR(e))(t,n.direction)}},D2=function(e,t,n,r){return n.split(",").forEach(function(a){return e(t,a,r)})},wa=function(e,t,n,r,a){return e.addEventListener(t,n,{passive:!r,capture:!!a})},Ma=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},N2=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},dT={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},z2={toggleActions:"play",anticipatePin:0},bb={top:0,left:0,center:.5,bottom:1,right:1},Z3=function(e,t){if(Ll(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in bb?bb[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},O2=function(e,t,n,r,a,s,o,c){var f=a.startColor,m=a.endColor,g=a.fontSize,y=a.indent,x=a.fontWeight,_=Zi.createElement("div"),M=Nd(n)||Uf(n,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,S=M?Ai:n,A=e.indexOf("start")!==-1,D=A?f:m,N="border-color:"+D+";font-size:"+g+";color:"+D+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((w||c)&&M?"fixed;":"absolute;"),(w||c||!M)&&(N+=(r===oa?t8:n8)+":"+(s+parseFloat(y))+"px;"),o&&(N+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),_._isStart=A,_.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),_.style.cssText=N,_.innerText=t||t===0?e+"-"+t:e,S.children[0]?S.insertBefore(_,S.children[0]):S.appendChild(_),_._offset=_["offset"+r.op.d2],K3(_,0,r,A),_},K3=function(e,t,n,r){var a={display:"block"},s=n[r?"os2":"p2"],o=n[r?"p2":"os2"];e._isFlipped=r,a[n.a+"Percent"]=r?-100:0,a[n.a]=r?"1px":0,a["border"+s+Jm]=1,a["border"+o+Jm]=0,a[n.p]=t+"px",Xt.set(e,a)},Fn=[],k6={},fx,pT=function(){return ts()-Eo>34&&(fx||(fx=requestAnimationFrame(u0)))},em=function(){(!Os||!Os.isPressed||Os.startX>Ai.clientWidth)&&(Yn.cache++,Os?fx||(fx=requestAnimationFrame(u0)):u0(),Eo||Od("scrollStart"),Eo=ts())},ES=function(){ER=Xn.innerWidth,TR=Xn.innerHeight},Tv=function(e){Yn.cache++,(e===!0||!es&&!wR&&!Zi.fullscreenElement&&!Zi.webkitFullscreenElement&&(!L6||ER!==Xn.innerWidth||Math.abs(Xn.innerHeight-TR)>Xn.innerHeight*.25))&&vb.restart(!0)},zd={},hI=[],LR=function i(){return Ma(Mn,"scrollEnd",i)||gd(!0)},Od=function(e){return zd[e]&&zd[e].map(function(t){return t()})||hI},Ol=[],UR=function(e){for(var t=0;t<Ol.length;t+=5)(!e||Ol[t+4]&&Ol[t+4].query===e)&&(Ol[t].style.cssText=Ol[t+1],Ol[t].getBBox&&Ol[t].setAttribute("transform",Ol[t+2]||""),Ol[t+3].uncache=1)},a8=function(e,t){var n;for(Ls=0;Ls<Fn.length;Ls++)n=Fn[Ls],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));xb=!0,t&&UR(t),t||Od("revert")},BR=function(e,t){Yn.cache++,(t||!Us)&&Yn.forEach(function(n){return rs(n)&&n.cacheID++&&(n.rec=0)}),Ll(e)&&(Xn.history.scrollRestoration=$M=e)},Us,Ed=0,mT,dI=function(){if(mT!==Ed){var e=mT=Ed;requestAnimationFrame(function(){return e===Ed&&gd(!0)})}},kR=function(){Ai.appendChild(Hm),e8=!Os&&Hm.offsetHeight||Xn.innerHeight,Ai.removeChild(Hm)},gT=function(e){return cx(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},gd=function(e,t){if(Bl=Zi.documentElement,Ai=Zi.body,JM=[Xn,Zi,Bl,Ai],Eo&&!e&&!xb){wa(Mn,"scrollEnd",LR);return}kR(),Us=Mn.isRefreshing=!0,Yn.forEach(function(r){return rs(r)&&++r.cacheID&&(r.rec=r())});var n=Od("refreshInit");MR&&Mn.sort(),t||a8(),Yn.forEach(function(r){rs(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Fn.slice(0).forEach(function(r){return r.refresh()}),xb=!1,Fn.forEach(function(r){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",s=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-s),r.refresh()}}),B6=1,gT(!0),Fn.forEach(function(r){var a=tc(r.scroller,r._dir),s=r.vars.end==="max"||r._endClamp&&r.end>a,o=r._startClamp&&r.start>=a;(s||o)&&r.setPositions(o?a-1:r.start,s?Math.max(o?a:r.start+1,a):r.end,!0)}),gT(!1),B6=0,n.forEach(function(r){return r&&r.render&&r.render(-1)}),Yn.forEach(function(r){rs(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),BR($M,1),vb.pause(),Ed++,Us=2,u0(2),Fn.forEach(function(r){return rs(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Us=Mn.isRefreshing=!1,Od("refresh")},I6=0,Q3=1,Hv,u0=function(e){if(e===2||!Us&&!xb){Mn.isUpdating=!0,Hv&&Hv.update(0);var t=Fn.length,n=ts(),r=n-wS>=50,a=t&&Fn[0].scroll();if(Q3=I6>a?-1:1,Us||(I6=a),r&&(Eo&&!A4&&n-Eo>200&&(Eo=0,Od("scrollEnd")),_v=wS,wS=n),Q3<0){for(Ls=t;Ls-- >0;)Fn[Ls]&&Fn[Ls].update(0,r);Q3=1}else for(Ls=0;Ls<t;Ls++)Fn[Ls]&&Fn[Ls].update(0,r);Mn.isUpdating=!1}fx=0},P6=[NR,zR,n8,t8,yo+Fv,yo+kv,yo+Pv,yo+Iv,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],J3=P6.concat([wd,Td,"boxSizing","max"+Jm,"max"+i8,"position",yo,Wr,Wr+Pv,Wr+kv,Wr+Fv,Wr+Iv]),pI=function(e,t,n){Vm(n);var r=e._gsap;if(r.spacerIsNative)Vm(r.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},AS=function(e,t,n,r){if(!e._gsap.swappedIn){for(var a=P6.length,s=t.style,o=e.style,c;a--;)c=P6[a],s[c]=n[c];s.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(s.display="inline-block"),o[n8]=o[t8]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[wd]=yb(e,ks)+la,s[Td]=yb(e,oa)+la,s[Wr]=o[yo]=o[zR]=o[NR]="0",Vm(r),o[wd]=o["max"+Jm]=n[wd],o[Td]=o["max"+i8]=n[Td],o[Wr]=n[Wr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},mI=/([A-Z])/g,Vm=function(e){if(e){var t=e.t.style,n=e.length,r=0,a,s;for((e.t._gsap||Xt.core.getCache(e.t)).uncache=1;r<n;r+=2)s=e[r+1],a=e[r],s?t[a]=s:t[a]&&t.removeProperty(a.replace(mI,"-$1").toLowerCase())}},L2=function(e){for(var t=J3.length,n=e.style,r=[],a=0;a<t;a++)r.push(J3[a],n[J3[a]]);return r.t=e,r},gI=function(e,t,n){for(var r=[],a=e.length,s=n?8:0,o;s<a;s+=2)o=e[s],r.push(o,o in t?t[o]:e[s+1]);return r.t=e.t,r},$3={left:0,top:0},vT=function(e,t,n,r,a,s,o,c,f,m,g,y,x,_){rs(e)&&(e=e(c)),Ll(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?Z3("0"+e.substr(3),n):0));var M=x?x.time():0,w,S,A;if(x&&x.seek(0),isNaN(e)||(e=+e),wv(e))x&&(e=Xt.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,y,e)),o&&K3(o,n,r,!0);else{rs(t)&&(t=t(c));var D=(e||"0").split(" "),N,k,z,P;A=il(t,c)||Ai,N=r0(A)||{},(!N||!N.left&&!N.top)&&bo(A).display==="none"&&(P=A.style.display,A.style.display="block",N=r0(A),P?A.style.display=P:A.style.removeProperty("display")),k=Z3(D[0],N[r.d]),z=Z3(D[1]||"0",n),e=N[r.p]-f[r.p]-m+k+a-z,o&&K3(o,z,r,n-z<20||o._isStart&&z>20),n-=n-z}if(_&&(c[_]=e||-.001,e<0&&(e=0)),s){var V=e+n,B=s._isStart;w="scroll"+r.d2,K3(s,V,r,B&&V>20||!B&&(g?Math.max(Ai[w],Bl[w]):s.parentNode[w])<=V+1),g&&(f=r0(o),g&&(s.style[r.op.p]=f[r.op.p]-r.op.m-s._offset+la))}return x&&A&&(w=r0(A),x.seek(y),S=r0(A),x._caScrollDist=w[r.p]-S[r.p],e=e/x._caScrollDist*y),x&&x.seek(M),x?e:Math.round(e)},vI=/(webkit|moz|length|cssText|inset)/i,xT=function(e,t,n,r){if(e.parentNode!==t){var a=e.style,s,o;if(t===Ai){e._stOrig=a.cssText,o=bo(e);for(s in o)!+s&&!vI.test(s)&&o[s]&&typeof a[s]=="string"&&s!=="0"&&(a[s]=o[s]);a.top=n,a.left=r}else a.cssText=e._stOrig;Xt.core.getCache(e).uncache=1,t.appendChild(e)}},IR=function(e,t,n){var r=t,a=r;return function(s){var o=Math.round(e());return o!==r&&o!==a&&Math.abs(o-r)>3&&Math.abs(o-a)>3&&(s=o,n&&n()),a=r,r=Math.round(s),r}},U2=function(e,t,n){var r={};r[t.p]="+="+n,Xt.set(e,r)},yT=function(e,t){var n=If(e,t),r="_scroll"+t.p2,a=function s(o,c,f,m,g){var y=s.tween,x=c.onComplete,_={};f=f||n();var M=IR(n,f,function(){y.kill(),s.tween=0});return g=m&&g||0,m=m||o-f,y&&y.kill(),c[r]=o,c.inherit=!1,c.modifiers=_,_[r]=function(){return M(f+m*y.ratio+g*y.ratio*y.ratio)},c.onUpdate=function(){Yn.cache++,s.tween&&u0()},c.onComplete=function(){s.tween=0,x&&x.call(y)},y=s.tween=Xt.to(e,c),y};return e[r]=n,n.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},wa(e,"wheel",n.wheelHandler),Mn.isTouch&&wa(e,"touchmove",n.wheelHandler),a},Mn=(function(){function i(t,n){Cm||i.register(Xt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),U6(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Sv){this.update=this.refresh=this.kill=Qu;return}n=hT(Ll(n)||wv(n)||n.nodeType?{trigger:n}:n,z2);var a=n,s=a.onUpdate,o=a.toggleClass,c=a.id,f=a.onToggle,m=a.onRefresh,g=a.scrub,y=a.trigger,x=a.pin,_=a.pinSpacing,M=a.invalidateOnRefresh,w=a.anticipatePin,S=a.onScrubComplete,A=a.onSnapComplete,D=a.once,N=a.snap,k=a.pinReparent,z=a.pinSpacer,P=a.containerAnimation,V=a.fastScrollEnd,B=a.preventOverlaps,O=n.horizontal||n.containerAnimation&&n.horizontal!==!1?ks:oa,X=!g&&g!==0,W=il(n.scroller||Xn),se=Xt.core.getCache(W),le=Nd(W),ie=("pinType"in n?n.pinType:Uf(W,"pinType")||le&&"fixed")==="fixed",Y=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],te=X&&n.toggleActions.split(" "),re="markers"in n?n.markers:z2.markers,ye=le?0:parseFloat(bo(W)["border"+O.p2+Jm])||0,F=this,J=n.onRefreshInit&&function(){return n.onRefreshInit(F)},ge=lI(W,le,O),Z=oI(W,le),Oe=0,We=0,be=0,Ne=If(W,O),Ye,at,_t,kt,rn,dt,Fe,ee,Ge,fe,it,Ze,xt,tt,Mt,ne,q,Te,oe,ve,Se,nt,Qe,Rt,ft,Ve,Ke,Nt,bt,mt,It,ue,yt,lt,ot,$e,Xe,Dt,Zt;if(F._startClamp=F._endClamp=!1,F._dir=O,w*=45,F.scroller=W,F.scroll=P?P.time.bind(P):Ne,kt=Ne(),F.vars=n,r=r||n.animation,"refreshPriority"in n&&(MR=1,n.refreshPriority===-9999&&(Hv=F)),se.tweenScroll=se.tweenScroll||{top:yT(W,oa),left:yT(W,ks)},F.tweenTo=Ye=se.tweenScroll[O.p],F.scrubDuration=function(Tt){yt=wv(Tt)&&Tt,yt?ue?ue.duration(Tt):ue=Xt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:yt,paused:!0,onComplete:function(){return S&&S(F)}}):(ue&&ue.progress(1).kill(),ue=0)},r&&(r.vars.lazy=!1,r._initted&&!F.isReverted||r.vars.immediateRender!==!1&&n.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),F.animation=r.pause(),r.scrollTrigger=F,F.scrubDuration(g),mt=0,c||(c=r.vars.id)),N&&((!hd(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in Ai.style&&Xt.set(le?[Ai,Bl]:W,{scrollBehavior:"auto"}),Yn.forEach(function(Tt){return rs(Tt)&&Tt.target===(le?Zi.scrollingElement||Bl:W)&&(Tt.smooth=!1)}),_t=rs(N.snapTo)?N.snapTo:N.snapTo==="labels"?cI(r):N.snapTo==="labelsDirectional"?fI(r):N.directional!==!1?function(Tt,ln){return r8(N.snapTo)(Tt,ts()-We<500?0:ln.direction)}:Xt.utils.snap(N.snapTo),lt=N.duration||{min:.1,max:2},lt=hd(lt)?Bv(lt.min,lt.max):Bv(lt,lt),ot=Xt.delayedCall(N.delay||yt/2||.1,function(){var Tt=Ne(),ln=ts()-We<500,Wt=Ye.tween;if((ln||Math.abs(F.getVelocity())<10)&&!Wt&&!A4&&Oe!==Tt){var jt=(Tt-dt)/tt,Ci=r&&!X?r.totalProgress():jt,hn=ln?0:(Ci-It)/(ts()-_v)*1e3||0,Wn=Xt.utils.clamp(-jt,1-jt,$p(hn/2)*hn/.185),ii=jt+(N.inertia===!1?0:Wn),Gt,vn,Nn=N,Rr=Nn.onStart,Mi=Nn.onInterrupt,Jr=Nn.onComplete;if(Gt=_t(ii,F),wv(Gt)||(Gt=ii),vn=Math.max(0,Math.round(dt+Gt*tt)),Tt<=Fe&&Tt>=dt&&vn!==Tt){if(Wt&&!Wt._initted&&Wt.data<=$p(vn-Tt))return;N.inertia===!1&&(Wn=Gt-jt),Ye(vn,{duration:lt($p(Math.max($p(ii-Ci),$p(Gt-Ci))*.185/hn/.05||0)),ease:N.ease||"power3",data:$p(vn-Tt),onInterrupt:function(){return ot.restart(!0)&&Mi&&Mi(F)},onComplete:function(){F.update(),Oe=Ne(),r&&!X&&(ue?ue.resetTo("totalProgress",Gt,r._tTime/r._tDur):r.progress(Gt)),mt=It=r&&!X?r.totalProgress():F.progress,A&&A(F),Jr&&Jr(F)}},Tt,Wn*tt,vn-Tt-Wn*tt),Rr&&Rr(F,Ye.tween)}}else F.isActive&&Oe!==Tt&&ot.restart(!0)}).pause()),c&&(k6[c]=F),y=F.trigger=il(y||x!==!0&&x),Zt=y&&y._gsap&&y._gsap.stRevert,Zt&&(Zt=Zt(F)),x=x===!0?y:il(x),Ll(o)&&(o={targets:y,className:o}),x&&(_===!1||_===yo||(_=!_&&x.parentNode&&x.parentNode.style&&bo(x.parentNode).display==="flex"?!1:Wr),F.pin=x,at=Xt.core.getCache(x),at.spacer?Mt=at.pinState:(z&&(z=il(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),at.spacerIsNative=!!z,z&&(at.spacerState=L2(z))),at.spacer=Te=z||Zi.createElement("div"),Te.classList.add("pin-spacer"),c&&Te.classList.add("pin-spacer-"+c),at.pinState=Mt=L2(x)),n.force3D!==!1&&Xt.set(x,{force3D:!0}),F.spacer=Te=at.spacer,bt=bo(x),Rt=bt[_+O.os2],ve=Xt.getProperty(x),Se=Xt.quickSetter(x,O.a,la),AS(x,Te,bt),q=L2(x)),re){Ze=hd(re)?hT(re,dT):dT,fe=O2("scroller-start",c,W,O,Ze,0),it=O2("scroller-end",c,W,O,Ze,0,fe),oe=fe["offset"+O.op.d2];var kn=il(Uf(W,"content")||W);ee=this.markerStart=O2("start",c,kn,O,Ze,oe,0,P),Ge=this.markerEnd=O2("end",c,kn,O,Ze,oe,0,P),P&&(Dt=Xt.quickSetter([ee,Ge],O.a,la)),!ie&&!(sc.length&&Uf(W,"fixedMarkers")===!0)&&(uI(le?Ai:W),Xt.set([fe,it],{force3D:!0}),Ve=Xt.quickSetter(fe,O.a,la),Nt=Xt.quickSetter(it,O.a,la))}if(P){var At=P.vars.onUpdate,Ft=P.vars.onUpdateParams;P.eventCallback("onUpdate",function(){F.update(0,0,1),At&&At.apply(P,Ft||[])})}if(F.previous=function(){return Fn[Fn.indexOf(F)-1]},F.next=function(){return Fn[Fn.indexOf(F)+1]},F.revert=function(Tt,ln){if(!ln)return F.kill(!0);var Wt=Tt!==!1||!F.enabled,jt=es;Wt!==F.isReverted&&(Wt&&($e=Math.max(Ne(),F.scroll.rec||0),be=F.progress,Xe=r&&r.progress()),ee&&[ee,Ge,fe,it].forEach(function(Ci){return Ci.style.display=Wt?"none":"block"}),Wt&&(es=F,F.update(Wt)),x&&(!k||!F.isActive)&&(Wt?pI(x,Te,Mt):AS(x,Te,bo(x),ft)),Wt||F.update(Wt),es=jt,F.isReverted=Wt)},F.refresh=function(Tt,ln,Wt,jt){if(!((es||!F.enabled)&&!ln)){if(x&&Tt&&Eo){wa(i,"scrollEnd",LR);return}!Us&&J&&J(F),es=F,Ye.tween&&!Wt&&(Ye.tween.kill(),Ye.tween=0),ue&&ue.pause(),M&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(Vt){return Vt.vars.immediateRender&&Vt.render(0,!0,!0)})),F.isReverted||F.revert(!0,!0),F._subPinOffset=!1;var Ci=ge(),hn=Z(),Wn=P?P.duration():tc(W,O),ii=tt<=.01||!tt,Gt=0,vn=jt||0,Nn=hd(Wt)?Wt.end:n.end,Rr=n.endTrigger||y,Mi=hd(Wt)?Wt.start:n.start||(n.start===0||!y?0:x?"0 0":"0 100%"),Jr=F.pinnedContainer=n.pinnedContainer&&il(n.pinnedContainer,F),$r=y&&Math.max(0,Fn.indexOf(F))||0,Ri=$r,Fi,In,j,Ee,ze,Ae,we,ht,St,Ct,Et,Kt,en;for(re&&hd(Wt)&&(Kt=Xt.getProperty(fe,O.p),en=Xt.getProperty(it,O.p));Ri-- >0;)Ae=Fn[Ri],Ae.end||Ae.refresh(0,1)||(es=F),we=Ae.pin,we&&(we===y||we===x||we===Jr)&&!Ae.isReverted&&(Ct||(Ct=[]),Ct.unshift(Ae),Ae.revert(!0,!0)),Ae!==Fn[Ri]&&($r--,Ri--);for(rs(Mi)&&(Mi=Mi(F)),Mi=oT(Mi,"start",F),dt=vT(Mi,y,Ci,O,Ne(),ee,fe,F,hn,ye,ie,Wn,P,F._startClamp&&"_startClamp")||(x?-.001:0),rs(Nn)&&(Nn=Nn(F)),Ll(Nn)&&!Nn.indexOf("+=")&&(~Nn.indexOf(" ")?Nn=(Ll(Mi)?Mi.split(" ")[0]:"")+Nn:(Gt=Z3(Nn.substr(2),Ci),Nn=Ll(Mi)?Mi:(P?Xt.utils.mapRange(0,P.duration(),P.scrollTrigger.start,P.scrollTrigger.end,dt):dt)+Gt,Rr=y)),Nn=oT(Nn,"end",F),Fe=Math.max(dt,vT(Nn||(Rr?"100% 0":Wn),Rr,Ci,O,Ne()+Gt,Ge,it,F,hn,ye,ie,Wn,P,F._endClamp&&"_endClamp"))||-.001,Gt=0,Ri=$r;Ri--;)Ae=Fn[Ri],we=Ae.pin,we&&Ae.start-Ae._pinPush<=dt&&!P&&Ae.end>0&&(Fi=Ae.end-(F._startClamp?Math.max(0,Ae.start):Ae.start),(we===y&&Ae.start-Ae._pinPush<dt||we===Jr)&&isNaN(Mi)&&(Gt+=Fi*(1-Ae.progress)),we===x&&(vn+=Fi));if(dt+=Gt,Fe+=Gt,F._startClamp&&(F._startClamp+=Gt),F._endClamp&&!Us&&(F._endClamp=Fe||-.001,Fe=Math.min(Fe,tc(W,O))),tt=Fe-dt||(dt-=.01)&&.001,ii&&(be=Xt.utils.clamp(0,1,Xt.utils.normalize(dt,Fe,$e))),F._pinPush=vn,ee&&Gt&&(Fi={},Fi[O.a]="+="+Gt,Jr&&(Fi[O.p]="-="+Ne()),Xt.set([ee,Ge],Fi)),x&&!(B6&&F.end>=tc(W,O)))Fi=bo(x),Ee=O===oa,j=Ne(),nt=parseFloat(ve(O.a))+vn,!Wn&&Fe>1&&(Et=(le?Zi.scrollingElement||Bl:W).style,Et={style:Et,value:Et["overflow"+O.a.toUpperCase()]},le&&bo(Ai)["overflow"+O.a.toUpperCase()]!=="scroll"&&(Et.style["overflow"+O.a.toUpperCase()]="scroll")),AS(x,Te,Fi),q=L2(x),In=r0(x,!0),ht=ie&&If(W,Ee?ks:oa)(),_?(ft=[_+O.os2,tt+vn+la],ft.t=Te,Ri=_===Wr?yb(x,O)+tt+vn:0,Ri&&(ft.push(O.d,Ri+la),Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=Ri+la)),Vm(ft),Jr&&Fn.forEach(function(Vt){Vt.pin===Jr&&Vt.vars.pinSpacing!==!1&&(Vt._subPinOffset=!0)}),ie&&Ne($e)):(Ri=yb(x,O),Ri&&Te.style.flexBasis!=="auto"&&(Te.style.flexBasis=Ri+la)),ie&&(ze={top:In.top+(Ee?j-dt:ht)+la,left:In.left+(Ee?ht:j-dt)+la,boxSizing:"border-box",position:"fixed"},ze[wd]=ze["max"+Jm]=Math.ceil(In.width)+la,ze[Td]=ze["max"+i8]=Math.ceil(In.height)+la,ze[yo]=ze[yo+Pv]=ze[yo+kv]=ze[yo+Fv]=ze[yo+Iv]="0",ze[Wr]=Fi[Wr],ze[Wr+Pv]=Fi[Wr+Pv],ze[Wr+kv]=Fi[Wr+kv],ze[Wr+Fv]=Fi[Wr+Fv],ze[Wr+Iv]=Fi[Wr+Iv],ne=gI(Mt,ze,k),Us&&Ne(0)),r?(St=r._initted,SS(1),r.render(r.duration(),!0,!0),Qe=ve(O.a)-nt+tt+vn,Ke=Math.abs(tt-Qe)>1,ie&&Ke&&ne.splice(ne.length-2,2),r.render(0,!0,!0),St||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),SS(0)):Qe=tt,Et&&(Et.value?Et.style["overflow"+O.a.toUpperCase()]=Et.value:Et.style.removeProperty("overflow-"+O.a));else if(y&&Ne()&&!P)for(In=y.parentNode;In&&In!==Ai;)In._pinOffset&&(dt-=In._pinOffset,Fe-=In._pinOffset),In=In.parentNode;Ct&&Ct.forEach(function(Vt){return Vt.revert(!1,!0)}),F.start=dt,F.end=Fe,kt=rn=Us?$e:Ne(),!P&&!Us&&(kt<$e&&Ne($e),F.scroll.rec=0),F.revert(!1,!0),We=ts(),ot&&(Oe=-1,ot.restart(!0)),es=0,r&&X&&(r._initted||Xe)&&r.progress()!==Xe&&r.progress(Xe||0,!0).render(r.time(),!0,!0),(ii||be!==F.progress||P||M||r&&!r._initted)&&(r&&!X&&(r._initted||be||r.vars.immediateRender!==!1)&&r.totalProgress(P&&dt<-.001&&!be?Xt.utils.normalize(dt,Fe,0):be,!0),F.progress=ii||(kt-dt)/tt===be?0:be),x&&_&&(Te._pinOffset=Math.round(F.progress*Qe)),ue&&ue.invalidate(),isNaN(Kt)||(Kt-=Xt.getProperty(fe,O.p),en-=Xt.getProperty(it,O.p),U2(fe,O,Kt),U2(ee,O,Kt-(jt||0)),U2(it,O,en),U2(Ge,O,en-(jt||0))),ii&&!Us&&F.update(),m&&!Us&&!xt&&(xt=!0,m(F),xt=!1)}},F.getVelocity=function(){return(Ne()-rn)/(ts()-_v)*1e3||0},F.endAnimation=function(){tv(F.callbackAnimation),r&&(ue?ue.progress(1):r.paused()?X||tv(r,F.direction<0,1):tv(r,r.reversed()))},F.labelToScroll=function(Tt){return r&&r.labels&&(dt||F.refresh()||dt)+r.labels[Tt]/r.duration()*tt||0},F.getTrailing=function(Tt){var ln=Fn.indexOf(F),Wt=F.direction>0?Fn.slice(0,ln).reverse():Fn.slice(ln+1);return(Ll(Tt)?Wt.filter(function(jt){return jt.vars.preventOverlaps===Tt}):Wt).filter(function(jt){return F.direction>0?jt.end<=dt:jt.start>=Fe})},F.update=function(Tt,ln,Wt){if(!(P&&!Wt&&!Tt)){var jt=Us===!0?$e:F.scroll(),Ci=Tt?0:(jt-dt)/tt,hn=Ci<0?0:Ci>1?1:Ci||0,Wn=F.progress,ii,Gt,vn,Nn,Rr,Mi,Jr,$r;if(ln&&(rn=kt,kt=P?Ne():jt,N&&(It=mt,mt=r&&!X?r.totalProgress():hn)),w&&x&&!es&&!C2&&Eo&&(!hn&&dt<jt+(jt-rn)/(ts()-_v)*w?hn=1e-4:hn===1&&Fe>jt+(jt-rn)/(ts()-_v)*w&&(hn=.9999)),hn!==Wn&&F.enabled){if(ii=F.isActive=!!hn&&hn<1,Gt=!!Wn&&Wn<1,Mi=ii!==Gt,Rr=Mi||!!hn!=!!Wn,F.direction=hn>Wn?1:-1,F.progress=hn,Rr&&!es&&(vn=hn&&!Wn?0:hn===1?1:Wn===1?2:3,X&&(Nn=!Mi&&te[vn+1]!=="none"&&te[vn+1]||te[vn],$r=r&&(Nn==="complete"||Nn==="reset"||Nn in r))),B&&(Mi||$r)&&($r||g||!r)&&(rs(B)?B(F):F.getTrailing(B).forEach(function(j){return j.endAnimation()})),X||(ue&&!es&&!C2?(ue._dp._time-ue._start!==ue._time&&ue.render(ue._dp._time-ue._start),ue.resetTo?ue.resetTo("totalProgress",hn,r._tTime/r._tDur):(ue.vars.totalProgress=hn,ue.invalidate().restart())):r&&r.totalProgress(hn,!!(es&&(We||Tt)))),x){if(Tt&&_&&(Te.style[_+O.os2]=Rt),!ie)Se(Mv(nt+Qe*hn));else if(Rr){if(Jr=!Tt&&hn>Wn&&Fe+1>jt&&jt+1>=tc(W,O),k)if(!Tt&&(ii||Jr)){var Ri=r0(x,!0),Fi=jt-dt;xT(x,Ai,Ri.top+(O===oa?Fi:0)+la,Ri.left+(O===oa?0:Fi)+la)}else xT(x,Te);Vm(ii||Jr?ne:q),Ke&&hn<1&&ii||Se(nt+(hn===1&&!Jr?Qe:0))}}N&&!Ye.tween&&!es&&!C2&&ot.restart(!0),o&&(Mi||D&&hn&&(hn<1||!MS))&&cx(o.targets).forEach(function(j){return j.classList[ii||D?"add":"remove"](o.className)}),s&&!X&&!Tt&&s(F),Rr&&!es?(X&&($r&&(Nn==="complete"?r.pause().totalProgress(1):Nn==="reset"?r.restart(!0).pause():Nn==="restart"?r.restart(!0):r[Nn]()),s&&s(F)),(Mi||!MS)&&(f&&Mi&&TS(F,f),Y[vn]&&TS(F,Y[vn]),D&&(hn===1?F.kill(!1,1):Y[vn]=0),Mi||(vn=hn===1?1:3,Y[vn]&&TS(F,Y[vn]))),V&&!ii&&Math.abs(F.getVelocity())>(wv(V)?V:2500)&&(tv(F.callbackAnimation),ue?ue.progress(1):tv(r,Nn==="reverse"?1:!hn,1))):X&&s&&!es&&s(F)}if(Nt){var In=P?jt/P.duration()*(P._caScrollDist||0):jt;Ve(In+(fe._isFlipped?1:0)),Nt(In)}Dt&&Dt(-jt/P.duration()*(P._caScrollDist||0))}},F.enable=function(Tt,ln){F.enabled||(F.enabled=!0,wa(W,"resize",Tv),le||wa(W,"scroll",em),J&&wa(i,"refreshInit",J),Tt!==!1&&(F.progress=be=0,kt=rn=Oe=Ne()),ln!==!1&&F.refresh())},F.getTween=function(Tt){return Tt&&Ye?Ye.tween:ue},F.setPositions=function(Tt,ln,Wt,jt){if(P){var Ci=P.scrollTrigger,hn=P.duration(),Wn=Ci.end-Ci.start;Tt=Ci.start+Wn*Tt/hn,ln=Ci.start+Wn*ln/hn}F.refresh(!1,!1,{start:uT(Tt,Wt&&!!F._startClamp),end:uT(ln,Wt&&!!F._endClamp)},jt),F.update()},F.adjustPinSpacing=function(Tt){if(ft&&Tt){var ln=ft.indexOf(O.d)+1;ft[ln]=parseFloat(ft[ln])+Tt+la,ft[1]=parseFloat(ft[1])+Tt+la,Vm(ft)}},F.disable=function(Tt,ln){if(F.enabled&&(Tt!==!1&&F.revert(!0,!0),F.enabled=F.isActive=!1,ln||ue&&ue.pause(),$e=0,at&&(at.uncache=1),J&&Ma(i,"refreshInit",J),ot&&(ot.pause(),Ye.tween&&Ye.tween.kill()&&(Ye.tween=0)),!le)){for(var Wt=Fn.length;Wt--;)if(Fn[Wt].scroller===W&&Fn[Wt]!==F)return;Ma(W,"resize",Tv),le||Ma(W,"scroll",em)}},F.kill=function(Tt,ln){F.disable(Tt,ln),ue&&!ln&&ue.kill(),c&&delete k6[c];var Wt=Fn.indexOf(F);Wt>=0&&Fn.splice(Wt,1),Wt===Ls&&Q3>0&&Ls--,Wt=0,Fn.forEach(function(jt){return jt.scroller===F.scroller&&(Wt=1)}),Wt||Us||(F.scroll.rec=0),r&&(r.scrollTrigger=null,Tt&&r.revert({kill:!1}),ln||r.kill()),ee&&[ee,Ge,fe,it].forEach(function(jt){return jt.parentNode&&jt.parentNode.removeChild(jt)}),Hv===F&&(Hv=0),x&&(at&&(at.uncache=1),Wt=0,Fn.forEach(function(jt){return jt.pin===x&&Wt++}),Wt||(at.spacer=0)),n.onKill&&n.onKill(F)},Fn.push(F),F.enable(!1,!1),Zt&&Zt(F),r&&r.add&&!tt){var gn=F.update;F.update=function(){F.update=gn,Yn.cache++,dt||Fe||F.refresh()},Xt.delayedCall(.01,F.update),tt=.01,dt=Fe=0}else F.refresh();x&&dI()},i.register=function(n){return Cm||(Xt=n||CR(),AR()&&window.document&&i.enable(),Cm=Sv),Cm},i.defaults=function(n){if(n)for(var r in n)z2[r]=n[r];return z2},i.disable=function(n,r){Sv=0,Fn.forEach(function(s){return s[r?"kill":"disable"](n)}),Ma(Xn,"wheel",em),Ma(Zi,"scroll",em),clearInterval(A2),Ma(Zi,"touchcancel",Qu),Ma(Ai,"touchstart",Qu),D2(Ma,Zi,"pointerdown,touchstart,mousedown",cT),D2(Ma,Zi,"pointerup,touchend,mouseup",fT),vb.kill(),R2(Ma);for(var a=0;a<Yn.length;a+=3)N2(Ma,Yn[a],Yn[a+1]),N2(Ma,Yn[a],Yn[a+2])},i.enable=function(){if(Xn=window,Zi=document,Bl=Zi.documentElement,Ai=Zi.body,Xt&&(cx=Xt.utils.toArray,Bv=Xt.utils.clamp,U6=Xt.core.context||Qu,SS=Xt.core.suppressOverwrites||Qu,$M=Xn.history.scrollRestoration||"auto",I6=Xn.pageYOffset||0,Xt.core.globals("ScrollTrigger",i),Ai)){Sv=1,Hm=document.createElement("div"),Hm.style.height="100vh",Hm.style.position="absolute",kR(),sI(),Ir.register(Xt),i.isTouch=Ir.isTouch,bf=Ir.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),L6=Ir.isTouch===1,wa(Xn,"wheel",em),JM=[Xn,Zi,Bl,Ai],Xt.matchMedia?(i.matchMedia=function(f){var m=Xt.matchMedia(),g;for(g in f)m.add(g,f[g]);return m},Xt.addEventListener("matchMediaInit",function(){return a8()}),Xt.addEventListener("matchMediaRevert",function(){return UR()}),Xt.addEventListener("matchMedia",function(){gd(0,1),Od("matchMedia")}),Xt.matchMedia().add("(orientation: portrait)",function(){return ES(),ES})):console.warn("Requires GSAP 3.11.0 or later"),ES(),wa(Zi,"scroll",em);var n=Ai.hasAttribute("style"),r=Ai.style,a=r.borderTopStyle,s=Xt.core.Animation.prototype,o,c;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=r0(Ai),oa.m=Math.round(o.top+oa.sc())||0,ks.m=Math.round(o.left+ks.sc())||0,a?r.borderTopStyle=a:r.removeProperty("border-top-style"),n||(Ai.setAttribute("style",""),Ai.removeAttribute("style")),A2=setInterval(pT,250),Xt.delayedCall(.5,function(){return C2=0}),wa(Zi,"touchcancel",Qu),wa(Ai,"touchstart",Qu),D2(wa,Zi,"pointerdown,touchstart,mousedown",cT),D2(wa,Zi,"pointerup,touchend,mouseup",fT),O6=Xt.utils.checkPrefix("transform"),J3.push(O6),Cm=ts(),vb=Xt.delayedCall(.2,gd).pause(),Rm=[Zi,"visibilitychange",function(){var f=Xn.innerWidth,m=Xn.innerHeight;Zi.hidden?(sT=f,lT=m):(sT!==f||lT!==m)&&Tv()},Zi,"DOMContentLoaded",gd,Xn,"load",gd,Xn,"resize",Tv],R2(wa),Fn.forEach(function(f){return f.enable(0,1)}),c=0;c<Yn.length;c+=3)N2(Ma,Yn[c],Yn[c+1]),N2(Ma,Yn[c],Yn[c+2])}},i.config=function(n){"limitCallbacks"in n&&(MS=!!n.limitCallbacks);var r=n.syncInterval;r&&clearInterval(A2)||(A2=r)&&setInterval(pT,r),"ignoreMobileResize"in n&&(L6=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(R2(Ma)||R2(wa,n.autoRefreshEvents||"none"),wR=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,r){var a=il(n),s=Yn.indexOf(a),o=Nd(a);~s&&Yn.splice(s,o?6:2),r&&(o?sc.unshift(Xn,r,Ai,r,Bl,r):sc.unshift(a,r))},i.clearMatchMedia=function(n){Fn.forEach(function(r){return r._ctx&&r._ctx.query===n&&r._ctx.kill(!0,!0)})},i.isInViewport=function(n,r,a){var s=(Ll(n)?il(n):n).getBoundingClientRect(),o=s[a?wd:Td]*r||0;return a?s.right-o>0&&s.left+o<Xn.innerWidth:s.bottom-o>0&&s.top+o<Xn.innerHeight},i.positionInViewport=function(n,r,a){Ll(n)&&(n=il(n));var s=n.getBoundingClientRect(),o=s[a?wd:Td],c=r==null?o/2:r in bb?bb[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return a?(s.left+c)/Xn.innerWidth:(s.top+c)/Xn.innerHeight},i.killAll=function(n){if(Fn.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),n!==!0){var r=zd.killAll||[];zd={},r.forEach(function(a){return a()})}},i})();Mn.version="3.13.0";Mn.saveStyles=function(i){return i?cx(i).forEach(function(e){if(e&&e.style){var t=Ol.indexOf(e);t>=0&&Ol.splice(t,5),Ol.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Xt.core.getCache(e),U6())}}):Ol};Mn.revert=function(i,e){return a8(!i,e)};Mn.create=function(i,e){return new Mn(i,e)};Mn.refresh=function(i){return i?Tv(!0):(Cm||Mn.register())&&gd(!0)};Mn.update=function(i){return++Yn.cache&&u0(i===!0?2:0)};Mn.clearScrollMemory=BR;Mn.maxScroll=function(i,e){return tc(i,e?ks:oa)};Mn.getScrollFunc=function(i,e){return If(il(i),e?ks:oa)};Mn.getById=function(i){return k6[i]};Mn.getAll=function(){return Fn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};Mn.isScrolling=function(){return!!Eo};Mn.snapDirectional=r8;Mn.addEventListener=function(i,e){var t=zd[i]||(zd[i]=[]);~t.indexOf(e)||t.push(e)};Mn.removeEventListener=function(i,e){var t=zd[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Mn.batch=function(i,e){var t=[],n={},r=e.interval||.016,a=e.batchMax||1e9,s=function(f,m){var g=[],y=[],x=Xt.delayedCall(r,function(){m(g,y),g=[],y=[]}).pause();return function(_){g.length||x.restart(!0),g.push(_.trigger),y.push(_),a<=g.length&&x.progress(1)}},o;for(o in e)n[o]=o.substr(0,2)==="on"&&rs(e[o])&&o!=="onRefreshInit"?s(o,e[o]):e[o];return rs(a)&&(a=a(),wa(Mn,"refresh",function(){return a=e.batchMax()})),cx(i).forEach(function(c){var f={};for(o in n)f[o]=n[o];f.trigger=c,t.push(Mn.create(f))}),t};var bT=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},CS=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Ir.isTouch?" pinch-zoom":""):"none",e===Bl&&i(Ai,t)},B2={auto:1,scroll:1},xI=function(e){var t=e.event,n=e.target,r=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,s=a._gsap||Xt.core.getCache(a),o=ts(),c;if(!s._isScrollT||o-s._isScrollT>2e3){for(;a&&a!==Ai&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(B2[(c=bo(a)).overflowY]||B2[c.overflowX]));)a=a.parentNode;s._isScroll=a&&a!==n&&!Nd(a)&&(B2[(c=bo(a)).overflowY]||B2[c.overflowX]),s._isScrollT=o}(s._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},PR=function(e,t,n,r){return Ir.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&xI,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&wa(Zi,Ir.eventTypes[0],ST,!1,!0)},onDisable:function(){return Ma(Zi,Ir.eventTypes[0],ST,!0)}})},yI=/(input|label|select|textarea)/i,_T,ST=function(e){var t=yI.test(e.target.tagName);(t||_T)&&(e._gsapAllow=!0,_T=t)},bI=function(e){hd(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,r=t.momentum,a=t.allowNestedScroll,s=t.onRelease,o,c,f=il(e.target)||Bl,m=Xt.core.globals().ScrollSmoother,g=m&&m.get(),y=bf&&(e.content&&il(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),x=If(f,oa),_=If(f,ks),M=1,w=(Ir.isTouch&&Xn.visualViewport?Xn.visualViewport.scale*Xn.visualViewport.width:Xn.outerWidth)/Xn.innerWidth,S=0,A=rs(r)?function(){return r(o)}:function(){return r||2.8},D,N,k=PR(f,e.type,!0,a),z=function(){return N=!1},P=Qu,V=Qu,B=function(){c=tc(f,oa),V=Bv(bf?1:0,c),n&&(P=Bv(0,tc(f,ks))),D=Ed},O=function(){y._gsap.y=Mv(parseFloat(y._gsap.y)+x.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},X=function(){if(N){requestAnimationFrame(z);var re=Mv(o.deltaY/2),ye=V(x.v-re);if(y&&ye!==x.v+x.offset){x.offset=ye-x.v;var F=Mv((parseFloat(y&&y._gsap.y)||0)-x.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+F+", 0, 1)",y._gsap.y=F+"px",x.cacheID=Yn.cache,u0()}return!0}x.offset&&O(),N=!0},W,se,le,ie,Y=function(){B(),W.isActive()&&W.vars.scrollY>c&&(x()>c?W.progress(1)&&x(c):W.resetTo("scrollY",c))};return y&&Xt.set(y,{y:"+=0"}),e.ignoreCheck=function(te){return bf&&te.type==="touchmove"&&X()||M>1.05&&te.type!=="touchstart"||o.isGesturing||te.touches&&te.touches.length>1},e.onPress=function(){N=!1;var te=M;M=Mv((Xn.visualViewport&&Xn.visualViewport.scale||1)/w),W.pause(),te!==M&&CS(f,M>1.01?!0:n?!1:"x"),se=_(),le=x(),B(),D=Ed},e.onRelease=e.onGestureStart=function(te,re){if(x.offset&&O(),!re)ie.restart(!0);else{Yn.cache++;var ye=A(),F,J;n&&(F=_(),J=F+ye*.05*-te.velocityX/.227,ye*=bT(_,F,J,tc(f,ks)),W.vars.scrollX=P(J)),F=x(),J=F+ye*.05*-te.velocityY/.227,ye*=bT(x,F,J,tc(f,oa)),W.vars.scrollY=V(J),W.invalidate().duration(ye).play(.01),(bf&&W.vars.scrollY>=c||F>=c-1)&&Xt.to({},{onUpdate:Y,duration:ye})}s&&s(te)},e.onWheel=function(){W._ts&&W.pause(),ts()-S>1e3&&(D=0,S=ts())},e.onChange=function(te,re,ye,F,J){if(Ed!==D&&B(),re&&n&&_(P(F[2]===re?se+(te.startX-te.x):_()+re-F[1])),ye){x.offset&&O();var ge=J[2]===ye,Z=ge?le+te.startY-te.y:x()+ye-J[1],Oe=V(Z);ge&&Z!==Oe&&(le+=Oe-Z),x(Oe)}(ye||re)&&u0()},e.onEnable=function(){CS(f,n?!1:"x"),Mn.addEventListener("refresh",Y),wa(Xn,"resize",Y),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=_.smooth=!1),k.enable()},e.onDisable=function(){CS(f,!0),Ma(Xn,"resize",Y),Mn.removeEventListener("refresh",Y),k.kill()},e.lockAxis=e.lockAxis!==!1,o=new Ir(e),o.iOS=bf,bf&&!x()&&x(1),bf&&Xt.ticker.add(Qu),ie=o._dc,W=Xt.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:IR(x,x(),function(){return W.pause()})},onUpdate:u0,onComplete:ie.vars.onComplete}),o};Mn.sort=function(i){if(rs(i))return Fn.sort(i);var e=Xn.pageYOffset||0;return Mn.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Xn.innerHeight}),Fn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Mn.observe=function(i){return new Ir(i)};Mn.normalizeScroll=function(i){if(typeof i>"u")return Os;if(i===!0&&Os)return Os.enable();if(i===!1){Os&&Os.kill(),Os=i;return}var e=i instanceof Ir?i:bI(i);return Os&&Os.target===e.target&&Os.kill(),Nd(e.target)&&(Os=e),e};Mn.core={_getVelocityProp:z6,_inputObserver:PR,_scrollers:Yn,_proxies:sc,bridge:{ss:function(){Eo||Od("scrollStart"),Eo=ts()},ref:function(){return es}}};CR()&&Xt.registerPlugin(Mn);var RS={exports:{}},Yc={};var MT;function _I(){return MT||(MT=1,Yc.ConcurrentRoot=1,Yc.ContinuousEventPriority=8,Yc.DefaultEventPriority=32,Yc.DiscreteEventPriority=2,Yc.IdleEventPriority=268435456,Yc.LegacyRoot=0,Yc.NoEventPriority=0),Yc}var wT;function SI(){return wT||(wT=1,RS.exports=_I()),RS.exports}var eb=SI();const C4="181",MI={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},wI={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},FR=0,F6=1,HR=2,TI=3,VR=0,R4=1,Vv=2,au=3,g0=0,Hs=1,ou=2,lc=0,Ad=1,H6=2,V6=3,G6=4,GR=5,Sf=100,qR=101,XR=102,YR=103,jR=104,WR=200,ZR=201,KR=202,QR=203,_b=204,Sb=205,JR=206,$R=207,eD=208,tD=209,nD=210,iD=211,rD=212,aD=213,sD=214,Mb=0,wb=1,Tb=2,Ld=3,Eb=4,Ab=5,Cb=6,Rb=7,Fx=0,lD=1,oD=2,oc=0,uD=1,cD=2,fD=3,s8=4,hD=5,dD=6,pD=7,q6="attached",mD="detached",D4=300,v0=301,Pf=302,hx=303,dx=304,g1=306,px=1e3,ll=1001,mx=1002,ka=1003,l8=1004,EI=1004,Lm=1005,AI=1005,Pr=1006,Gv=1007,CI=1007,nc=1008,RI=1008,Ao=1009,o8=1010,u8=1011,$m=1012,N4=1013,x0=1014,ol=1015,Fd=1016,z4=1017,O4=1018,e1=1020,c8=35902,f8=35899,h8=1021,d8=1022,as=1023,t1=1026,n1=1027,L4=1028,Hx=1029,U4=1030,B4=1031,DI=1032,k4=1033,qv=33776,Xv=33777,Yv=33778,jv=33779,Db=35840,Nb=35841,zb=35842,Ob=35843,Lb=36196,Ub=37492,Bb=37496,kb=37808,Ib=37809,Pb=37810,Fb=37811,Hb=37812,Vb=37813,Gb=37814,qb=37815,Xb=37816,Yb=37817,jb=37818,Wb=37819,Zb=37820,Kb=37821,Qb=36492,Jb=36494,$b=36495,e4=36283,t4=36284,n4=36285,i4=36286,gD=2200,vD=2201,xD=2202,gx=2300,r4=2301,tb=2302,vd=2400,xd=2401,vx=2402,I4=2500,p8=2501,NI=0,zI=1,OI=2,yD=3200,bD=3201,LI=3202,UI=3203,Wf=0,_D=1,a0="",ns="srgb",Ff="srgb-linear",xx="linear",Oi="srgb",BI=0,dd=7680,kI=7681,II=7682,PI=7683,FI=34055,HI=34056,VI=5386,GI=512,qI=513,XI=514,YI=515,jI=516,WI=517,ZI=518,X6=519,SD=512,MD=513,wD=514,m8=515,TD=516,ED=517,AD=518,CD=519,yx=35044,KI=35048,QI=35040,JI=35045,$I=35049,eP=35041,tP=35046,nP=35050,iP=35042,rP="100",Y6="300 es",Hl=2e3,i1=2001,aP={COMPUTE:"compute",RENDER:"render"},sP={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},lP={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function RD(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const oP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Um(i,e){return new oP[i](e)}function bx(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function DD(){const i=bx("canvas");return i.style.display="block",i}const TT={};let Hf=null;function uP(i){Hf=i}function cP(){return Hf}function _x(...i){const e="THREE."+i.shift();Hf?Hf("log",e,...i):console.log(e,...i)}function Lt(...i){const e="THREE."+i.shift();Hf?Hf("warn",e,...i):console.warn(e,...i)}function _n(...i){const e="THREE."+i.shift();Hf?Hf("error",e,...i):console.error(e,...i)}function r1(...i){const e=i.join(" ");e in TT||(TT[e]=!0,Lt(...i))}function fP(i,e,t){return new Promise(function(n,r){function a(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:r();break;case i.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}class hc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const r=n[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const r=n.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const Qa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ET=1234567;const Cd=Math.PI/180,a1=180/Math.PI;function Gl(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Qa[i&255]+Qa[i>>8&255]+Qa[i>>16&255]+Qa[i>>24&255]+"-"+Qa[e&255]+Qa[e>>8&255]+"-"+Qa[e>>16&15|64]+Qa[e>>24&255]+"-"+Qa[t&63|128]+Qa[t>>8&255]+"-"+Qa[t>>16&255]+Qa[t>>24&255]+Qa[n&255]+Qa[n>>8&255]+Qa[n>>16&255]+Qa[n>>24&255]).toLowerCase()}function mn(i,e,t){return Math.max(e,Math.min(t,i))}function g8(i,e){return(i%e+e)%e}function hP(i,e,t,n,r){return n+(i-e)*(r-n)/(t-e)}function dP(i,e,t){return i!==e?(t-i)/(e-i):0}function Wv(i,e,t){return(1-t)*i+t*e}function pP(i,e,t,n){return Wv(i,e,1-Math.exp(-t*n))}function mP(i,e=1){return e-Math.abs(g8(i,e*2)-e)}function gP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function vP(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function xP(i,e){return i+Math.floor(Math.random()*(e-i+1))}function yP(i,e){return i+Math.random()*(e-i)}function bP(i){return i*(.5-Math.random())}function _P(i){i!==void 0&&(ET=i);let e=ET+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function SP(i){return i*Cd}function MP(i){return i*a1}function wP(i){return(i&i-1)===0&&i!==0}function TP(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function EP(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function AP(i,e,t,n,r){const a=Math.cos,s=Math.sin,o=a(t/2),c=s(t/2),f=a((e+n)/2),m=s((e+n)/2),g=a((e-n)/2),y=s((e-n)/2),x=a((n-e)/2),_=s((n-e)/2);switch(r){case"XYX":i.set(o*m,c*g,c*y,o*f);break;case"YZY":i.set(c*y,o*m,c*g,o*f);break;case"ZXZ":i.set(c*g,c*y,o*m,o*f);break;case"XZX":i.set(o*m,c*_,c*x,o*f);break;case"YXY":i.set(c*x,o*m,c*_,o*f);break;case"ZYZ":i.set(c*_,c*x,o*m,o*f);break;default:Lt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Is(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function Dn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const CP={DEG2RAD:Cd,RAD2DEG:a1,generateUUID:Gl,clamp:mn,euclideanModulo:g8,mapLinear:hP,inverseLerp:dP,lerp:Wv,damp:pP,pingpong:mP,smoothstep:gP,smootherstep:vP,randInt:xP,randFloat:yP,randFloatSpread:bP,seededRandom:_P,degToRad:SP,radToDeg:MP,isPowerOfTwo:wP,ceilPowerOfTwo:TP,floorPowerOfTwo:EP,setQuaternionFromProperEuler:AP,normalize:Dn,denormalize:Is};class rt{constructor(e=0,t=0){rt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(mn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*n-s*r+e.x,this.y=a*r+s*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class dl{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,s,o){let c=n[r+0],f=n[r+1],m=n[r+2],g=n[r+3],y=a[s+0],x=a[s+1],_=a[s+2],M=a[s+3];if(o<=0){e[t+0]=c,e[t+1]=f,e[t+2]=m,e[t+3]=g;return}if(o>=1){e[t+0]=y,e[t+1]=x,e[t+2]=_,e[t+3]=M;return}if(g!==M||c!==y||f!==x||m!==_){let w=c*y+f*x+m*_+g*M;w<0&&(y=-y,x=-x,_=-_,M=-M,w=-w);let S=1-o;if(w<.9995){const A=Math.acos(w),D=Math.sin(A);S=Math.sin(S*A)/D,o=Math.sin(o*A)/D,c=c*S+y*o,f=f*S+x*o,m=m*S+_*o,g=g*S+M*o}else{c=c*S+y*o,f=f*S+x*o,m=m*S+_*o,g=g*S+M*o;const A=1/Math.sqrt(c*c+f*f+m*m+g*g);c*=A,f*=A,m*=A,g*=A}}e[t]=c,e[t+1]=f,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,r,a,s){const o=n[r],c=n[r+1],f=n[r+2],m=n[r+3],g=a[s],y=a[s+1],x=a[s+2],_=a[s+3];return e[t]=o*_+m*g+c*x-f*y,e[t+1]=c*_+m*y+f*g-o*x,e[t+2]=f*_+m*x+o*y-c*g,e[t+3]=m*_-o*g-c*y-f*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,c=Math.sin,f=o(n/2),m=o(r/2),g=o(a/2),y=c(n/2),x=c(r/2),_=c(a/2);switch(s){case"XYZ":this._x=y*m*g+f*x*_,this._y=f*x*g-y*m*_,this._z=f*m*_+y*x*g,this._w=f*m*g-y*x*_;break;case"YXZ":this._x=y*m*g+f*x*_,this._y=f*x*g-y*m*_,this._z=f*m*_-y*x*g,this._w=f*m*g+y*x*_;break;case"ZXY":this._x=y*m*g-f*x*_,this._y=f*x*g+y*m*_,this._z=f*m*_+y*x*g,this._w=f*m*g-y*x*_;break;case"ZYX":this._x=y*m*g-f*x*_,this._y=f*x*g+y*m*_,this._z=f*m*_-y*x*g,this._w=f*m*g+y*x*_;break;case"YZX":this._x=y*m*g+f*x*_,this._y=f*x*g+y*m*_,this._z=f*m*_-y*x*g,this._w=f*m*g-y*x*_;break;case"XZY":this._x=y*m*g-f*x*_,this._y=f*x*g-y*m*_,this._z=f*m*_+y*x*g,this._w=f*m*g+y*x*_;break;default:Lt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],a=t[8],s=t[1],o=t[5],c=t[9],f=t[2],m=t[6],g=t[10],y=n+o+g;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(m-c)*x,this._y=(a-f)*x,this._z=(s-r)*x}else if(n>o&&n>g){const x=2*Math.sqrt(1+n-o-g);this._w=(m-c)/x,this._x=.25*x,this._y=(r+s)/x,this._z=(a+f)/x}else if(o>g){const x=2*Math.sqrt(1+o-n-g);this._w=(a-f)/x,this._x=(r+s)/x,this._y=.25*x,this._z=(c+m)/x}else{const x=2*Math.sqrt(1+g-n-o);this._w=(s-r)/x,this._x=(a+f)/x,this._y=(c+m)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(mn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,a=e._z,s=e._w,o=t._x,c=t._y,f=t._z,m=t._w;return this._x=n*m+s*o+r*f-a*c,this._y=r*m+s*c+a*o-n*f,this._z=a*m+s*f+n*c-r*o,this._w=s*m-n*o-r*c-a*f,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(n=-n,r=-r,a=-a,s=-s,o=-o);let c=1-t;if(o<.9995){const f=Math.acos(o),m=Math.sin(f);c=Math.sin(c*f)/m,t=Math.sin(t*f)/m,this._x=this._x*c+n*t,this._y=this._y*c+r*t,this._z=this._z*c+a*t,this._w=this._w*c+s*t,this._onChangeCallback()}else this._x=this._x*c+n*t,this._y=this._y*c+r*t,this._z=this._z*c+a*t,this._w=this._w*c+s*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,t=0,n=0){ae.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(AT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(AT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,a=e.x,s=e.y,o=e.z,c=e.w,f=2*(s*r-o*n),m=2*(o*t-a*r),g=2*(a*n-s*t);return this.x=t+c*f+s*g-o*m,this.y=n+c*m+o*f-a*g,this.z=r+c*g+a*m-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this.z=mn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this.z=mn(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,a=e.z,s=t.x,o=t.y,c=t.z;return this.x=r*c-a*o,this.y=a*s-n*c,this.z=n*o-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return DS.copy(this).projectOnVector(e),this.sub(DS)}reflect(e){return this.sub(DS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(mn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const DS=new ae,AT=new dl;class Rn{constructor(e,t,n,r,a,s,o,c,f){Rn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,f)}set(e,t,n,r,a,s,o,c,f){const m=this.elements;return m[0]=e,m[1]=r,m[2]=o,m[3]=t,m[4]=a,m[5]=c,m[6]=n,m[7]=s,m[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[3],c=n[6],f=n[1],m=n[4],g=n[7],y=n[2],x=n[5],_=n[8],M=r[0],w=r[3],S=r[6],A=r[1],D=r[4],N=r[7],k=r[2],z=r[5],P=r[8];return a[0]=s*M+o*A+c*k,a[3]=s*w+o*D+c*z,a[6]=s*S+o*N+c*P,a[1]=f*M+m*A+g*k,a[4]=f*w+m*D+g*z,a[7]=f*S+m*N+g*P,a[2]=y*M+x*A+_*k,a[5]=y*w+x*D+_*z,a[8]=y*S+x*N+_*P,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],m=e[8];return t*s*m-t*o*f-n*a*m+n*o*c+r*a*f-r*s*c}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],m=e[8],g=m*s-o*f,y=o*c-m*a,x=f*a-s*c,_=t*g+n*y+r*x;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/_;return e[0]=g*M,e[1]=(r*f-m*n)*M,e[2]=(o*n-r*s)*M,e[3]=y*M,e[4]=(m*t-r*c)*M,e[5]=(r*a-o*t)*M,e[6]=x*M,e[7]=(n*c-f*t)*M,e[8]=(s*t-n*a)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,s,o){const c=Math.cos(a),f=Math.sin(a);return this.set(n*c,n*f,-n*(c*s+f*o)+s+e,-r*f,r*c,-r*(-f*s+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(NS.makeScale(e,t)),this}rotate(e){return this.premultiply(NS.makeRotation(-e)),this}translate(e,t){return this.premultiply(NS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NS=new Rn,CT=new Rn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),RT=new Rn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function RP(){const i={enabled:!0,workingColorSpace:Ff,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Oi&&(r.r=c0(r.r),r.g=c0(r.g),r.b=c0(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Oi&&(r.r=Gm(r.r),r.g=Gm(r.g),r.b=Gm(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===a0?xx:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return r1("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return r1("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[Ff]:{primaries:e,whitePoint:n,transfer:xx,toXYZ:CT,fromXYZ:RT,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ns},outputColorSpaceConfig:{drawingBufferColorSpace:ns}},[ns]:{primaries:e,whitePoint:n,transfer:Oi,toXYZ:CT,fromXYZ:RT,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ns}}}),i}const oi=RP();function c0(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Gm(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let tm;class ND{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tm===void 0&&(tm=bx("canvas")),tm.width=e.width,tm.height=e.height;const r=tm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=tm}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=bx("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=c0(a[s]/255)*255;return n.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(c0(t[n]/255)*255):t[n]=c0(t[n]);return{data:t,width:e.width,height:e.height}}else return Lt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let DP=0;class Rf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:DP++}),this.uuid=Gl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(zS(r[s].image)):a.push(zS(r[s]))}else a=zS(r);n.url=a}return t||(e.images[this.uuid]=n),n}}function zS(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?ND.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(Lt("Texture: Unable to serialize Texture."),{})}let NP=0;const OS=new ae;class Cr extends hc{constructor(e=Cr.DEFAULT_IMAGE,t=Cr.DEFAULT_MAPPING,n=ll,r=ll,a=Pr,s=nc,o=as,c=Ao,f=Cr.DEFAULT_ANISOTROPY,m=a0){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:NP++}),this.uuid=Gl(),this.name="",this.source=new Rf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=o,this.internalFormat=null,this.type=c,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(OS).x}get height(){return this.source.getSize(OS).y}get depth(){return this.source.getSize(OS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){Lt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Lt(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==D4)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case px:e.x=e.x-Math.floor(e.x);break;case ll:e.x=e.x<0?0:1;break;case mx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case px:e.y=e.y-Math.floor(e.y);break;case ll:e.y=e.y<0?0:1;break;case mx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Cr.DEFAULT_IMAGE=null;Cr.DEFAULT_MAPPING=D4;Cr.DEFAULT_ANISOTROPY=1;class hi{constructor(e=0,t=0,n=0,r=1){hi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*n+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*n+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*n+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a;const c=e.elements,f=c[0],m=c[4],g=c[8],y=c[1],x=c[5],_=c[9],M=c[2],w=c[6],S=c[10];if(Math.abs(m-y)<.01&&Math.abs(g-M)<.01&&Math.abs(_-w)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+M)<.1&&Math.abs(_+w)<.1&&Math.abs(f+x+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(f+1)/2,N=(x+1)/2,k=(S+1)/2,z=(m+y)/4,P=(g+M)/4,V=(_+w)/4;return D>N&&D>k?D<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(D),r=z/n,a=P/n):N>k?N<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),n=z/r,a=V/r):k<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(k),n=P/a,r=V/a),this.set(n,r,a,t),this}let A=Math.sqrt((w-_)*(w-_)+(g-M)*(g-M)+(y-m)*(y-m));return Math.abs(A)<.001&&(A=1),this.x=(w-_)/A,this.y=(g-M)/A,this.z=(y-m)/A,this.w=Math.acos((f+x+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this.z=mn(this.z,e.z,t.z),this.w=mn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this.z=mn(this.z,e,t),this.w=mn(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(mn(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class v8 extends hc{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Pr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new hi(0,0,e,t),this.scissorTest=!1,this.viewport=new hi(0,0,e,t);const r={width:e,height:t,depth:n.depth},a=new Cr(r);this.textures=[];const s=n.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:Pr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Rf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class cc extends v8{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class P4 extends Cr{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ka,this.minFilter=ka,this.wrapR=ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zP extends cc{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new P4(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class F4 extends Cr{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ka,this.minFilter=ka,this.wrapR=ll,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class OP extends cc{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new F4(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class os{constructor(e=new ae(1/0,1/0,1/0),t=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(tu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(tu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=tu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,tu):tu.fromBufferAttribute(a,s),tu.applyMatrix4(e.matrixWorld),this.expandByPoint(tu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),k2.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),k2.copy(n.boundingBox)),k2.applyMatrix4(e.matrixWorld),this.union(k2)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,tu),tu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nv),I2.subVectors(this.max,nv),nm.subVectors(e.a,nv),im.subVectors(e.b,nv),rm.subVectors(e.c,nv),cf.subVectors(im,nm),ff.subVectors(rm,im),jh.subVectors(nm,rm);let t=[0,-cf.z,cf.y,0,-ff.z,ff.y,0,-jh.z,jh.y,cf.z,0,-cf.x,ff.z,0,-ff.x,jh.z,0,-jh.x,-cf.y,cf.x,0,-ff.y,ff.x,0,-jh.y,jh.x,0];return!LS(t,nm,im,rm,I2)||(t=[1,0,0,0,1,0,0,0,1],!LS(t,nm,im,rm,I2))?!1:(P2.crossVectors(cf,ff),t=[P2.x,P2.y,P2.z],LS(t,nm,im,rm,I2))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(tu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const jc=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],tu=new ae,k2=new os,nm=new ae,im=new ae,rm=new ae,cf=new ae,ff=new ae,jh=new ae,nv=new ae,I2=new ae,P2=new ae,Wh=new ae;function LS(i,e,t,n,r){for(let a=0,s=i.length-3;a<=s;a+=3){Wh.fromArray(i,a);const o=r.x*Math.abs(Wh.x)+r.y*Math.abs(Wh.y)+r.z*Math.abs(Wh.z),c=e.dot(Wh),f=t.dot(Wh),m=n.dot(Wh);if(Math.max(-Math.max(c,f,m),Math.min(c,f,m))>o)return!1}return!0}const LP=new os,iv=new ae,US=new ae;class Ia{constructor(e=new ae,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):LP.setFromPoints(e).getCenter(n);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;iv.subVectors(e,this.center);const t=iv.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=(n-this.radius)*.5;this.center.addScaledVector(iv,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(US.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(iv.copy(e.center).add(US)),this.expandByPoint(iv.copy(e.center).sub(US))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Wc=new ae,BS=new ae,F2=new ae,hf=new ae,kS=new ae,H2=new ae,IS=new ae;class v1{constructor(e=new ae,t=new ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wc.copy(this.origin).addScaledVector(this.direction,t),Wc.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){BS.copy(e).add(t).multiplyScalar(.5),F2.copy(t).sub(e).normalize(),hf.copy(this.origin).sub(BS);const a=e.distanceTo(t)*.5,s=-this.direction.dot(F2),o=hf.dot(this.direction),c=-hf.dot(F2),f=hf.lengthSq(),m=Math.abs(1-s*s);let g,y,x,_;if(m>0)if(g=s*c-o,y=s*o-c,_=a*m,g>=0)if(y>=-_)if(y<=_){const M=1/m;g*=M,y*=M,x=g*(g+s*y+2*o)+y*(s*g+y+2*c)+f}else y=a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*c)+f;else y=-a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*c)+f;else y<=-_?(g=Math.max(0,-(-s*a+o)),y=g>0?-a:Math.min(Math.max(-a,-c),a),x=-g*g+y*(y+2*c)+f):y<=_?(g=0,y=Math.min(Math.max(-a,-c),a),x=y*(y+2*c)+f):(g=Math.max(0,-(s*a+o)),y=g>0?a:Math.min(Math.max(-a,-c),a),x=-g*g+y*(y+2*c)+f);else y=s>0?-a:a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*c)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(BS).addScaledVector(F2,y),x}intersectSphere(e,t){Wc.subVectors(e.center,this.origin);const n=Wc.dot(this.direction),r=Wc.dot(Wc)-n*n,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=n-s,c=n+s;return c<0?null:o<0?this.at(c,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,s,o,c;const f=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(n=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(n=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),m>=0?(a=(e.min.y-y.y)*m,s=(e.max.y-y.y)*m):(a=(e.max.y-y.y)*m,s=(e.min.y-y.y)*m),n>s||a>r||((a>n||isNaN(n))&&(n=a),(s<r||isNaN(r))&&(r=s),g>=0?(o=(e.min.z-y.z)*g,c=(e.max.z-y.z)*g):(o=(e.max.z-y.z)*g,c=(e.min.z-y.z)*g),n>c||o>r)||((o>n||n!==n)&&(n=o),(c<r||r!==r)&&(r=c),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return this.intersectBox(e,Wc)!==null}intersectTriangle(e,t,n,r,a){kS.subVectors(t,e),H2.subVectors(n,e),IS.crossVectors(kS,H2);let s=this.direction.dot(IS),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;hf.subVectors(this.origin,e);const c=o*this.direction.dot(H2.crossVectors(hf,H2));if(c<0)return null;const f=o*this.direction.dot(kS.cross(hf));if(f<0||c+f>s)return null;const m=-o*hf.dot(IS);return m<0?null:this.at(m/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class yn{constructor(e,t,n,r,a,s,o,c,f,m,g,y,x,_,M,w){yn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,r,a,s,o,c,f,m,g,y,x,_,M,w)}set(e,t,n,r,a,s,o,c,f,m,g,y,x,_,M,w){const S=this.elements;return S[0]=e,S[4]=t,S[8]=n,S[12]=r,S[1]=a,S[5]=s,S[9]=o,S[13]=c,S[2]=f,S[6]=m,S[10]=g,S[14]=y,S[3]=x,S[7]=_,S[11]=M,S[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new yn().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/am.setFromMatrixColumn(e,0).length(),a=1/am.setFromMatrixColumn(e,1).length(),s=1/am.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*s,t[9]=n[9]*s,t[10]=n[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,a=e.z,s=Math.cos(n),o=Math.sin(n),c=Math.cos(r),f=Math.sin(r),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=s*m,x=s*g,_=o*m,M=o*g;t[0]=c*m,t[4]=-c*g,t[8]=f,t[1]=x+_*f,t[5]=y-M*f,t[9]=-o*c,t[2]=M-y*f,t[6]=_+x*f,t[10]=s*c}else if(e.order==="YXZ"){const y=c*m,x=c*g,_=f*m,M=f*g;t[0]=y+M*o,t[4]=_*o-x,t[8]=s*f,t[1]=s*g,t[5]=s*m,t[9]=-o,t[2]=x*o-_,t[6]=M+y*o,t[10]=s*c}else if(e.order==="ZXY"){const y=c*m,x=c*g,_=f*m,M=f*g;t[0]=y-M*o,t[4]=-s*g,t[8]=_+x*o,t[1]=x+_*o,t[5]=s*m,t[9]=M-y*o,t[2]=-s*f,t[6]=o,t[10]=s*c}else if(e.order==="ZYX"){const y=s*m,x=s*g,_=o*m,M=o*g;t[0]=c*m,t[4]=_*f-x,t[8]=y*f+M,t[1]=c*g,t[5]=M*f+y,t[9]=x*f-_,t[2]=-f,t[6]=o*c,t[10]=s*c}else if(e.order==="YZX"){const y=s*c,x=s*f,_=o*c,M=o*f;t[0]=c*m,t[4]=M-y*g,t[8]=_*g+x,t[1]=g,t[5]=s*m,t[9]=-o*m,t[2]=-f*m,t[6]=x*g+_,t[10]=y-M*g}else if(e.order==="XZY"){const y=s*c,x=s*f,_=o*c,M=o*f;t[0]=c*m,t[4]=-g,t[8]=f*m,t[1]=y*g+M,t[5]=s*m,t[9]=x*g-_,t[2]=_*g-x,t[6]=o*m,t[10]=M*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UP,e,BP)}lookAt(e,t,n){const r=this.elements;return Dl.subVectors(e,t),Dl.lengthSq()===0&&(Dl.z=1),Dl.normalize(),df.crossVectors(n,Dl),df.lengthSq()===0&&(Math.abs(n.z)===1?Dl.x+=1e-4:Dl.z+=1e-4,Dl.normalize(),df.crossVectors(n,Dl)),df.normalize(),V2.crossVectors(Dl,df),r[0]=df.x,r[4]=V2.x,r[8]=Dl.x,r[1]=df.y,r[5]=V2.y,r[9]=Dl.y,r[2]=df.z,r[6]=V2.z,r[10]=Dl.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,s=n[0],o=n[4],c=n[8],f=n[12],m=n[1],g=n[5],y=n[9],x=n[13],_=n[2],M=n[6],w=n[10],S=n[14],A=n[3],D=n[7],N=n[11],k=n[15],z=r[0],P=r[4],V=r[8],B=r[12],O=r[1],X=r[5],W=r[9],se=r[13],le=r[2],ie=r[6],Y=r[10],te=r[14],re=r[3],ye=r[7],F=r[11],J=r[15];return a[0]=s*z+o*O+c*le+f*re,a[4]=s*P+o*X+c*ie+f*ye,a[8]=s*V+o*W+c*Y+f*F,a[12]=s*B+o*se+c*te+f*J,a[1]=m*z+g*O+y*le+x*re,a[5]=m*P+g*X+y*ie+x*ye,a[9]=m*V+g*W+y*Y+x*F,a[13]=m*B+g*se+y*te+x*J,a[2]=_*z+M*O+w*le+S*re,a[6]=_*P+M*X+w*ie+S*ye,a[10]=_*V+M*W+w*Y+S*F,a[14]=_*B+M*se+w*te+S*J,a[3]=A*z+D*O+N*le+k*re,a[7]=A*P+D*X+N*ie+k*ye,a[11]=A*V+D*W+N*Y+k*F,a[15]=A*B+D*se+N*te+k*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],s=e[1],o=e[5],c=e[9],f=e[13],m=e[2],g=e[6],y=e[10],x=e[14],_=e[3],M=e[7],w=e[11],S=e[15];return _*(+a*c*g-r*f*g-a*o*y+n*f*y+r*o*x-n*c*x)+M*(+t*c*x-t*f*y+a*s*y-r*s*x+r*f*m-a*c*m)+w*(+t*f*g-t*o*x-a*s*g+n*s*x+a*o*m-n*f*m)+S*(-r*o*m-t*c*g+t*o*y+r*s*g-n*s*y+n*c*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],s=e[4],o=e[5],c=e[6],f=e[7],m=e[8],g=e[9],y=e[10],x=e[11],_=e[12],M=e[13],w=e[14],S=e[15],A=g*w*f-M*y*f+M*c*x-o*w*x-g*c*S+o*y*S,D=_*y*f-m*w*f-_*c*x+s*w*x+m*c*S-s*y*S,N=m*M*f-_*g*f+_*o*x-s*M*x-m*o*S+s*g*S,k=_*g*c-m*M*c-_*o*y+s*M*y+m*o*w-s*g*w,z=t*A+n*D+r*N+a*k;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/z;return e[0]=A*P,e[1]=(M*y*a-g*w*a-M*r*x+n*w*x+g*r*S-n*y*S)*P,e[2]=(o*w*a-M*c*a+M*r*f-n*w*f-o*r*S+n*c*S)*P,e[3]=(g*c*a-o*y*a-g*r*f+n*y*f+o*r*x-n*c*x)*P,e[4]=D*P,e[5]=(m*w*a-_*y*a+_*r*x-t*w*x-m*r*S+t*y*S)*P,e[6]=(_*c*a-s*w*a-_*r*f+t*w*f+s*r*S-t*c*S)*P,e[7]=(s*y*a-m*c*a+m*r*f-t*y*f-s*r*x+t*c*x)*P,e[8]=N*P,e[9]=(_*g*a-m*M*a-_*n*x+t*M*x+m*n*S-t*g*S)*P,e[10]=(s*M*a-_*o*a+_*n*f-t*M*f-s*n*S+t*o*S)*P,e[11]=(m*o*a-s*g*a-m*n*f+t*g*f+s*n*x-t*o*x)*P,e[12]=k*P,e[13]=(m*M*r-_*g*r+_*n*y-t*M*y-m*n*w+t*g*w)*P,e[14]=(_*o*r-s*M*r-_*n*c+t*M*c+s*n*w-t*o*w)*P,e[15]=(s*g*r-m*o*r+m*n*c-t*g*c-s*n*y+t*o*y)*P,this}scale(e){const t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),a=1-n,s=e.x,o=e.y,c=e.z,f=a*s,m=a*o;return this.set(f*s+n,f*o-r*c,f*c+r*o,0,f*o+r*c,m*o+n,m*c-r*s,0,f*c-r*o,m*c+r*s,a*c*c+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,s){return this.set(1,n,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,a=t._x,s=t._y,o=t._z,c=t._w,f=a+a,m=s+s,g=o+o,y=a*f,x=a*m,_=a*g,M=s*m,w=s*g,S=o*g,A=c*f,D=c*m,N=c*g,k=n.x,z=n.y,P=n.z;return r[0]=(1-(M+S))*k,r[1]=(x+N)*k,r[2]=(_-D)*k,r[3]=0,r[4]=(x-N)*z,r[5]=(1-(y+S))*z,r[6]=(w+A)*z,r[7]=0,r[8]=(_+D)*P,r[9]=(w-A)*P,r[10]=(1-(y+M))*P,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let a=am.set(r[0],r[1],r[2]).length();const s=am.set(r[4],r[5],r[6]).length(),o=am.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],nu.copy(this);const f=1/a,m=1/s,g=1/o;return nu.elements[0]*=f,nu.elements[1]*=f,nu.elements[2]*=f,nu.elements[4]*=m,nu.elements[5]*=m,nu.elements[6]*=m,nu.elements[8]*=g,nu.elements[9]*=g,nu.elements[10]*=g,t.setFromRotationMatrix(nu),n.x=a,n.y=s,n.z=o,this}makePerspective(e,t,n,r,a,s,o=Hl,c=!1){const f=this.elements,m=2*a/(t-e),g=2*a/(n-r),y=(t+e)/(t-e),x=(n+r)/(n-r);let _,M;if(c)_=a/(s-a),M=s*a/(s-a);else if(o===Hl)_=-(s+a)/(s-a),M=-2*s*a/(s-a);else if(o===i1)_=-s/(s-a),M=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return f[0]=m,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=g,f[9]=x,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=M,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,n,r,a,s,o=Hl,c=!1){const f=this.elements,m=2/(t-e),g=2/(n-r),y=-(t+e)/(t-e),x=-(n+r)/(n-r);let _,M;if(c)_=1/(s-a),M=s/(s-a);else if(o===Hl)_=-2/(s-a),M=-(s+a)/(s-a);else if(o===i1)_=-1/(s-a),M=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return f[0]=m,f[4]=0,f[8]=0,f[12]=y,f[1]=0,f[5]=g,f[9]=0,f[13]=x,f[2]=0,f[6]=0,f[10]=_,f[14]=M,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const am=new ae,nu=new yn,UP=new ae(0,0,0),BP=new ae(1,1,1),df=new ae,V2=new ae,Dl=new ae,DT=new yn,NT=new dl;class Wl{constructor(e=0,t=0,n=0,r=Wl.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],c=r[1],f=r[5],m=r[9],g=r[2],y=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-mn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(o,x),this._z=Math.atan2(c,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(mn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-mn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(mn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(o,x));break;case"XZY":this._z=Math.asin(-mn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-m,x),this._y=0);break;default:Lt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return DT.makeRotationFromQuaternion(e),this.setFromRotationMatrix(DT,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return NT.setFromEuler(this),this.setFromQuaternion(NT,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Wl.DEFAULT_ORDER="XYZ";class s1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let kP=0;const zT=new ae,sm=new dl,Zc=new yn,G2=new ae,rv=new ae,IP=new ae,PP=new dl,OT=new ae(1,0,0),LT=new ae(0,1,0),UT=new ae(0,0,1),BT={type:"added"},FP={type:"removed"},lm={type:"childadded",child:null},PS={type:"childremoved",child:null};class di extends hc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:kP++}),this.uuid=Gl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=di.DEFAULT_UP.clone();const e=new ae,t=new Wl,n=new dl,r=new ae(1,1,1);function a(){n.setFromEuler(t,!1)}function s(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new yn},normalMatrix:{value:new Rn}}),this.matrix=new yn,this.matrixWorld=new yn,this.matrixAutoUpdate=di.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new s1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return sm.setFromAxisAngle(e,t),this.quaternion.multiply(sm),this}rotateOnWorldAxis(e,t){return sm.setFromAxisAngle(e,t),this.quaternion.premultiply(sm),this}rotateX(e){return this.rotateOnAxis(OT,e)}rotateY(e){return this.rotateOnAxis(LT,e)}rotateZ(e){return this.rotateOnAxis(UT,e)}translateOnAxis(e,t){return zT.copy(e).applyQuaternion(this.quaternion),this.position.add(zT.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(OT,e)}translateY(e){return this.translateOnAxis(LT,e)}translateZ(e){return this.translateOnAxis(UT,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zc.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?G2.copy(e):G2.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),rv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zc.lookAt(rv,G2,this.up):Zc.lookAt(G2,rv,this.up),this.quaternion.setFromRotationMatrix(Zc),r&&(Zc.extractRotation(r.matrixWorld),sm.setFromRotationMatrix(Zc),this.quaternion.premultiply(sm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(_n("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(BT),lm.child=e,this.dispatchEvent(lm),lm.child=null):_n("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(FP),PS.child=e,this.dispatchEvent(PS),PS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Zc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(BT),lm.child=e,this.dispatchEvent(lm),lm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const s=this.children[n].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rv,e,IP),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rv,PP,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(o,c){return o[c.uuid]===void 0&&(o[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const c=o.shapes;if(Array.isArray(c))for(let f=0,m=c.length;f<m;f++){const g=c[f];a(e.shapes,g)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let c=0,f=this.material.length;c<f;c++)o.push(a(e.materials,this.material[c]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const c=this.animations[o];r.animations.push(a(e.animations,c))}}if(t){const o=s(e.geometries),c=s(e.materials),f=s(e.textures),m=s(e.images),g=s(e.shapes),y=s(e.skeletons),x=s(e.animations),_=s(e.nodes);o.length>0&&(n.geometries=o),c.length>0&&(n.materials=c),f.length>0&&(n.textures=f),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),y.length>0&&(n.skeletons=y),x.length>0&&(n.animations=x),_.length>0&&(n.nodes=_)}return n.object=r,n;function s(o){const c=[];for(const f in o){const m=o[f];delete m.metadata,c.push(m)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const r=e.children[n];this.add(r.clone())}return this}}di.DEFAULT_UP=new ae(0,1,0);di.DEFAULT_MATRIX_AUTO_UPDATE=!0;di.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const iu=new ae,Kc=new ae,FS=new ae,Qc=new ae,om=new ae,um=new ae,kT=new ae,HS=new ae,VS=new ae,GS=new ae,qS=new hi,XS=new hi,YS=new hi;class sl{constructor(e=new ae,t=new ae,n=new ae){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),iu.subVectors(e,t),r.cross(iu);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){iu.subVectors(r,t),Kc.subVectors(n,t),FS.subVectors(e,t);const s=iu.dot(iu),o=iu.dot(Kc),c=iu.dot(FS),f=Kc.dot(Kc),m=Kc.dot(FS),g=s*f-o*o;if(g===0)return a.set(0,0,0),null;const y=1/g,x=(f*c-o*m)*y,_=(s*m-o*c)*y;return a.set(1-x-_,_,x)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Qc)===null?!1:Qc.x>=0&&Qc.y>=0&&Qc.x+Qc.y<=1}static getInterpolation(e,t,n,r,a,s,o,c){return this.getBarycoord(e,t,n,r,Qc)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Qc.x),c.addScaledVector(s,Qc.y),c.addScaledVector(o,Qc.z),c)}static getInterpolatedAttribute(e,t,n,r,a,s){return qS.setScalar(0),XS.setScalar(0),YS.setScalar(0),qS.fromBufferAttribute(e,t),XS.fromBufferAttribute(e,n),YS.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(qS,a.x),s.addScaledVector(XS,a.y),s.addScaledVector(YS,a.z),s}static isFrontFacing(e,t,n,r){return iu.subVectors(n,t),Kc.subVectors(e,t),iu.cross(Kc).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return iu.subVectors(this.c,this.b),Kc.subVectors(this.a,this.b),iu.cross(Kc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,a){return sl.getInterpolation(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return sl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,a=this.c;let s,o;om.subVectors(r,n),um.subVectors(a,n),HS.subVectors(e,n);const c=om.dot(HS),f=um.dot(HS);if(c<=0&&f<=0)return t.copy(n);VS.subVectors(e,r);const m=om.dot(VS),g=um.dot(VS);if(m>=0&&g<=m)return t.copy(r);const y=c*g-m*f;if(y<=0&&c>=0&&m<=0)return s=c/(c-m),t.copy(n).addScaledVector(om,s);GS.subVectors(e,a);const x=om.dot(GS),_=um.dot(GS);if(_>=0&&x<=_)return t.copy(a);const M=x*f-c*_;if(M<=0&&f>=0&&_<=0)return o=f/(f-_),t.copy(n).addScaledVector(um,o);const w=m*_-x*g;if(w<=0&&g-m>=0&&x-_>=0)return kT.subVectors(a,r),o=(g-m)/(g-m+(x-_)),t.copy(r).addScaledVector(kT,o);const S=1/(w+M+y);return s=M*S,o=y*S,t.copy(n).addScaledVector(om,s).addScaledVector(um,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pf={h:0,s:0,l:0},q2={h:0,s:0,l:0};function jS(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Pt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ns){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,oi.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=oi.workingColorSpace){return this.r=e,this.g=t,this.b=n,oi.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=oi.workingColorSpace){if(e=g8(e,1),t=mn(t,0,1),n=mn(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,s=2*n-a;this.r=jS(s,a,e+1/3),this.g=jS(s,a,e),this.b=jS(s,a,e-1/3)}return oi.colorSpaceToWorking(this,r),this}setStyle(e,t=ns){function n(a){a!==void 0&&parseFloat(a)<1&&Lt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:Lt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);Lt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ns){const n=zD[e.toLowerCase()];return n!==void 0?this.setHex(n,t):Lt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=c0(e.r),this.g=c0(e.g),this.b=c0(e.b),this}copyLinearToSRGB(e){return this.r=Gm(e.r),this.g=Gm(e.g),this.b=Gm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ns){return oi.workingToColorSpace(Ja.copy(this),e),Math.round(mn(Ja.r*255,0,255))*65536+Math.round(mn(Ja.g*255,0,255))*256+Math.round(mn(Ja.b*255,0,255))}getHexString(e=ns){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=oi.workingColorSpace){oi.workingToColorSpace(Ja.copy(this),t);const n=Ja.r,r=Ja.g,a=Ja.b,s=Math.max(n,r,a),o=Math.min(n,r,a);let c,f;const m=(o+s)/2;if(o===s)c=0,f=0;else{const g=s-o;switch(f=m<=.5?g/(s+o):g/(2-s-o),s){case n:c=(r-a)/g+(r<a?6:0);break;case r:c=(a-n)/g+2;break;case a:c=(n-r)/g+4;break}c/=6}return e.h=c,e.s=f,e.l=m,e}getRGB(e,t=oi.workingColorSpace){return oi.workingToColorSpace(Ja.copy(this),t),e.r=Ja.r,e.g=Ja.g,e.b=Ja.b,e}getStyle(e=ns){oi.workingToColorSpace(Ja.copy(this),e);const t=Ja.r,n=Ja.g,r=Ja.b;return e!==ns?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,t,n){return this.getHSL(pf),this.setHSL(pf.h+e,pf.s+t,pf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(pf),e.getHSL(q2);const n=Wv(pf.h,q2.h,t),r=Wv(pf.s,q2.s,t),a=Wv(pf.l,q2.l,t);return this.setHSL(n,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*r,this.g=a[1]*t+a[4]*n+a[7]*r,this.b=a[2]*t+a[5]*n+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ja=new Pt;Pt.NAMES=zD;let HP=0;class us extends hc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:HP++}),this.uuid=Gl(),this.name="",this.type="Material",this.blending=Ad,this.side=g0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=_b,this.blendDst=Sb,this.blendEquation=Sf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Pt(0,0,0),this.blendAlpha=0,this.depthFunc=Ld,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=X6,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dd,this.stencilZFail=dd,this.stencilZPass=dd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){Lt(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){Lt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ad&&(n.blending=this.blending),this.side!==g0&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==_b&&(n.blendSrc=this.blendSrc),this.blendDst!==Sb&&(n.blendDst=this.blendDst),this.blendEquation!==Sf&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Ld&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==X6&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==dd&&(n.stencilFail=this.stencilFail),this.stencilZFail!==dd&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==dd&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function r(a){const s=[];for(const o in a){const c=a[o];delete c.metadata,s.push(c)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(n.textures=a),s.length>0&&(n.images=s)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Zf extends us{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wl,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const s0=VP();function VP(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),r=new Uint32Array(512);for(let c=0;c<256;++c){const f=c-127;f<-27?(n[c]=0,n[c|256]=32768,r[c]=24,r[c|256]=24):f<-14?(n[c]=1024>>-f-14,n[c|256]=1024>>-f-14|32768,r[c]=-f-1,r[c|256]=-f-1):f<=15?(n[c]=f+15<<10,n[c|256]=f+15<<10|32768,r[c]=13,r[c|256]=13):f<128?(n[c]=31744,n[c|256]=64512,r[c]=24,r[c|256]=24):(n[c]=31744,n[c|256]=64512,r[c]=13,r[c|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let c=1;c<1024;++c){let f=c<<13,m=0;for(;(f&8388608)===0;)f<<=1,m-=8388608;f&=-8388609,m+=947912704,a[c]=f|m}for(let c=1024;c<2048;++c)a[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(o[c]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function el(i){Math.abs(i)>65504&&Lt("DataUtils.toHalfFloat(): Value out of range."),i=mn(i,-65504,65504),s0.floatView[0]=i;const e=s0.uint32View[0],t=e>>23&511;return s0.baseTable[t]+((e&8388607)>>s0.shiftTable[t])}function Ev(i){const e=i>>10;return s0.uint32View[0]=s0.mantissaTable[s0.offsetTable[e]+(i&1023)]+s0.exponentTable[e],s0.floatView[0]}class GP{static toHalfFloat(e){return el(e)}static fromHalfFloat(e){return Ev(e)}}const Yr=new ae,X2=new rt;let qP=0;class Pi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:qP++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=yx,this.updateRanges=[],this.gpuType=ol,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)X2.fromBufferAttribute(this,t),X2.applyMatrix3(e),this.setXY(t,X2.x,X2.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)Yr.fromBufferAttribute(this,t),Yr.applyMatrix3(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Yr.fromBufferAttribute(this,t),Yr.applyMatrix4(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Yr.fromBufferAttribute(this,t),Yr.applyNormalMatrix(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Yr.fromBufferAttribute(this,t),Yr.transformDirection(e),this.setXYZ(t,Yr.x,Yr.y,Yr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Is(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Dn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Is(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Is(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Is(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Is(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yx&&(e.usage=this.usage),e}}class XP extends Pi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class YP extends Pi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class jP extends Pi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class WP extends Pi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class x8 extends Pi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class ZP extends Pi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class y8 extends Pi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class KP extends Pi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Ev(this.array[e*this.itemSize]);return this.normalized&&(t=Is(t,this.array)),t}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize]=el(t),this}getY(e){let t=Ev(this.array[e*this.itemSize+1]);return this.normalized&&(t=Is(t,this.array)),t}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+1]=el(t),this}getZ(e){let t=Ev(this.array[e*this.itemSize+2]);return this.normalized&&(t=Is(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+2]=el(t),this}getW(e){let t=Ev(this.array[e*this.itemSize+3]);return this.normalized&&(t=Is(t,this.array)),t}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.array[e*this.itemSize+3]=el(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.array[e+0]=el(t),this.array[e+1]=el(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.array[e+0]=el(t),this.array[e+1]=el(n),this.array[e+2]=el(r),this}setXYZW(e,t,n,r,a){return e*=this.itemSize,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.array[e+0]=el(t),this.array[e+1]=el(n),this.array[e+2]=el(r),this.array[e+3]=el(a),this}}class Yt extends Pi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let QP=0;const vo=new yn,WS=new di,cm=new ae,Nl=new os,av=new os,Sa=new ae;class En extends hc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:QP++}),this.uuid=Gl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(RD(e)?y8:x8)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new Rn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vo.makeRotationFromQuaternion(e),this.applyMatrix4(vo),this}rotateX(e){return vo.makeRotationX(e),this.applyMatrix4(vo),this}rotateY(e){return vo.makeRotationY(e),this.applyMatrix4(vo),this}rotateZ(e){return vo.makeRotationZ(e),this.applyMatrix4(vo),this}translate(e,t,n){return vo.makeTranslation(e,t,n),this.applyMatrix4(vo),this}scale(e,t,n){return vo.makeScale(e,t,n),this.applyMatrix4(vo),this}lookAt(e){return WS.lookAt(e),WS.updateMatrix(),this.applyMatrix4(WS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cm).negate(),this.translate(cm.x,cm.y,cm.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Yt(n,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&Lt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new os);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){_n("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const a=t[n];Nl.setFromBufferAttribute(a),this.morphTargetsRelative?(Sa.addVectors(this.boundingBox.min,Nl.min),this.boundingBox.expandByPoint(Sa),Sa.addVectors(this.boundingBox.max,Nl.max),this.boundingBox.expandByPoint(Sa)):(this.boundingBox.expandByPoint(Nl.min),this.boundingBox.expandByPoint(Nl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&_n('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ia);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){_n("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const n=this.boundingSphere.center;if(Nl.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];av.setFromBufferAttribute(o),this.morphTargetsRelative?(Sa.addVectors(Nl.min,av.min),Nl.expandByPoint(Sa),Sa.addVectors(Nl.max,av.max),Nl.expandByPoint(Sa)):(Nl.expandByPoint(av.min),Nl.expandByPoint(av.max))}Nl.getCenter(n);let r=0;for(let a=0,s=e.count;a<s;a++)Sa.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(Sa));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],c=this.morphTargetsRelative;for(let f=0,m=o.count;f<m;f++)Sa.fromBufferAttribute(o,f),c&&(cm.fromBufferAttribute(e,f),Sa.add(cm)),r=Math.max(r,n.distanceToSquared(Sa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&_n('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){_n("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pi(new Float32Array(4*n.count),4));const s=this.getAttribute("tangent"),o=[],c=[];for(let V=0;V<n.count;V++)o[V]=new ae,c[V]=new ae;const f=new ae,m=new ae,g=new ae,y=new rt,x=new rt,_=new rt,M=new ae,w=new ae;function S(V,B,O){f.fromBufferAttribute(n,V),m.fromBufferAttribute(n,B),g.fromBufferAttribute(n,O),y.fromBufferAttribute(a,V),x.fromBufferAttribute(a,B),_.fromBufferAttribute(a,O),m.sub(f),g.sub(f),x.sub(y),_.sub(y);const X=1/(x.x*_.y-_.x*x.y);isFinite(X)&&(M.copy(m).multiplyScalar(_.y).addScaledVector(g,-x.y).multiplyScalar(X),w.copy(g).multiplyScalar(x.x).addScaledVector(m,-_.x).multiplyScalar(X),o[V].add(M),o[B].add(M),o[O].add(M),c[V].add(w),c[B].add(w),c[O].add(w))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let V=0,B=A.length;V<B;++V){const O=A[V],X=O.start,W=O.count;for(let se=X,le=X+W;se<le;se+=3)S(e.getX(se+0),e.getX(se+1),e.getX(se+2))}const D=new ae,N=new ae,k=new ae,z=new ae;function P(V){k.fromBufferAttribute(r,V),z.copy(k);const B=o[V];D.copy(B),D.sub(k.multiplyScalar(k.dot(B))).normalize(),N.crossVectors(z,B);const X=N.dot(c[V])<0?-1:1;s.setXYZW(V,D.x,D.y,D.z,X)}for(let V=0,B=A.length;V<B;++V){const O=A[V],X=O.start,W=O.count;for(let se=X,le=X+W;se<le;se+=3)P(e.getX(se+0)),P(e.getX(se+1)),P(e.getX(se+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Pi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,x=n.count;y<x;y++)n.setXYZ(y,0,0,0);const r=new ae,a=new ae,s=new ae,o=new ae,c=new ae,f=new ae,m=new ae,g=new ae;if(e)for(let y=0,x=e.count;y<x;y+=3){const _=e.getX(y+0),M=e.getX(y+1),w=e.getX(y+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,M),s.fromBufferAttribute(t,w),m.subVectors(s,a),g.subVectors(r,a),m.cross(g),o.fromBufferAttribute(n,_),c.fromBufferAttribute(n,M),f.fromBufferAttribute(n,w),o.add(m),c.add(m),f.add(m),n.setXYZ(_,o.x,o.y,o.z),n.setXYZ(M,c.x,c.y,c.z),n.setXYZ(w,f.x,f.y,f.z)}else for(let y=0,x=t.count;y<x;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),m.subVectors(s,a),g.subVectors(r,a),m.cross(g),n.setXYZ(y+0,m.x,m.y,m.z),n.setXYZ(y+1,m.x,m.y,m.z),n.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Sa.fromBufferAttribute(e,t),Sa.normalize(),e.setXYZ(t,Sa.x,Sa.y,Sa.z)}toNonIndexed(){function e(o,c){const f=o.array,m=o.itemSize,g=o.normalized,y=new f.constructor(c.length*m);let x=0,_=0;for(let M=0,w=c.length;M<w;M++){o.isInterleavedBufferAttribute?x=c[M]*o.data.stride+o.offset:x=c[M]*m;for(let S=0;S<m;S++)y[_++]=f[x++]}return new Pi(y,m,g)}if(this.index===null)return Lt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new En,n=this.index.array,r=this.attributes;for(const o in r){const c=r[o],f=e(c,n);t.setAttribute(o,f)}const a=this.morphAttributes;for(const o in a){const c=[],f=a[o];for(let m=0,g=f.length;m<g;m++){const y=f[m],x=e(y,n);c.push(x)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,c=s.length;o<c;o++){const f=s[o];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const f in c)c[f]!==void 0&&(e[f]=c[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const c in n){const f=n[c];e.data.attributes[c]=f.toJSON(e.data)}const r={};let a=!1;for(const c in this.morphAttributes){const f=this.morphAttributes[c],m=[];for(let g=0,y=f.length;g<y;g++){const x=f[g];m.push(x.toJSON(e.data))}m.length>0&&(r[c]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const r=e.attributes;for(const f in r){const m=r[f];this.setAttribute(f,m.clone(t))}const a=e.morphAttributes;for(const f in a){const m=[],g=a[f];for(let y=0,x=g.length;y<x;y++)m.push(g[y].clone(t));this.morphAttributes[f]=m}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,m=s.length;f<m;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const IT=new yn,Zh=new v1,Y2=new Ia,PT=new ae,j2=new ae,W2=new ae,Z2=new ae,ZS=new ae,K2=new ae,FT=new ae,Q2=new ae;class ua extends di{constructor(e=new En,t=new Zf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,a=n.morphAttributes.position,s=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){K2.set(0,0,0);for(let c=0,f=a.length;c<f;c++){const m=o[c],g=a[c];m!==0&&(ZS.fromBufferAttribute(g,e),s?K2.addScaledVector(ZS,m):K2.addScaledVector(ZS.sub(t),m))}t.add(K2)}return t}raycast(e,t){const n=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),Y2.copy(n.boundingSphere),Y2.applyMatrix4(a),Zh.copy(e.ray).recast(e.near),!(Y2.containsPoint(Zh.origin)===!1&&(Zh.intersectSphere(Y2,PT)===null||Zh.origin.distanceToSquared(PT)>(e.far-e.near)**2))&&(IT.copy(a).invert(),Zh.copy(e.ray).applyMatrix4(IT),!(n.boundingBox!==null&&Zh.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Zh)))}_computeIntersections(e,t,n){let r;const a=this.geometry,s=this.material,o=a.index,c=a.attributes.position,f=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,y=a.groups,x=a.drawRange;if(o!==null)if(Array.isArray(s))for(let _=0,M=y.length;_<M;_++){const w=y[_],S=s[w.materialIndex],A=Math.max(w.start,x.start),D=Math.min(o.count,Math.min(w.start+w.count,x.start+x.count));for(let N=A,k=D;N<k;N+=3){const z=o.getX(N),P=o.getX(N+1),V=o.getX(N+2);r=J2(this,S,e,n,f,m,g,z,P,V),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(o.count,x.start+x.count);for(let w=_,S=M;w<S;w+=3){const A=o.getX(w),D=o.getX(w+1),N=o.getX(w+2);r=J2(this,s,e,n,f,m,g,A,D,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}else if(c!==void 0)if(Array.isArray(s))for(let _=0,M=y.length;_<M;_++){const w=y[_],S=s[w.materialIndex],A=Math.max(w.start,x.start),D=Math.min(c.count,Math.min(w.start+w.count,x.start+x.count));for(let N=A,k=D;N<k;N+=3){const z=N,P=N+1,V=N+2;r=J2(this,S,e,n,f,m,g,z,P,V),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(c.count,x.start+x.count);for(let w=_,S=M;w<S;w+=3){const A=w,D=w+1,N=w+2;r=J2(this,s,e,n,f,m,g,A,D,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}}}function JP(i,e,t,n,r,a,s,o){let c;if(e.side===Hs?c=n.intersectTriangle(s,a,r,!0,o):c=n.intersectTriangle(r,a,s,e.side===g0,o),c===null)return null;Q2.copy(o),Q2.applyMatrix4(i.matrixWorld);const f=t.ray.origin.distanceTo(Q2);return f<t.near||f>t.far?null:{distance:f,point:Q2.clone(),object:i}}function J2(i,e,t,n,r,a,s,o,c,f){i.getVertexPosition(o,j2),i.getVertexPosition(c,W2),i.getVertexPosition(f,Z2);const m=JP(i,e,t,n,j2,W2,Z2,FT);if(m){const g=new ae;sl.getBarycoord(FT,j2,W2,Z2,g),r&&(m.uv=sl.getInterpolatedAttribute(r,o,c,f,g,new rt)),a&&(m.uv1=sl.getInterpolatedAttribute(a,o,c,f,g,new rt)),s&&(m.normal=sl.getInterpolatedAttribute(s,o,c,f,g,new ae),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const y={a:o,b:c,c:f,normal:new ae,materialIndex:0};sl.getNormal(j2,W2,Z2,y.normal),m.face=y,m.barycoord=g}return m}class Hd extends En{constructor(e=1,t=1,n=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const c=[],f=[],m=[],g=[];let y=0,x=0;_("z","y","x",-1,-1,n,t,e,s,a,0),_("z","y","x",1,-1,n,t,-e,s,a,1),_("x","z","y",1,1,e,n,t,r,s,2),_("x","z","y",1,-1,e,n,-t,r,s,3),_("x","y","z",1,-1,e,t,n,r,a,4),_("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(c),this.setAttribute("position",new Yt(f,3)),this.setAttribute("normal",new Yt(m,3)),this.setAttribute("uv",new Yt(g,2));function _(M,w,S,A,D,N,k,z,P,V,B){const O=N/P,X=k/V,W=N/2,se=k/2,le=z/2,ie=P+1,Y=V+1;let te=0,re=0;const ye=new ae;for(let F=0;F<Y;F++){const J=F*X-se;for(let ge=0;ge<ie;ge++){const Z=ge*O-W;ye[M]=Z*A,ye[w]=J*D,ye[S]=le,f.push(ye.x,ye.y,ye.z),ye[M]=0,ye[w]=0,ye[S]=z>0?1:-1,m.push(ye.x,ye.y,ye.z),g.push(ge/P),g.push(1-F/V),te+=1}}for(let F=0;F<V;F++)for(let J=0;J<P;J++){const ge=y+J+ie*F,Z=y+J+ie*(F+1),Oe=y+(J+1)+ie*(F+1),We=y+(J+1)+ie*F;c.push(ge,Z,We),c.push(Z,Oe,We),re+=6}o.addGroup(x,re,B),x+=re,y+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function l1(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const r=i[t][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(Lt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=r.clone():Array.isArray(r)?e[t][n]=r.slice():e[t][n]=r}}return e}function zs(i){const e={};for(let t=0;t<i.length;t++){const n=l1(i[t]);for(const r in n)e[r]=n[r]}return e}function $P(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function OD(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:oi.workingColorSpace}const LD={clone:l1,merge:zs};var eF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,tF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Co extends us{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=eF,this.fragmentShader=tF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=l1(e.uniforms),this.uniformsGroups=$P(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)this.extensions[r]===!0&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class H4 extends di{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new yn,this.projectionMatrix=new yn,this.projectionMatrixInverse=new yn,this.coordinateSystem=Hl,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const mf=new ae,HT=new rt,VT=new rt;class Ta extends H4{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=a1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Cd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return a1*2*Math.atan(Math.tan(Cd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){mf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(mf.x,mf.y).multiplyScalar(-e/mf.z),mf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(mf.x,mf.y).multiplyScalar(-e/mf.z)}getViewSize(e,t){return this.getViewBounds(e,HT,VT),t.subVectors(VT,HT)}setViewOffset(e,t,n,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Cd*.5*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/c,t-=s.offsetY*n/f,r*=s.width/c,n*=s.height/f}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const fm=-90,hm=1;class UD extends di{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ta(fm,hm,e,t);r.layers=this.layers,this.add(r);const a=new Ta(fm,hm,e,t);a.layers=this.layers,this.add(a);const s=new Ta(fm,hm,e,t);s.layers=this.layers,this.add(s);const o=new Ta(fm,hm,e,t);o.layers=this.layers,this.add(o);const c=new Ta(fm,hm,e,t);c.layers=this.layers,this.add(c);const f=new Ta(fm,hm,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,a,s,o,c]=t;for(const f of t)this.remove(f);if(e===Hl)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===i1)n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,c,f,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const M=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,s),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,c),e.setRenderTarget(n,4,r),e.render(t,f),n.texture.generateMipmaps=M,e.setRenderTarget(n,5,r),e.render(t,m),e.setRenderTarget(g,y,x),e.xr.enabled=_,n.texture.needsPMREMUpdate=!0}}class Vx extends Cr{constructor(e=[],t=v0,n,r,a,s,o,c,f,m){super(e,t,n,r,a,s,o,c,f,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class BD extends cc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Vx(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Hd(5,5,5),a=new Co({name:"CubemapFromEquirect",uniforms:l1(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Hs,blending:lc});a.uniforms.tEquirect.value=t;const s=new ua(r,a),o=t.minFilter;return t.minFilter===nc&&(t.minFilter=Pr),new UD(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,n,r);e.setRenderTarget(a)}}class Bm extends di{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nF={type:"move"};class nb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,s=null;const o=this._targetRay,c=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const M of e.hand.values()){const w=t.getJointPose(M,n),S=this._getHandJoint(f,M);w!==null&&(S.matrix.fromArray(w.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=w.radius),S.visible=w!==null}const m=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=m.position.distanceTo(g.position),x=.02,_=.005;f.inputState.pinching&&y>x+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=x-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,n),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(nF)))}return o!==null&&(o.visible=r!==null),c!==null&&(c.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Bm;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class V4{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Pt(e),this.density=t}clone(){return new V4(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class G4{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Pt(e),this.near=t,this.far=n}clone(){return new G4(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class b8 extends di{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Wl,this.environmentIntensity=1,this.environmentRotation=new Wl,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class q4{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yx,this.updateRanges=[],this.version=0,this.uuid=Gl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Rs=new ae;class Ud{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Rs.fromBufferAttribute(this,t),Rs.applyMatrix4(e),this.setXYZ(t,Rs.x,Rs.y,Rs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Rs.fromBufferAttribute(this,t),Rs.applyNormalMatrix(e),this.setXYZ(t,Rs.x,Rs.y,Rs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Rs.fromBufferAttribute(this,t),Rs.transformDirection(e),this.setXYZ(t,Rs.x,Rs.y,Rs.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Is(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Dn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Dn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Is(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Is(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Is(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Is(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Dn(t,this.array),n=Dn(n,this.array),r=Dn(r,this.array),a=Dn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){_x("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Pi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ud(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){_x("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _8 extends us{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let dm;const sv=new ae,pm=new ae,mm=new ae,gm=new rt,lv=new rt,kD=new yn,$2=new ae,ov=new ae,e3=new ae,GT=new rt,KS=new rt,qT=new rt;class ID extends di{constructor(e=new _8){if(super(),this.isSprite=!0,this.type="Sprite",dm===void 0){dm=new En;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new q4(t,5);dm.setIndex([0,1,2,0,2,3]),dm.setAttribute("position",new Ud(n,3,0,!1)),dm.setAttribute("uv",new Ud(n,2,3,!1))}this.geometry=dm,this.material=e,this.center=new rt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&_n('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),pm.setFromMatrixScale(this.matrixWorld),kD.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),mm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&pm.multiplyScalar(-mm.z);const n=this.material.rotation;let r,a;n!==0&&(a=Math.cos(n),r=Math.sin(n));const s=this.center;t3($2.set(-.5,-.5,0),mm,s,pm,r,a),t3(ov.set(.5,-.5,0),mm,s,pm,r,a),t3(e3.set(.5,.5,0),mm,s,pm,r,a),GT.set(0,0),KS.set(1,0),qT.set(1,1);let o=e.ray.intersectTriangle($2,ov,e3,!1,sv);if(o===null&&(t3(ov.set(-.5,.5,0),mm,s,pm,r,a),KS.set(0,1),o=e.ray.intersectTriangle($2,e3,ov,!1,sv),o===null))return;const c=e.ray.origin.distanceTo(sv);c<e.near||c>e.far||t.push({distance:c,point:sv.clone(),uv:sl.getInterpolation(sv,$2,ov,e3,GT,KS,qT,new rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function t3(i,e,t,n,r,a){gm.subVectors(i,t).addScalar(.5).multiply(n),r!==void 0?(lv.x=a*gm.x-r*gm.y,lv.y=r*gm.x+a*gm.y):lv.copy(gm),i.copy(e),i.x+=lv.x,i.y+=lv.y,i.applyMatrix4(kD)}const n3=new ae,XT=new ae;class PD extends di{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const r=t.splice(n,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){n3.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(n3);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){n3.setFromMatrixPosition(e.matrixWorld),XT.setFromMatrixPosition(this.matrixWorld);const n=n3.distanceTo(XT)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),n>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,a=n.length;r<a;r++){const s=n[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const YT=new ae,jT=new hi,WT=new hi,iF=new ae,ZT=new yn,i3=new ae,QS=new Ia,KT=new yn,JS=new v1;class FD extends ua{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=q6,this.bindMatrix=new yn,this.bindMatrixInverse=new yn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new os),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,i3),this.boundingBox.expandByPoint(i3)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ia),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,i3),this.boundingSphere.expandByPoint(i3)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),QS.copy(this.boundingSphere),QS.applyMatrix4(r),e.ray.intersectsSphere(QS)!==!1&&(KT.copy(r).invert(),JS.copy(e.ray).applyMatrix4(KT),!(this.boundingBox!==null&&JS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,JS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new hi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===q6?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mD?this.bindMatrixInverse.copy(this.bindMatrix).invert():Lt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;jT.fromBufferAttribute(r.attributes.skinIndex,e),WT.fromBufferAttribute(r.attributes.skinWeight,e),YT.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=WT.getComponent(a);if(s!==0){const o=jT.getComponent(a);ZT.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(iF.copy(YT).applyMatrix4(ZT),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class S8 extends di{constructor(){super(),this.isBone=!0,this.type="Bone"}}class cu extends Cr{constructor(e=null,t=1,n=1,r,a,s,o,c,f=ka,m=ka,g,y){super(null,s,o,c,f,m,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const QT=new yn,rF=new yn;class X4{constructor(e=[],t=[]){this.uuid=Gl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Lt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new yn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new yn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:rF;QT.multiplyMatrices(o,t[a]),QT.toArray(n,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new X4(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new cu(t,e,e,as,ol);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const a=e.bones[n];let s=t[a];s===void 0&&(Lt("Skeleton: No bone found with UUID:",a),s=new S8),this.bones.push(s),this.boneInverses.push(new yn().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class o1 extends Pi{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const vm=new yn,JT=new yn,r3=[],$T=new os,aF=new yn,uv=new ua,cv=new Ia;class HD extends ua{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new o1(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,aF)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new os),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,vm),$T.copy(e.boundingBox).applyMatrix4(vm),this.boundingBox.union($T)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ia),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,vm),cv.copy(e.boundingSphere).applyMatrix4(vm),this.boundingSphere.union(cv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=n.length+1,s=e*a+1;for(let o=0;o<n.length;o++)n[o]=r[s+o]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(uv.geometry=this.geometry,uv.material=this.material,uv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cv.copy(this.boundingSphere),cv.applyMatrix4(n),e.ray.intersectsSphere(cv)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,vm),JT.multiplyMatrices(n,vm),uv.matrixWorld=JT,uv.raycast(e,r3);for(let s=0,o=r3.length;s<o;s++){const c=r3[s];c.instanceId=a,c.object=this,t.push(c)}r3.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new o1(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;this.morphTexture===null&&(this.morphTexture=new cu(new Float32Array(r*this.count),r,this.count,L4,ol));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<n.length;f++)s+=n[f];const o=this.geometry.morphTargetsRelative?1:1-s,c=r*e;a[c]=o,a.set(n,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const $S=new ae,sF=new ae,lF=new Rn;class _f{constructor(e=new ae(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=$S.subVectors(n,t).cross(sF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta($S),r=this.normal.dot(n);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||lF.getNormalMatrix(e),r=this.coplanarPoint($S).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kh=new Ia,oF=new rt(.5,.5),a3=new ae;class x1{constructor(e=new _f,t=new _f,n=new _f,r=new _f,a=new _f,s=new _f){this.planes=[e,t,n,r,a,s]}set(e,t,n,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Hl,n=!1){const r=this.planes,a=e.elements,s=a[0],o=a[1],c=a[2],f=a[3],m=a[4],g=a[5],y=a[6],x=a[7],_=a[8],M=a[9],w=a[10],S=a[11],A=a[12],D=a[13],N=a[14],k=a[15];if(r[0].setComponents(f-s,x-m,S-_,k-A).normalize(),r[1].setComponents(f+s,x+m,S+_,k+A).normalize(),r[2].setComponents(f+o,x+g,S+M,k+D).normalize(),r[3].setComponents(f-o,x-g,S-M,k-D).normalize(),n)r[4].setComponents(c,y,w,N).normalize(),r[5].setComponents(f-c,x-y,S-w,k-N).normalize();else if(r[4].setComponents(f-c,x-y,S-w,k-N).normalize(),t===Hl)r[5].setComponents(f+c,x+y,S+w,k+N).normalize();else if(t===i1)r[5].setComponents(c,y,w,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Kh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Kh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Kh)}intersectsSprite(e){Kh.center.set(0,0,0);const t=oF.distanceTo(e.center);return Kh.radius=.7071067811865476+t,Kh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kh)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(a3.x=r.normal.x>0?e.max.x:e.min.x,a3.y=r.normal.y>0?e.max.y:e.min.y,a3.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(a3)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ju=new yn,Wu=new x1;class Y4{constructor(){this.coordinateSystem=Hl}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(ju.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Wu.setFromProjectionMatrix(ju,r.coordinateSystem,r.reversedDepth),Wu.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(ju.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Wu.setFromProjectionMatrix(ju,r.coordinateSystem,r.reversedDepth),Wu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(ju.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Wu.setFromProjectionMatrix(ju,r.coordinateSystem,r.reversedDepth),Wu.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(ju.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Wu.setFromProjectionMatrix(ju,r.coordinateSystem,r.reversedDepth),Wu.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(ju.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Wu.setFromProjectionMatrix(ju,r.coordinateSystem,r.reversedDepth),Wu.containsPoint(e))return!0}return!1}clone(){return new Y4}}function e5(i,e){return i-e}function uF(i,e){return i.z-e.z}function cF(i,e){return e.z-i.z}class fF{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const $s=new yn,hF=new Pt(1,1,1),eE=new x1,dF=new Y4,s3=new os,Qh=new Ia,fv=new ae,tE=new ae,pF=new ae,t5=new fF,$a=new ua,l3=[];function mF(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const r=i.count;for(let a=0;a<r;a++)for(let s=0;s<n;s++)e.setComponent(a+t,s,i.getComponent(a,s))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Jh(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class VD extends ua{constructor(e,t,n=t*2,r){super(new En,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new cu(t,e,e,as,ol);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new cu(t,e,e,Hx,x0);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new cu(t,e,e,as,ol);n.colorSpace=oi.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:c,normalized:f}=s,m=new o.constructor(n*c),g=new Pi(m,c,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Pi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),a=t.getAttribute(n);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new os);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,$s),this.getBoundingBoxAt(a,s3).applyMatrix4($s),e.union(s3)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ia);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,$s),this.getBoundingSphereAt(a,Qh).applyMatrix4($s),e.union(Qh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(e5),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=n):(r=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;$s.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(hF.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=n===-1?s.count:n),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(e5),c=this._availableGeometryIds.shift(),a[c]=r):(c=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(c,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,c}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=n.getIndex()!==null,a=n.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=o.vertexStart,f=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const g=t.getAttribute(m),y=n.getAttribute(m);mF(g,y,c);const x=g.itemSize;for(let _=g.count,M=f;_<M;_++){const w=c+_;for(let S=0;S<x;S++)y.setComponent(w,S,0)}y.needsUpdate=!0,y.addUpdateRange(c*x,f*x)}if(r){const m=o.indexStart,g=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<s.count;y++)a.setX(m+y,c+s.getX(y));for(let y=s.count,x=g;y<x;y++)a.setX(m+y,c);a.needsUpdate=!0,a.addUpdateRange(m,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let r=0,a=n.length;r<a;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((s,o)=>o).sort((s,o)=>n[s].vertexStart-n[o].vertexStart),a=this.geometry;for(let s=0,o=n.length;s<o;s++){const c=r[s],f=n[c];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=f,x=a.index,_=x.array,M=e-g;for(let w=m;w<m+y;w++)_[w]=_[w]+M;x.array.copyWithin(t,m,m+y),x.addUpdateRange(t,y),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=f,y=a.attributes;for(const x in y){const _=y[x],{array:M,itemSize:w}=_;M.copyWithin(e*w,m*w,(m+g)*w),_.addUpdateRange(e*w,g*w)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new os,s=n.index,o=n.attributes.position;for(let c=r.start,f=r.start+r.count;c<f;c++){let m=c;s&&(m=s.getX(m)),a.expandByPoint(fv.fromBufferAttribute(o,m))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Ia;this.getBoundingBoxAt(e,s3),s3.getCenter(a.center);const s=n.index,o=n.attributes.position;let c=0;for(let f=r.start,m=r.start+r.count;f<m;f++){let g=f;s&&(g=s.getX(g)),fv.fromBufferAttribute(o,g),c=Math.max(c,a.center.distanceToSquared(fv))}a.radius=Math.sqrt(c),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(e5);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Jh(this._multiDrawCounts,r),Jh(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Jh(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Jh(o.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Jh(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...n.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(c=>c.indexStart+c.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new En,this._initializeGeometry(a));const s=this.geometry;a.index&&Jh(a.index.array,s.index.array);for(const o in a.attributes)Jh(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;$a.material=this.material,$a.geometry.index=s.index,$a.geometry.attributes=s.attributes,$a.geometry.boundingBox===null&&($a.geometry.boundingBox=new os),$a.geometry.boundingSphere===null&&($a.geometry.boundingSphere=new Ia);for(let o=0,c=n.length;o<c;o++){if(!n[o].visible||!n[o].active)continue;const f=n[o].geometryIndex,m=r[f];$a.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(o,$a.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,$a.geometry.boundingBox),this.getBoundingSphereAt(f,$a.geometry.boundingSphere),$a.raycast(e,l3);for(let g=0,y=l3.length;g<y;g++){const x=l3[g];x.object=this,x.batchId=o,t.push(x)}l3.length=0}$a.material=null,$a.geometry.index=null,$a.geometry.attributes={},$a.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._instanceInfo,f=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,x=this._indirectTexture,_=x.image.data,M=n.isArrayCamera?dF:eE;y&&!n.isArrayCamera&&($s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),eE.setFromProjectionMatrix($s,n.coordinateSystem,n.reversedDepth));let w=0;if(this.sortObjects){$s.copy(this.matrixWorld).invert(),fv.setFromMatrixPosition(n.matrixWorld).applyMatrix4($s),tE.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection($s);for(let D=0,N=c.length;D<N;D++)if(c[D].visible&&c[D].active){const k=c[D].geometryIndex;this.getMatrixAt(D,$s),this.getBoundingSphereAt(k,Qh).applyMatrix4($s);let z=!1;if(y&&(z=!M.intersectsSphere(Qh,n)),!z){const P=g[k],V=pF.subVectors(Qh.center,fv).dot(tE);t5.push(P.start,P.count,V,D)}}const S=t5.list,A=this.customSort;A===null?S.sort(a.transparent?cF:uF):A.call(this,S,n);for(let D=0,N=S.length;D<N;D++){const k=S[D];f[w]=k.start*o,m[w]=k.count,_[w]=k.index,w++}t5.reset()}else for(let S=0,A=c.length;S<A;S++)if(c[S].visible&&c[S].active){const D=c[S].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(S,$s),this.getBoundingSphereAt(D,Qh).applyMatrix4($s),N=!M.intersectsSphere(Qh,n)),!N){const k=g[D];f[w]=k.start*o,m[w]=k.count,_[w]=S,w++}}x.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class Vs extends us{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const a4=new ae,s4=new ae,nE=new yn,hv=new v1,o3=new Ia,n5=new ae,iE=new ae;class Vf extends di{constructor(e=new En,t=new Vs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)a4.fromBufferAttribute(t,r-1),s4.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=a4.distanceTo(s4);e.setAttribute("lineDistance",new Yt(n,1))}else Lt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),o3.copy(n.boundingSphere),o3.applyMatrix4(r),o3.radius+=a,e.ray.intersectsSphere(o3)===!1)return;nE.copy(r).invert(),hv.copy(e.ray).applyMatrix4(nE);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,f=this.isLineSegments?2:1,m=n.index,y=n.attributes.position;if(m!==null){const x=Math.max(0,s.start),_=Math.min(m.count,s.start+s.count);for(let M=x,w=_-1;M<w;M+=f){const S=m.getX(M),A=m.getX(M+1),D=u3(this,e,hv,c,S,A,M);D&&t.push(D)}if(this.isLineLoop){const M=m.getX(_-1),w=m.getX(x),S=u3(this,e,hv,c,M,w,_-1);S&&t.push(S)}}else{const x=Math.max(0,s.start),_=Math.min(y.count,s.start+s.count);for(let M=x,w=_-1;M<w;M+=f){const S=u3(this,e,hv,c,M,M+1,M);S&&t.push(S)}if(this.isLineLoop){const M=u3(this,e,hv,c,_-1,x,_-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function u3(i,e,t,n,r,a,s){const o=i.geometry.attributes.position;if(a4.fromBufferAttribute(o,r),s4.fromBufferAttribute(o,a),t.distanceSqToSegment(a4,s4,n5,iE)>n)return;n5.applyMatrix4(i.matrixWorld);const f=e.ray.origin.distanceTo(n5);if(!(f<e.near||f>e.far))return{distance:f,point:iE.clone().applyMatrix4(i.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:i}}const rE=new ae,aE=new ae;class dc extends Vf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)rE.fromBufferAttribute(t,r),aE.fromBufferAttribute(t,r+1),n[r]=r===0?0:n[r-1],n[r+1]=n[r]+rE.distanceTo(aE);e.setAttribute("lineDistance",new Yt(n,1))}else Lt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class GD extends Vf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class M8 extends us{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sE=new yn,j6=new v1,c3=new Ia,f3=new ae;class qD extends di{constructor(e=new En,t=new M8){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),c3.copy(n.boundingSphere),c3.applyMatrix4(r),c3.radius+=a,e.ray.intersectsSphere(c3)===!1)return;sE.copy(r).invert(),j6.copy(e.ray).applyMatrix4(sE);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,f=n.index,g=n.attributes.position;if(f!==null){const y=Math.max(0,s.start),x=Math.min(f.count,s.start+s.count);for(let _=y,M=x;_<M;_++){const w=f.getX(_);f3.fromBufferAttribute(g,w),lE(f3,w,c,r,e,t,this)}}else{const y=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let _=y,M=x;_<M;_++)f3.fromBufferAttribute(g,_),lE(f3,_,c,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function lE(i,e,t,n,r,a,s){const o=j6.distanceSqToPoint(i);if(o<t){const c=new ae;j6.closestPointToPoint(i,c),c.applyMatrix4(n);const f=r.ray.origin.distanceTo(c);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class XD extends Cr{constructor(e,t,n,r,a=Pr,s=Pr,o,c,f){super(e,t,n,r,a,s,o,c,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class gF extends XD{constructor(e,t,n,r,a,s,o,c){super({},e,t,n,r,a,s,o,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class vF extends Cr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ka,this.minFilter=ka,this.generateMipmaps=!1,this.needsUpdate=!0}}class j4 extends Cr{constructor(e,t,n,r,a,s,o,c,f,m,g,y){super(null,s,o,c,f,m,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xF extends j4{constructor(e,t,n,r,a,s){super(e,t,n,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ll,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class yF extends j4{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,v0),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class bF extends Cr{constructor(e,t,n,r,a,s,o,c,f){super(e,t,n,r,a,s,o,c,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class w8 extends Cr{constructor(e,t,n=x0,r,a,s,o=ka,c=ka,f,m=t1,g=1){if(m!==t1&&m!==n1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,r,a,s,o,c,m,n,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Rf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class T8 extends Cr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class W4 extends En{constructor(e=1,t=1,n=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],o=[],c=[],f=[],m=t/2,g=Math.PI/2*e,y=t,x=2*g+y,_=n*2+a,M=r+1,w=new ae,S=new ae;for(let A=0;A<=_;A++){let D=0,N=0,k=0,z=0;if(A<=n){const B=A/n,O=B*Math.PI/2;N=-m-e*Math.cos(O),k=e*Math.sin(O),z=-e*Math.cos(O),D=B*g}else if(A<=n+a){const B=(A-n)/a;N=-m+B*t,k=e,z=0,D=g+B*y}else{const B=(A-n-a)/n,O=B*Math.PI/2;N=m+e*Math.sin(O),k=e*Math.cos(O),z=e*Math.sin(O),D=g+y+B*g}const P=Math.max(0,Math.min(1,D/x));let V=0;A===0?V=.5/r:A===_&&(V=-.5/r);for(let B=0;B<=r;B++){const O=B/r,X=O*Math.PI*2,W=Math.sin(X),se=Math.cos(X);S.x=-k*se,S.y=N,S.z=k*W,o.push(S.x,S.y,S.z),w.set(-k*se,z,k*W),w.normalize(),c.push(w.x,w.y,w.z),f.push(O+V,P)}if(A>0){const B=(A-1)*M;for(let O=0;O<r;O++){const X=B+O,W=B+O+1,se=A*M+O,le=A*M+O+1;s.push(X,W,se),s.push(W,le,se)}}}this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(c,3)),this.setAttribute("uv",new Yt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W4(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Z4 extends En{constructor(e=1,t=32,n=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const a=[],s=[],o=[],c=[],f=new ae,m=new rt;s.push(0,0,0),o.push(0,0,1),c.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const x=n+g/t*r;f.x=e*Math.cos(x),f.y=e*Math.sin(x),s.push(f.x,f.y,f.z),o.push(0,0,1),m.x=(s[y]/e+1)/2,m.y=(s[y+1]/e+1)/2,c.push(m.x,m.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("normal",new Yt(o,3)),this.setAttribute("uv",new Yt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Z4(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gx extends En{constructor(e=1,t=1,n=1,r=32,a=1,s=!1,o=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:c};const f=this;r=Math.floor(r),a=Math.floor(a);const m=[],g=[],y=[],x=[];let _=0;const M=[],w=n/2;let S=0;A(),s===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Yt(g,3)),this.setAttribute("normal",new Yt(y,3)),this.setAttribute("uv",new Yt(x,2));function A(){const N=new ae,k=new ae;let z=0;const P=(t-e)/n;for(let V=0;V<=a;V++){const B=[],O=V/a,X=O*(t-e)+e;for(let W=0;W<=r;W++){const se=W/r,le=se*c+o,ie=Math.sin(le),Y=Math.cos(le);k.x=X*ie,k.y=-O*n+w,k.z=X*Y,g.push(k.x,k.y,k.z),N.set(ie,P,Y).normalize(),y.push(N.x,N.y,N.z),x.push(se,1-O),B.push(_++)}M.push(B)}for(let V=0;V<r;V++)for(let B=0;B<a;B++){const O=M[B][V],X=M[B+1][V],W=M[B+1][V+1],se=M[B][V+1];(e>0||B!==0)&&(m.push(O,X,se),z+=3),(t>0||B!==a-1)&&(m.push(X,W,se),z+=3)}f.addGroup(S,z,0),S+=z}function D(N){const k=_,z=new rt,P=new ae;let V=0;const B=N===!0?e:t,O=N===!0?1:-1;for(let W=1;W<=r;W++)g.push(0,w*O,0),y.push(0,O,0),x.push(.5,.5),_++;const X=_;for(let W=0;W<=r;W++){const le=W/r*c+o,ie=Math.cos(le),Y=Math.sin(le);P.x=B*Y,P.y=w*O,P.z=B*ie,g.push(P.x,P.y,P.z),y.push(0,O,0),z.x=ie*.5+.5,z.y=Y*.5*O+.5,x.push(z.x,z.y),_++}for(let W=0;W<r;W++){const se=k+W,le=X+W;N===!0?m.push(le,le+1,se):m.push(le+1,le,se),V+=3}f.addGroup(S,V,N===!0?1:2),S+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gx(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qx extends Gx{constructor(e=1,t=1,n=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,n,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new qx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kf extends En{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const a=[],s=[];o(r),f(n),m(),this.setAttribute("position",new Yt(a,3)),this.setAttribute("normal",new Yt(a.slice(),3)),this.setAttribute("uv",new Yt(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(A){const D=new ae,N=new ae,k=new ae;for(let z=0;z<t.length;z+=3)x(t[z+0],D),x(t[z+1],N),x(t[z+2],k),c(D,N,k,A)}function c(A,D,N,k){const z=k+1,P=[];for(let V=0;V<=z;V++){P[V]=[];const B=A.clone().lerp(N,V/z),O=D.clone().lerp(N,V/z),X=z-V;for(let W=0;W<=X;W++)W===0&&V===z?P[V][W]=B:P[V][W]=B.clone().lerp(O,W/X)}for(let V=0;V<z;V++)for(let B=0;B<2*(z-V)-1;B++){const O=Math.floor(B/2);B%2===0?(y(P[V][O+1]),y(P[V+1][O]),y(P[V][O])):(y(P[V][O+1]),y(P[V+1][O+1]),y(P[V+1][O]))}}function f(A){const D=new ae;for(let N=0;N<a.length;N+=3)D.x=a[N+0],D.y=a[N+1],D.z=a[N+2],D.normalize().multiplyScalar(A),a[N+0]=D.x,a[N+1]=D.y,a[N+2]=D.z}function m(){const A=new ae;for(let D=0;D<a.length;D+=3){A.x=a[D+0],A.y=a[D+1],A.z=a[D+2];const N=w(A)/2/Math.PI+.5,k=S(A)/Math.PI+.5;s.push(N,1-k)}_(),g()}function g(){for(let A=0;A<s.length;A+=6){const D=s[A+0],N=s[A+2],k=s[A+4],z=Math.max(D,N,k),P=Math.min(D,N,k);z>.9&&P<.1&&(D<.2&&(s[A+0]+=1),N<.2&&(s[A+2]+=1),k<.2&&(s[A+4]+=1))}}function y(A){a.push(A.x,A.y,A.z)}function x(A,D){const N=A*3;D.x=e[N+0],D.y=e[N+1],D.z=e[N+2]}function _(){const A=new ae,D=new ae,N=new ae,k=new ae,z=new rt,P=new rt,V=new rt;for(let B=0,O=0;B<a.length;B+=9,O+=6){A.set(a[B+0],a[B+1],a[B+2]),D.set(a[B+3],a[B+4],a[B+5]),N.set(a[B+6],a[B+7],a[B+8]),z.set(s[O+0],s[O+1]),P.set(s[O+2],s[O+3]),V.set(s[O+4],s[O+5]),k.copy(A).add(D).add(N).divideScalar(3);const X=w(k);M(z,O+0,A,X),M(P,O+2,D,X),M(V,O+4,N,X)}}function M(A,D,N,k){k<0&&A.x===1&&(s[D]=A.x-1),N.x===0&&N.z===0&&(s[D]=k/2/Math.PI+.5)}function w(A){return Math.atan2(A.z,-A.x)}function S(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kf(e.vertices,e.indices,e.radius,e.details)}}class K4 extends Kf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new K4(e.radius,e.detail)}}const h3=new ae,d3=new ae,i5=new ae,p3=new sl;class YD extends En{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(Cd*t),s=e.getIndex(),o=e.getAttribute("position"),c=s?s.count:o.count,f=[0,0,0],m=["a","b","c"],g=new Array(3),y={},x=[];for(let _=0;_<c;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:M,b:w,c:S}=p3;if(M.fromBufferAttribute(o,f[0]),w.fromBufferAttribute(o,f[1]),S.fromBufferAttribute(o,f[2]),p3.getNormal(i5),g[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let A=0;A<3;A++){const D=(A+1)%3,N=g[A],k=g[D],z=p3[m[A]],P=p3[m[D]],V=`${N}_${k}`,B=`${k}_${N}`;B in y&&y[B]?(i5.dot(y[B].normal)<=a&&(x.push(z.x,z.y,z.z),x.push(P.x,P.y,P.z)),y[B]=null):V in y||(y[V]={index0:f[A],index1:f[D],normal:i5.clone()})}}for(const _ in y)if(y[_]){const{index0:M,index1:w}=y[_];h3.fromBufferAttribute(o,M),d3.fromBufferAttribute(o,w),x.push(h3.x,h3.y,h3.z),x.push(d3.x,d3.y,d3.z)}this.setAttribute("position",new Yt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class pu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Lt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)n=this.getPoint(s/e),a+=n.distanceTo(r),t.push(a),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const a=n.length;let s;t?s=t:s=e*n[a-1];let o=0,c=a-1,f;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),f=n[r]-s,f<0)o=r+1;else if(f>0)c=r-1;else{c=r;break}if(r=c,n[r]===s)return r/(a-1);const m=n[r],y=n[r+1]-m,x=(s-m)/y;return(r+x)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),c=t||(s.isVector2?new rt:new ae);return c.copy(o).sub(s).normalize(),c}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new ae,r=[],a=[],s=[],o=new ae,c=new yn;for(let x=0;x<=e;x++){const _=x/e;r[x]=this.getTangentAt(_,new ae)}a[0]=new ae,s[0]=new ae;let f=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=f&&(f=m,n.set(1,0,0)),g<=f&&(f=g,n.set(0,1,0)),y<=f&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),s[x]=s[x-1].clone(),o.crossVectors(r[x-1],r[x]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(mn(r[x-1].dot(r[x]),-1,1));a[x].applyMatrix4(c.makeRotationAxis(o,_))}s[x].crossVectors(r[x],a[x])}if(t===!0){let x=Math.acos(mn(a[0].dot(a[e]),-1,1));x/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(x=-x);for(let _=1;_<=e;_++)a[_].applyMatrix4(c.makeRotationAxis(r[_],x*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Q4 extends pu{constructor(e=0,t=0,n=1,r=1,a=0,s=Math.PI*2,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=c}getPoint(e,t=new rt){const n=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let c=this.aX+this.xRadius*Math.cos(o),f=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=c-this.aX,x=f-this.aY;c=y*m-x*g+this.aX,f=y*g+x*m+this.aY}return n.set(c,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class jD extends Q4{constructor(e,t,n,r,a,s){super(e,t,n,n,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function E8(){let i=0,e=0,t=0,n=0;function r(a,s,o,c){i=a,e=o,t=-3*a+3*s-2*o-c,n=2*a-2*s+o+c}return{initCatmullRom:function(a,s,o,c,f){r(s,o,f*(o-a),f*(c-s))},initNonuniformCatmullRom:function(a,s,o,c,f,m,g){let y=(s-a)/f-(o-a)/(f+m)+(o-s)/m,x=(o-s)/m-(c-s)/(m+g)+(c-o)/g;y*=m,x*=m,r(s,o,y,x)},calc:function(a){const s=a*a,o=s*a;return i+e*a+t*s+n*o}}}const m3=new ae,r5=new E8,a5=new E8,s5=new E8;class WD extends pu{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new ae){const n=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),c=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:c===0&&o===a-1&&(o=a-2,c=1);let f,m;this.closed||o>0?f=r[(o-1)%a]:(m3.subVectors(r[0],r[1]).add(r[0]),f=m3);const g=r[o%a],y=r[(o+1)%a];if(this.closed||o+2<a?m=r[(o+2)%a]:(m3.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=m3),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(g),x),M=Math.pow(g.distanceToSquared(y),x),w=Math.pow(y.distanceToSquared(m),x);M<1e-4&&(M=1),_<1e-4&&(_=M),w<1e-4&&(w=M),r5.initNonuniformCatmullRom(f.x,g.x,y.x,m.x,_,M,w),a5.initNonuniformCatmullRom(f.y,g.y,y.y,m.y,_,M,w),s5.initNonuniformCatmullRom(f.z,g.z,y.z,m.z,_,M,w)}else this.curveType==="catmullrom"&&(r5.initCatmullRom(f.x,g.x,y.x,m.x,this.tension),a5.initCatmullRom(f.y,g.y,y.y,m.y,this.tension),s5.initCatmullRom(f.z,g.z,y.z,m.z,this.tension));return n.set(r5.calc(c),a5.calc(c),s5.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new ae().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oE(i,e,t,n,r){const a=(n-e)*.5,s=(r-t)*.5,o=i*i,c=i*o;return(2*t-2*n+a+s)*c+(-3*t+3*n-2*a-s)*o+a*i+t}function _F(i,e){const t=1-i;return t*t*e}function SF(i,e){return 2*(1-i)*i*e}function MF(i,e){return i*i*e}function Zv(i,e,t,n){return _F(i,e)+SF(i,t)+MF(i,n)}function wF(i,e){const t=1-i;return t*t*t*e}function TF(i,e){const t=1-i;return 3*t*t*i*e}function EF(i,e){return 3*(1-i)*i*i*e}function AF(i,e){return i*i*i*e}function Kv(i,e,t,n,r){return wF(i,e)+TF(i,t)+EF(i,n)+AF(i,r)}class A8 extends pu{constructor(e=new rt,t=new rt,n=new rt,r=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new rt){const n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(Kv(e,r.x,a.x,s.x,o.x),Kv(e,r.y,a.y,s.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZD extends pu{constructor(e=new ae,t=new ae,n=new ae,r=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new ae){const n=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return n.set(Kv(e,r.x,a.x,s.x,o.x),Kv(e,r.y,a.y,s.y,o.y),Kv(e,r.z,a.z,s.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class C8 extends pu{constructor(e=new rt,t=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rt){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new rt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KD extends pu{constructor(e=new ae,t=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new ae){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ae){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class R8 extends pu{constructor(e=new rt,t=new rt,n=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new rt){const n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(Zv(e,r.x,a.x,s.x),Zv(e,r.y,a.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class D8 extends pu{constructor(e=new ae,t=new ae,n=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new ae){const n=t,r=this.v0,a=this.v1,s=this.v2;return n.set(Zv(e,r.x,a.x,s.x),Zv(e,r.y,a.y,s.y),Zv(e,r.z,a.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N8 extends pu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rt){const n=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,c=r[s===0?s:s-1],f=r[s],m=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return n.set(oE(o,c.x,f.x,m.x,g.x),oE(o,c.y,f.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const r=e.points[t];this.points.push(new rt().fromArray(r))}return this}}var l4=Object.freeze({__proto__:null,ArcCurve:jD,CatmullRomCurve3:WD,CubicBezierCurve:A8,CubicBezierCurve3:ZD,EllipseCurve:Q4,LineCurve:C8,LineCurve3:KD,QuadraticBezierCurve:R8,QuadraticBezierCurve3:D8,SplineCurve:N8});class QD extends pu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new l4[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=n){const s=r[a]-n,o=this.curves[a],c=o.getLength(),f=c===0?0:1-s/c;return o.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(o);for(let f=0;f<c.length;f++){const m=c[f];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const r=e.curves[t];this.curves.push(new l4[r.type]().fromJSON(r))}return this}}class o4 extends QD{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new C8(this.currentPoint.clone(),new rt(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const a=new R8(this.currentPoint.clone(),new rt(e,t),new rt(n,r));return this.curves.push(a),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,a,s){const o=new A8(this.currentPoint.clone(),new rt(e,t),new rt(n,r),new rt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new N8(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,a,s){const o=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+o,t+c,n,r,a,s),this}absarc(e,t,n,r,a,s){return this.absellipse(e,t,n,n,r,a,s),this}ellipse(e,t,n,r,a,s,o,c){const f=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+f,t+m,n,r,a,s,o,c),this}absellipse(e,t,n,r,a,s,o,c){const f=new Q4(e,t,n,r,a,s,o,c);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const m=f.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Rd extends o4{constructor(e){super(e),this.uuid=Gl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const r=e.holes[t];this.holes.push(new o4().fromJSON(r))}return this}}function CF(i,e,t=2){const n=e&&e.length,r=n?e[0]*t:i.length;let a=JD(i,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,c,f;if(n&&(a=OF(i,e,a,t)),i.length>80*t){o=i[0],c=i[1];let m=o,g=c;for(let y=t;y<r;y+=t){const x=i[y],_=i[y+1];x<o&&(o=x),_<c&&(c=_),x>m&&(m=x),_>g&&(g=_)}f=Math.max(m-o,g-c),f=f!==0?32767/f:0}return Sx(a,s,t,o,c,f,0),s}function JD(i,e,t,n,r){let a;if(r===qF(i,e,t,n)>0)for(let s=e;s<t;s+=n)a=uE(s/n|0,i[s],i[s+1],a);else for(let s=t-n;s>=e;s-=n)a=uE(s/n|0,i[s],i[s+1],a);return a&&u1(a,a.next)&&(wx(a),a=a.next),a}function Bd(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(u1(t,t.next)||yr(t.prev,t,t.next)===0)){if(wx(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Sx(i,e,t,n,r,a,s){if(!i)return;!s&&a&&IF(i,n,r,a);let o=i;for(;i.prev!==i.next;){const c=i.prev,f=i.next;if(a?DF(i,n,r,a):RF(i)){e.push(c.i,i.i,f.i),wx(i),i=f.next,o=f.next;continue}if(i=f,i===o){s?s===1?(i=NF(Bd(i),e),Sx(i,e,t,n,r,a,2)):s===2&&zF(i,e,t,n,r,a):Sx(Bd(i),e,t,n,r,a,1);break}}}function RF(i){const e=i.prev,t=i,n=i.next;if(yr(e,t,n)>=0)return!1;const r=e.x,a=t.x,s=n.x,o=e.y,c=t.y,f=n.y,m=Math.min(r,a,s),g=Math.min(o,c,f),y=Math.max(r,a,s),x=Math.max(o,c,f);let _=n.next;for(;_!==e;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=x&&Av(r,o,a,c,s,f,_.x,_.y)&&yr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function DF(i,e,t,n){const r=i.prev,a=i,s=i.next;if(yr(r,a,s)>=0)return!1;const o=r.x,c=a.x,f=s.x,m=r.y,g=a.y,y=s.y,x=Math.min(o,c,f),_=Math.min(m,g,y),M=Math.max(o,c,f),w=Math.max(m,g,y),S=W6(x,_,e,t,n),A=W6(M,w,e,t,n);let D=i.prevZ,N=i.nextZ;for(;D&&D.z>=S&&N&&N.z<=A;){if(D.x>=x&&D.x<=M&&D.y>=_&&D.y<=w&&D!==r&&D!==s&&Av(o,m,c,g,f,y,D.x,D.y)&&yr(D.prev,D,D.next)>=0||(D=D.prevZ,N.x>=x&&N.x<=M&&N.y>=_&&N.y<=w&&N!==r&&N!==s&&Av(o,m,c,g,f,y,N.x,N.y)&&yr(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;D&&D.z>=S;){if(D.x>=x&&D.x<=M&&D.y>=_&&D.y<=w&&D!==r&&D!==s&&Av(o,m,c,g,f,y,D.x,D.y)&&yr(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;N&&N.z<=A;){if(N.x>=x&&N.x<=M&&N.y>=_&&N.y<=w&&N!==r&&N!==s&&Av(o,m,c,g,f,y,N.x,N.y)&&yr(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function NF(i,e){let t=i;do{const n=t.prev,r=t.next.next;!u1(n,r)&&eN(n,t,t.next,r)&&Mx(n,r)&&Mx(r,n)&&(e.push(n.i,t.i,r.i),wx(t),wx(t.next),t=i=r),t=t.next}while(t!==i);return Bd(t)}function zF(i,e,t,n,r,a){let s=i;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&HF(s,o)){let c=tN(s,o);s=Bd(s,s.next),c=Bd(c,c.next),Sx(s,e,t,n,r,a,0),Sx(c,e,t,n,r,a,0);return}o=o.next}s=s.next}while(s!==i)}function OF(i,e,t,n){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*n,c=a<s-1?e[a+1]*n:i.length,f=JD(i,o,c,n,!1);f===f.next&&(f.steiner=!0),r.push(FF(f))}r.sort(LF);for(let a=0;a<r.length;a++)t=UF(r[a],t);return t}function LF(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=n-r}return t}function UF(i,e){const t=BF(i,e);if(!t)return e;const n=tN(t,i);return Bd(n,n.next),Bd(t,t.next)}function BF(i,e){let t=e;const n=i.x,r=i.y;let a=-1/0,s;if(u1(i,t))return t;do{if(u1(i,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===n))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,c=s.x,f=s.y;let m=1/0;t=s;do{if(n>=t.x&&t.x>=c&&n!==t.x&&$D(r<f?n:a,r,c,f,r<f?a:n,r,t.x,t.y)){const g=Math.abs(r-t.y)/(n-t.x);Mx(t,i)&&(g<m||g===m&&(t.x>s.x||t.x===s.x&&kF(s,t)))&&(s=t,m=g)}t=t.next}while(t!==o);return s}function kF(i,e){return yr(i.prev,i,e.prev)<0&&yr(e.next,i,i.next)<0}function IF(i,e,t,n){let r=i;do r.z===0&&(r.z=W6(r.x,r.y,e,t,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==i);r.prevZ.nextZ=null,r.prevZ=null,PF(r)}function PF(i){let e,t=1;do{let n=i,r;i=null;let a=null;for(e=0;n;){e++;let s=n,o=0;for(let f=0;f<t&&(o++,s=s.nextZ,!!s);f++);let c=t;for(;o>0||c>0&&s;)o!==0&&(c===0||!s||n.z<=s.z)?(r=n,n=n.nextZ,o--):(r=s,s=s.nextZ,c--),a?a.nextZ=r:i=r,r.prevZ=a,a=r;n=s}a.nextZ=null,t*=2}while(e>1);return i}function W6(i,e,t,n,r){return i=(i-t)*r|0,e=(e-n)*r|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function FF(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function $D(i,e,t,n,r,a,s,o){return(r-s)*(e-o)>=(i-s)*(a-o)&&(i-s)*(n-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(r-s)*(n-o)}function Av(i,e,t,n,r,a,s,o){return!(i===s&&e===o)&&$D(i,e,t,n,r,a,s,o)}function HF(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!VF(i,e)&&(Mx(i,e)&&Mx(e,i)&&GF(i,e)&&(yr(i.prev,i,e.prev)||yr(i,e.prev,e))||u1(i,e)&&yr(i.prev,i,i.next)>0&&yr(e.prev,e,e.next)>0)}function yr(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function u1(i,e){return i.x===e.x&&i.y===e.y}function eN(i,e,t,n){const r=v3(yr(i,e,t)),a=v3(yr(i,e,n)),s=v3(yr(t,n,i)),o=v3(yr(t,n,e));return!!(r!==a&&s!==o||r===0&&g3(i,t,e)||a===0&&g3(i,n,e)||s===0&&g3(t,i,n)||o===0&&g3(t,e,n))}function g3(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function v3(i){return i>0?1:i<0?-1:0}function VF(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&eN(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function Mx(i,e){return yr(i.prev,i,i.next)<0?yr(i,e,i.next)>=0&&yr(i,i.prev,e)>=0:yr(i,e,i.prev)<0||yr(i,i.next,e)<0}function GF(i,e){let t=i,n=!1;const r=(i.x+e.x)/2,a=(i.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function tN(i,e){const t=Z6(i.i,i.x,i.y),n=Z6(e.i,e.x,e.y),r=i.next,a=e.prev;return i.next=e,e.prev=i,t.next=r,r.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function uE(i,e,t,n){const r=Z6(i,e,t);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function wx(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function Z6(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function qF(i,e,t,n){let r=0;for(let a=e,s=t-n;a<t;a+=n)r+=(i[s]-i[a])*(i[a+1]+i[s+1]),s=a;return r}class XF{static triangulate(e,t,n=2){return CF(e,t,n)}}class uu{static area(e){const t=e.length;let n=0;for(let r=t-1,a=0;a<t;r=a++)n+=e[r].x*e[a].y-e[a].x*e[r].y;return n*.5}static isClockWise(e){return uu.area(e)<0}static triangulateShape(e,t){const n=[],r=[],a=[];cE(e),fE(n,e);let s=e.length;t.forEach(cE);for(let c=0;c<t.length;c++)r.push(s),s+=t[c].length,fE(n,t[c]);const o=XF.triangulate(n,r);for(let c=0;c<o.length;c+=3)a.push(o.slice(c,c+3));return a}}function cE(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function fE(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class J4 extends En{constructor(e=new Rd([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],a=[];for(let o=0,c=e.length;o<c;o++){const f=e[o];s(f)}this.setAttribute("position",new Yt(r,3)),this.setAttribute("uv",new Yt(a,2)),this.computeVertexNormals();function s(o){const c=[],f=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:x-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:YF;let D,N=!1,k,z,P,V;S&&(D=S.getSpacedPoints(m),N=!0,y=!1,k=S.computeFrenetFrames(m,!1),z=new ae,P=new ae,V=new ae),y||(w=0,x=0,_=0,M=0);const B=o.extractPoints(f);let O=B.shape;const X=B.holes;if(!uu.isClockWise(O)){O=O.reverse();for(let Fe=0,ee=X.length;Fe<ee;Fe++){const Ge=X[Fe];uu.isClockWise(Ge)&&(X[Fe]=Ge.reverse())}}function se(Fe){const Ge=10000000000000001e-36;let fe=Fe[0];for(let it=1;it<=Fe.length;it++){const Ze=it%Fe.length,xt=Fe[Ze],tt=xt.x-fe.x,Mt=xt.y-fe.y,ne=tt*tt+Mt*Mt,q=Math.max(Math.abs(xt.x),Math.abs(xt.y),Math.abs(fe.x),Math.abs(fe.y)),Te=Ge*q*q;if(ne<=Te){Fe.splice(Ze,1),it--;continue}fe=xt}}se(O),X.forEach(se);const le=X.length,ie=O;for(let Fe=0;Fe<le;Fe++){const ee=X[Fe];O=O.concat(ee)}function Y(Fe,ee,Ge){return ee||_n("ExtrudeGeometry: vec does not exist"),Fe.clone().addScaledVector(ee,Ge)}const te=O.length;function re(Fe,ee,Ge){let fe,it,Ze;const xt=Fe.x-ee.x,tt=Fe.y-ee.y,Mt=Ge.x-Fe.x,ne=Ge.y-Fe.y,q=xt*xt+tt*tt,Te=xt*ne-tt*Mt;if(Math.abs(Te)>Number.EPSILON){const oe=Math.sqrt(q),ve=Math.sqrt(Mt*Mt+ne*ne),Se=ee.x-tt/oe,nt=ee.y+xt/oe,Qe=Ge.x-ne/ve,Rt=Ge.y+Mt/ve,ft=((Qe-Se)*ne-(Rt-nt)*Mt)/(xt*ne-tt*Mt);fe=Se+xt*ft-Fe.x,it=nt+tt*ft-Fe.y;const Ve=fe*fe+it*it;if(Ve<=2)return new rt(fe,it);Ze=Math.sqrt(Ve/2)}else{let oe=!1;xt>Number.EPSILON?Mt>Number.EPSILON&&(oe=!0):xt<-Number.EPSILON?Mt<-Number.EPSILON&&(oe=!0):Math.sign(tt)===Math.sign(ne)&&(oe=!0),oe?(fe=-tt,it=xt,Ze=Math.sqrt(q)):(fe=xt,it=tt,Ze=Math.sqrt(q/2))}return new rt(fe/Ze,it/Ze)}const ye=[];for(let Fe=0,ee=ie.length,Ge=ee-1,fe=Fe+1;Fe<ee;Fe++,Ge++,fe++)Ge===ee&&(Ge=0),fe===ee&&(fe=0),ye[Fe]=re(ie[Fe],ie[Ge],ie[fe]);const F=[];let J,ge=ye.concat();for(let Fe=0,ee=le;Fe<ee;Fe++){const Ge=X[Fe];J=[];for(let fe=0,it=Ge.length,Ze=it-1,xt=fe+1;fe<it;fe++,Ze++,xt++)Ze===it&&(Ze=0),xt===it&&(xt=0),J[fe]=re(Ge[fe],Ge[Ze],Ge[xt]);F.push(J),ge=ge.concat(J)}let Z;if(w===0)Z=uu.triangulateShape(ie,X);else{const Fe=[],ee=[];for(let Ge=0;Ge<w;Ge++){const fe=Ge/w,it=x*Math.cos(fe*Math.PI/2),Ze=_*Math.sin(fe*Math.PI/2)+M;for(let xt=0,tt=ie.length;xt<tt;xt++){const Mt=Y(ie[xt],ye[xt],Ze);at(Mt.x,Mt.y,-it),fe===0&&Fe.push(Mt)}for(let xt=0,tt=le;xt<tt;xt++){const Mt=X[xt];J=F[xt];const ne=[];for(let q=0,Te=Mt.length;q<Te;q++){const oe=Y(Mt[q],J[q],Ze);at(oe.x,oe.y,-it),fe===0&&ne.push(oe)}fe===0&&ee.push(ne)}}Z=uu.triangulateShape(Fe,ee)}const Oe=Z.length,We=_+M;for(let Fe=0;Fe<te;Fe++){const ee=y?Y(O[Fe],ge[Fe],We):O[Fe];N?(P.copy(k.normals[0]).multiplyScalar(ee.x),z.copy(k.binormals[0]).multiplyScalar(ee.y),V.copy(D[0]).add(P).add(z),at(V.x,V.y,V.z)):at(ee.x,ee.y,0)}for(let Fe=1;Fe<=m;Fe++)for(let ee=0;ee<te;ee++){const Ge=y?Y(O[ee],ge[ee],We):O[ee];N?(P.copy(k.normals[Fe]).multiplyScalar(Ge.x),z.copy(k.binormals[Fe]).multiplyScalar(Ge.y),V.copy(D[Fe]).add(P).add(z),at(V.x,V.y,V.z)):at(Ge.x,Ge.y,g/m*Fe)}for(let Fe=w-1;Fe>=0;Fe--){const ee=Fe/w,Ge=x*Math.cos(ee*Math.PI/2),fe=_*Math.sin(ee*Math.PI/2)+M;for(let it=0,Ze=ie.length;it<Ze;it++){const xt=Y(ie[it],ye[it],fe);at(xt.x,xt.y,g+Ge)}for(let it=0,Ze=X.length;it<Ze;it++){const xt=X[it];J=F[it];for(let tt=0,Mt=xt.length;tt<Mt;tt++){const ne=Y(xt[tt],J[tt],fe);N?at(ne.x,ne.y+D[m-1].y,D[m-1].x+Ge):at(ne.x,ne.y,g+Ge)}}}be(),Ne();function be(){const Fe=r.length/3;if(y){let ee=0,Ge=te*ee;for(let fe=0;fe<Oe;fe++){const it=Z[fe];_t(it[2]+Ge,it[1]+Ge,it[0]+Ge)}ee=m+w*2,Ge=te*ee;for(let fe=0;fe<Oe;fe++){const it=Z[fe];_t(it[0]+Ge,it[1]+Ge,it[2]+Ge)}}else{for(let ee=0;ee<Oe;ee++){const Ge=Z[ee];_t(Ge[2],Ge[1],Ge[0])}for(let ee=0;ee<Oe;ee++){const Ge=Z[ee];_t(Ge[0]+te*m,Ge[1]+te*m,Ge[2]+te*m)}}n.addGroup(Fe,r.length/3-Fe,0)}function Ne(){const Fe=r.length/3;let ee=0;Ye(ie,ee),ee+=ie.length;for(let Ge=0,fe=X.length;Ge<fe;Ge++){const it=X[Ge];Ye(it,ee),ee+=it.length}n.addGroup(Fe,r.length/3-Fe,1)}function Ye(Fe,ee){let Ge=Fe.length;for(;--Ge>=0;){const fe=Ge;let it=Ge-1;it<0&&(it=Fe.length-1);for(let Ze=0,xt=m+w*2;Ze<xt;Ze++){const tt=te*Ze,Mt=te*(Ze+1),ne=ee+fe+tt,q=ee+it+tt,Te=ee+it+Mt,oe=ee+fe+Mt;kt(ne,q,Te,oe)}}}function at(Fe,ee,Ge){c.push(Fe),c.push(ee),c.push(Ge)}function _t(Fe,ee,Ge){rn(Fe),rn(ee),rn(Ge);const fe=r.length/3,it=A.generateTopUV(n,r,fe-3,fe-2,fe-1);dt(it[0]),dt(it[1]),dt(it[2])}function kt(Fe,ee,Ge,fe){rn(Fe),rn(ee),rn(fe),rn(ee),rn(Ge),rn(fe);const it=r.length/3,Ze=A.generateSideWallUV(n,r,it-6,it-3,it-2,it-1);dt(Ze[0]),dt(Ze[1]),dt(Ze[3]),dt(Ze[1]),dt(Ze[2]),dt(Ze[3])}function rn(Fe){r.push(c[Fe*3+0]),r.push(c[Fe*3+1]),r.push(c[Fe*3+2])}function dt(Fe){a.push(Fe.x),a.push(Fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return jF(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];n.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new l4[r.type]().fromJSON(r)),new J4(n,e.options)}}const YF={generateTopUV:function(i,e,t,n,r){const a=e[t*3],s=e[t*3+1],o=e[n*3],c=e[n*3+1],f=e[r*3],m=e[r*3+1];return[new rt(a,s),new rt(o,c),new rt(f,m)]},generateSideWallUV:function(i,e,t,n,r,a){const s=e[t*3],o=e[t*3+1],c=e[t*3+2],f=e[n*3],m=e[n*3+1],g=e[n*3+2],y=e[r*3],x=e[r*3+1],_=e[r*3+2],M=e[a*3],w=e[a*3+1],S=e[a*3+2];return Math.abs(o-m)<Math.abs(s-f)?[new rt(s,1-c),new rt(f,1-g),new rt(y,1-_),new rt(M,1-S)]:[new rt(o,1-c),new rt(m,1-g),new rt(x,1-_),new rt(w,1-S)]}};function jF(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,r=i.length;n<r;n++){const a=i[n];t.shapes.push(a.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class $4 extends Kf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $4(e.radius,e.detail)}}class e_ extends En{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],t=12,n=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=mn(r,0,Math.PI*2);const a=[],s=[],o=[],c=[],f=[],m=1/t,g=new ae,y=new rt,x=new ae,_=new ae,M=new ae;let w=0,S=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:w=e[A+1].x-e[A].x,S=e[A+1].y-e[A].y,x.x=S*1,x.y=-w,x.z=S*0,M.copy(x),x.normalize(),c.push(x.x,x.y,x.z);break;case e.length-1:c.push(M.x,M.y,M.z);break;default:w=e[A+1].x-e[A].x,S=e[A+1].y-e[A].y,x.x=S*1,x.y=-w,x.z=S*0,_.copy(x),x.x+=M.x,x.y+=M.y,x.z+=M.z,x.normalize(),c.push(x.x,x.y,x.z),M.copy(_)}for(let A=0;A<=t;A++){const D=n+A*m*r,N=Math.sin(D),k=Math.cos(D);for(let z=0;z<=e.length-1;z++){g.x=e[z].x*N,g.y=e[z].y,g.z=e[z].x*k,s.push(g.x,g.y,g.z),y.x=A/t,y.y=z/(e.length-1),o.push(y.x,y.y);const P=c[3*z+0]*N,V=c[3*z+1],B=c[3*z+0]*k;f.push(P,V,B)}}for(let A=0;A<t;A++)for(let D=0;D<e.length-1;D++){const N=D+A*e.length,k=N,z=N+e.length,P=N+e.length+1,V=N+1;a.push(k,z,V),a.push(P,V,z)}this.setIndex(a),this.setAttribute("position",new Yt(s,3)),this.setAttribute("uv",new Yt(o,2)),this.setAttribute("normal",new Yt(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e_(e.points,e.segments,e.phiStart,e.phiLength)}}class Xx extends Kf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xx(e.radius,e.detail)}}class y1 extends En{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const a=e/2,s=t/2,o=Math.floor(n),c=Math.floor(r),f=o+1,m=c+1,g=e/o,y=t/c,x=[],_=[],M=[],w=[];for(let S=0;S<m;S++){const A=S*y-s;for(let D=0;D<f;D++){const N=D*g-a;_.push(N,-A,0),M.push(0,0,1),w.push(D/o),w.push(1-S/c)}}for(let S=0;S<c;S++)for(let A=0;A<o;A++){const D=A+f*S,N=A+f*(S+1),k=A+1+f*(S+1),z=A+1+f*S;x.push(D,N,z),x.push(N,k,z)}this.setIndex(x),this.setAttribute("position",new Yt(_,3)),this.setAttribute("normal",new Yt(M,3)),this.setAttribute("uv",new Yt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.width,e.height,e.widthSegments,e.heightSegments)}}class t_ extends En{constructor(e=.5,t=1,n=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:a,thetaLength:s},n=Math.max(3,n),r=Math.max(1,r);const o=[],c=[],f=[],m=[];let g=e;const y=(t-e)/r,x=new ae,_=new rt;for(let M=0;M<=r;M++){for(let w=0;w<=n;w++){const S=a+w/n*s;x.x=g*Math.cos(S),x.y=g*Math.sin(S),c.push(x.x,x.y,x.z),f.push(0,0,1),_.x=(x.x/t+1)/2,_.y=(x.y/t+1)/2,m.push(_.x,_.y)}g+=y}for(let M=0;M<r;M++){const w=M*(n+1);for(let S=0;S<n;S++){const A=S+w,D=A,N=A+n+1,k=A+n+2,z=A+1;o.push(D,N,z),o.push(N,k,z)}}this.setIndex(o),this.setAttribute("position",new Yt(c,3)),this.setAttribute("normal",new Yt(f,3)),this.setAttribute("uv",new Yt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class n_ extends En{constructor(e=new Rd([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],a=[],s=[];let o=0,c=0;if(Array.isArray(e)===!1)f(e);else for(let m=0;m<e.length;m++)f(e[m]),this.addGroup(o,c,m),o+=c,c=0;this.setIndex(n),this.setAttribute("position",new Yt(r,3)),this.setAttribute("normal",new Yt(a,3)),this.setAttribute("uv",new Yt(s,2));function f(m){const g=r.length/3,y=m.extractPoints(t);let x=y.shape;const _=y.holes;uu.isClockWise(x)===!1&&(x=x.reverse());for(let w=0,S=_.length;w<S;w++){const A=_[w];uu.isClockWise(A)===!0&&(_[w]=A.reverse())}const M=uu.triangulateShape(x,_);for(let w=0,S=_.length;w<S;w++){const A=_[w];x=x.concat(A)}for(let w=0,S=x.length;w<S;w++){const A=x[w];r.push(A.x,A.y,0),a.push(0,0,1),s.push(A.x,A.y)}for(let w=0,S=M.length;w<S;w++){const A=M[w],D=A[0]+g,N=A[1]+g,k=A[2]+g;n.push(D,N,k),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return WF(t,e)}static fromJSON(e,t){const n=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];n.push(s)}return new n_(n,e.curveSegments)}}function WF(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const r=i[t];e.shapes.push(r.uuid)}else e.shapes.push(i.uuid);return e}class Yx extends En{constructor(e=1,t=32,n=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const c=Math.min(s+o,Math.PI);let f=0;const m=[],g=new ae,y=new ae,x=[],_=[],M=[],w=[];for(let S=0;S<=n;S++){const A=[],D=S/n;let N=0;S===0&&s===0?N=.5/t:S===n&&c===Math.PI&&(N=-.5/t);for(let k=0;k<=t;k++){const z=k/t;g.x=-e*Math.cos(r+z*a)*Math.sin(s+D*o),g.y=e*Math.cos(s+D*o),g.z=e*Math.sin(r+z*a)*Math.sin(s+D*o),_.push(g.x,g.y,g.z),y.copy(g).normalize(),M.push(y.x,y.y,y.z),w.push(z+N,1-D),A.push(f++)}m.push(A)}for(let S=0;S<n;S++)for(let A=0;A<t;A++){const D=m[S][A+1],N=m[S][A],k=m[S+1][A],z=m[S+1][A+1];(S!==0||s>0)&&x.push(D,N,z),(S!==n-1||c<Math.PI)&&x.push(N,k,z)}this.setIndex(x),this.setAttribute("position",new Yt(_,3)),this.setAttribute("normal",new Yt(M,3)),this.setAttribute("uv",new Yt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yx(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class i_ extends Kf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new i_(e.radius,e.detail)}}class r_ extends En{constructor(e=1,t=.4,n=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:a},n=Math.floor(n),r=Math.floor(r);const s=[],o=[],c=[],f=[],m=new ae,g=new ae,y=new ae;for(let x=0;x<=n;x++)for(let _=0;_<=r;_++){const M=_/r*a,w=x/n*Math.PI*2;g.x=(e+t*Math.cos(w))*Math.cos(M),g.y=(e+t*Math.cos(w))*Math.sin(M),g.z=t*Math.sin(w),o.push(g.x,g.y,g.z),m.x=e*Math.cos(M),m.y=e*Math.sin(M),y.subVectors(g,m).normalize(),c.push(y.x,y.y,y.z),f.push(_/r),f.push(x/n)}for(let x=1;x<=n;x++)for(let _=1;_<=r;_++){const M=(r+1)*x+_-1,w=(r+1)*(x-1)+_-1,S=(r+1)*(x-1)+_,A=(r+1)*x+_;s.push(M,w,A),s.push(w,S,A)}this.setIndex(s),this.setAttribute("position",new Yt(o,3)),this.setAttribute("normal",new Yt(c,3)),this.setAttribute("uv",new Yt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class a_ extends En{constructor(e=1,t=.4,n=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:a,q:s},n=Math.floor(n),r=Math.floor(r);const o=[],c=[],f=[],m=[],g=new ae,y=new ae,x=new ae,_=new ae,M=new ae,w=new ae,S=new ae;for(let D=0;D<=n;++D){const N=D/n*a*Math.PI*2;A(N,a,s,e,x),A(N+.01,a,s,e,_),w.subVectors(_,x),S.addVectors(_,x),M.crossVectors(w,S),S.crossVectors(M,w),M.normalize(),S.normalize();for(let k=0;k<=r;++k){const z=k/r*Math.PI*2,P=-t*Math.cos(z),V=t*Math.sin(z);g.x=x.x+(P*S.x+V*M.x),g.y=x.y+(P*S.y+V*M.y),g.z=x.z+(P*S.z+V*M.z),c.push(g.x,g.y,g.z),y.subVectors(g,x).normalize(),f.push(y.x,y.y,y.z),m.push(D/n),m.push(k/r)}}for(let D=1;D<=n;D++)for(let N=1;N<=r;N++){const k=(r+1)*(D-1)+(N-1),z=(r+1)*D+(N-1),P=(r+1)*D+N,V=(r+1)*(D-1)+N;o.push(k,z,V),o.push(z,P,V)}this.setIndex(o),this.setAttribute("position",new Yt(c,3)),this.setAttribute("normal",new Yt(f,3)),this.setAttribute("uv",new Yt(m,2));function A(D,N,k,z,P){const V=Math.cos(D),B=Math.sin(D),O=k/N*D,X=Math.cos(O);P.x=z*(2+X)*.5*V,P.y=z*(2+X)*B*.5,P.z=z*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class s_ extends En{constructor(e=new D8(new ae(-1,-1,0),new ae(-1,1,0),new ae(1,1,0)),t=64,n=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new ae,c=new ae,f=new rt;let m=new ae;const g=[],y=[],x=[],_=[];M(),this.setIndex(_),this.setAttribute("position",new Yt(g,3)),this.setAttribute("normal",new Yt(y,3)),this.setAttribute("uv",new Yt(x,2));function M(){for(let D=0;D<t;D++)w(D);w(a===!1?t:0),A(),S()}function w(D){m=e.getPointAt(D/t,m);const N=s.normals[D],k=s.binormals[D];for(let z=0;z<=r;z++){const P=z/r*Math.PI*2,V=Math.sin(P),B=-Math.cos(P);c.x=B*N.x+V*k.x,c.y=B*N.y+V*k.y,c.z=B*N.z+V*k.z,c.normalize(),y.push(c.x,c.y,c.z),o.x=m.x+n*c.x,o.y=m.y+n*c.y,o.z=m.z+n*c.z,g.push(o.x,o.y,o.z)}}function S(){for(let D=1;D<=t;D++)for(let N=1;N<=r;N++){const k=(r+1)*(D-1)+(N-1),z=(r+1)*D+(N-1),P=(r+1)*D+N,V=(r+1)*(D-1)+N;_.push(k,z,V),_.push(z,P,V)}}function A(){for(let D=0;D<=t;D++)for(let N=0;N<=r;N++)f.x=D/t,f.y=N/r,x.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new s_(new l4[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class nN extends En{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,r=new ae,a=new ae;if(e.index!==null){const s=e.attributes.position,o=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:o.count,materialIndex:0}]);for(let f=0,m=c.length;f<m;++f){const g=c[f],y=g.start,x=g.count;for(let _=y,M=y+x;_<M;_+=3)for(let w=0;w<3;w++){const S=o.getX(_+w),A=o.getX(_+(w+1)%3);r.fromBufferAttribute(s,S),a.fromBufferAttribute(s,A),hE(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,c=s.count/3;o<c;o++)for(let f=0;f<3;f++){const m=3*o+f,g=3*o+(f+1)%3;r.fromBufferAttribute(s,m),a.fromBufferAttribute(s,g),hE(r,a,n)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Yt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function hE(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(r)===!0?!1:(t.add(n),t.add(r),!0)}var dE=Object.freeze({__proto__:null,BoxGeometry:Hd,CapsuleGeometry:W4,CircleGeometry:Z4,ConeGeometry:qx,CylinderGeometry:Gx,DodecahedronGeometry:K4,EdgesGeometry:YD,ExtrudeGeometry:J4,IcosahedronGeometry:$4,LatheGeometry:e_,OctahedronGeometry:Xx,PlaneGeometry:y1,PolyhedronGeometry:Kf,RingGeometry:t_,ShapeGeometry:n_,SphereGeometry:Yx,TetrahedronGeometry:i_,TorusGeometry:r_,TorusKnotGeometry:a_,TubeGeometry:s_,WireframeGeometry:nN});class iN extends us{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class rN extends Co{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class z8 extends us{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wl,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aN extends z8{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class sN extends us{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Pt(16777215),this.specular=new Pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wl,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lN extends us{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class oN extends us{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uN extends us{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Wl,this.combine=Fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class O8 extends us{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class L8 extends us{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class cN extends us{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Wf,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fN extends Vs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function yd(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function hN(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function dN(i){function e(r,a){return i[r]-i[a]}const t=i.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(e),n}function K6(i,e,t){const n=i.length,r=new i.constructor(n);for(let a=0,s=0;s!==n;++a){const o=t[a]*e;for(let c=0;c!==e;++c)r[s++]=i[o+c]}return r}function U8(i,e,t,n){let r=1,a=i[0];for(;a!==void 0&&a[n]===void 0;)a=i[r++];if(a===void 0)return;let s=a[n];if(s!==void 0)if(Array.isArray(s))do s=a[n],s!==void 0&&(e.push(a.time),t.push(...s)),a=i[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[n],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=i[r++];while(a!==void 0);else do s=a[n],s!==void 0&&(e.push(a.time),t.push(s)),a=i[r++];while(a!==void 0)}function ZF(i,e,t,n,r=30){const a=i.clone();a.name=e;const s=[];for(let c=0;c<a.tracks.length;++c){const f=a.tracks[c],m=f.getValueSize(),g=[],y=[];for(let x=0;x<f.times.length;++x){const _=f.times[x]*r;if(!(_<t||_>=n)){g.push(f.times[x]);for(let M=0;M<m;++M)y.push(f.values[x*m+M])}}g.length!==0&&(f.times=yd(g,f.times.constructor),f.values=yd(y,f.values.constructor),s.push(f))}a.tracks=s;let o=1/0;for(let c=0;c<a.tracks.length;++c)o>a.tracks[c].times[0]&&(o=a.tracks[c].times[0]);for(let c=0;c<a.tracks.length;++c)a.tracks[c].shift(-1*o);return a.resetDuration(),a}function KF(i,e=0,t=i,n=30){n<=0&&(n=30);const r=t.tracks.length,a=e/n;for(let s=0;s<r;++s){const o=t.tracks[s],c=o.ValueTypeName;if(c==="bool"||c==="string")continue;const f=i.tracks.find(function(S){return S.name===o.name&&S.ValueTypeName===c});if(f===void 0)continue;let m=0;const g=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const x=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const _=o.times.length-1;let M;if(a<=o.times[0]){const S=m,A=g-m;M=o.values.slice(S,A)}else if(a>=o.times[_]){const S=_*g+m,A=S+g-m;M=o.values.slice(S,A)}else{const S=o.createInterpolant(),A=m,D=g-m;S.evaluate(a),M=S.resultBuffer.slice(A,D)}c==="quaternion"&&new dl().fromArray(M).normalize().conjugate().toArray(M);const w=f.times.length;for(let S=0;S<w;++S){const A=S*x+y;if(c==="quaternion")dl.multiplyQuaternionsFlat(f.values,A,M,0,f.values,A);else{const D=x-y*2;for(let N=0;N<D;++N)f.values[A+N]-=M[N]}}}return i.blendMode=p8,i}class QF{static convertArray(e,t){return yd(e,t)}static isTypedArray(e){return hN(e)}static getKeyframeOrder(e){return dN(e)}static sortedArray(e,t,n){return K6(e,t,n)}static flattenJSON(e,t,n,r){U8(e,t,n,r)}static subclip(e,t,n,r,a=30){return ZF(e,t,n,r,a)}static makeClipAdditive(e,t=0,n=e,r=30){return KF(e,t,n,r)}}class jx{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=n+2;;){if(r===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(a=r,r=t[++n],e<r)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(n=2,a=o);for(let c=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===c)break;if(r=a,a=t[--n-1],e>=a)break t}s=n,n=0;break n}break e}for(;n<s;){const o=n+s>>>1;e<t[o]?s=o:n=o+1}if(r=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=n[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pN extends jx{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vd,endingEnd:vd}}intervalChanged_(e,t,n){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],c=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case xd:a=e,o=2*t-n;break;case vx:a=r.length-2,o=t+r[a]-r[a+1];break;default:a=e,o=n}if(c===void 0)switch(this.getSettings_().endingEnd){case xd:s=e,c=2*n-t;break;case vx:s=1,c=n+r[1]-r[0];break;default:s=e-1,c=t}const f=(n-t)*.5,m=this.valueSize;this._weightPrev=f/(t-o),this._weightNext=f/(c-n),this._offsetPrev=a*m,this._offsetNext=s*m}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,f=c-o,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,x=this._weightNext,_=(n-t)/(r-t),M=_*_,w=M*_,S=-y*w+2*y*M-y*_,A=(1+y)*w+(-1.5-2*y)*M+(-.5+y)*_+1,D=(-1-x)*w+(1.5+x)*M+.5*_,N=x*w-x*M;for(let k=0;k!==o;++k)a[k]=S*s[m+k]+A*s[f+k]+D*s[c+k]+N*s[g+k];return a}}class B8 extends jx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=e*o,f=c-o,m=(n-t)/(r-t),g=1-m;for(let y=0;y!==o;++y)a[y]=s[f+y]*g+s[c+y]*m;return a}}class mN extends jx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class No{constructor(e,t,n,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yd(t,this.TimeBufferType),this.values=yd(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:yd(e.times,Array),values:yd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new mN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new B8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case gx:t=this.InterpolantFactoryMethodDiscrete;break;case r4:t=this.InterpolantFactoryMethodLinear;break;case tb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return Lt("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return gx;case this.InterpolantFactoryMethodLinear:return r4;case this.InterpolantFactoryMethodSmooth:return tb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let a=0,s=r-1;for(;a!==r&&n[a]<e;)++a;for(;s!==-1&&n[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=n.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(_n("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,a=n.length;a===0&&(_n("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const c=n[o];if(typeof c=="number"&&isNaN(c)){_n("KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(s!==null&&s>c){_n("KeyframeTrack: Out of order keys.",this,o,c,s),e=!1;break}s=c}if(r!==void 0&&hN(r))for(let o=0,c=r.length;o!==c;++o){const f=r[o];if(isNaN(f)){_n("KeyframeTrack: Value is not a valid number.",this,o,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===tb,a=e.length-1;let s=1;for(let o=1;o<a;++o){let c=!1;const f=e[o],m=e[o+1];if(f!==m&&(o!==1||f!==e[0]))if(r)c=!0;else{const g=o*n,y=g-n,x=g+n;for(let _=0;_!==n;++_){const M=t[g+_];if(M!==t[y+_]||M!==t[x+_]){c=!0;break}}}if(c){if(o!==s){e[s]=e[o];const g=o*n,y=s*n;for(let x=0;x!==n;++x)t[y+x]=t[g+x]}++s}}if(a>0){e[s]=e[a];for(let o=a*n,c=s*n,f=0;f!==n;++f)t[c+f]=t[o+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}No.prototype.ValueTypeName="";No.prototype.TimeBufferType=Float32Array;No.prototype.ValueBufferType=Float32Array;No.prototype.DefaultInterpolation=r4;class Vd extends No{constructor(e,t,n){super(e,t,n)}}Vd.prototype.ValueTypeName="bool";Vd.prototype.ValueBufferType=Array;Vd.prototype.DefaultInterpolation=gx;Vd.prototype.InterpolantFactoryMethodLinear=void 0;Vd.prototype.InterpolantFactoryMethodSmooth=void 0;class k8 extends No{constructor(e,t,n,r){super(e,t,n,r)}}k8.prototype.ValueTypeName="color";class Tx extends No{constructor(e,t,n,r){super(e,t,n,r)}}Tx.prototype.ValueTypeName="number";class gN extends jx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,c=(n-t)/(r-t);let f=e*o;for(let m=f+o;f!==m;f+=4)dl.slerpFlat(a,0,s,f-o,s,f,c);return a}}class Wx extends No{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new gN(this.times,this.values,this.getValueSize(),e)}}Wx.prototype.ValueTypeName="quaternion";Wx.prototype.InterpolantFactoryMethodSmooth=void 0;class Gd extends No{constructor(e,t,n){super(e,t,n)}}Gd.prototype.ValueTypeName="string";Gd.prototype.ValueBufferType=Array;Gd.prototype.DefaultInterpolation=gx;Gd.prototype.InterpolantFactoryMethodLinear=void 0;Gd.prototype.InterpolantFactoryMethodSmooth=void 0;class Ex extends No{constructor(e,t,n,r){super(e,t,n,r)}}Ex.prototype.ValueTypeName="vector";class Ax{constructor(e="",t=-1,n=[],r=I4){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Gl(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,o=n.length;s!==o;++s)t.push($F(n[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=n.length;a!==s;++a)t.push(No.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const a=t.length,s=[];for(let o=0;o<a;o++){let c=[],f=[];c.push((o+a-1)%a,o,(o+1)%a),f.push(0,1,0);const m=dN(c);c=K6(c,1,m),f=K6(f,1,m),!r&&c[0]===0&&(c.push(a),f.push(f[0])),s.push(new Tx(".morphTargetInfluences["+t[o].name+"]",c,f).scale(1/n))}return new this(e,-1,s)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,c=e.length;o<c;o++){const f=e[o],m=f.name.match(a);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return s}static parseAnimation(e,t){if(Lt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return _n("AnimationClip: No animation in JSONLoader data."),null;const n=function(g,y,x,_,M){if(x.length!==0){const w=[],S=[];U8(x,w,S,_),w.length!==0&&M.push(new g(y,w,S))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let c=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let M=0;M<y[_].morphTargets.length;M++)x[y[_].morphTargets[M]]=-1;for(const M in x){const w=[],S=[];for(let A=0;A!==y[_].morphTargets.length;++A){const D=y[_];w.push(D.time),S.push(D.morphTarget===M?1:0)}r.push(new Tx(".morphTargetInfluence["+M+"]",w,S))}c=x.length*s}else{const x=".bones["+t[g].name+"]";n(Ex,x+".position",y,"pos",r),n(Wx,x+".quaternion",y,"rot",r),n(Ex,x+".scale",y,"scl",r)}}return r.length===0?null:new this(a,c,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,r=e.length;n!==r;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function JF(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tx;case"vector":case"vector2":case"vector3":case"vector4":return Ex;case"color":return k8;case"quaternion":return Wx;case"bool":case"boolean":return Vd;case"string":return Gd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function $F(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=JF(i.type);if(i.times===void 0){const t=[],n=[];U8(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const ic={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class I8{constructor(e,t,n){const r=this;let a=!1,s=0,o=0,c;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(m){o++,a===!1&&r.onStart!==void 0&&r.onStart(m,s,o),a=!0},this.itemEnd=function(m){s++,r.onProgress!==void 0&&r.onProgress(m,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return c?c(m):m},this.setURLModifier=function(m){return c=m,this},this.addHandler=function(m,g){return f.push(m,g),this},this.removeHandler=function(m){const g=f.indexOf(m);return g!==-1&&f.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=f.length;g<y;g+=2){const x=f[g],_=f[g+1];if(x.global&&(x.lastIndex=0),x.test(m))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const vN=new I8;class ml{constructor(e){this.manager=e!==void 0?e:vN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}ml.DEFAULT_MATERIAL_NAME="__DEFAULT";const Jc={};class eH extends Error{constructor(e,t){super(e),this.response=t}}class y0 extends ml{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=ic.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Jc[e]!==void 0){Jc[e].push({onLoad:t,onProgress:n,onError:r});return}Jc[e]=[],Jc[e].push({onLoad:t,onProgress:n,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,c=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&Lt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const m=Jc[e],g=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),x=y?parseInt(y):0,_=x!==0;let M=0;const w=new ReadableStream({start(S){A();function A(){g.read().then(({done:D,value:N})=>{if(D)S.close();else{M+=N.byteLength;const k=new ProgressEvent("progress",{lengthComputable:_,loaded:M,total:x});for(let z=0,P=m.length;z<P;z++){const V=m[z];V.onProgress&&V.onProgress(k)}S.enqueue(N),A()}},D=>{S.error(D)})}}});return new Response(w)}else throw new eH(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(c){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(m=>new DOMParser().parseFromString(m,o));case"json":return f.json();default:if(o==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(o),y=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(y);return f.arrayBuffer().then(_=>x.decode(_))}}}).then(f=>{ic.add(`file:${e}`,f);const m=Jc[e];delete Jc[e];for(let g=0,y=m.length;g<y;g++){const x=m[g];x.onLoad&&x.onLoad(f)}}).catch(f=>{const m=Jc[e];if(m===void 0)throw this.manager.itemError(e),f;delete Jc[e];for(let g=0,y=m.length;g<y;g++){const x=m[g];x.onError&&x.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class tH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new y0(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):_n(c),a.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=Ax.parse(e[n]);t.push(r)}return t}}class nH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=[],o=new j4,c=new y0(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(a.withCredentials);let f=0;function m(g){c.load(e[g],function(y){const x=a.parse(y,!0);s[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},f+=1,f===6&&(x.mipmapCount===1&&(o.minFilter=Pr),o.image=s,o.format=x.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else c.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let _=0;_<x;_++){s[_]={mipmaps:[]};for(let M=0;M<y.mipmapCount;M++)s[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+M]),s[_].format=y.format,s[_].width=y.width,s[_].height=y.height}o.image=s}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=Pr),o.format=y.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}}const xm=new WeakMap;class Cx extends ml{constructor(e){super(e)}load(e,t,n,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=ic.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=xm.get(s);g===void 0&&(g=[],xm.set(s,g)),g.push({onLoad:t,onError:r})}return s}const o=bx("img");function c(){m(),t&&t(this);const g=xm.get(this)||[];for(let y=0;y<g.length;y++){const x=g[y];x.onLoad&&x.onLoad(this)}xm.delete(this),a.manager.itemEnd(e)}function f(g){m(),r&&r(g),ic.remove(`image:${e}`);const y=xm.get(this)||[];for(let x=0;x<y.length;x++){const _=y[x];_.onError&&_.onError(g)}xm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){o.removeEventListener("load",c,!1),o.removeEventListener("error",f,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),ic.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class iH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=new Vx;a.colorSpace=ns;const s=new Cx(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function c(f){s.load(e[f],function(m){a.images[f]=m,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)c(f);return a}}class rH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new cu,o=new y0(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(c){let f;try{f=a.parse(c)}catch(m){if(r!==void 0)r(m);else{m(m);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:ll,s.wrapT=f.wrapT!==void 0?f.wrapT:ll,s.magFilter=f.magFilter!==void 0?f.magFilter:Pr,s.minFilter=f.minFilter!==void 0?f.minFilter:Pr,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=nc),f.mipmapCount===1&&(s.minFilter=Pr),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},n,r),s}}class aH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=new Cr,s=new Cx(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},n,r),a}}class Qf extends di{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Pt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class xN extends Qf{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Pt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const l5=new yn,pE=new ae,mE=new ae;class P8{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.mapType=Ao,this.map=null,this.mapPass=null,this.matrix=new yn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new x1,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;pE.setFromMatrixPosition(e.matrixWorld),t.position.copy(pE),mE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(mE),t.updateMatrixWorld(),l5.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l5,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(l5)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sH extends P8{constructor(){super(new Ta(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=a1*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class yN extends Qf{constructor(e,t,n=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.distance=n,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new sH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const gE=new yn,dv=new ae,o5=new ae;class lH extends P8{constructor(){super(new Ta(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new hi(2,1,1,1),new hi(0,1,1,1),new hi(3,1,1,1),new hi(1,1,1,1),new hi(3,0,1,1),new hi(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),dv.setFromMatrixPosition(e.matrixWorld),n.position.copy(dv),o5.copy(n.position),o5.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o5),n.updateMatrixWorld(),r.makeTranslation(-dv.x,-dv.y,-dv.z),gE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gE,n.coordinateSystem,n.reversedDepth)}}class bN extends Qf{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new lH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zx extends H4{constructor(e=-1,t=1,n=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-e,s=n+e,o=r+t,c=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,o-=m*this.view.offsetY,c=o-m*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,c,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class oH extends P8{constructor(){super(new Zx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _N extends Qf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.shadow=new oH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class SN extends Qf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class MN extends Qf{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class wN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ae)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*n),t.addScaledVector(s[4],1.092548*(n*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(n*a)),t.addScaledVector(s[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*n),t.addScaledVector(s[4],2*.429043*n*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*n*a),t.addScaledVector(s[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const n=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-r*r)}}class TN extends Qf{constructor(e=new wN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class l_ extends ml{constructor(e){super(e),this.textures={}}load(e,t,n,r){const a=this,s=new y0(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):_n(c),a.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&Lt("MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=n(s.value);break;case"c":r.uniforms[a].value=new Pt().setHex(s.value);break;case"v2":r.uniforms[a].value=new rt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new ae().fromArray(s.value);break;case"v4":r.uniforms[a].value=new hi().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Rn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new yn().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=n(e.map)),e.matcap!==void 0&&(r.matcap=n(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new rt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=n(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return l_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:iN,SpriteMaterial:_8,RawShaderMaterial:rN,ShaderMaterial:Co,PointsMaterial:M8,MeshPhysicalMaterial:aN,MeshStandardMaterial:z8,MeshPhongMaterial:sN,MeshToonMaterial:lN,MeshNormalMaterial:oN,MeshLambertMaterial:uN,MeshDepthMaterial:O8,MeshDistanceMaterial:L8,MeshBasicMaterial:Zf,MeshMatcapMaterial:cN,LineDashedMaterial:fN,LineBasicMaterial:Vs,Material:us};return new t[e]}}class Q6{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class EN extends En{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class AN extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new y0(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(c){r?r(c):_n(c),a.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(x,_){if(t[_]!==void 0)return t[_];const w=x.interleavedBuffers[_],S=a(x,w.buffer),A=Um(w.type,S),D=new q4(A,w.stride);return D.uuid=w.uuid,t[_]=D,D}function a(x,_){if(n[_]!==void 0)return n[_];const w=x.arrayBuffers[_],S=new Uint32Array(w).buffer;return n[_]=S,S}const s=e.isInstancedBufferGeometry?new EN:new En,o=e.data.index;if(o!==void 0){const x=Um(o.type,o.array);s.setIndex(new Pi(x,1))}const c=e.data.attributes;for(const x in c){const _=c[x];let M;if(_.isInterleavedBufferAttribute){const w=r(e.data,_.data);M=new Ud(w,_.itemSize,_.offset,_.normalized)}else{const w=Um(_.type,_.array),S=_.isInstancedBufferAttribute?o1:Pi;M=new S(w,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),_.usage!==void 0&&M.setUsage(_.usage),s.setAttribute(x,M)}const f=e.data.morphAttributes;if(f)for(const x in f){const _=f[x],M=[];for(let w=0,S=_.length;w<S;w++){const A=_[w];let D;if(A.isInterleavedBufferAttribute){const N=r(e.data,A.data);D=new Ud(N,A.itemSize,A.offset,A.normalized)}else{const N=Um(A.type,A.array);D=new Pi(N,A.itemSize,A.normalized)}A.name!==void 0&&(D.name=A.name),M.push(D)}s.morphAttributes[x]=M}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,_=g.length;x!==_;++x){const M=g[x];s.addGroup(M.start,M.count,M.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(s.boundingSphere=new Ia().fromJSON(y)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class uH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=this.path===""?Q6.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new y0(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){let f=null;try{f=JSON.parse(c)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const m=f.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),_n("ObjectLoader: Can't load "+e);return}a.parse(f,t)},n,r)}async loadAsync(e,t){const n=this,r=this.path===""?Q6.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new y0(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),c=o.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),o=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,a,c,o,n),m=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,m),this.bindLightTargets(f),t!==void 0){let g=!1;for(const y in s)if(s[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,r,o,s,t),f=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,f),this.bindLightTargets(c),c}parseShapes(e){const t={};if(e!==void 0)for(let n=0,r=e.length;n<r;n++){const a=new Rd().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new X4().fromJSON(e[a],r);n[o.uuid]=o}return n}parseGeometries(e,t){const n={};if(e!==void 0){const r=new AN;for(let a=0,s=e.length;a<s;a++){let o;const c=e[a];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(c);break;default:c.type in dE?o=dE[c.type].fromJSON(c,t):Lt(`ObjectLoader: Unsupported geometry type "${c.type}"`)}o.uuid=c.uuid,c.name!==void 0&&(o.name=c.name),c.userData!==void 0&&(o.userData=c.userData),n[c.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(e!==void 0){const a=new l_;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const c=e[s];n[c.uuid]===void 0&&(n[c.uuid]=a.parse(c)),r[c.uuid]=n[c.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const r=e[n],a=Ax.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const n=this,r={};let a;function s(c){return n.manager.itemStart(c),a.load(c,function(){n.manager.itemEnd(c)},void 0,function(){n.manager.itemError(c),n.manager.itemEnd(c)})}function o(c){if(typeof c=="string"){const f=c,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:n.resourcePath+f;return s(m)}else return c.data?{data:Um(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new I8(t);a=new Cx(c),a.setCrossOrigin(this.crossOrigin);for(let f=0,m=e.length;f<m;f++){const g=e[f],y=g.url;if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const w=y[_],S=o(w);S!==null&&(S instanceof HTMLImageElement?x.push(S):x.push(new cu(S.data,S.width,S.height)))}r[g.uuid]=new Rf(x)}else{const x=o(g.url);r[g.uuid]=new Rf(x)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function a(s){if(typeof s=="string"){const o=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(c)}else return s.data?{data:Um(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new Cx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const c=e[s],f=c.url;if(Array.isArray(f)){const m=[];for(let g=0,y=f.length;g<y;g++){const x=f[g],_=await a(x);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new cu(_.data,_.width,_.height)))}n[c.uuid]=new Rf(m)}else{const m=await a(c.url);n[c.uuid]=new Rf(m)}}}return n}parseTextures(e,t){function n(a,s){return typeof a=="number"?a:(Lt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&Lt('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Lt("ObjectLoader: Undefined image",o.image);const c=t[o.image],f=c.data;let m;Array.isArray(f)?(m=new Vx,f.length===6&&(m.needsUpdate=!0)):(f&&f.data?m=new cu:m=new Cr,f&&(m.needsUpdate=!0)),m.source=c,m.uuid=o.uuid,o.name!==void 0&&(m.name=o.name),o.mapping!==void 0&&(m.mapping=n(o.mapping,cH)),o.channel!==void 0&&(m.channel=o.channel),o.offset!==void 0&&m.offset.fromArray(o.offset),o.repeat!==void 0&&m.repeat.fromArray(o.repeat),o.center!==void 0&&m.center.fromArray(o.center),o.rotation!==void 0&&(m.rotation=o.rotation),o.wrap!==void 0&&(m.wrapS=n(o.wrap[0],vE),m.wrapT=n(o.wrap[1],vE)),o.format!==void 0&&(m.format=o.format),o.internalFormat!==void 0&&(m.internalFormat=o.internalFormat),o.type!==void 0&&(m.type=o.type),o.colorSpace!==void 0&&(m.colorSpace=o.colorSpace),o.minFilter!==void 0&&(m.minFilter=n(o.minFilter,xE)),o.magFilter!==void 0&&(m.magFilter=n(o.magFilter,xE)),o.anisotropy!==void 0&&(m.anisotropy=o.anisotropy),o.flipY!==void 0&&(m.flipY=o.flipY),o.generateMipmaps!==void 0&&(m.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(m.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(m.compareFunction=o.compareFunction),o.userData!==void 0&&(m.userData=o.userData),r[o.uuid]=m}return r}parseObject(e,t,n,r,a){let s;function o(y){return t[y]===void 0&&Lt("ObjectLoader: Undefined geometry",y),t[y]}function c(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const w=y[_];n[w]===void 0&&Lt("ObjectLoader: Undefined material",w),x.push(n[w])}return x}return n[y]===void 0&&Lt("ObjectLoader: Undefined material",y),n[y]}}function f(y){return r[y]===void 0&&Lt("ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":s=new b8,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Pt(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new G4(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new V4(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Ta(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Zx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new SN(e.color,e.intensity);break;case"DirectionalLight":s=new _N(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new bN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new MN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new yN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new xN(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new TN().fromJSON(e);break;case"SkinnedMesh":m=o(e.geometry),g=c(e.material),s=new FD(m,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":m=o(e.geometry),g=c(e.material),s=new ua(m,g);break;case"InstancedMesh":m=o(e.geometry),g=c(e.material);const y=e.count,x=e.instanceMatrix,_=e.instanceColor;s=new HD(m,g,y),s.instanceMatrix=new o1(new Float32Array(x.array),16),_!==void 0&&(s.instanceColor=new o1(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=o(e.geometry),g=c(e.material),s=new VD(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=m,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(M=>{let w=null,S=null;return M.boundingBox!==void 0&&(w=new os().fromJSON(M.boundingBox)),M.boundingSphere!==void 0&&(S=new Ia().fromJSON(M.boundingSphere)),{...M,boundingBox:w,boundingSphere:S}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Ia().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new os().fromJSON(e.boundingBox));break;case"LOD":s=new PD;break;case"Line":s=new Vf(o(e.geometry),c(e.material));break;case"LineLoop":s=new GD(o(e.geometry),c(e.material));break;case"LineSegments":s=new dc(o(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new qD(o(e.geometry),c(e.material));break;case"Sprite":s=new ID(c(e.material));break;case"Group":s=new Bm;break;case"Bone":s=new S8;break;default:s=new di}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let x=0;x<y.length;x++)s.add(this.parseObject(y[x],t,n,r,a))}if(e.animations!==void 0){const y=e.animations;for(let x=0;x<y.length;x++){const _=y[x];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const y=e.levels;for(let x=0;x<y.length;x++){const _=y[x],M=s.getObjectByProperty("uuid",_.object);M!==void 0&&s.addLevel(M,_.distance,_.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const r=t[n.skeleton];r===void 0?Lt("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(r,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);r!==void 0?t.target=r:t.target=new di}})}}const cH={UVMapping:D4,CubeReflectionMapping:v0,CubeRefractionMapping:Pf,EquirectangularReflectionMapping:hx,EquirectangularRefractionMapping:dx,CubeUVReflectionMapping:g1},vE={RepeatWrapping:px,ClampToEdgeWrapping:ll,MirroredRepeatWrapping:mx},xE={NearestFilter:ka,NearestMipmapNearestFilter:l8,NearestMipmapLinearFilter:Lm,LinearFilter:Pr,LinearMipmapNearestFilter:Gv,LinearMipmapLinearFilter:nc},u5=new WeakMap;class fH extends ml{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Lt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Lt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=ic.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(u5.has(s)===!0)r&&r(u5.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const c=fetch(e,o).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return ic.add(`image-bitmap:${e}`,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),u5.set(c,f),ic.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});ic.add(`image-bitmap:${e}`,c),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let x3;class F8{static getContext(){return x3===void 0&&(x3=new(window.AudioContext||window.webkitAudioContext)),x3}static setContext(e){x3=e}}class hH extends ml{constructor(e){super(e)}load(e,t,n,r){const a=this,s=new y0(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const f=c.slice(0);F8.getContext().decodeAudioData(f,function(g){t(g)}).catch(o)}catch(f){o(f)}},n,r);function o(c){r?r(c):_n(c),a.manager.itemError(e)}}}const yE=new yn,bE=new yn,$h=new yn;class dH{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ta,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ta,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,$h.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(Cd*t.fov*.5)/t.zoom;let o,c;bE.elements[12]=-r,yE.elements[12]=r,o=-s*t.aspect+a,c=s*t.aspect+a,$h.elements[0]=2*t.near/(c-o),$h.elements[8]=(c+o)/(c-o),this.cameraL.projectionMatrix.copy($h),o=-s*t.aspect-a,c=s*t.aspect-a,$h.elements[0]=2*t.near/(c-o),$h.elements[8]=(c+o)/(c-o),this.cameraR.projectionMatrix.copy($h)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(yE)}}class CN extends Ta{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class H8{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const ed=new ae,c5=new dl,pH=new ae,td=new ae,nd=new ae;class mH extends di{constructor(){super(),this.type="AudioListener",this.context=F8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new H8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ed,c5,pH),td.set(0,0,-1).applyQuaternion(c5),nd.set(0,1,0).applyQuaternion(c5),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ed.x,n),t.positionY.linearRampToValueAtTime(ed.y,n),t.positionZ.linearRampToValueAtTime(ed.z,n),t.forwardX.linearRampToValueAtTime(td.x,n),t.forwardY.linearRampToValueAtTime(td.y,n),t.forwardZ.linearRampToValueAtTime(td.z,n),t.upX.linearRampToValueAtTime(nd.x,n),t.upY.linearRampToValueAtTime(nd.y,n),t.upZ.linearRampToValueAtTime(nd.z,n)}else t.setPosition(ed.x,ed.y,ed.z),t.setOrientation(td.x,td.y,td.z,nd.x,nd.y,nd.z)}}class RN extends di{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Lt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Lt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Lt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Lt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const id=new ae,_E=new dl,gH=new ae,rd=new ae;class vH extends RN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(id,_E,gH),rd.set(0,0,1).applyQuaternion(_E);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(id.x,n),t.positionY.linearRampToValueAtTime(id.y,n),t.positionZ.linearRampToValueAtTime(id.z,n),t.orientationX.linearRampToValueAtTime(rd.x,n),t.orientationY.linearRampToValueAtTime(rd.y,n),t.orientationZ.linearRampToValueAtTime(rd.z,n)}else t.setPosition(id.x,id.y,id.z),t.setOrientation(rd.x,rd.y,rd.z)}}class xH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class DN{constructor(e,t,n){this.binding=e,this.valueSize=n;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)n[a+o]=n[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(n,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const c=t*this._origIndex;this._mixBufferRegion(n,r,c,1-a,t)}s>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let c=t,f=t+t;c!==f;++c)if(n[c]!==n[c+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let a=n,s=r;a!==s;++a)t[a]=t[r+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[n+s]}_slerp(e,t,n,r){dl.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,a){const s=this._workIndex*a;dl.multiplyQuaternionsFlat(e,s,e,t,e,n),dl.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,n,r,a){const s=1-r;for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]*s+e[n+o]*r}}_lerpAdditive(e,t,n,r,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[n+s]*r}}}const V8="\\[\\]\\.:\\/",yH=new RegExp("["+V8+"]","g"),G8="[^"+V8+"]",bH="[^"+V8.replace("\\.","")+"]",_H=/((?:WC+[\/:])*)/.source.replace("WC",G8),SH=/(WCOD+)?/.source.replace("WCOD",bH),MH=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",G8),wH=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",G8),TH=new RegExp("^"+_H+SH+MH+wH+"$"),EH=["material","materials","bones","map"];class AH{constructor(e,t,n){const r=n||fi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];r!==void 0&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class fi{constructor(e,t,n){this.path=t,this.parsedPath=n||fi.parseTrackName(t),this.node=fi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new fi.Composite(e,t,n):new fi(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(yH,"")}static parseTrackName(e){const t=TH.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=n.nodeName.substring(r+1);EH.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const c=n(o.children);if(c)return c}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,a=n.length;r!==a;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=fi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Lt("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let f=t.objectIndex;switch(n){case"materials":if(!e.material){_n("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){_n("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){_n("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===f){f=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){_n("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){_n("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){_n("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(f!==void 0){if(e[f]===void 0){_n("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;_n("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){_n("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){_n("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}fi.Composite=AH;fi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};fi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};fi.prototype.GetterByBindingType=[fi.prototype._getValue_direct,fi.prototype._getValue_array,fi.prototype._getValue_arrayElement,fi.prototype._getValue_toArray];fi.prototype.SetterByBindingTypeAndVersioning=[[fi.prototype._setValue_direct,fi.prototype._setValue_direct_setNeedsUpdate,fi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_array,fi.prototype._setValue_array_setNeedsUpdate,fi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_arrayElement,fi.prototype._setValue_arrayElement_setNeedsUpdate,fi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[fi.prototype._setValue_fromArray,fi.prototype._setValue_fromArray_setNeedsUpdate,fi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class CH{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,c=e.length,f=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],x=y.uuid;let _=t[x];if(_===void 0){_=c++,t[x]=_,e.push(y);for(let M=0,w=s;M!==w;++M)a[M].push(new fi(y,n[M],r[M]))}else if(_<f){o=e[_];const M=--f,w=e[M];t[w.uuid]=_,e[_]=w,t[x]=M,e[M]=y;for(let S=0,A=s;S!==A;++S){const D=a[S],N=D[M];let k=D[_];D[_]=N,k===void 0&&(k=new fi(y,n[S],r[S])),D[M]=k}}else e[_]!==o&&_n("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const c=arguments[s],f=c.uuid,m=t[f];if(m!==void 0&&m>=a){const g=a++,y=e[g];t[y.uuid]=m,e[m]=y,t[f]=g,e[g]=c;for(let x=0,_=r;x!==_;++x){const M=n[x],w=M[g],S=M[m];M[m]=w,M[g]=S}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],m=f.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<a){const y=--a,x=e[y],_=--s,M=e[_];t[x.uuid]=g,e[g]=x,t[M.uuid]=y,e[y]=M,e.pop();for(let w=0,S=r;w!==S;++w){const A=n[w],D=A[y],N=A[_];A[g]=D,A[y]=N,A.pop()}}else{const y=--s,x=e[y];y>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let _=0,M=r;_!==M;++_){const w=n[_];w[g]=w[y],w.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,c=this._objects,f=c.length,m=this.nCachedObjects_,g=new Array(f);r=a.length,n[e]=r,s.push(e),o.push(t),a.push(g);for(let y=m,x=c.length;y!==x;++y){const _=c[y];g[y]=new fi(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,c=s[o],f=e[o];t[f]=n,s[n]=c,s.pop(),a[n]=a[o],a.pop(),r[n]=r[o],r.pop()}}}class NN{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const a=t.tracks,s=a.length,o=new Array(s),c={endingStart:vd,endingEnd:vd};for(let f=0;f!==s;++f){const m=a[f].createInterpolant(null);o[f]=m,m.settings=c}this._interpolantSettings=c,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=a,c[1]=a+n,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const c=(e-a)*n;c<0||n===0?t=0:(this._startTime=null,t=n*c)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const c=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case p8:for(let m=0,g=c.length;m!==g;++m)c[m].evaluate(s),f[m].accumulateAdditive(o);break;case I4:default:for(let m=0,g=c.length;m!==g;++m)c[m].evaluate(s),f[m].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,a=this._loopCount;const s=n===xD;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(n===gD){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);const c=this.repetitions-a;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=xd,r.endingEnd=xd):(e?r.endingStart=this.zeroSlopeAtStart?xd:vd:r.endingStart=vx,t?r.endingEnd=this.zeroSlopeAtEnd?xd:vd:r.endingEnd=vx)}_scheduleFading(e,t,n){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,c=s.sampleValues;return o[0]=a,c[0]=t,o[1]=a+e,c[1]=n,this}}const RH=new Float32Array(1);class DH extends hc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,c=n.uuid,f=this._bindingsByRootAndName;let m=f[c];m===void 0&&(m={},f[c]=m);for(let g=0;g!==a;++g){const y=r[g],x=y.name;let _=m[x];if(_!==void 0)++_.referenceCount,s[g]=_;else{if(_=s[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,c,x));continue}const M=t&&t._propertyBindings[g].binding.parsedPath;_=new DN(fi.create(n,x,M),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,c,x),s[g]=_}o[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,n)}const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],c=o.knownActions,f=c[c.length-1],m=e._byClipCacheIndex;f._byClipCacheIndex=m,c[m]=f,c.pop(),e._byClipCacheIndex=null;const g=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],c.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,a=n.path,s=this._bindingsByRootAndName,o=s[r],c=t[t.length-1],f=e._cacheIndex;c._cacheIndex=f,t[f]=c,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new B8(new Float32Array(2),new Float32Array(2),1,RH),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?Ax.findByName(r,e):e;const o=s!==null?s.uuid:e,c=this._actionsByClip[o];let f=null;if(n===void 0&&(s!==null?n=s.blendMode:n=I4),c!==void 0){const g=c.actionByRoot[a];if(g!==void 0&&g.blendMode===n)return g;f=c.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const m=new NN(this,s,t,n);return this._bindAction(m,f),this._addInactiveAction(m,o,a),m}existingAction(e,t){const n=t||this._root,r=n.uuid,a=typeof e=="string"?Ax.findByName(n,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==n;++f)t[f]._update(r,e,a,s);const o=this._bindings,c=this._nActiveBindings;for(let f=0;f!==c;++f)o[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,a=r[n];if(a!==void 0){const s=a.knownActions;for(let o=0,c=s.length;o!==c;++o){const f=s[o];this._deactivateAction(f);const m=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const s in n){const o=n[s].actionByRoot,c=o[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class NH extends v8{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new F4(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class q8{constructor(e){this.value=e}clone(){return new q8(this.value.clone===void 0?this.value:this.value.clone())}}let zH=0;class OH extends hc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:zH++}),this.name="",this.usage=yx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class LH extends q4{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class UH{constructor(e,t,n,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const SE=new yn;class zN{constructor(e,t,n=0,r=1/0){this.ray=new v1(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new s1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):_n("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return SE.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(SE),this}intersectObject(e,t=!0,n=[]){return J6(e,this,n,t),n.sort(ME),n}intersectObjects(e,t=!0,n=[]){for(let r=0,a=e.length;r<a;r++)J6(e[r],this,n,t);return n.sort(ME),n}}function ME(i,e){return i.distance-e.distance}function J6(i,e,t,n){let r=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(r=!1),r===!0&&n===!0){const a=i.children;for(let s=0,o=a.length;s<o;s++)J6(a[s],e,t,!0)}}class BH{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=kH.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function kH(){this._document.hidden===!1&&this.reset()}class IH{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=mn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class PH{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class X8{constructor(e,t,n,r){X8.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=r,this}}const wE=new rt;class FH{constructor(e=new rt(1/0,1/0),t=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=wE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,wE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const TE=new ae,y3=new ae,ym=new ae,bm=new ae,f5=new ae,HH=new ae,VH=new ae;class GH{constructor(e=new ae,t=new ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){TE.subVectors(e,this.start),y3.subVectors(this.end,this.start);const n=y3.dot(y3);let a=y3.dot(TE)/n;return t&&(a=mn(a,0,1)),a}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=HH,n=VH){const r=10000000000000001e-32;let a,s;const o=this.start,c=e.start,f=this.end,m=e.end;ym.subVectors(f,o),bm.subVectors(m,c),f5.subVectors(o,c);const g=ym.dot(ym),y=bm.dot(bm),x=bm.dot(f5);if(g<=r&&y<=r)return t.copy(o),n.copy(c),t.sub(n),t.dot(t);if(g<=r)a=0,s=x/y,s=mn(s,0,1);else{const _=ym.dot(f5);if(y<=r)s=0,a=mn(-_/g,0,1);else{const M=ym.dot(bm),w=g*y-M*M;w!==0?a=mn((M*x-_*y)/w,0,1):a=0,s=(M*a+x)/y,s<0?(s=0,a=mn(-_/g,0,1)):s>1&&(s=1,a=mn((M-_)/g,0,1))}}return t.copy(o).add(ym.multiplyScalar(a)),n.copy(c).add(bm.multiplyScalar(s)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const EE=new ae;class qH extends di{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new En,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,c=32;s<c;s++,o++){const f=s/c*Math.PI*2,m=o/c*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Yt(r,3));const a=new Vs({fog:!1,toneMapped:!1});this.cone=new dc(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),EE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(EE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gf=new ae,b3=new yn,h5=new yn;class XH extends dc{constructor(e){const t=ON(e),n=new En,r=[],a=[];for(let f=0;f<t.length;f++){const m=t[f];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new Yt(r,3)),n.setAttribute("color",new Yt(a,3));const s=new Vs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Pt(255),c=new Pt(65280);this.setColors(o,c)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");h5.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(b3.multiplyMatrices(h5,o.matrixWorld),gf.setFromMatrixPosition(b3),r.setXYZ(s,gf.x,gf.y,gf.z),b3.multiplyMatrices(h5,o.parent.matrixWorld),gf.setFromMatrixPosition(b3),r.setXYZ(s+1,gf.x,gf.y,gf.z),s+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function ON(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...ON(i.children[t]));return e}class YH extends ua{constructor(e,t,n){const r=new Yx(t,4,2),a=new Zf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const jH=new ae,AE=new Pt,CE=new Pt;class WH extends di{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Xx(t);r.rotateY(Math.PI*.5),this.material=new Zf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Pi(s,3)),this.add(new ua(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");AE.copy(this.light.color),CE.copy(this.light.groundColor);for(let n=0,r=t.count;n<r;n++){const a=n<r/2?AE:CE;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(jH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ZH extends dc{constructor(e=10,t=10,n=4473924,r=8947848){n=new Pt(n),r=new Pt(r);const a=t/2,s=e/t,o=e/2,c=[],f=[];for(let y=0,x=0,_=-o;y<=t;y++,_+=s){c.push(-o,0,_,o,0,_),c.push(_,0,-o,_,0,o);const M=y===a?n:r;M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3}const m=new En;m.setAttribute("position",new Yt(c,3)),m.setAttribute("color",new Yt(f,3));const g=new Vs({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class KH extends dc{constructor(e=10,t=16,n=8,r=64,a=4473924,s=8947848){a=new Pt(a),s=new Pt(s);const o=[],c=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),x=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(x,0,_);const M=g&1?a:s;c.push(M.r,M.g,M.b),c.push(M.r,M.g,M.b)}for(let g=0;g<n;g++){const y=g&1?a:s,x=e-e/n*g;for(let _=0;_<r;_++){let M=_/r*(Math.PI*2),w=Math.sin(M)*x,S=Math.cos(M)*x;o.push(w,0,S),c.push(y.r,y.g,y.b),M=(_+1)/r*(Math.PI*2),w=Math.sin(M)*x,S=Math.cos(M)*x,o.push(w,0,S),c.push(y.r,y.g,y.b)}}const f=new En;f.setAttribute("position",new Yt(o,3)),f.setAttribute("color",new Yt(c,3));const m=new Vs({vertexColors:!0,toneMapped:!1});super(f,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const RE=new ae,_3=new ae,DE=new ae;class QH extends di{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new En;r.setAttribute("position",new Yt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Vs({fog:!1,toneMapped:!1});this.lightPlane=new Vf(r,a),this.add(this.lightPlane),r=new En,r.setAttribute("position",new Yt([0,0,0,0,0,1],3)),this.targetLine=new Vf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),RE.setFromMatrixPosition(this.light.matrixWorld),_3.setFromMatrixPosition(this.light.target.matrixWorld),DE.subVectors(_3,RE),this.lightPlane.lookAt(_3),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_3),this.targetLine.scale.z=DE.length()}}const S3=new ae,Tr=new H4;class JH extends dc{constructor(e){const t=new En,n=new Vs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,M){c(_),c(M)}function c(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}t.setAttribute("position",new Yt(r,3)),t.setAttribute("color",new Yt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new Pt(16755200),m=new Pt(16711680),g=new Pt(43775),y=new Pt(16777215),x=new Pt(3355443);this.setColors(f,m,g,y,x)}setColors(e,t,n,r,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,r=1;let a,s;if(Tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Hl)a=-1,s=1;else if(this.camera.coordinateSystem===i1)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Br("c",t,e,Tr,0,0,a),Br("t",t,e,Tr,0,0,s),Br("n1",t,e,Tr,-n,-r,a),Br("n2",t,e,Tr,n,-r,a),Br("n3",t,e,Tr,-n,r,a),Br("n4",t,e,Tr,n,r,a),Br("f1",t,e,Tr,-n,-r,s),Br("f2",t,e,Tr,n,-r,s),Br("f3",t,e,Tr,-n,r,s),Br("f4",t,e,Tr,n,r,s),Br("u1",t,e,Tr,n*.7,r*1.1,a),Br("u2",t,e,Tr,-n*.7,r*1.1,a),Br("u3",t,e,Tr,0,r*2,a),Br("cf1",t,e,Tr,-n,0,s),Br("cf2",t,e,Tr,n,0,s),Br("cf3",t,e,Tr,0,-r,s),Br("cf4",t,e,Tr,0,r,s),Br("cn1",t,e,Tr,-n,0,a),Br("cn2",t,e,Tr,n,0,a),Br("cn3",t,e,Tr,0,-r,a),Br("cn4",t,e,Tr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Br(i,e,t,n,r,a,s){S3.set(r,a,s).unproject(n);const o=e[i];if(o!==void 0){const c=t.getAttribute("position");for(let f=0,m=o.length;f<m;f++)c.setXYZ(o[f],S3.x,S3.y,S3.z)}}const M3=new os;class $H extends dc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new En;a.setIndex(new Pi(n,1)),a.setAttribute("position",new Pi(r,3)),super(a,new Vs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&M3.setFromObject(this.object),M3.isEmpty())return;const e=M3.min,t=M3.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class eV extends dc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new En;a.setIndex(new Pi(n,1)),a.setAttribute("position",new Yt(r,3)),super(a,new Vs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class tV extends Vf{constructor(e,t=1,n=16776960){const r=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new En;s.setAttribute("position",new Yt(a,3)),s.computeBoundingSphere(),super(s,new Vs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new En;c.setAttribute("position",new Yt(o,3)),c.computeBoundingSphere(),this.add(new ua(c,new Zf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const NE=new ae;let w3,d5;class nV extends di{constructor(e=new ae(0,0,1),t=new ae(0,0,0),n=1,r=16776960,a=n*.2,s=a*.2){super(),this.type="ArrowHelper",w3===void 0&&(w3=new En,w3.setAttribute("position",new Yt([0,0,0,0,1,0],3)),d5=new qx(.5,1,5,1),d5.translate(0,-.5,0)),this.position.copy(t),this.line=new Vf(w3,new Vs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ua(d5,new Zf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{NE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(NE,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class iV extends dc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new En;r.setAttribute("position",new Yt(t,3)),r.setAttribute("color",new Yt(n,3));const a=new Vs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,n){const r=new Pt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(n),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class rV{constructor(){this.type="ShapePath",this.color=new Pt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new o4,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,a,s){return this.currentPath.bezierCurveTo(e,t,n,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const A=[];for(let D=0,N=S.length;D<N;D++){const k=S[D],z=new Rd;z.curves=k.curves,A.push(z)}return A}function n(S,A){const D=A.length;let N=!1;for(let k=D-1,z=0;z<D;k=z++){let P=A[k],V=A[z],B=V.x-P.x,O=V.y-P.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(P=A[z],B=-B,V=A[k],O=-O),S.y<P.y||S.y>V.y)continue;if(S.y===P.y){if(S.x===P.x)return!0}else{const X=O*(S.x-P.x)-B*(S.y-P.y);if(X===0)return!0;if(X<0)continue;N=!N}}else{if(S.y!==P.y)continue;if(V.x<=S.x&&S.x<=P.x||P.x<=S.x&&S.x<=V.x)return!0}}return N}const r=uu.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,c;const f=[];if(a.length===1)return o=a[0],c=new Rd,c.curves=o.curves,f.push(c),f;let m=!r(a[0].getPoints());m=e?!m:m;const g=[],y=[];let x=[],_=0,M;y[_]=void 0,x[_]=[];for(let S=0,A=a.length;S<A;S++)o=a[S],M=o.getPoints(),s=r(M),s=e?!s:s,s?(!m&&y[_]&&_++,y[_]={s:new Rd,p:M},y[_].s.curves=o.curves,m&&_++,x[_]=[]):x[_].push({h:o,p:M[0]});if(!y[0])return t(a);if(y.length>1){let S=!1,A=0;for(let D=0,N=y.length;D<N;D++)g[D]=[];for(let D=0,N=y.length;D<N;D++){const k=x[D];for(let z=0;z<k.length;z++){const P=k[z];let V=!0;for(let B=0;B<y.length;B++)n(P.p,y[B].p)&&(D!==B&&A++,V?(V=!1,g[B].push(P)):S=!0);V&&g[D].push(P)}}A>0&&S===!1&&(x=g)}let w;for(let S=0,A=y.length;S<A;S++){c=y[S].s,f.push(c),w=x[S];for(let D=0,N=w.length;D<N;D++)c.holes.push(w[D].h)}return f}}class aV extends hc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Lt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function sV(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function lV(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function oV(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function $6(i,e,t,n){const r=uV(n);switch(t){case h8:return i*e;case L4:return i*e/r.components*r.byteLength;case Hx:return i*e/r.components*r.byteLength;case U4:return i*e*2/r.components*r.byteLength;case B4:return i*e*2/r.components*r.byteLength;case d8:return i*e*3/r.components*r.byteLength;case as:return i*e*4/r.components*r.byteLength;case k4:return i*e*4/r.components*r.byteLength;case qv:case Xv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Yv:case jv:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Nb:case Ob:return Math.max(i,16)*Math.max(e,8)/4;case Db:case zb:return Math.max(i,8)*Math.max(e,8)/2;case Lb:case Ub:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Bb:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case kb:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case Ib:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case Pb:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case Fb:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case Hb:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case Vb:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case Gb:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case qb:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case Xb:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case Yb:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case jb:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case Wb:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case Zb:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case Kb:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case Qb:case Jb:case $b:return Math.ceil(i/4)*Math.ceil(e/4)*16;case e4:case t4:return Math.ceil(i/4)*Math.ceil(e/4)*8;case n4:case i4:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function uV(i){switch(i){case Ao:case o8:return{byteLength:1,components:1};case $m:case u8:case Fd:return{byteLength:2,components:1};case z4:case O4:return{byteLength:2,components:4};case x0:case N4:case ol:return{byteLength:4,components:1};case c8:case f8:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class cV{static contain(e,t){return sV(e,t)}static cover(e,t){return lV(e,t)}static fill(e){return oV(e)}static getByteLength(e,t,n,r){return $6(e,t,n,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:C4}}));typeof window<"u"&&(window.__THREE__?Lt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=C4);function LN(){let i=null,e=!1,t=null,n=null;function r(a,s){t(a,s),n=i.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(r),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){i=a}}}function fV(i){const e=new WeakMap;function t(o,c){const f=o.array,m=o.usage,g=f.byteLength,y=i.createBuffer();i.bindBuffer(c,y),i.bufferData(c,f,m),o.onUploadCallback();let x;if(f instanceof Float32Array)x=i.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)x=i.HALF_FLOAT;else if(f instanceof Uint16Array)o.isFloat16BufferAttribute?x=i.HALF_FLOAT:x=i.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=i.SHORT;else if(f instanceof Uint32Array)x=i.UNSIGNED_INT;else if(f instanceof Int32Array)x=i.INT;else if(f instanceof Int8Array)x=i.BYTE;else if(f instanceof Uint8Array)x=i.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:o.version,size:g}}function n(o,c,f){const m=c.array,g=c.updateRanges;if(i.bindBuffer(f,o),g.length===0)i.bufferSubData(f,0,m);else{g.sort((x,_)=>x.start-_.start);let y=0;for(let x=1;x<g.length;x++){const _=g[y],M=g[x];M.start<=_.start+_.count+1?_.count=Math.max(_.count,M.start+M.count-_.start):(++y,g[y]=M)}g.length=y+1;for(let x=0,_=g.length;x<_;x++){const M=g[x];i.bufferSubData(f,M.start*m.BYTES_PER_ELEMENT,m,M.start,M.count)}c.clearUpdateRanges()}c.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const c=e.get(o);c&&(i.deleteBuffer(c.buffer),e.delete(o))}function s(o,c){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const m=e.get(o);(!m||m.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const f=e.get(o);if(f===void 0)e.set(o,t(o,c));else if(f.version<o.version){if(f.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(f.buffer,o,c),f.version=o.version}}return{get:r,remove:a,update:s}}var hV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,dV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,pV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,mV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gV=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,vV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,yV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,bV=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,_V=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,SV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,MV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,wV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,TV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,EV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,AV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,CV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,RV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,NV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,OV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,LV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,UV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,BV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,kV=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,IV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,FV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,HV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,VV="gl_FragColor = linearToOutputTexel( gl_FragColor );",GV=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,XV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,YV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,jV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,WV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,KV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,QV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,JV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$V=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,eG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,nG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,iG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,rG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,aG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,uG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,cG=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,fG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,hG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,dG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,pG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,mG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,gG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,vG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,xG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_G=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,SG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,MG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,TG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,EG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,AG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,CG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,RG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,DG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,LG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,UG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,BG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,kG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,IG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,PG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,FG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,HG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,VG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,GG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,qG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,XG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,YG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,jG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,WG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ZG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,KG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,QG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,JG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$G=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,eq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,tq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,nq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,iq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,rq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,aq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,sq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,lq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,oq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,cq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,pq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,xq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,yq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_q=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Sq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,wq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Eq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Dq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Oq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Bq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Fq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hq=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Un={alphahash_fragment:hV,alphahash_pars_fragment:dV,alphamap_fragment:pV,alphamap_pars_fragment:mV,alphatest_fragment:gV,alphatest_pars_fragment:vV,aomap_fragment:xV,aomap_pars_fragment:yV,batching_pars_vertex:bV,batching_vertex:_V,begin_vertex:SV,beginnormal_vertex:MV,bsdfs:wV,iridescence_fragment:TV,bumpmap_pars_fragment:EV,clipping_planes_fragment:AV,clipping_planes_pars_fragment:CV,clipping_planes_pars_vertex:RV,clipping_planes_vertex:DV,color_fragment:NV,color_pars_fragment:zV,color_pars_vertex:OV,color_vertex:LV,common:UV,cube_uv_reflection_fragment:BV,defaultnormal_vertex:kV,displacementmap_pars_vertex:IV,displacementmap_vertex:PV,emissivemap_fragment:FV,emissivemap_pars_fragment:HV,colorspace_fragment:VV,colorspace_pars_fragment:GV,envmap_fragment:qV,envmap_common_pars_fragment:XV,envmap_pars_fragment:YV,envmap_pars_vertex:jV,envmap_physical_pars_fragment:rG,envmap_vertex:WV,fog_vertex:ZV,fog_pars_vertex:KV,fog_fragment:QV,fog_pars_fragment:JV,gradientmap_pars_fragment:$V,lightmap_pars_fragment:eG,lights_lambert_fragment:tG,lights_lambert_pars_fragment:nG,lights_pars_begin:iG,lights_toon_fragment:aG,lights_toon_pars_fragment:sG,lights_phong_fragment:lG,lights_phong_pars_fragment:oG,lights_physical_fragment:uG,lights_physical_pars_fragment:cG,lights_fragment_begin:fG,lights_fragment_maps:hG,lights_fragment_end:dG,logdepthbuf_fragment:pG,logdepthbuf_pars_fragment:mG,logdepthbuf_pars_vertex:gG,logdepthbuf_vertex:vG,map_fragment:xG,map_pars_fragment:yG,map_particle_fragment:bG,map_particle_pars_fragment:_G,metalnessmap_fragment:SG,metalnessmap_pars_fragment:MG,morphinstance_vertex:wG,morphcolor_vertex:TG,morphnormal_vertex:EG,morphtarget_pars_vertex:AG,morphtarget_vertex:CG,normal_fragment_begin:RG,normal_fragment_maps:DG,normal_pars_fragment:NG,normal_pars_vertex:zG,normal_vertex:OG,normalmap_pars_fragment:LG,clearcoat_normal_fragment_begin:UG,clearcoat_normal_fragment_maps:BG,clearcoat_pars_fragment:kG,iridescence_pars_fragment:IG,opaque_fragment:PG,packing:FG,premultiplied_alpha_fragment:HG,project_vertex:VG,dithering_fragment:GG,dithering_pars_fragment:qG,roughnessmap_fragment:XG,roughnessmap_pars_fragment:YG,shadowmap_pars_fragment:jG,shadowmap_pars_vertex:WG,shadowmap_vertex:ZG,shadowmask_pars_fragment:KG,skinbase_vertex:QG,skinning_pars_vertex:JG,skinning_vertex:$G,skinnormal_vertex:eq,specularmap_fragment:tq,specularmap_pars_fragment:nq,tonemapping_fragment:iq,tonemapping_pars_fragment:rq,transmission_fragment:aq,transmission_pars_fragment:sq,uv_pars_fragment:lq,uv_pars_vertex:oq,uv_vertex:uq,worldpos_vertex:cq,background_vert:fq,background_frag:hq,backgroundCube_vert:dq,backgroundCube_frag:pq,cube_vert:mq,cube_frag:gq,depth_vert:vq,depth_frag:xq,distanceRGBA_vert:yq,distanceRGBA_frag:bq,equirect_vert:_q,equirect_frag:Sq,linedashed_vert:Mq,linedashed_frag:wq,meshbasic_vert:Tq,meshbasic_frag:Eq,meshlambert_vert:Aq,meshlambert_frag:Cq,meshmatcap_vert:Rq,meshmatcap_frag:Dq,meshnormal_vert:Nq,meshnormal_frag:zq,meshphong_vert:Oq,meshphong_frag:Lq,meshphysical_vert:Uq,meshphysical_frag:Bq,meshtoon_vert:kq,meshtoon_frag:Iq,points_vert:Pq,points_frag:Fq,shadow_vert:Hq,shadow_frag:Vq,sprite_vert:Gq,sprite_frag:qq},Ot={common:{diffuse:{value:new Pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Rn},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Rn}},envmap:{envMap:{value:null},envMapRotation:{value:new Rn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Rn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Rn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Rn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Rn},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Rn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Rn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Rn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Rn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0},uvTransform:{value:new Rn}},sprite:{diffuse:{value:new Pt(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Rn},alphaMap:{value:null},alphaMapTransform:{value:new Rn},alphaTest:{value:0}}},lu={basic:{uniforms:zs([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.fog]),vertexShader:Un.meshbasic_vert,fragmentShader:Un.meshbasic_frag},lambert:{uniforms:zs([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new Pt(0)}}]),vertexShader:Un.meshlambert_vert,fragmentShader:Un.meshlambert_frag},phong:{uniforms:zs([Ot.common,Ot.specularmap,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,Ot.lights,{emissive:{value:new Pt(0)},specular:{value:new Pt(1118481)},shininess:{value:30}}]),vertexShader:Un.meshphong_vert,fragmentShader:Un.meshphong_frag},standard:{uniforms:zs([Ot.common,Ot.envmap,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.roughnessmap,Ot.metalnessmap,Ot.fog,Ot.lights,{emissive:{value:new Pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag},toon:{uniforms:zs([Ot.common,Ot.aomap,Ot.lightmap,Ot.emissivemap,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.gradientmap,Ot.fog,Ot.lights,{emissive:{value:new Pt(0)}}]),vertexShader:Un.meshtoon_vert,fragmentShader:Un.meshtoon_frag},matcap:{uniforms:zs([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,Ot.fog,{matcap:{value:null}}]),vertexShader:Un.meshmatcap_vert,fragmentShader:Un.meshmatcap_frag},points:{uniforms:zs([Ot.points,Ot.fog]),vertexShader:Un.points_vert,fragmentShader:Un.points_frag},dashed:{uniforms:zs([Ot.common,Ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Un.linedashed_vert,fragmentShader:Un.linedashed_frag},depth:{uniforms:zs([Ot.common,Ot.displacementmap]),vertexShader:Un.depth_vert,fragmentShader:Un.depth_frag},normal:{uniforms:zs([Ot.common,Ot.bumpmap,Ot.normalmap,Ot.displacementmap,{opacity:{value:1}}]),vertexShader:Un.meshnormal_vert,fragmentShader:Un.meshnormal_frag},sprite:{uniforms:zs([Ot.sprite,Ot.fog]),vertexShader:Un.sprite_vert,fragmentShader:Un.sprite_frag},background:{uniforms:{uvTransform:{value:new Rn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Un.background_vert,fragmentShader:Un.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Rn}},vertexShader:Un.backgroundCube_vert,fragmentShader:Un.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Un.cube_vert,fragmentShader:Un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Un.equirect_vert,fragmentShader:Un.equirect_frag},distanceRGBA:{uniforms:zs([Ot.common,Ot.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Un.distanceRGBA_vert,fragmentShader:Un.distanceRGBA_frag},shadow:{uniforms:zs([Ot.lights,Ot.fog,{color:{value:new Pt(0)},opacity:{value:1}}]),vertexShader:Un.shadow_vert,fragmentShader:Un.shadow_frag}};lu.physical={uniforms:zs([lu.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Rn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Rn},clearcoatNormalScale:{value:new rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Rn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Rn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Rn},sheen:{value:0},sheenColor:{value:new Pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Rn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Rn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Rn},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Rn},attenuationDistance:{value:0},attenuationColor:{value:new Pt(0)},specularColor:{value:new Pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Rn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Rn},anisotropyVector:{value:new rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Rn}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag};const T3={r:0,b:0,g:0},ad=new Wl,Xq=new yn;function Yq(i,e,t,n,r,a,s){const o=new Pt(0);let c=a===!0?0:1,f,m,g=null,y=0,x=null;function _(D){let N=D.isScene===!0?D.background:null;return N&&N.isTexture&&(N=(D.backgroundBlurriness>0?t:e).get(N)),N}function M(D){let N=!1;const k=_(D);k===null?S(o,c):k&&k.isColor&&(S(k,1),N=!0);const z=i.xr.getEnvironmentBlendMode();z==="additive"?n.buffers.color.setClear(0,0,0,1,s):z==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,s),(i.autoClear||N)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function w(D,N){const k=_(N);k&&(k.isCubeTexture||k.mapping===g1)?(m===void 0&&(m=new ua(new Hd(1,1,1),new Co({name:"BackgroundCubeMaterial",uniforms:l1(lu.backgroundCube.uniforms),vertexShader:lu.backgroundCube.vertexShader,fragmentShader:lu.backgroundCube.fragmentShader,side:Hs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(z,P,V){this.matrixWorld.copyPosition(V.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),ad.copy(N.backgroundRotation),ad.x*=-1,ad.y*=-1,ad.z*=-1,k.isCubeTexture&&k.isRenderTargetTexture===!1&&(ad.y*=-1,ad.z*=-1),m.material.uniforms.envMap.value=k,m.material.uniforms.flipEnvMap.value=k.isCubeTexture&&k.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(Xq.makeRotationFromEuler(ad)),m.material.toneMapped=oi.getTransfer(k.colorSpace)!==Oi,(g!==k||y!==k.version||x!==i.toneMapping)&&(m.material.needsUpdate=!0,g=k,y=k.version,x=i.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):k&&k.isTexture&&(f===void 0&&(f=new ua(new y1(2,2),new Co({name:"BackgroundMaterial",uniforms:l1(lu.background.uniforms),vertexShader:lu.background.vertexShader,fragmentShader:lu.background.fragmentShader,side:g0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=k,f.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,f.material.toneMapped=oi.getTransfer(k.colorSpace)!==Oi,k.matrixAutoUpdate===!0&&k.updateMatrix(),f.material.uniforms.uvTransform.value.copy(k.matrix),(g!==k||y!==k.version||x!==i.toneMapping)&&(f.material.needsUpdate=!0,g=k,y=k.version,x=i.toneMapping),f.layers.enableAll(),D.unshift(f,f.geometry,f.material,0,0,null))}function S(D,N){D.getRGB(T3,OD(i)),n.buffers.color.setClear(T3.r,T3.g,T3.b,N,s)}function A(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return o},setClearColor:function(D,N=1){o.set(D),c=N,S(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(D){c=D,S(o,c)},render:M,addToRenderList:w,dispose:A}}function jq(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},r=y(null);let a=r,s=!1;function o(O,X,W,se,le){let ie=!1;const Y=g(se,W,X);a!==Y&&(a=Y,f(a.object)),ie=x(O,se,W,le),ie&&_(O,se,W,le),le!==null&&e.update(le,i.ELEMENT_ARRAY_BUFFER),(ie||s)&&(s=!1,N(O,X,W,se),le!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(le).buffer))}function c(){return i.createVertexArray()}function f(O){return i.bindVertexArray(O)}function m(O){return i.deleteVertexArray(O)}function g(O,X,W){const se=W.wireframe===!0;let le=n[O.id];le===void 0&&(le={},n[O.id]=le);let ie=le[X.id];ie===void 0&&(ie={},le[X.id]=ie);let Y=ie[se];return Y===void 0&&(Y=y(c()),ie[se]=Y),Y}function y(O){const X=[],W=[],se=[];for(let le=0;le<t;le++)X[le]=0,W[le]=0,se[le]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:X,enabledAttributes:W,attributeDivisors:se,object:O,attributes:{},index:null}}function x(O,X,W,se){const le=a.attributes,ie=X.attributes;let Y=0;const te=W.getAttributes();for(const re in te)if(te[re].location>=0){const F=le[re];let J=ie[re];if(J===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&(J=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&(J=O.instanceColor)),F===void 0||F.attribute!==J||J&&F.data!==J.data)return!0;Y++}return a.attributesNum!==Y||a.index!==se}function _(O,X,W,se){const le={},ie=X.attributes;let Y=0;const te=W.getAttributes();for(const re in te)if(te[re].location>=0){let F=ie[re];F===void 0&&(re==="instanceMatrix"&&O.instanceMatrix&&(F=O.instanceMatrix),re==="instanceColor"&&O.instanceColor&&(F=O.instanceColor));const J={};J.attribute=F,F&&F.data&&(J.data=F.data),le[re]=J,Y++}a.attributes=le,a.attributesNum=Y,a.index=se}function M(){const O=a.newAttributes;for(let X=0,W=O.length;X<W;X++)O[X]=0}function w(O){S(O,0)}function S(O,X){const W=a.newAttributes,se=a.enabledAttributes,le=a.attributeDivisors;W[O]=1,se[O]===0&&(i.enableVertexAttribArray(O),se[O]=1),le[O]!==X&&(i.vertexAttribDivisor(O,X),le[O]=X)}function A(){const O=a.newAttributes,X=a.enabledAttributes;for(let W=0,se=X.length;W<se;W++)X[W]!==O[W]&&(i.disableVertexAttribArray(W),X[W]=0)}function D(O,X,W,se,le,ie,Y){Y===!0?i.vertexAttribIPointer(O,X,W,le,ie):i.vertexAttribPointer(O,X,W,se,le,ie)}function N(O,X,W,se){M();const le=se.attributes,ie=W.getAttributes(),Y=X.defaultAttributeValues;for(const te in ie){const re=ie[te];if(re.location>=0){let ye=le[te];if(ye===void 0&&(te==="instanceMatrix"&&O.instanceMatrix&&(ye=O.instanceMatrix),te==="instanceColor"&&O.instanceColor&&(ye=O.instanceColor)),ye!==void 0){const F=ye.normalized,J=ye.itemSize,ge=e.get(ye);if(ge===void 0)continue;const Z=ge.buffer,Oe=ge.type,We=ge.bytesPerElement,be=Oe===i.INT||Oe===i.UNSIGNED_INT||ye.gpuType===N4;if(ye.isInterleavedBufferAttribute){const Ne=ye.data,Ye=Ne.stride,at=ye.offset;if(Ne.isInstancedInterleavedBuffer){for(let _t=0;_t<re.locationSize;_t++)S(re.location+_t,Ne.meshPerAttribute);O.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=Ne.meshPerAttribute*Ne.count)}else for(let _t=0;_t<re.locationSize;_t++)w(re.location+_t);i.bindBuffer(i.ARRAY_BUFFER,Z);for(let _t=0;_t<re.locationSize;_t++)D(re.location+_t,J/re.locationSize,Oe,F,Ye*We,(at+J/re.locationSize*_t)*We,be)}else{if(ye.isInstancedBufferAttribute){for(let Ne=0;Ne<re.locationSize;Ne++)S(re.location+Ne,ye.meshPerAttribute);O.isInstancedMesh!==!0&&se._maxInstanceCount===void 0&&(se._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Ne=0;Ne<re.locationSize;Ne++)w(re.location+Ne);i.bindBuffer(i.ARRAY_BUFFER,Z);for(let Ne=0;Ne<re.locationSize;Ne++)D(re.location+Ne,J/re.locationSize,Oe,F,J*We,J/re.locationSize*Ne*We,be)}}else if(Y!==void 0){const F=Y[te];if(F!==void 0)switch(F.length){case 2:i.vertexAttrib2fv(re.location,F);break;case 3:i.vertexAttrib3fv(re.location,F);break;case 4:i.vertexAttrib4fv(re.location,F);break;default:i.vertexAttrib1fv(re.location,F)}}}}A()}function k(){V();for(const O in n){const X=n[O];for(const W in X){const se=X[W];for(const le in se)m(se[le].object),delete se[le];delete X[W]}delete n[O]}}function z(O){if(n[O.id]===void 0)return;const X=n[O.id];for(const W in X){const se=X[W];for(const le in se)m(se[le].object),delete se[le];delete X[W]}delete n[O.id]}function P(O){for(const X in n){const W=n[X];if(W[O.id]===void 0)continue;const se=W[O.id];for(const le in se)m(se[le].object),delete se[le];delete W[O.id]}}function V(){B(),s=!0,a!==r&&(a=r,f(a.object))}function B(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:V,resetDefaultState:B,dispose:k,releaseStatesOfGeometry:z,releaseStatesOfProgram:P,initAttributes:M,enableAttribute:w,disableUnusedAttributes:A}}function Wq(i,e,t){let n;function r(f){n=f}function a(f,m){i.drawArrays(n,f,m),t.update(m,n,1)}function s(f,m,g){g!==0&&(i.drawArraysInstanced(n,f,m,g),t.update(m,n,g))}function o(f,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,f,0,m,0,g);let x=0;for(let _=0;_<g;_++)x+=m[_];t.update(x,n,1)}function c(f,m,g,y){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<f.length;_++)s(f[_],m[_],y[_]);else{x.multiDrawArraysInstancedWEBGL(n,f,0,m,0,y,0,g);let _=0;for(let M=0;M<g;M++)_+=m[M]*y[M];t.update(_,n,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=c}function Zq(i,e,t,n){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");r=i.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(P){return!(P!==as&&n.convert(P)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(P){const V=P===Fd&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Ao&&n.convert(P)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==ol&&!V)}function c(P){if(P==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const m=c(f);m!==f&&(Lt("WebGLRenderer:",f,"not supported, using",m,"instead."),f=m);const g=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),_=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=i.getParameter(i.MAX_TEXTURE_SIZE),w=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),S=i.getParameter(i.MAX_VERTEX_ATTRIBS),A=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),D=i.getParameter(i.MAX_VARYING_VECTORS),N=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),k=_>0,z=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:o,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:x,maxVertexTextures:_,maxTextureSize:M,maxCubemapSize:w,maxAttributes:S,maxVertexUniforms:A,maxVaryings:D,maxFragmentUniforms:N,vertexTextures:k,maxSamples:z}}function Kq(i){const e=this;let t=null,n=0,r=!1,a=!1;const s=new _f,o=new Rn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const x=g.length!==0||y||n!==0||r;return r=y,n=g.length,x},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,x){const _=g.clippingPlanes,M=g.clipIntersection,w=g.clipShadows,S=i.get(g);if(!r||_===null||_.length===0||a&&!w)a?m(null):f();else{const A=a?0:n,D=A*4;let N=S.clippingState||null;c.value=N,N=m(_,y,D,x);for(let k=0;k!==D;++k)N[k]=t[k];S.clippingState=N,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=A}};function f(){c.value!==t&&(c.value=t,c.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,y,x,_){const M=g!==null?g.length:0;let w=null;if(M!==0){if(w=c.value,_!==!0||w===null){const S=x+M*4,A=y.matrixWorldInverse;o.getNormalMatrix(A),(w===null||w.length<S)&&(w=new Float32Array(S));for(let D=0,N=x;D!==M;++D,N+=4)s.copy(g[D]).applyMatrix4(A,o),s.normal.toArray(w,N),w[N+3]=s.constant}c.value=w,c.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,w}}function Qq(i){let e=new WeakMap;function t(s,o){return o===hx?s.mapping=v0:o===dx&&(s.mapping=Pf),s}function n(s){if(s&&s.isTexture){const o=s.mapping;if(o===hx||o===dx)if(e.has(s)){const c=e.get(s).texture;return t(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const f=new BD(c.height);return f.fromEquirectangularTexture(i,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const Df=4,zE=[.125,.215,.35,.446,.526,.582],pd=20,Jq=256,pv=new Zx,OE=new Pt;let p5=null,m5=0,g5=0,v5=!1;const $q=new ae;class eM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,a={}){const{size:s=256,position:o=$q}=a;p5=this._renderer.getRenderTarget(),m5=this._renderer.getActiveCubeFace(),g5=this._renderer.getActiveMipmapLevel(),v5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,n,r,c,o),t>0&&this._blur(c,0,0,t),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BE(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UE(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(p5,m5,g5),this._renderer.xr.enabled=v5,e.scissorTest=!1,_m(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===v0||e.mapping===Pf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),p5=this._renderer.getRenderTarget(),m5=this._renderer.getActiveCubeFace(),g5=this._renderer.getActiveMipmapLevel(),v5=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Pr,minFilter:Pr,generateMipmaps:!1,type:Fd,format:as,colorSpace:Ff,depthBuffer:!1},r=LE(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=LE(e,t,n);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=eX(a)),this._blurMaterial=nX(a,e,t),this._ggxMaterial=tX(a,e,t)}return r}_compileMaterial(e){const t=new ua(new En,e);this._renderer.compile(t,pv)}_sceneToCubeUV(e,t,n,r,a){const c=new Ta(90,1,t,n),f=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,x=g.toneMapping;g.getClearColor(OE),g.toneMapping=oc,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ua(new Hd,new Zf({name:"PMREM.Background",side:Hs,depthWrite:!1,depthTest:!1})));const M=this._backgroundBox,w=M.material;let S=!1;const A=e.background;A?A.isColor&&(w.color.copy(A),e.background=null,S=!0):(w.color.copy(OE),S=!0);for(let D=0;D<6;D++){const N=D%3;N===0?(c.up.set(0,f[D],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+m[D],a.y,a.z)):N===1?(c.up.set(0,0,f[D]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+m[D],a.z)):(c.up.set(0,f[D],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+m[D]));const k=this._cubeSize;_m(r,N*k,D>2?k:0,k,k),g.setRenderTarget(r),S&&g.render(M,c),g.render(e,c)}g.toneMapping=x,g.autoClear=y,e.background=A}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===v0||e.mapping===Pf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=BE()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UE());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const c=this._cubeSize;_m(t,0,0,3*c,2*c),n.setRenderTarget(t),n.render(s,pv)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[n];o.material=s;const c=s.uniforms,f=n/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),g=Math.sqrt(f*f-m*m),y=.05+f*.95,x=g*y,{_lodMax:_}=this,M=this._sizeLods[n],w=3*M*(n>_-Df?n-_+Df:0),S=4*(this._cubeSize-M);c.envMap.value=e.texture,c.roughness.value=x,c.mipInt.value=_-t,_m(a,w,S,3*M,2*M),r.setRenderTarget(a),r.render(o,pv),c.envMap.value=a.texture,c.roughness.value=0,c.mipInt.value=_-n,_m(e,w,S,3*M,2*M),r.setRenderTarget(e),r.render(o,pv)}_blur(e,t,n,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,n,r,"latitudinal",a),this._halfBlur(s,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,s,o){const c=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&_n("blur direction must be either latitudinal or longitudinal!");const m=3,g=this._lodMeshes[r];g.material=f;const y=f.uniforms,x=this._sizeLods[n]-1,_=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*pd-1),M=a/_,w=isFinite(a)?1+Math.floor(m*M):pd;w>pd&&Lt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${pd}`);const S=[];let A=0;for(let P=0;P<pd;++P){const V=P/M,B=Math.exp(-V*V/2);S.push(B),P===0?A+=B:P<w&&(A+=2*B)}for(let P=0;P<S.length;P++)S[P]=S[P]/A;y.envMap.value=e.texture,y.samples.value=w,y.weights.value=S,y.latitudinal.value=s==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:D}=this;y.dTheta.value=_,y.mipInt.value=D-n;const N=this._sizeLods[r],k=3*N*(r>D-Df?r-D+Df:0),z=4*(this._cubeSize-N);_m(t,k,z,3*N,2*N),c.setRenderTarget(t),c.render(g,pv)}}function eX(i){const e=[],t=[],n=[];let r=i;const a=i-Df+1+zE.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);e.push(o);let c=1/o;s>i-Df?c=zE[s-i+Df-1]:s===0&&(c=0),t.push(c);const f=1/(o-2),m=-f,g=1+f,y=[m,m,g,m,g,g,m,m,g,g,m,g],x=6,_=6,M=3,w=2,S=1,A=new Float32Array(M*_*x),D=new Float32Array(w*_*x),N=new Float32Array(S*_*x);for(let z=0;z<x;z++){const P=z%3*2/3-1,V=z>2?0:-1,B=[P,V,0,P+2/3,V,0,P+2/3,V+1,0,P,V,0,P+2/3,V+1,0,P,V+1,0];A.set(B,M*_*z),D.set(y,w*_*z);const O=[z,z,z,z,z,z];N.set(O,S*_*z)}const k=new En;k.setAttribute("position",new Pi(A,M)),k.setAttribute("uv",new Pi(D,w)),k.setAttribute("faceIndex",new Pi(N,S)),n.push(new ua(k,null)),r>Df&&r--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function LE(i,e,t){const n=new cc(i,e,t);return n.texture.mapping=g1,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function _m(i,e,t,n,r){i.viewport.set(e,t,n,r),i.scissor.set(e,t,n,r)}function tX(i,e,t){return new Co({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:Jq,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:o_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:lc,depthTest:!1,depthWrite:!1})}function nX(i,e,t){const n=new Float32Array(pd),r=new ae(0,1,0);return new Co({name:"SphericalGaussianBlur",defines:{n:pd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:lc,depthTest:!1,depthWrite:!1})}function UE(){return new Co({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:lc,depthTest:!1,depthWrite:!1})}function BE(){return new Co({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:o_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:lc,depthTest:!1,depthWrite:!1})}function o_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function iX(i){let e=new WeakMap,t=null;function n(o){if(o&&o.isTexture){const c=o.mapping,f=c===hx||c===dx,m=c===v0||c===Pf;if(f||m){let g=e.get(o);const y=g!==void 0?g.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new eM(i)),g=f?t.fromEquirectangular(o,g):t.fromCubemap(o,g),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),g.texture;if(g!==void 0)return g.texture;{const x=o.image;return f&&x&&x.height>0||m&&x&&r(x)?(t===null&&(t=new eM(i)),g=f?t.fromEquirectangular(o):t.fromCubemap(o),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),o.addEventListener("dispose",a),g.texture):null}}}return o}function r(o){let c=0;const f=6;for(let m=0;m<f;m++)o[m]!==void 0&&c++;return c===f}function a(o){const c=o.target;c.removeEventListener("dispose",a);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:s}}function rX(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const r=i.getExtension(n);return e[n]=r,r}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const r=t(n);return r===null&&r1("WebGLRenderer: "+n+" extension not supported."),r}}}function aX(i,e,t,n){const r={},a=new WeakMap;function s(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",s),delete r[y.id];const x=a.get(y);x&&(e.remove(x),a.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(g,y){return r[y.id]===!0||(y.addEventListener("dispose",s),r[y.id]=!0,t.memory.geometries++),y}function c(g){const y=g.attributes;for(const x in y)e.update(y[x],i.ARRAY_BUFFER)}function f(g){const y=[],x=g.index,_=g.attributes.position;let M=0;if(x!==null){const A=x.array;M=x.version;for(let D=0,N=A.length;D<N;D+=3){const k=A[D+0],z=A[D+1],P=A[D+2];y.push(k,z,z,P,P,k)}}else if(_!==void 0){const A=_.array;M=_.version;for(let D=0,N=A.length/3-1;D<N;D+=3){const k=D+0,z=D+1,P=D+2;y.push(k,z,z,P,P,k)}}else return;const w=new(RD(y)?y8:x8)(y,1);w.version=M;const S=a.get(g);S&&e.remove(S),a.set(g,w)}function m(g){const y=a.get(g);if(y){const x=g.index;x!==null&&y.version<x.version&&f(g)}else f(g);return a.get(g)}return{get:o,update:c,getWireframeAttribute:m}}function sX(i,e,t){let n;function r(y){n=y}let a,s;function o(y){a=y.type,s=y.bytesPerElement}function c(y,x){i.drawElements(n,x,a,y*s),t.update(x,n,1)}function f(y,x,_){_!==0&&(i.drawElementsInstanced(n,x,a,y*s,_),t.update(x,n,_))}function m(y,x,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,a,y,0,_);let w=0;for(let S=0;S<_;S++)w+=x[S];t.update(w,n,1)}function g(y,x,_,M){if(_===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let S=0;S<y.length;S++)f(y[S]/s,x[S],M[S]);else{w.multiDrawElementsInstancedWEBGL(n,x,0,a,y,0,M,0,_);let S=0;for(let A=0;A<_;A++)S+=x[A]*M[A];t.update(S,n,1)}}this.setMode=r,this.setIndex=o,this.render=c,this.renderInstances=f,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function lX(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,s,o){switch(t.calls++,s){case i.TRIANGLES:t.triangles+=o*(a/3);break;case i.LINES:t.lines+=o*(a/2);break;case i.LINE_STRIP:t.lines+=o*(a-1);break;case i.LINE_LOOP:t.lines+=o*a;break;case i.POINTS:t.points+=o*a;break;default:_n("WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:n}}function oX(i,e,t){const n=new WeakMap,r=new hi;function a(s,o,c){const f=s.morphTargetInfluences,m=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,g=m!==void 0?m.length:0;let y=n.get(o);if(y===void 0||y.count!==g){let O=function(){V.dispose(),n.delete(o),o.removeEventListener("dispose",O)};var x=O;y!==void 0&&y.texture.dispose();const _=o.morphAttributes.position!==void 0,M=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,S=o.morphAttributes.position||[],A=o.morphAttributes.normal||[],D=o.morphAttributes.color||[];let N=0;_===!0&&(N=1),M===!0&&(N=2),w===!0&&(N=3);let k=o.attributes.position.count*N,z=1;k>e.maxTextureSize&&(z=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const P=new Float32Array(k*z*4*g),V=new P4(P,k,z,g);V.type=ol,V.needsUpdate=!0;const B=N*4;for(let X=0;X<g;X++){const W=S[X],se=A[X],le=D[X],ie=k*z*4*X;for(let Y=0;Y<W.count;Y++){const te=Y*B;_===!0&&(r.fromBufferAttribute(W,Y),P[ie+te+0]=r.x,P[ie+te+1]=r.y,P[ie+te+2]=r.z,P[ie+te+3]=0),M===!0&&(r.fromBufferAttribute(se,Y),P[ie+te+4]=r.x,P[ie+te+5]=r.y,P[ie+te+6]=r.z,P[ie+te+7]=0),w===!0&&(r.fromBufferAttribute(le,Y),P[ie+te+8]=r.x,P[ie+te+9]=r.y,P[ie+te+10]=r.z,P[ie+te+11]=le.itemSize===4?r.w:1)}}y={count:g,texture:V,size:new rt(k,z)},n.set(o,y),o.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(i,"morphTexture",s.morphTexture,t);else{let _=0;for(let w=0;w<f.length;w++)_+=f[w];const M=o.morphTargetsRelative?1:1-_;c.getUniforms().setValue(i,"morphTargetBaseInfluence",M),c.getUniforms().setValue(i,"morphTargetInfluences",f)}c.getUniforms().setValue(i,"morphTargetsTexture",y.texture,t),c.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}return{update:a}}function uX(i,e,t,n){let r=new WeakMap;function a(c){const f=n.render.frame,m=c.geometry,g=e.get(c,m);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",o)===!1&&c.addEventListener("dispose",o),r.get(c)!==f&&(t.update(c.instanceMatrix,i.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,i.ARRAY_BUFFER),r.set(c,f))),c.isSkinnedMesh){const y=c.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return g}function s(){r=new WeakMap}function o(c){const f=c.target;f.removeEventListener("dispose",o),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const UN=new Cr,kE=new w8(1,1),BN=new P4,kN=new F4,IN=new Vx,IE=[],PE=[],FE=new Float32Array(16),HE=new Float32Array(9),VE=new Float32Array(4);function b1(i,e,t){const n=i[0];if(n<=0||n>0)return i;const r=e*t;let a=IE[r];if(a===void 0&&(a=new Float32Array(r),IE[r]=a),e!==0){n.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,i[s].toArray(a,o)}return a}function ca(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function fa(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function u_(i,e){let t=PE[e];t===void 0&&(t=new Int32Array(e),PE[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function cX(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function fX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ca(t,e))return;i.uniform2fv(this.addr,e),fa(t,e)}}function hX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ca(t,e))return;i.uniform3fv(this.addr,e),fa(t,e)}}function dX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ca(t,e))return;i.uniform4fv(this.addr,e),fa(t,e)}}function pX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ca(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),fa(t,e)}else{if(ca(t,n))return;VE.set(n),i.uniformMatrix2fv(this.addr,!1,VE),fa(t,n)}}function mX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ca(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),fa(t,e)}else{if(ca(t,n))return;HE.set(n),i.uniformMatrix3fv(this.addr,!1,HE),fa(t,n)}}function gX(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(ca(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),fa(t,e)}else{if(ca(t,n))return;FE.set(n),i.uniformMatrix4fv(this.addr,!1,FE),fa(t,n)}}function vX(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function xX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ca(t,e))return;i.uniform2iv(this.addr,e),fa(t,e)}}function yX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ca(t,e))return;i.uniform3iv(this.addr,e),fa(t,e)}}function bX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ca(t,e))return;i.uniform4iv(this.addr,e),fa(t,e)}}function _X(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function SX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ca(t,e))return;i.uniform2uiv(this.addr,e),fa(t,e)}}function MX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ca(t,e))return;i.uniform3uiv(this.addr,e),fa(t,e)}}function wX(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ca(t,e))return;i.uniform4uiv(this.addr,e),fa(t,e)}}function TX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r);let a;this.type===i.SAMPLER_2D_SHADOW?(kE.compareFunction=m8,a=kE):a=UN,t.setTexture2D(e||a,r)}function EX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||kN,r)}function AX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||IN,r)}function CX(i,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(i.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||BN,r)}function RX(i){switch(i){case 5126:return cX;case 35664:return fX;case 35665:return hX;case 35666:return dX;case 35674:return pX;case 35675:return mX;case 35676:return gX;case 5124:case 35670:return vX;case 35667:case 35671:return xX;case 35668:case 35672:return yX;case 35669:case 35673:return bX;case 5125:return _X;case 36294:return SX;case 36295:return MX;case 36296:return wX;case 35678:case 36198:case 36298:case 36306:case 35682:return TX;case 35679:case 36299:case 36307:return EX;case 35680:case 36300:case 36308:case 36293:return AX;case 36289:case 36303:case 36311:case 36292:return CX}}function DX(i,e){i.uniform1fv(this.addr,e)}function NX(i,e){const t=b1(e,this.size,2);i.uniform2fv(this.addr,t)}function zX(i,e){const t=b1(e,this.size,3);i.uniform3fv(this.addr,t)}function OX(i,e){const t=b1(e,this.size,4);i.uniform4fv(this.addr,t)}function LX(i,e){const t=b1(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function UX(i,e){const t=b1(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function BX(i,e){const t=b1(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function kX(i,e){i.uniform1iv(this.addr,e)}function IX(i,e){i.uniform2iv(this.addr,e)}function PX(i,e){i.uniform3iv(this.addr,e)}function FX(i,e){i.uniform4iv(this.addr,e)}function HX(i,e){i.uniform1uiv(this.addr,e)}function VX(i,e){i.uniform2uiv(this.addr,e)}function GX(i,e){i.uniform3uiv(this.addr,e)}function qX(i,e){i.uniform4uiv(this.addr,e)}function XX(i,e,t){const n=this.cache,r=e.length,a=u_(t,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||UN,a[s])}function YX(i,e,t){const n=this.cache,r=e.length,a=u_(t,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||kN,a[s])}function jX(i,e,t){const n=this.cache,r=e.length,a=u_(t,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||IN,a[s])}function WX(i,e,t){const n=this.cache,r=e.length,a=u_(t,r);ca(n,a)||(i.uniform1iv(this.addr,a),fa(n,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||BN,a[s])}function ZX(i){switch(i){case 5126:return DX;case 35664:return NX;case 35665:return zX;case 35666:return OX;case 35674:return LX;case 35675:return UX;case 35676:return BX;case 5124:case 35670:return kX;case 35667:case 35671:return IX;case 35668:case 35672:return PX;case 35669:case 35673:return FX;case 5125:return HX;case 36294:return VX;case 36295:return GX;case 36296:return qX;case 35678:case 36198:case 36298:case 36306:case 35682:return XX;case 35679:case 36299:case 36307:return YX;case 35680:case 36300:case 36308:case 36293:return jX;case 36289:case 36303:case 36311:case 36292:return WX}}class KX{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=RX(t.type)}}class QX{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ZX(t.type)}}class JX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,t[o.id],n)}}}const x5=/(\w+)(\])?(\[|\.)?/g;function GE(i,e){i.seq.push(e),i.map[e.id]=e}function $X(i,e,t){const n=i.name,r=n.length;for(x5.lastIndex=0;;){const a=x5.exec(n),s=x5.lastIndex;let o=a[1];const c=a[2]==="]",f=a[3];if(c&&(o=o|0),f===void 0||f==="["&&s+2===r){GE(t,f===void 0?new KX(o,i,e):new QX(o,i,e));break}else{let g=t.map[o];g===void 0&&(g=new JX(o),GE(t,g)),t=g}}}class ib{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);$X(a,s,this)}}setValue(e,t,n,r){const a=this.map[t];a!==void 0&&a.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];r!==void 0&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,s=t.length;a!==s;++a){const o=t[a],c=n[o.id];c.needsUpdate!==!1&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&n.push(s)}return n}}function qE(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const eY=37297;let tY=0;function nY(i,e){const t=i.split(`
`),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const o=s+1;n.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return n.join(`
`)}const XE=new Rn;function iY(i){oi._getMatrix(XE,oi.workingColorSpace,i);const e=`mat3( ${XE.elements.map(t=>t.toFixed(4))} )`;switch(oi.getTransfer(i)){case xx:return[e,"LinearTransferOETF"];case Oi:return[e,"sRGBTransferOETF"];default:return Lt("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function YE(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),a=(i.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+nY(i.getShaderSource(e),o)}else return a}function rY(i,e){const t=iY(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function aY(i,e){let t;switch(e){case uD:t="Linear";break;case cD:t="Reinhard";break;case fD:t="Cineon";break;case s8:t="ACESFilmic";break;case dD:t="AgX";break;case pD:t="Neutral";break;case hD:t="Custom";break;default:Lt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const E3=new ae;function sY(){oi.getLuminanceCoefficients(E3);const i=E3.x.toFixed(4),e=E3.y.toFixed(4),t=E3.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function lY(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Cv).join(`
`)}function oY(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function uY(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let r=0;r<n;r++){const a=i.getActiveAttrib(e,r),s=a.name;let o=1;a.type===i.FLOAT_MAT2&&(o=2),a.type===i.FLOAT_MAT3&&(o=3),a.type===i.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:i.getAttribLocation(e,s),locationSize:o}}return t}function Cv(i){return i!==""}function jE(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function WE(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const cY=/^[ \t]*#include +<([\w\d./]+)>/gm;function tM(i){return i.replace(cY,hY)}const fY=new Map;function hY(i,e){let t=Un[e];if(t===void 0){const n=fY.get(e);if(n!==void 0)t=Un[n],Lt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return tM(t)}const dY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZE(i){return i.replace(dY,pY)}function pY(i,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function KE(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function mY(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===R4?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Vv?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===au&&(e="SHADOWMAP_TYPE_VSM"),e}function gY(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case v0:case Pf:e="ENVMAP_TYPE_CUBE";break;case g1:e="ENVMAP_TYPE_CUBE_UV";break}return e}function vY(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Pf:e="ENVMAP_MODE_REFRACTION";break}return e}function xY(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Fx:e="ENVMAP_BLENDING_MULTIPLY";break;case lD:e="ENVMAP_BLENDING_MIX";break;case oD:e="ENVMAP_BLENDING_ADD";break}return e}function yY(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function bY(i,e,t,n){const r=i.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const c=mY(t),f=gY(t),m=vY(t),g=xY(t),y=yY(t),x=lY(t),_=oY(a),M=r.createProgram();let w,S,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Cv).join(`
`),w.length>0&&(w+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Cv).join(`
`),S.length>0&&(S+=`
`)):(w=[KE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cv).join(`
`),S=[KE(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==oc?"#define TONE_MAPPING":"",t.toneMapping!==oc?Un.tonemapping_pars_fragment:"",t.toneMapping!==oc?aY("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Un.colorspace_pars_fragment,rY("linearToOutputTexel",t.outputColorSpace),sY(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cv).join(`
`)),s=tM(s),s=jE(s,t),s=WE(s,t),o=tM(o),o=jE(o,t),o=WE(o,t),s=ZE(s),o=ZE(o),t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,w=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,S=["#define varying in",t.glslVersion===Y6?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Y6?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const D=A+w+s,N=A+S+o,k=qE(r,r.VERTEX_SHADER,D),z=qE(r,r.FRAGMENT_SHADER,N);r.attachShader(M,k),r.attachShader(M,z),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function P(X){if(i.debug.checkShaderErrors){const W=r.getProgramInfoLog(M)||"",se=r.getShaderInfoLog(k)||"",le=r.getShaderInfoLog(z)||"",ie=W.trim(),Y=se.trim(),te=le.trim();let re=!0,ye=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(re=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(r,M,k,z);else{const F=YE(r,k,"vertex"),J=YE(r,z,"fragment");_n("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Material Name: `+X.name+`
Material Type: `+X.type+`

Program Info Log: `+ie+`
`+F+`
`+J)}else ie!==""?Lt("WebGLProgram: Program Info Log:",ie):(Y===""||te==="")&&(ye=!1);ye&&(X.diagnostics={runnable:re,programLog:ie,vertexShader:{log:Y,prefix:w},fragmentShader:{log:te,prefix:S}})}r.deleteShader(k),r.deleteShader(z),V=new ib(r,M),B=uY(r,M)}let V;this.getUniforms=function(){return V===void 0&&P(this),V};let B;this.getAttributes=function(){return B===void 0&&P(this),B};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=r.getProgramParameter(M,eY)),O},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=tY++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=k,this.fragmentShader=z,this}let _Y=0;class SY{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(n),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new MY(e),t.set(e,n)),n}}class MY{constructor(e){this.id=_Y++,this.code=e,this.usedTimes=0}}function wY(i,e,t,n,r,a,s){const o=new s1,c=new SY,f=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let x=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(B){return f.add(B),B===0?"uv":`uv${B}`}function w(B,O,X,W,se){const le=W.fog,ie=se.geometry,Y=B.isMeshStandardMaterial?W.environment:null,te=(B.isMeshStandardMaterial?t:e).get(B.envMap||Y),re=te&&te.mapping===g1?te.image.height:null,ye=_[B.type];B.precision!==null&&(x=r.getMaxPrecision(B.precision),x!==B.precision&&Lt("WebGLProgram.getParameters:",B.precision,"not supported, using",x,"instead."));const F=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,J=F!==void 0?F.length:0;let ge=0;ie.morphAttributes.position!==void 0&&(ge=1),ie.morphAttributes.normal!==void 0&&(ge=2),ie.morphAttributes.color!==void 0&&(ge=3);let Z,Oe,We,be;if(ye){const At=lu[ye];Z=At.vertexShader,Oe=At.fragmentShader}else Z=B.vertexShader,Oe=B.fragmentShader,c.update(B),We=c.getVertexShaderID(B),be=c.getFragmentShaderID(B);const Ne=i.getRenderTarget(),Ye=i.state.buffers.depth.getReversed(),at=se.isInstancedMesh===!0,_t=se.isBatchedMesh===!0,kt=!!B.map,rn=!!B.matcap,dt=!!te,Fe=!!B.aoMap,ee=!!B.lightMap,Ge=!!B.bumpMap,fe=!!B.normalMap,it=!!B.displacementMap,Ze=!!B.emissiveMap,xt=!!B.metalnessMap,tt=!!B.roughnessMap,Mt=B.anisotropy>0,ne=B.clearcoat>0,q=B.dispersion>0,Te=B.iridescence>0,oe=B.sheen>0,ve=B.transmission>0,Se=Mt&&!!B.anisotropyMap,nt=ne&&!!B.clearcoatMap,Qe=ne&&!!B.clearcoatNormalMap,Rt=ne&&!!B.clearcoatRoughnessMap,ft=Te&&!!B.iridescenceMap,Ve=Te&&!!B.iridescenceThicknessMap,Ke=oe&&!!B.sheenColorMap,Nt=oe&&!!B.sheenRoughnessMap,bt=!!B.specularMap,mt=!!B.specularColorMap,It=!!B.specularIntensityMap,ue=ve&&!!B.transmissionMap,yt=ve&&!!B.thicknessMap,lt=!!B.gradientMap,ot=!!B.alphaMap,$e=B.alphaTest>0,Xe=!!B.alphaHash,Dt=!!B.extensions;let Zt=oc;B.toneMapped&&(Ne===null||Ne.isXRRenderTarget===!0)&&(Zt=i.toneMapping);const kn={shaderID:ye,shaderType:B.type,shaderName:B.name,vertexShader:Z,fragmentShader:Oe,defines:B.defines,customVertexShaderID:We,customFragmentShaderID:be,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:x,batching:_t,batchingColor:_t&&se._colorsTexture!==null,instancing:at,instancingColor:at&&se.instanceColor!==null,instancingMorph:at&&se.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Ne===null?i.outputColorSpace:Ne.isXRRenderTarget===!0?Ne.texture.colorSpace:Ff,alphaToCoverage:!!B.alphaToCoverage,map:kt,matcap:rn,envMap:dt,envMapMode:dt&&te.mapping,envMapCubeUVHeight:re,aoMap:Fe,lightMap:ee,bumpMap:Ge,normalMap:fe,displacementMap:y&&it,emissiveMap:Ze,normalMapObjectSpace:fe&&B.normalMapType===_D,normalMapTangentSpace:fe&&B.normalMapType===Wf,metalnessMap:xt,roughnessMap:tt,anisotropy:Mt,anisotropyMap:Se,clearcoat:ne,clearcoatMap:nt,clearcoatNormalMap:Qe,clearcoatRoughnessMap:Rt,dispersion:q,iridescence:Te,iridescenceMap:ft,iridescenceThicknessMap:Ve,sheen:oe,sheenColorMap:Ke,sheenRoughnessMap:Nt,specularMap:bt,specularColorMap:mt,specularIntensityMap:It,transmission:ve,transmissionMap:ue,thicknessMap:yt,gradientMap:lt,opaque:B.transparent===!1&&B.blending===Ad&&B.alphaToCoverage===!1,alphaMap:ot,alphaTest:$e,alphaHash:Xe,combine:B.combine,mapUv:kt&&M(B.map.channel),aoMapUv:Fe&&M(B.aoMap.channel),lightMapUv:ee&&M(B.lightMap.channel),bumpMapUv:Ge&&M(B.bumpMap.channel),normalMapUv:fe&&M(B.normalMap.channel),displacementMapUv:it&&M(B.displacementMap.channel),emissiveMapUv:Ze&&M(B.emissiveMap.channel),metalnessMapUv:xt&&M(B.metalnessMap.channel),roughnessMapUv:tt&&M(B.roughnessMap.channel),anisotropyMapUv:Se&&M(B.anisotropyMap.channel),clearcoatMapUv:nt&&M(B.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&M(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Rt&&M(B.clearcoatRoughnessMap.channel),iridescenceMapUv:ft&&M(B.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&M(B.iridescenceThicknessMap.channel),sheenColorMapUv:Ke&&M(B.sheenColorMap.channel),sheenRoughnessMapUv:Nt&&M(B.sheenRoughnessMap.channel),specularMapUv:bt&&M(B.specularMap.channel),specularColorMapUv:mt&&M(B.specularColorMap.channel),specularIntensityMapUv:It&&M(B.specularIntensityMap.channel),transmissionMapUv:ue&&M(B.transmissionMap.channel),thicknessMapUv:yt&&M(B.thicknessMap.channel),alphaMapUv:ot&&M(B.alphaMap.channel),vertexTangents:!!ie.attributes.tangent&&(fe||Mt),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,pointsUvs:se.isPoints===!0&&!!ie.attributes.uv&&(kt||ot),fog:!!le,useFog:B.fog===!0,fogExp2:!!le&&le.isFogExp2,flatShading:B.flatShading===!0&&B.wireframe===!1,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Ye,skinning:se.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:ge,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:B.dithering,shadowMapEnabled:i.shadowMap.enabled&&X.length>0,shadowMapType:i.shadowMap.type,toneMapping:Zt,decodeVideoTexture:kt&&B.map.isVideoTexture===!0&&oi.getTransfer(B.map.colorSpace)===Oi,decodeVideoTextureEmissive:Ze&&B.emissiveMap.isVideoTexture===!0&&oi.getTransfer(B.emissiveMap.colorSpace)===Oi,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===ou,flipSided:B.side===Hs,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionClipCullDistance:Dt&&B.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&B.extensions.multiDraw===!0||_t)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()};return kn.vertexUv1s=f.has(1),kn.vertexUv2s=f.has(2),kn.vertexUv3s=f.has(3),f.clear(),kn}function S(B){const O=[];if(B.shaderID?O.push(B.shaderID):(O.push(B.customVertexShaderID),O.push(B.customFragmentShaderID)),B.defines!==void 0)for(const X in B.defines)O.push(X),O.push(B.defines[X]);return B.isRawShaderMaterial===!1&&(A(O,B),D(O,B),O.push(i.outputColorSpace)),O.push(B.customProgramCacheKey),O.join()}function A(B,O){B.push(O.precision),B.push(O.outputColorSpace),B.push(O.envMapMode),B.push(O.envMapCubeUVHeight),B.push(O.mapUv),B.push(O.alphaMapUv),B.push(O.lightMapUv),B.push(O.aoMapUv),B.push(O.bumpMapUv),B.push(O.normalMapUv),B.push(O.displacementMapUv),B.push(O.emissiveMapUv),B.push(O.metalnessMapUv),B.push(O.roughnessMapUv),B.push(O.anisotropyMapUv),B.push(O.clearcoatMapUv),B.push(O.clearcoatNormalMapUv),B.push(O.clearcoatRoughnessMapUv),B.push(O.iridescenceMapUv),B.push(O.iridescenceThicknessMapUv),B.push(O.sheenColorMapUv),B.push(O.sheenRoughnessMapUv),B.push(O.specularMapUv),B.push(O.specularColorMapUv),B.push(O.specularIntensityMapUv),B.push(O.transmissionMapUv),B.push(O.thicknessMapUv),B.push(O.combine),B.push(O.fogExp2),B.push(O.sizeAttenuation),B.push(O.morphTargetsCount),B.push(O.morphAttributeCount),B.push(O.numDirLights),B.push(O.numPointLights),B.push(O.numSpotLights),B.push(O.numSpotLightMaps),B.push(O.numHemiLights),B.push(O.numRectAreaLights),B.push(O.numDirLightShadows),B.push(O.numPointLightShadows),B.push(O.numSpotLightShadows),B.push(O.numSpotLightShadowsWithMaps),B.push(O.numLightProbes),B.push(O.shadowMapType),B.push(O.toneMapping),B.push(O.numClippingPlanes),B.push(O.numClipIntersection),B.push(O.depthPacking)}function D(B,O){o.disableAll(),O.supportsVertexTextures&&o.enable(0),O.instancing&&o.enable(1),O.instancingColor&&o.enable(2),O.instancingMorph&&o.enable(3),O.matcap&&o.enable(4),O.envMap&&o.enable(5),O.normalMapObjectSpace&&o.enable(6),O.normalMapTangentSpace&&o.enable(7),O.clearcoat&&o.enable(8),O.iridescence&&o.enable(9),O.alphaTest&&o.enable(10),O.vertexColors&&o.enable(11),O.vertexAlphas&&o.enable(12),O.vertexUv1s&&o.enable(13),O.vertexUv2s&&o.enable(14),O.vertexUv3s&&o.enable(15),O.vertexTangents&&o.enable(16),O.anisotropy&&o.enable(17),O.alphaHash&&o.enable(18),O.batching&&o.enable(19),O.dispersion&&o.enable(20),O.batchingColor&&o.enable(21),O.gradientMap&&o.enable(22),B.push(o.mask),o.disableAll(),O.fog&&o.enable(0),O.useFog&&o.enable(1),O.flatShading&&o.enable(2),O.logarithmicDepthBuffer&&o.enable(3),O.reversedDepthBuffer&&o.enable(4),O.skinning&&o.enable(5),O.morphTargets&&o.enable(6),O.morphNormals&&o.enable(7),O.morphColors&&o.enable(8),O.premultipliedAlpha&&o.enable(9),O.shadowMapEnabled&&o.enable(10),O.doubleSided&&o.enable(11),O.flipSided&&o.enable(12),O.useDepthPacking&&o.enable(13),O.dithering&&o.enable(14),O.transmission&&o.enable(15),O.sheen&&o.enable(16),O.opaque&&o.enable(17),O.pointsUvs&&o.enable(18),O.decodeVideoTexture&&o.enable(19),O.decodeVideoTextureEmissive&&o.enable(20),O.alphaToCoverage&&o.enable(21),B.push(o.mask)}function N(B){const O=_[B.type];let X;if(O){const W=lu[O];X=LD.clone(W.uniforms)}else X=B.uniforms;return X}function k(B,O){let X;for(let W=0,se=m.length;W<se;W++){const le=m[W];if(le.cacheKey===O){X=le,++X.usedTimes;break}}return X===void 0&&(X=new bY(i,O,B,a),m.push(X)),X}function z(B){if(--B.usedTimes===0){const O=m.indexOf(B);m[O]=m[m.length-1],m.pop(),B.destroy()}}function P(B){c.remove(B)}function V(){c.dispose()}return{getParameters:w,getProgramCacheKey:S,getUniforms:N,acquireProgram:k,releaseProgram:z,releaseShaderCache:P,programs:m,dispose:V}}function TY(){let i=new WeakMap;function e(s){return i.has(s)}function t(s){let o=i.get(s);return o===void 0&&(o={},i.set(s,o)),o}function n(s){i.delete(s)}function r(s,o,c){i.get(s)[o]=c}function a(){i=new WeakMap}return{has:e,get:t,remove:n,update:r,dispose:a}}function EY(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function QE(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function JE(){const i=[];let e=0;const t=[],n=[],r=[];function a(){e=0,t.length=0,n.length=0,r.length=0}function s(g,y,x,_,M,w){let S=i[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:x,groupOrder:_,renderOrder:g.renderOrder,z:M,group:w},i[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=x,S.groupOrder=_,S.renderOrder=g.renderOrder,S.z=M,S.group=w),e++,S}function o(g,y,x,_,M,w){const S=s(g,y,x,_,M,w);x.transmission>0?n.push(S):x.transparent===!0?r.push(S):t.push(S)}function c(g,y,x,_,M,w){const S=s(g,y,x,_,M,w);x.transmission>0?n.unshift(S):x.transparent===!0?r.unshift(S):t.unshift(S)}function f(g,y){t.length>1&&t.sort(g||EY),n.length>1&&n.sort(y||QE),r.length>1&&r.sort(y||QE)}function m(){for(let g=e,y=i.length;g<y;g++){const x=i[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:n,transparent:r,init:a,push:o,unshift:c,finish:m,sort:f}}function AY(){let i=new WeakMap;function e(n,r){const a=i.get(n);let s;return a===void 0?(s=new JE,i.set(n,[s])):r>=a.length?(s=new JE,a.push(s)):s=a[r],s}function t(){i=new WeakMap}return{get:e,dispose:t}}function CY(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new ae,color:new Pt};break;case"SpotLight":t={position:new ae,direction:new ae,color:new Pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new ae,color:new Pt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new ae,skyColor:new Pt,groundColor:new Pt};break;case"RectAreaLight":t={color:new Pt,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return i[e.id]=t,t}}}function RY(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let DY=0;function NY(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function zY(i){const e=new CY,t=RY(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)n.probe.push(new ae);const r=new ae,a=new yn,s=new yn;function o(f){let m=0,g=0,y=0;for(let B=0;B<9;B++)n.probe[B].set(0,0,0);let x=0,_=0,M=0,w=0,S=0,A=0,D=0,N=0,k=0,z=0,P=0;f.sort(NY);for(let B=0,O=f.length;B<O;B++){const X=f[B],W=X.color,se=X.intensity,le=X.distance,ie=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)m+=W.r*se,g+=W.g*se,y+=W.b*se;else if(X.isLightProbe){for(let Y=0;Y<9;Y++)n.probe[Y].addScaledVector(X.sh.coefficients[Y],se);P++}else if(X.isDirectionalLight){const Y=e.get(X);if(Y.color.copy(X.color).multiplyScalar(X.intensity),X.castShadow){const te=X.shadow,re=t.get(X);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,n.directionalShadow[x]=re,n.directionalShadowMap[x]=ie,n.directionalShadowMatrix[x]=X.shadow.matrix,A++}n.directional[x]=Y,x++}else if(X.isSpotLight){const Y=e.get(X);Y.position.setFromMatrixPosition(X.matrixWorld),Y.color.copy(W).multiplyScalar(se),Y.distance=le,Y.coneCos=Math.cos(X.angle),Y.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),Y.decay=X.decay,n.spot[M]=Y;const te=X.shadow;if(X.map&&(n.spotLightMap[k]=X.map,k++,te.updateMatrices(X),X.castShadow&&z++),n.spotLightMatrix[M]=te.matrix,X.castShadow){const re=t.get(X);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,n.spotShadow[M]=re,n.spotShadowMap[M]=ie,N++}M++}else if(X.isRectAreaLight){const Y=e.get(X);Y.color.copy(W).multiplyScalar(se),Y.halfWidth.set(X.width*.5,0,0),Y.halfHeight.set(0,X.height*.5,0),n.rectArea[w]=Y,w++}else if(X.isPointLight){const Y=e.get(X);if(Y.color.copy(X.color).multiplyScalar(X.intensity),Y.distance=X.distance,Y.decay=X.decay,X.castShadow){const te=X.shadow,re=t.get(X);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,re.shadowCameraNear=te.camera.near,re.shadowCameraFar=te.camera.far,n.pointShadow[_]=re,n.pointShadowMap[_]=ie,n.pointShadowMatrix[_]=X.shadow.matrix,D++}n.point[_]=Y,_++}else if(X.isHemisphereLight){const Y=e.get(X);Y.skyColor.copy(X.color).multiplyScalar(se),Y.groundColor.copy(X.groundColor).multiplyScalar(se),n.hemi[S]=Y,S++}}w>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=Ot.LTC_FLOAT_1,n.rectAreaLTC2=Ot.LTC_FLOAT_2):(n.rectAreaLTC1=Ot.LTC_HALF_1,n.rectAreaLTC2=Ot.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=g,n.ambient[2]=y;const V=n.hash;(V.directionalLength!==x||V.pointLength!==_||V.spotLength!==M||V.rectAreaLength!==w||V.hemiLength!==S||V.numDirectionalShadows!==A||V.numPointShadows!==D||V.numSpotShadows!==N||V.numSpotMaps!==k||V.numLightProbes!==P)&&(n.directional.length=x,n.spot.length=M,n.rectArea.length=w,n.point.length=_,n.hemi.length=S,n.directionalShadow.length=A,n.directionalShadowMap.length=A,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=N,n.spotShadowMap.length=N,n.directionalShadowMatrix.length=A,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=N+k-z,n.spotLightMap.length=k,n.numSpotLightShadowsWithMaps=z,n.numLightProbes=P,V.directionalLength=x,V.pointLength=_,V.spotLength=M,V.rectAreaLength=w,V.hemiLength=S,V.numDirectionalShadows=A,V.numPointShadows=D,V.numSpotShadows=N,V.numSpotMaps=k,V.numLightProbes=P,n.version=DY++)}function c(f,m){let g=0,y=0,x=0,_=0,M=0;const w=m.matrixWorldInverse;for(let S=0,A=f.length;S<A;S++){const D=f[S];if(D.isDirectionalLight){const N=n.directional[g];N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),g++}else if(D.isSpotLight){const N=n.spot[x];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(w),N.direction.setFromMatrixPosition(D.matrixWorld),r.setFromMatrixPosition(D.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),x++}else if(D.isRectAreaLight){const N=n.rectArea[_];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(w),s.identity(),a.copy(D.matrixWorld),a.premultiply(w),s.extractRotation(a),N.halfWidth.set(D.width*.5,0,0),N.halfHeight.set(0,D.height*.5,0),N.halfWidth.applyMatrix4(s),N.halfHeight.applyMatrix4(s),_++}else if(D.isPointLight){const N=n.point[y];N.position.setFromMatrixPosition(D.matrixWorld),N.position.applyMatrix4(w),y++}else if(D.isHemisphereLight){const N=n.hemi[M];N.direction.setFromMatrixPosition(D.matrixWorld),N.direction.transformDirection(w),M++}}}return{setup:o,setupView:c,state:n}}function $E(i){const e=new zY(i),t=[],n=[];function r(m){f.camera=m,t.length=0,n.length=0}function a(m){t.push(m)}function s(m){n.push(m)}function o(){e.setup(t)}function c(m){e.setupView(t,m)}const f={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:o,setupLightsView:c,pushLight:a,pushShadow:s}}function OY(i){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new $E(i),e.set(r,[o])):a>=s.length?(o=new $E(i),s.push(o)):o=s[a],o}function n(){e=new WeakMap}return{get:t,dispose:n}}const LY=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,UY=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function BY(i,e,t){let n=new x1;const r=new rt,a=new rt,s=new hi,o=new O8({depthPacking:bD}),c=new L8,f={},m=t.maxTextureSize,g={[g0]:Hs,[Hs]:g0,[ou]:ou},y=new Co({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:LY,fragmentShader:UY}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const _=new En;_.setAttribute("position",new Pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new ua(_,y),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=R4;let S=this.type;this.render=function(z,P,V){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||z.length===0)return;const B=i.getRenderTarget(),O=i.getActiveCubeFace(),X=i.getActiveMipmapLevel(),W=i.state;W.setBlending(lc),W.buffers.depth.getReversed()===!0?W.buffers.color.setClear(0,0,0,0):W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const se=S!==au&&this.type===au,le=S===au&&this.type!==au;for(let ie=0,Y=z.length;ie<Y;ie++){const te=z[ie],re=te.shadow;if(re===void 0){Lt("WebGLShadowMap:",te,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;r.copy(re.mapSize);const ye=re.getFrameExtents();if(r.multiply(ye),a.copy(re.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/ye.x),r.x=a.x*ye.x,re.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/ye.y),r.y=a.y*ye.y,re.mapSize.y=a.y)),re.map===null||se===!0||le===!0){const J=this.type!==au?{minFilter:ka,magFilter:ka}:{};re.map!==null&&re.map.dispose(),re.map=new cc(r.x,r.y,J),re.map.texture.name=te.name+".shadowMap",re.camera.updateProjectionMatrix()}i.setRenderTarget(re.map),i.clear();const F=re.getViewportCount();for(let J=0;J<F;J++){const ge=re.getViewport(J);s.set(a.x*ge.x,a.y*ge.y,a.x*ge.z,a.y*ge.w),W.viewport(s),re.updateMatrices(te,J),n=re.getFrustum(),N(P,V,re.camera,te,this.type)}re.isPointLightShadow!==!0&&this.type===au&&A(re,V),re.needsUpdate=!1}S=this.type,w.needsUpdate=!1,i.setRenderTarget(B,O,X)};function A(z,P){const V=e.update(M);y.defines.VSM_SAMPLES!==z.blurSamples&&(y.defines.VSM_SAMPLES=z.blurSamples,x.defines.VSM_SAMPLES=z.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new cc(r.x,r.y)),y.uniforms.shadow_pass.value=z.map.texture,y.uniforms.resolution.value=z.mapSize,y.uniforms.radius.value=z.radius,i.setRenderTarget(z.mapPass),i.clear(),i.renderBufferDirect(P,null,V,y,M,null),x.uniforms.shadow_pass.value=z.mapPass.texture,x.uniforms.resolution.value=z.mapSize,x.uniforms.radius.value=z.radius,i.setRenderTarget(z.map),i.clear(),i.renderBufferDirect(P,null,V,x,M,null)}function D(z,P,V,B){let O=null;const X=V.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(X!==void 0)O=X;else if(O=V.isPointLight===!0?c:o,i.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const W=O.uuid,se=P.uuid;let le=f[W];le===void 0&&(le={},f[W]=le);let ie=le[se];ie===void 0&&(ie=O.clone(),le[se]=ie,P.addEventListener("dispose",k)),O=ie}if(O.visible=P.visible,O.wireframe=P.wireframe,B===au?O.side=P.shadowSide!==null?P.shadowSide:P.side:O.side=P.shadowSide!==null?P.shadowSide:g[P.side],O.alphaMap=P.alphaMap,O.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,O.map=P.map,O.clipShadows=P.clipShadows,O.clippingPlanes=P.clippingPlanes,O.clipIntersection=P.clipIntersection,O.displacementMap=P.displacementMap,O.displacementScale=P.displacementScale,O.displacementBias=P.displacementBias,O.wireframeLinewidth=P.wireframeLinewidth,O.linewidth=P.linewidth,V.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const W=i.properties.get(O);W.light=V}return O}function N(z,P,V,B,O){if(z.visible===!1)return;if(z.layers.test(P.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&O===au)&&(!z.frustumCulled||n.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(V.matrixWorldInverse,z.matrixWorld);const se=e.update(z),le=z.material;if(Array.isArray(le)){const ie=se.groups;for(let Y=0,te=ie.length;Y<te;Y++){const re=ie[Y],ye=le[re.materialIndex];if(ye&&ye.visible){const F=D(z,ye,B,O);z.onBeforeShadow(i,z,P,V,se,F,re),i.renderBufferDirect(V,null,se,F,z,re),z.onAfterShadow(i,z,P,V,se,F,re)}}}else if(le.visible){const ie=D(z,le,B,O);z.onBeforeShadow(i,z,P,V,se,ie,null),i.renderBufferDirect(V,null,se,ie,z,null),z.onAfterShadow(i,z,P,V,se,ie,null)}}const W=z.children;for(let se=0,le=W.length;se<le;se++)N(W[se],P,V,B,O)}function k(z){z.target.removeEventListener("dispose",k);for(const V in f){const B=f[V],O=z.target.uuid;O in B&&(B[O].dispose(),delete B[O])}}}const kY={[Mb]:wb,[Tb]:Cb,[Eb]:Rb,[Ld]:Ab,[wb]:Mb,[Cb]:Tb,[Rb]:Eb,[Ab]:Ld};function IY(i,e){function t(){let ue=!1;const yt=new hi;let lt=null;const ot=new hi(0,0,0,0);return{setMask:function($e){lt!==$e&&!ue&&(i.colorMask($e,$e,$e,$e),lt=$e)},setLocked:function($e){ue=$e},setClear:function($e,Xe,Dt,Zt,kn){kn===!0&&($e*=Zt,Xe*=Zt,Dt*=Zt),yt.set($e,Xe,Dt,Zt),ot.equals(yt)===!1&&(i.clearColor($e,Xe,Dt,Zt),ot.copy(yt))},reset:function(){ue=!1,lt=null,ot.set(-1,0,0,0)}}}function n(){let ue=!1,yt=!1,lt=null,ot=null,$e=null;return{setReversed:function(Xe){if(yt!==Xe){const Dt=e.get("EXT_clip_control");Xe?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT),yt=Xe;const Zt=$e;$e=null,this.setClear(Zt)}},getReversed:function(){return yt},setTest:function(Xe){Xe?Ne(i.DEPTH_TEST):Ye(i.DEPTH_TEST)},setMask:function(Xe){lt!==Xe&&!ue&&(i.depthMask(Xe),lt=Xe)},setFunc:function(Xe){if(yt&&(Xe=kY[Xe]),ot!==Xe){switch(Xe){case Mb:i.depthFunc(i.NEVER);break;case wb:i.depthFunc(i.ALWAYS);break;case Tb:i.depthFunc(i.LESS);break;case Ld:i.depthFunc(i.LEQUAL);break;case Eb:i.depthFunc(i.EQUAL);break;case Ab:i.depthFunc(i.GEQUAL);break;case Cb:i.depthFunc(i.GREATER);break;case Rb:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}ot=Xe}},setLocked:function(Xe){ue=Xe},setClear:function(Xe){$e!==Xe&&(yt&&(Xe=1-Xe),i.clearDepth(Xe),$e=Xe)},reset:function(){ue=!1,lt=null,ot=null,$e=null,yt=!1}}}function r(){let ue=!1,yt=null,lt=null,ot=null,$e=null,Xe=null,Dt=null,Zt=null,kn=null;return{setTest:function(At){ue||(At?Ne(i.STENCIL_TEST):Ye(i.STENCIL_TEST))},setMask:function(At){yt!==At&&!ue&&(i.stencilMask(At),yt=At)},setFunc:function(At,Ft,gn){(lt!==At||ot!==Ft||$e!==gn)&&(i.stencilFunc(At,Ft,gn),lt=At,ot=Ft,$e=gn)},setOp:function(At,Ft,gn){(Xe!==At||Dt!==Ft||Zt!==gn)&&(i.stencilOp(At,Ft,gn),Xe=At,Dt=Ft,Zt=gn)},setLocked:function(At){ue=At},setClear:function(At){kn!==At&&(i.clearStencil(At),kn=At)},reset:function(){ue=!1,yt=null,lt=null,ot=null,$e=null,Xe=null,Dt=null,Zt=null,kn=null}}}const a=new t,s=new n,o=new r,c=new WeakMap,f=new WeakMap;let m={},g={},y=new WeakMap,x=[],_=null,M=!1,w=null,S=null,A=null,D=null,N=null,k=null,z=null,P=new Pt(0,0,0),V=0,B=!1,O=null,X=null,W=null,se=null,le=null;const ie=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,te=0;const re=i.getParameter(i.VERSION);re.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(re)[1]),Y=te>=1):re.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),Y=te>=2);let ye=null,F={};const J=i.getParameter(i.SCISSOR_BOX),ge=i.getParameter(i.VIEWPORT),Z=new hi().fromArray(J),Oe=new hi().fromArray(ge);function We(ue,yt,lt,ot){const $e=new Uint8Array(4),Xe=i.createTexture();i.bindTexture(ue,Xe),i.texParameteri(ue,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(ue,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let Dt=0;Dt<lt;Dt++)ue===i.TEXTURE_3D||ue===i.TEXTURE_2D_ARRAY?i.texImage3D(yt,0,i.RGBA,1,1,ot,0,i.RGBA,i.UNSIGNED_BYTE,$e):i.texImage2D(yt+Dt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,$e);return Xe}const be={};be[i.TEXTURE_2D]=We(i.TEXTURE_2D,i.TEXTURE_2D,1),be[i.TEXTURE_CUBE_MAP]=We(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),be[i.TEXTURE_2D_ARRAY]=We(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),be[i.TEXTURE_3D]=We(i.TEXTURE_3D,i.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Ne(i.DEPTH_TEST),s.setFunc(Ld),Ge(!1),fe(F6),Ne(i.CULL_FACE),Fe(lc);function Ne(ue){m[ue]!==!0&&(i.enable(ue),m[ue]=!0)}function Ye(ue){m[ue]!==!1&&(i.disable(ue),m[ue]=!1)}function at(ue,yt){return g[ue]!==yt?(i.bindFramebuffer(ue,yt),g[ue]=yt,ue===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=yt),ue===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=yt),!0):!1}function _t(ue,yt){let lt=x,ot=!1;if(ue){lt=y.get(yt),lt===void 0&&(lt=[],y.set(yt,lt));const $e=ue.textures;if(lt.length!==$e.length||lt[0]!==i.COLOR_ATTACHMENT0){for(let Xe=0,Dt=$e.length;Xe<Dt;Xe++)lt[Xe]=i.COLOR_ATTACHMENT0+Xe;lt.length=$e.length,ot=!0}}else lt[0]!==i.BACK&&(lt[0]=i.BACK,ot=!0);ot&&i.drawBuffers(lt)}function kt(ue){return _!==ue?(i.useProgram(ue),_=ue,!0):!1}const rn={[Sf]:i.FUNC_ADD,[qR]:i.FUNC_SUBTRACT,[XR]:i.FUNC_REVERSE_SUBTRACT};rn[YR]=i.MIN,rn[jR]=i.MAX;const dt={[WR]:i.ZERO,[ZR]:i.ONE,[KR]:i.SRC_COLOR,[_b]:i.SRC_ALPHA,[nD]:i.SRC_ALPHA_SATURATE,[eD]:i.DST_COLOR,[JR]:i.DST_ALPHA,[QR]:i.ONE_MINUS_SRC_COLOR,[Sb]:i.ONE_MINUS_SRC_ALPHA,[tD]:i.ONE_MINUS_DST_COLOR,[$R]:i.ONE_MINUS_DST_ALPHA,[iD]:i.CONSTANT_COLOR,[rD]:i.ONE_MINUS_CONSTANT_COLOR,[aD]:i.CONSTANT_ALPHA,[sD]:i.ONE_MINUS_CONSTANT_ALPHA};function Fe(ue,yt,lt,ot,$e,Xe,Dt,Zt,kn,At){if(ue===lc){M===!0&&(Ye(i.BLEND),M=!1);return}if(M===!1&&(Ne(i.BLEND),M=!0),ue!==GR){if(ue!==w||At!==B){if((S!==Sf||N!==Sf)&&(i.blendEquation(i.FUNC_ADD),S=Sf,N=Sf),At)switch(ue){case Ad:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case H6:i.blendFunc(i.ONE,i.ONE);break;case V6:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case G6:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:_n("WebGLState: Invalid blending: ",ue);break}else switch(ue){case Ad:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case H6:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case V6:_n("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case G6:_n("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:_n("WebGLState: Invalid blending: ",ue);break}A=null,D=null,k=null,z=null,P.set(0,0,0),V=0,w=ue,B=At}return}$e=$e||yt,Xe=Xe||lt,Dt=Dt||ot,(yt!==S||$e!==N)&&(i.blendEquationSeparate(rn[yt],rn[$e]),S=yt,N=$e),(lt!==A||ot!==D||Xe!==k||Dt!==z)&&(i.blendFuncSeparate(dt[lt],dt[ot],dt[Xe],dt[Dt]),A=lt,D=ot,k=Xe,z=Dt),(Zt.equals(P)===!1||kn!==V)&&(i.blendColor(Zt.r,Zt.g,Zt.b,kn),P.copy(Zt),V=kn),w=ue,B=!1}function ee(ue,yt){ue.side===ou?Ye(i.CULL_FACE):Ne(i.CULL_FACE);let lt=ue.side===Hs;yt&&(lt=!lt),Ge(lt),ue.blending===Ad&&ue.transparent===!1?Fe(lc):Fe(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),s.setFunc(ue.depthFunc),s.setTest(ue.depthTest),s.setMask(ue.depthWrite),a.setMask(ue.colorWrite);const ot=ue.stencilWrite;o.setTest(ot),ot&&(o.setMask(ue.stencilWriteMask),o.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),o.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),Ze(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?Ne(i.SAMPLE_ALPHA_TO_COVERAGE):Ye(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(ue){O!==ue&&(ue?i.frontFace(i.CW):i.frontFace(i.CCW),O=ue)}function fe(ue){ue!==FR?(Ne(i.CULL_FACE),ue!==X&&(ue===F6?i.cullFace(i.BACK):ue===HR?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):Ye(i.CULL_FACE),X=ue}function it(ue){ue!==W&&(Y&&i.lineWidth(ue),W=ue)}function Ze(ue,yt,lt){ue?(Ne(i.POLYGON_OFFSET_FILL),(se!==yt||le!==lt)&&(i.polygonOffset(yt,lt),se=yt,le=lt)):Ye(i.POLYGON_OFFSET_FILL)}function xt(ue){ue?Ne(i.SCISSOR_TEST):Ye(i.SCISSOR_TEST)}function tt(ue){ue===void 0&&(ue=i.TEXTURE0+ie-1),ye!==ue&&(i.activeTexture(ue),ye=ue)}function Mt(ue,yt,lt){lt===void 0&&(ye===null?lt=i.TEXTURE0+ie-1:lt=ye);let ot=F[lt];ot===void 0&&(ot={type:void 0,texture:void 0},F[lt]=ot),(ot.type!==ue||ot.texture!==yt)&&(ye!==lt&&(i.activeTexture(lt),ye=lt),i.bindTexture(ue,yt||be[ue]),ot.type=ue,ot.texture=yt)}function ne(){const ue=F[ye];ue!==void 0&&ue.type!==void 0&&(i.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function q(){try{i.compressedTexImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Te(){try{i.compressedTexImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function oe(){try{i.texSubImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function ve(){try{i.texSubImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Se(){try{i.compressedTexSubImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function nt(){try{i.compressedTexSubImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Qe(){try{i.texStorage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Rt(){try{i.texStorage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function ft(){try{i.texImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Ve(){try{i.texImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Ke(ue){Z.equals(ue)===!1&&(i.scissor(ue.x,ue.y,ue.z,ue.w),Z.copy(ue))}function Nt(ue){Oe.equals(ue)===!1&&(i.viewport(ue.x,ue.y,ue.z,ue.w),Oe.copy(ue))}function bt(ue,yt){let lt=f.get(yt);lt===void 0&&(lt=new WeakMap,f.set(yt,lt));let ot=lt.get(ue);ot===void 0&&(ot=i.getUniformBlockIndex(yt,ue.name),lt.set(ue,ot))}function mt(ue,yt){const ot=f.get(yt).get(ue);c.get(yt)!==ot&&(i.uniformBlockBinding(yt,ot,ue.__bindingPointIndex),c.set(yt,ot))}function It(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),s.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},ye=null,F={},g={},y=new WeakMap,x=[],_=null,M=!1,w=null,S=null,A=null,D=null,N=null,k=null,z=null,P=new Pt(0,0,0),V=0,B=!1,O=null,X=null,W=null,se=null,le=null,Z.set(0,0,i.canvas.width,i.canvas.height),Oe.set(0,0,i.canvas.width,i.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:Ne,disable:Ye,bindFramebuffer:at,drawBuffers:_t,useProgram:kt,setBlending:Fe,setMaterial:ee,setFlipSided:Ge,setCullFace:fe,setLineWidth:it,setPolygonOffset:Ze,setScissorTest:xt,activeTexture:tt,bindTexture:Mt,unbindTexture:ne,compressedTexImage2D:q,compressedTexImage3D:Te,texImage2D:ft,texImage3D:Ve,updateUBOMapping:bt,uniformBlockBinding:mt,texStorage2D:Qe,texStorage3D:Rt,texSubImage2D:oe,texSubImage3D:ve,compressedTexSubImage2D:Se,compressedTexSubImage3D:nt,scissor:Ke,viewport:Nt,reset:It}}function PY(i,e,t,n,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new rt,m=new WeakMap;let g;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ne,q){return x?new OffscreenCanvas(ne,q):bx("canvas")}function M(ne,q,Te){let oe=1;const ve=Mt(ne);if((ve.width>Te||ve.height>Te)&&(oe=Te/Math.max(ve.width,ve.height)),oe<1)if(typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ne instanceof ImageBitmap||typeof VideoFrame<"u"&&ne instanceof VideoFrame){const Se=Math.floor(oe*ve.width),nt=Math.floor(oe*ve.height);g===void 0&&(g=_(Se,nt));const Qe=q?_(Se,nt):g;return Qe.width=Se,Qe.height=nt,Qe.getContext("2d").drawImage(ne,0,0,Se,nt),Lt("WebGLRenderer: Texture has been resized from ("+ve.width+"x"+ve.height+") to ("+Se+"x"+nt+")."),Qe}else return"data"in ne&&Lt("WebGLRenderer: Image in DataTexture is too big ("+ve.width+"x"+ve.height+")."),ne;return ne}function w(ne){return ne.generateMipmaps}function S(ne){i.generateMipmap(ne)}function A(ne){return ne.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:ne.isWebGL3DRenderTarget?i.TEXTURE_3D:ne.isWebGLArrayRenderTarget||ne.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function D(ne,q,Te,oe,ve=!1){if(ne!==null){if(i[ne]!==void 0)return i[ne];Lt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let Se=q;if(q===i.RED&&(Te===i.FLOAT&&(Se=i.R32F),Te===i.HALF_FLOAT&&(Se=i.R16F),Te===i.UNSIGNED_BYTE&&(Se=i.R8)),q===i.RED_INTEGER&&(Te===i.UNSIGNED_BYTE&&(Se=i.R8UI),Te===i.UNSIGNED_SHORT&&(Se=i.R16UI),Te===i.UNSIGNED_INT&&(Se=i.R32UI),Te===i.BYTE&&(Se=i.R8I),Te===i.SHORT&&(Se=i.R16I),Te===i.INT&&(Se=i.R32I)),q===i.RG&&(Te===i.FLOAT&&(Se=i.RG32F),Te===i.HALF_FLOAT&&(Se=i.RG16F),Te===i.UNSIGNED_BYTE&&(Se=i.RG8)),q===i.RG_INTEGER&&(Te===i.UNSIGNED_BYTE&&(Se=i.RG8UI),Te===i.UNSIGNED_SHORT&&(Se=i.RG16UI),Te===i.UNSIGNED_INT&&(Se=i.RG32UI),Te===i.BYTE&&(Se=i.RG8I),Te===i.SHORT&&(Se=i.RG16I),Te===i.INT&&(Se=i.RG32I)),q===i.RGB_INTEGER&&(Te===i.UNSIGNED_BYTE&&(Se=i.RGB8UI),Te===i.UNSIGNED_SHORT&&(Se=i.RGB16UI),Te===i.UNSIGNED_INT&&(Se=i.RGB32UI),Te===i.BYTE&&(Se=i.RGB8I),Te===i.SHORT&&(Se=i.RGB16I),Te===i.INT&&(Se=i.RGB32I)),q===i.RGBA_INTEGER&&(Te===i.UNSIGNED_BYTE&&(Se=i.RGBA8UI),Te===i.UNSIGNED_SHORT&&(Se=i.RGBA16UI),Te===i.UNSIGNED_INT&&(Se=i.RGBA32UI),Te===i.BYTE&&(Se=i.RGBA8I),Te===i.SHORT&&(Se=i.RGBA16I),Te===i.INT&&(Se=i.RGBA32I)),q===i.RGB&&(Te===i.UNSIGNED_INT_5_9_9_9_REV&&(Se=i.RGB9_E5),Te===i.UNSIGNED_INT_10F_11F_11F_REV&&(Se=i.R11F_G11F_B10F)),q===i.RGBA){const nt=ve?xx:oi.getTransfer(oe);Te===i.FLOAT&&(Se=i.RGBA32F),Te===i.HALF_FLOAT&&(Se=i.RGBA16F),Te===i.UNSIGNED_BYTE&&(Se=nt===Oi?i.SRGB8_ALPHA8:i.RGBA8),Te===i.UNSIGNED_SHORT_4_4_4_4&&(Se=i.RGBA4),Te===i.UNSIGNED_SHORT_5_5_5_1&&(Se=i.RGB5_A1)}return(Se===i.R16F||Se===i.R32F||Se===i.RG16F||Se===i.RG32F||Se===i.RGBA16F||Se===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Se}function N(ne,q){let Te;return ne?q===null||q===x0||q===e1?Te=i.DEPTH24_STENCIL8:q===ol?Te=i.DEPTH32F_STENCIL8:q===$m&&(Te=i.DEPTH24_STENCIL8,Lt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===x0||q===e1?Te=i.DEPTH_COMPONENT24:q===ol?Te=i.DEPTH_COMPONENT32F:q===$m&&(Te=i.DEPTH_COMPONENT16),Te}function k(ne,q){return w(ne)===!0||ne.isFramebufferTexture&&ne.minFilter!==ka&&ne.minFilter!==Pr?Math.log2(Math.max(q.width,q.height))+1:ne.mipmaps!==void 0&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?q.mipmaps.length:1}function z(ne){const q=ne.target;q.removeEventListener("dispose",z),V(q),q.isVideoTexture&&m.delete(q)}function P(ne){const q=ne.target;q.removeEventListener("dispose",P),O(q)}function V(ne){const q=n.get(ne);if(q.__webglInit===void 0)return;const Te=ne.source,oe=y.get(Te);if(oe){const ve=oe[q.__cacheKey];ve.usedTimes--,ve.usedTimes===0&&B(ne),Object.keys(oe).length===0&&y.delete(Te)}n.remove(ne)}function B(ne){const q=n.get(ne);i.deleteTexture(q.__webglTexture);const Te=ne.source,oe=y.get(Te);delete oe[q.__cacheKey],s.memory.textures--}function O(ne){const q=n.get(ne);if(ne.depthTexture&&(ne.depthTexture.dispose(),n.remove(ne.depthTexture)),ne.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(q.__webglFramebuffer[oe]))for(let ve=0;ve<q.__webglFramebuffer[oe].length;ve++)i.deleteFramebuffer(q.__webglFramebuffer[oe][ve]);else i.deleteFramebuffer(q.__webglFramebuffer[oe]);q.__webglDepthbuffer&&i.deleteRenderbuffer(q.__webglDepthbuffer[oe])}else{if(Array.isArray(q.__webglFramebuffer))for(let oe=0;oe<q.__webglFramebuffer.length;oe++)i.deleteFramebuffer(q.__webglFramebuffer[oe]);else i.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&i.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&i.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let oe=0;oe<q.__webglColorRenderbuffer.length;oe++)q.__webglColorRenderbuffer[oe]&&i.deleteRenderbuffer(q.__webglColorRenderbuffer[oe]);q.__webglDepthRenderbuffer&&i.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const Te=ne.textures;for(let oe=0,ve=Te.length;oe<ve;oe++){const Se=n.get(Te[oe]);Se.__webglTexture&&(i.deleteTexture(Se.__webglTexture),s.memory.textures--),n.remove(Te[oe])}n.remove(ne)}let X=0;function W(){X=0}function se(){const ne=X;return ne>=r.maxTextures&&Lt("WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+r.maxTextures),X+=1,ne}function le(ne){const q=[];return q.push(ne.wrapS),q.push(ne.wrapT),q.push(ne.wrapR||0),q.push(ne.magFilter),q.push(ne.minFilter),q.push(ne.anisotropy),q.push(ne.internalFormat),q.push(ne.format),q.push(ne.type),q.push(ne.generateMipmaps),q.push(ne.premultiplyAlpha),q.push(ne.flipY),q.push(ne.unpackAlignment),q.push(ne.colorSpace),q.join()}function ie(ne,q){const Te=n.get(ne);if(ne.isVideoTexture&&xt(ne),ne.isRenderTargetTexture===!1&&ne.isExternalTexture!==!0&&ne.version>0&&Te.__version!==ne.version){const oe=ne.image;if(oe===null)Lt("WebGLRenderer: Texture marked for update but no image data found.");else if(oe.complete===!1)Lt("WebGLRenderer: Texture marked for update but image is incomplete");else{be(Te,ne,q);return}}else ne.isExternalTexture&&(Te.__webglTexture=ne.sourceTexture?ne.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,Te.__webglTexture,i.TEXTURE0+q)}function Y(ne,q){const Te=n.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&Te.__version!==ne.version){be(Te,ne,q);return}else ne.isExternalTexture&&(Te.__webglTexture=ne.sourceTexture?ne.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,Te.__webglTexture,i.TEXTURE0+q)}function te(ne,q){const Te=n.get(ne);if(ne.isRenderTargetTexture===!1&&ne.version>0&&Te.__version!==ne.version){be(Te,ne,q);return}t.bindTexture(i.TEXTURE_3D,Te.__webglTexture,i.TEXTURE0+q)}function re(ne,q){const Te=n.get(ne);if(ne.version>0&&Te.__version!==ne.version){Ne(Te,ne,q);return}t.bindTexture(i.TEXTURE_CUBE_MAP,Te.__webglTexture,i.TEXTURE0+q)}const ye={[px]:i.REPEAT,[ll]:i.CLAMP_TO_EDGE,[mx]:i.MIRRORED_REPEAT},F={[ka]:i.NEAREST,[l8]:i.NEAREST_MIPMAP_NEAREST,[Lm]:i.NEAREST_MIPMAP_LINEAR,[Pr]:i.LINEAR,[Gv]:i.LINEAR_MIPMAP_NEAREST,[nc]:i.LINEAR_MIPMAP_LINEAR},J={[SD]:i.NEVER,[CD]:i.ALWAYS,[MD]:i.LESS,[m8]:i.LEQUAL,[wD]:i.EQUAL,[AD]:i.GEQUAL,[TD]:i.GREATER,[ED]:i.NOTEQUAL};function ge(ne,q){if(q.type===ol&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===Pr||q.magFilter===Gv||q.magFilter===Lm||q.magFilter===nc||q.minFilter===Pr||q.minFilter===Gv||q.minFilter===Lm||q.minFilter===nc)&&Lt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri(ne,i.TEXTURE_WRAP_S,ye[q.wrapS]),i.texParameteri(ne,i.TEXTURE_WRAP_T,ye[q.wrapT]),(ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY)&&i.texParameteri(ne,i.TEXTURE_WRAP_R,ye[q.wrapR]),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,F[q.magFilter]),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,F[q.minFilter]),q.compareFunction&&(i.texParameteri(ne,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(ne,i.TEXTURE_COMPARE_FUNC,J[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===ka||q.minFilter!==Lm&&q.minFilter!==nc||q.type===ol&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||n.get(q).__currentAnisotropy){const Te=e.get("EXT_texture_filter_anisotropic");i.texParameterf(ne,Te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,r.getMaxAnisotropy())),n.get(q).__currentAnisotropy=q.anisotropy}}}function Z(ne,q){let Te=!1;ne.__webglInit===void 0&&(ne.__webglInit=!0,q.addEventListener("dispose",z));const oe=q.source;let ve=y.get(oe);ve===void 0&&(ve={},y.set(oe,ve));const Se=le(q);if(Se!==ne.__cacheKey){ve[Se]===void 0&&(ve[Se]={texture:i.createTexture(),usedTimes:0},s.memory.textures++,Te=!0),ve[Se].usedTimes++;const nt=ve[ne.__cacheKey];nt!==void 0&&(ve[ne.__cacheKey].usedTimes--,nt.usedTimes===0&&B(q)),ne.__cacheKey=Se,ne.__webglTexture=ve[Se].texture}return Te}function Oe(ne,q,Te){return Math.floor(Math.floor(ne/Te)/q)}function We(ne,q,Te,oe){const Se=ne.updateRanges;if(Se.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,q.width,q.height,Te,oe,q.data);else{Se.sort((Ve,Ke)=>Ve.start-Ke.start);let nt=0;for(let Ve=1;Ve<Se.length;Ve++){const Ke=Se[nt],Nt=Se[Ve],bt=Ke.start+Ke.count,mt=Oe(Nt.start,q.width,4),It=Oe(Ke.start,q.width,4);Nt.start<=bt+1&&mt===It&&Oe(Nt.start+Nt.count-1,q.width,4)===mt?Ke.count=Math.max(Ke.count,Nt.start+Nt.count-Ke.start):(++nt,Se[nt]=Nt)}Se.length=nt+1;const Qe=i.getParameter(i.UNPACK_ROW_LENGTH),Rt=i.getParameter(i.UNPACK_SKIP_PIXELS),ft=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,q.width);for(let Ve=0,Ke=Se.length;Ve<Ke;Ve++){const Nt=Se[Ve],bt=Math.floor(Nt.start/4),mt=Math.ceil(Nt.count/4),It=bt%q.width,ue=Math.floor(bt/q.width),yt=mt,lt=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,It),i.pixelStorei(i.UNPACK_SKIP_ROWS,ue),t.texSubImage2D(i.TEXTURE_2D,0,It,ue,yt,lt,Te,oe,q.data)}ne.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,Qe),i.pixelStorei(i.UNPACK_SKIP_PIXELS,Rt),i.pixelStorei(i.UNPACK_SKIP_ROWS,ft)}}function be(ne,q,Te){let oe=i.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(oe=i.TEXTURE_2D_ARRAY),q.isData3DTexture&&(oe=i.TEXTURE_3D);const ve=Z(ne,q),Se=q.source;t.bindTexture(oe,ne.__webglTexture,i.TEXTURE0+Te);const nt=n.get(Se);if(Se.version!==nt.__version||ve===!0){t.activeTexture(i.TEXTURE0+Te);const Qe=oi.getPrimaries(oi.workingColorSpace),Rt=q.colorSpace===a0?null:oi.getPrimaries(q.colorSpace),ft=q.colorSpace===a0||Qe===Rt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,q.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,q.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let Ve=M(q.image,!1,r.maxTextureSize);Ve=tt(q,Ve);const Ke=a.convert(q.format,q.colorSpace),Nt=a.convert(q.type);let bt=D(q.internalFormat,Ke,Nt,q.colorSpace,q.isVideoTexture);ge(oe,q);let mt;const It=q.mipmaps,ue=q.isVideoTexture!==!0,yt=nt.__version===void 0||ve===!0,lt=Se.dataReady,ot=k(q,Ve);if(q.isDepthTexture)bt=N(q.format===n1,q.type),yt&&(ue?t.texStorage2D(i.TEXTURE_2D,1,bt,Ve.width,Ve.height):t.texImage2D(i.TEXTURE_2D,0,bt,Ve.width,Ve.height,0,Ke,Nt,null));else if(q.isDataTexture)if(It.length>0){ue&&yt&&t.texStorage2D(i.TEXTURE_2D,ot,bt,It[0].width,It[0].height);for(let $e=0,Xe=It.length;$e<Xe;$e++)mt=It[$e],ue?lt&&t.texSubImage2D(i.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,Nt,mt.data):t.texImage2D(i.TEXTURE_2D,$e,bt,mt.width,mt.height,0,Ke,Nt,mt.data);q.generateMipmaps=!1}else ue?(yt&&t.texStorage2D(i.TEXTURE_2D,ot,bt,Ve.width,Ve.height),lt&&We(q,Ve,Ke,Nt)):t.texImage2D(i.TEXTURE_2D,0,bt,Ve.width,Ve.height,0,Ke,Nt,Ve.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){ue&&yt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ot,bt,It[0].width,It[0].height,Ve.depth);for(let $e=0,Xe=It.length;$e<Xe;$e++)if(mt=It[$e],q.format!==as)if(Ke!==null)if(ue){if(lt)if(q.layerUpdates.size>0){const Dt=$6(mt.width,mt.height,q.format,q.type);for(const Zt of q.layerUpdates){const kn=mt.data.subarray(Zt*Dt/mt.data.BYTES_PER_ELEMENT,(Zt+1)*Dt/mt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,$e,0,0,Zt,mt.width,mt.height,1,Ke,kn)}q.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,$e,0,0,0,mt.width,mt.height,Ve.depth,Ke,mt.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,$e,bt,mt.width,mt.height,Ve.depth,0,mt.data,0,0);else Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ue?lt&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,$e,0,0,0,mt.width,mt.height,Ve.depth,Ke,Nt,mt.data):t.texImage3D(i.TEXTURE_2D_ARRAY,$e,bt,mt.width,mt.height,Ve.depth,0,Ke,Nt,mt.data)}else{ue&&yt&&t.texStorage2D(i.TEXTURE_2D,ot,bt,It[0].width,It[0].height);for(let $e=0,Xe=It.length;$e<Xe;$e++)mt=It[$e],q.format!==as?Ke!==null?ue?lt&&t.compressedTexSubImage2D(i.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,mt.data):t.compressedTexImage2D(i.TEXTURE_2D,$e,bt,mt.width,mt.height,0,mt.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?lt&&t.texSubImage2D(i.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,Nt,mt.data):t.texImage2D(i.TEXTURE_2D,$e,bt,mt.width,mt.height,0,Ke,Nt,mt.data)}else if(q.isDataArrayTexture)if(ue){if(yt&&t.texStorage3D(i.TEXTURE_2D_ARRAY,ot,bt,Ve.width,Ve.height,Ve.depth),lt)if(q.layerUpdates.size>0){const $e=$6(Ve.width,Ve.height,q.format,q.type);for(const Xe of q.layerUpdates){const Dt=Ve.data.subarray(Xe*$e/Ve.data.BYTES_PER_ELEMENT,(Xe+1)*$e/Ve.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Xe,Ve.width,Ve.height,1,Ke,Nt,Dt)}q.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,Ke,Nt,Ve.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,bt,Ve.width,Ve.height,Ve.depth,0,Ke,Nt,Ve.data);else if(q.isData3DTexture)ue?(yt&&t.texStorage3D(i.TEXTURE_3D,ot,bt,Ve.width,Ve.height,Ve.depth),lt&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,Ke,Nt,Ve.data)):t.texImage3D(i.TEXTURE_3D,0,bt,Ve.width,Ve.height,Ve.depth,0,Ke,Nt,Ve.data);else if(q.isFramebufferTexture){if(yt)if(ue)t.texStorage2D(i.TEXTURE_2D,ot,bt,Ve.width,Ve.height);else{let $e=Ve.width,Xe=Ve.height;for(let Dt=0;Dt<ot;Dt++)t.texImage2D(i.TEXTURE_2D,Dt,bt,$e,Xe,0,Ke,Nt,null),$e>>=1,Xe>>=1}}else if(It.length>0){if(ue&&yt){const $e=Mt(It[0]);t.texStorage2D(i.TEXTURE_2D,ot,bt,$e.width,$e.height)}for(let $e=0,Xe=It.length;$e<Xe;$e++)mt=It[$e],ue?lt&&t.texSubImage2D(i.TEXTURE_2D,$e,0,0,Ke,Nt,mt):t.texImage2D(i.TEXTURE_2D,$e,bt,Ke,Nt,mt);q.generateMipmaps=!1}else if(ue){if(yt){const $e=Mt(Ve);t.texStorage2D(i.TEXTURE_2D,ot,bt,$e.width,$e.height)}lt&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,Ke,Nt,Ve)}else t.texImage2D(i.TEXTURE_2D,0,bt,Ke,Nt,Ve);w(q)&&S(oe),nt.__version=Se.version,q.onUpdate&&q.onUpdate(q)}ne.__version=q.version}function Ne(ne,q,Te){if(q.image.length!==6)return;const oe=Z(ne,q),ve=q.source;t.bindTexture(i.TEXTURE_CUBE_MAP,ne.__webglTexture,i.TEXTURE0+Te);const Se=n.get(ve);if(ve.version!==Se.__version||oe===!0){t.activeTexture(i.TEXTURE0+Te);const nt=oi.getPrimaries(oi.workingColorSpace),Qe=q.colorSpace===a0?null:oi.getPrimaries(q.colorSpace),Rt=q.colorSpace===a0||nt===Qe?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,q.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,q.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const ft=q.isCompressedTexture||q.image[0].isCompressedTexture,Ve=q.image[0]&&q.image[0].isDataTexture,Ke=[];for(let Xe=0;Xe<6;Xe++)!ft&&!Ve?Ke[Xe]=M(q.image[Xe],!0,r.maxCubemapSize):Ke[Xe]=Ve?q.image[Xe].image:q.image[Xe],Ke[Xe]=tt(q,Ke[Xe]);const Nt=Ke[0],bt=a.convert(q.format,q.colorSpace),mt=a.convert(q.type),It=D(q.internalFormat,bt,mt,q.colorSpace),ue=q.isVideoTexture!==!0,yt=Se.__version===void 0||oe===!0,lt=ve.dataReady;let ot=k(q,Nt);ge(i.TEXTURE_CUBE_MAP,q);let $e;if(ft){ue&&yt&&t.texStorage2D(i.TEXTURE_CUBE_MAP,ot,It,Nt.width,Nt.height);for(let Xe=0;Xe<6;Xe++){$e=Ke[Xe].mipmaps;for(let Dt=0;Dt<$e.length;Dt++){const Zt=$e[Dt];q.format!==as?bt!==null?ue?lt&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt,0,0,Zt.width,Zt.height,bt,Zt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt,It,Zt.width,Zt.height,0,Zt.data):Lt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?lt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt,0,0,Zt.width,Zt.height,bt,mt,Zt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt,It,Zt.width,Zt.height,0,bt,mt,Zt.data)}}}else{if($e=q.mipmaps,ue&&yt){$e.length>0&&ot++;const Xe=Mt(Ke[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,ot,It,Xe.width,Xe.height)}for(let Xe=0;Xe<6;Xe++)if(Ve){ue?lt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,Ke[Xe].width,Ke[Xe].height,bt,mt,Ke[Xe].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,It,Ke[Xe].width,Ke[Xe].height,0,bt,mt,Ke[Xe].data);for(let Dt=0;Dt<$e.length;Dt++){const kn=$e[Dt].image[Xe].image;ue?lt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt+1,0,0,kn.width,kn.height,bt,mt,kn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt+1,It,kn.width,kn.height,0,bt,mt,kn.data)}}else{ue?lt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,0,0,bt,mt,Ke[Xe]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,It,bt,mt,Ke[Xe]);for(let Dt=0;Dt<$e.length;Dt++){const Zt=$e[Dt];ue?lt&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt+1,0,0,bt,mt,Zt.image[Xe]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,Dt+1,It,bt,mt,Zt.image[Xe])}}}w(q)&&S(i.TEXTURE_CUBE_MAP),Se.__version=ve.version,q.onUpdate&&q.onUpdate(q)}ne.__version=q.version}function Ye(ne,q,Te,oe,ve,Se){const nt=a.convert(Te.format,Te.colorSpace),Qe=a.convert(Te.type),Rt=D(Te.internalFormat,nt,Qe,Te.colorSpace),ft=n.get(q),Ve=n.get(Te);if(Ve.__renderTarget=q,!ft.__hasExternalTextures){const Ke=Math.max(1,q.width>>Se),Nt=Math.max(1,q.height>>Se);ve===i.TEXTURE_3D||ve===i.TEXTURE_2D_ARRAY?t.texImage3D(ve,Se,Rt,Ke,Nt,q.depth,0,nt,Qe,null):t.texImage2D(ve,Se,Rt,Ke,Nt,0,nt,Qe,null)}t.bindFramebuffer(i.FRAMEBUFFER,ne),Ze(q)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,oe,ve,Ve.__webglTexture,0,it(q)):(ve===i.TEXTURE_2D||ve>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&ve<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,oe,ve,Ve.__webglTexture,Se),t.bindFramebuffer(i.FRAMEBUFFER,null)}function at(ne,q,Te){if(i.bindRenderbuffer(i.RENDERBUFFER,ne),q.depthBuffer){const oe=q.depthTexture,ve=oe&&oe.isDepthTexture?oe.type:null,Se=N(q.stencilBuffer,ve),nt=q.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Qe=it(q);Ze(q)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,Qe,Se,q.width,q.height):Te?i.renderbufferStorageMultisample(i.RENDERBUFFER,Qe,Se,q.width,q.height):i.renderbufferStorage(i.RENDERBUFFER,Se,q.width,q.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,nt,i.RENDERBUFFER,ne)}else{const oe=q.textures;for(let ve=0;ve<oe.length;ve++){const Se=oe[ve],nt=a.convert(Se.format,Se.colorSpace),Qe=a.convert(Se.type),Rt=D(Se.internalFormat,nt,Qe,Se.colorSpace),ft=it(q);Te&&Ze(q)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ft,Rt,q.width,q.height):Ze(q)?o.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ft,Rt,q.width,q.height):i.renderbufferStorage(i.RENDERBUFFER,Rt,q.width,q.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function _t(ne,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,ne),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const oe=n.get(q.depthTexture);oe.__renderTarget=q,(!oe.__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),ie(q.depthTexture,0);const ve=oe.__webglTexture,Se=it(q);if(q.depthTexture.format===t1)Ze(q)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ve,0,Se):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,ve,0);else if(q.depthTexture.format===n1)Ze(q)?o.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ve,0,Se):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,ve,0);else throw new Error("Unknown depthTexture format")}function kt(ne){const q=n.get(ne),Te=ne.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==ne.depthTexture){const oe=ne.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),oe){const ve=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,oe.removeEventListener("dispose",ve)};oe.addEventListener("dispose",ve),q.__depthDisposeCallback=ve}q.__boundDepthTexture=oe}if(ne.depthTexture&&!q.__autoAllocateDepthBuffer){if(Te)throw new Error("target.depthTexture not supported in Cube render targets");const oe=ne.texture.mipmaps;oe&&oe.length>0?_t(q.__webglFramebuffer[0],ne):_t(q.__webglFramebuffer,ne)}else if(Te){q.__webglDepthbuffer=[];for(let oe=0;oe<6;oe++)if(t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer[oe]),q.__webglDepthbuffer[oe]===void 0)q.__webglDepthbuffer[oe]=i.createRenderbuffer(),at(q.__webglDepthbuffer[oe],ne,!1);else{const ve=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Se=q.__webglDepthbuffer[oe];i.bindRenderbuffer(i.RENDERBUFFER,Se),i.framebufferRenderbuffer(i.FRAMEBUFFER,ve,i.RENDERBUFFER,Se)}}else{const oe=ne.texture.mipmaps;if(oe&&oe.length>0?t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=i.createRenderbuffer(),at(q.__webglDepthbuffer,ne,!1);else{const ve=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Se=q.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Se),i.framebufferRenderbuffer(i.FRAMEBUFFER,ve,i.RENDERBUFFER,Se)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function rn(ne,q,Te){const oe=n.get(ne);q!==void 0&&Ye(oe.__webglFramebuffer,ne,ne.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),Te!==void 0&&kt(ne)}function dt(ne){const q=ne.texture,Te=n.get(ne),oe=n.get(q);ne.addEventListener("dispose",P);const ve=ne.textures,Se=ne.isWebGLCubeRenderTarget===!0,nt=ve.length>1;if(nt||(oe.__webglTexture===void 0&&(oe.__webglTexture=i.createTexture()),oe.__version=q.version,s.memory.textures++),Se){Te.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if(q.mipmaps&&q.mipmaps.length>0){Te.__webglFramebuffer[Qe]=[];for(let Rt=0;Rt<q.mipmaps.length;Rt++)Te.__webglFramebuffer[Qe][Rt]=i.createFramebuffer()}else Te.__webglFramebuffer[Qe]=i.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){Te.__webglFramebuffer=[];for(let Qe=0;Qe<q.mipmaps.length;Qe++)Te.__webglFramebuffer[Qe]=i.createFramebuffer()}else Te.__webglFramebuffer=i.createFramebuffer();if(nt)for(let Qe=0,Rt=ve.length;Qe<Rt;Qe++){const ft=n.get(ve[Qe]);ft.__webglTexture===void 0&&(ft.__webglTexture=i.createTexture(),s.memory.textures++)}if(ne.samples>0&&Ze(ne)===!1){Te.__webglMultisampledFramebuffer=i.createFramebuffer(),Te.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,Te.__webglMultisampledFramebuffer);for(let Qe=0;Qe<ve.length;Qe++){const Rt=ve[Qe];Te.__webglColorRenderbuffer[Qe]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,Te.__webglColorRenderbuffer[Qe]);const ft=a.convert(Rt.format,Rt.colorSpace),Ve=a.convert(Rt.type),Ke=D(Rt.internalFormat,ft,Ve,Rt.colorSpace,ne.isXRRenderTarget===!0),Nt=it(ne);i.renderbufferStorageMultisample(i.RENDERBUFFER,Nt,Ke,ne.width,ne.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+Qe,i.RENDERBUFFER,Te.__webglColorRenderbuffer[Qe])}i.bindRenderbuffer(i.RENDERBUFFER,null),ne.depthBuffer&&(Te.__webglDepthRenderbuffer=i.createRenderbuffer(),at(Te.__webglDepthRenderbuffer,ne,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Se){t.bindTexture(i.TEXTURE_CUBE_MAP,oe.__webglTexture),ge(i.TEXTURE_CUBE_MAP,q);for(let Qe=0;Qe<6;Qe++)if(q.mipmaps&&q.mipmaps.length>0)for(let Rt=0;Rt<q.mipmaps.length;Rt++)Ye(Te.__webglFramebuffer[Qe][Rt],ne,q,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Rt);else Ye(Te.__webglFramebuffer[Qe],ne,q,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);w(q)&&S(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(nt){for(let Qe=0,Rt=ve.length;Qe<Rt;Qe++){const ft=ve[Qe],Ve=n.get(ft);let Ke=i.TEXTURE_2D;(ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(Ke=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Ke,Ve.__webglTexture),ge(Ke,ft),Ye(Te.__webglFramebuffer,ne,ft,i.COLOR_ATTACHMENT0+Qe,Ke,0),w(ft)&&S(Ke)}t.unbindTexture()}else{let Qe=i.TEXTURE_2D;if((ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(Qe=ne.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(Qe,oe.__webglTexture),ge(Qe,q),q.mipmaps&&q.mipmaps.length>0)for(let Rt=0;Rt<q.mipmaps.length;Rt++)Ye(Te.__webglFramebuffer[Rt],ne,q,i.COLOR_ATTACHMENT0,Qe,Rt);else Ye(Te.__webglFramebuffer,ne,q,i.COLOR_ATTACHMENT0,Qe,0);w(q)&&S(Qe),t.unbindTexture()}ne.depthBuffer&&kt(ne)}function Fe(ne){const q=ne.textures;for(let Te=0,oe=q.length;Te<oe;Te++){const ve=q[Te];if(w(ve)){const Se=A(ne),nt=n.get(ve).__webglTexture;t.bindTexture(Se,nt),S(Se),t.unbindTexture()}}}const ee=[],Ge=[];function fe(ne){if(ne.samples>0){if(Ze(ne)===!1){const q=ne.textures,Te=ne.width,oe=ne.height;let ve=i.COLOR_BUFFER_BIT;const Se=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,nt=n.get(ne),Qe=q.length>1;if(Qe)for(let ft=0;ft<q.length;ft++)t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ft,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ft,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const Rt=ne.texture.mipmaps;Rt&&Rt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let ft=0;ft<q.length;ft++){if(ne.resolveDepthBuffer&&(ne.depthBuffer&&(ve|=i.DEPTH_BUFFER_BIT),ne.stencilBuffer&&ne.resolveStencilBuffer&&(ve|=i.STENCIL_BUFFER_BIT)),Qe){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,nt.__webglColorRenderbuffer[ft]);const Ve=n.get(q[ft]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ve,0)}i.blitFramebuffer(0,0,Te,oe,0,0,Te,oe,ve,i.NEAREST),c===!0&&(ee.length=0,Ge.length=0,ee.push(i.COLOR_ATTACHMENT0+ft),ne.depthBuffer&&ne.resolveDepthBuffer===!1&&(ee.push(Se),Ge.push(Se),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ge)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,ee))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),Qe)for(let ft=0;ft<q.length;ft++){t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ft,i.RENDERBUFFER,nt.__webglColorRenderbuffer[ft]);const Ve=n.get(q[ft]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,nt.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ft,i.TEXTURE_2D,Ve,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(ne.depthBuffer&&ne.resolveDepthBuffer===!1&&c){const q=ne.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[q])}}}function it(ne){return Math.min(r.maxSamples,ne.samples)}function Ze(ne){const q=n.get(ne);return ne.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function xt(ne){const q=s.render.frame;m.get(ne)!==q&&(m.set(ne,q),ne.update())}function tt(ne,q){const Te=ne.colorSpace,oe=ne.format,ve=ne.type;return ne.isCompressedTexture===!0||ne.isVideoTexture===!0||Te!==Ff&&Te!==a0&&(oi.getTransfer(Te)===Oi?(oe!==as||ve!==Ao)&&Lt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):_n("WebGLTextures: Unsupported texture color space:",Te)),q}function Mt(ne){return typeof HTMLImageElement<"u"&&ne instanceof HTMLImageElement?(f.width=ne.naturalWidth||ne.width,f.height=ne.naturalHeight||ne.height):typeof VideoFrame<"u"&&ne instanceof VideoFrame?(f.width=ne.displayWidth,f.height=ne.displayHeight):(f.width=ne.width,f.height=ne.height),f}this.allocateTextureUnit=se,this.resetTextureUnits=W,this.setTexture2D=ie,this.setTexture2DArray=Y,this.setTexture3D=te,this.setTextureCube=re,this.rebindTextures=rn,this.setupRenderTarget=dt,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=fe,this.setupDepthRenderbuffer=kt,this.setupFrameBufferTexture=Ye,this.useMultisampledRTT=Ze}function PN(i,e){function t(n,r=a0){let a;const s=oi.getTransfer(r);if(n===Ao)return i.UNSIGNED_BYTE;if(n===z4)return i.UNSIGNED_SHORT_4_4_4_4;if(n===O4)return i.UNSIGNED_SHORT_5_5_5_1;if(n===c8)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===f8)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===o8)return i.BYTE;if(n===u8)return i.SHORT;if(n===$m)return i.UNSIGNED_SHORT;if(n===N4)return i.INT;if(n===x0)return i.UNSIGNED_INT;if(n===ol)return i.FLOAT;if(n===Fd)return i.HALF_FLOAT;if(n===h8)return i.ALPHA;if(n===d8)return i.RGB;if(n===as)return i.RGBA;if(n===t1)return i.DEPTH_COMPONENT;if(n===n1)return i.DEPTH_STENCIL;if(n===L4)return i.RED;if(n===Hx)return i.RED_INTEGER;if(n===U4)return i.RG;if(n===B4)return i.RG_INTEGER;if(n===k4)return i.RGBA_INTEGER;if(n===qv||n===Xv||n===Yv||n===jv)if(s===Oi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===qv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Xv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Yv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===jv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===qv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Xv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Yv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===jv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===Db||n===Nb||n===zb||n===Ob)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===Db)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Nb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===zb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ob)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Lb||n===Ub||n===Bb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===Lb||n===Ub)return s===Oi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Bb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===kb||n===Ib||n===Pb||n===Fb||n===Hb||n===Vb||n===Gb||n===qb||n===Xb||n===Yb||n===jb||n===Wb||n===Zb||n===Kb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===kb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ib)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Pb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Fb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Hb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Vb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Gb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===qb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Xb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Yb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===jb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Wb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Zb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Kb)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===Qb||n===Jb||n===$b)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===Qb)return s===Oi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Jb)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===$b)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===e4||n===t4||n===n4||n===i4)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===e4)return a.COMPRESSED_RED_RGTC1_EXT;if(n===t4)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===n4)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===i4)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===e1?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const FY=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,HY=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class VY{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new T8(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Co({vertexShader:FY,fragmentShader:HY,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ua(new y1(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class GY extends hc{constructor(e,t){super();const n=this;let r=null,a=1,s=null,o="local-floor",c=1,f=null,m=null,g=null,y=null,x=null,_=null;const M=typeof XRWebGLBinding<"u",w=new VY,S={},A=t.getContextAttributes();let D=null,N=null;const k=[],z=[],P=new rt;let V=null;const B=new Ta;B.viewport=new hi;const O=new Ta;O.viewport=new hi;const X=[B,O],W=new CN;let se=null,le=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(be){let Ne=k[be];return Ne===void 0&&(Ne=new nb,k[be]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(be){let Ne=k[be];return Ne===void 0&&(Ne=new nb,k[be]=Ne),Ne.getGripSpace()},this.getHand=function(be){let Ne=k[be];return Ne===void 0&&(Ne=new nb,k[be]=Ne),Ne.getHandSpace()};function ie(be){const Ne=z.indexOf(be.inputSource);if(Ne===-1)return;const Ye=k[Ne];Ye!==void 0&&(Ye.update(be.inputSource,be.frame,f||s),Ye.dispatchEvent({type:be.type,data:be.inputSource}))}function Y(){r.removeEventListener("select",ie),r.removeEventListener("selectstart",ie),r.removeEventListener("selectend",ie),r.removeEventListener("squeeze",ie),r.removeEventListener("squeezestart",ie),r.removeEventListener("squeezeend",ie),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",te);for(let be=0;be<k.length;be++){const Ne=z[be];Ne!==null&&(z[be]=null,k[be].disconnect(Ne))}se=null,le=null,w.reset();for(const be in S)delete S[be];e.setRenderTarget(D),x=null,y=null,g=null,r=null,N=null,We.stop(),n.isPresenting=!1,e.setPixelRatio(V),e.setSize(P.width,P.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(be){a=be,n.isPresenting===!0&&Lt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(be){o=be,n.isPresenting===!0&&Lt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(be){f=be},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return g===null&&M&&(g=new XRWebGLBinding(r,t)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(be){if(r=be,r!==null){if(D=e.getRenderTarget(),r.addEventListener("select",ie),r.addEventListener("selectstart",ie),r.addEventListener("selectend",ie),r.addEventListener("squeeze",ie),r.addEventListener("squeezestart",ie),r.addEventListener("squeezeend",ie),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",te),A.xrCompatible!==!0&&await t.makeXRCompatible(),V=e.getPixelRatio(),e.getSize(P),M&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ye=null,at=null,_t=null;A.depth&&(_t=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ye=A.stencil?n1:t1,at=A.stencil?e1:x0);const kt={colorFormat:t.RGBA8,depthFormat:_t,scaleFactor:a};g=this.getBinding(),y=g.createProjectionLayer(kt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new cc(y.textureWidth,y.textureHeight,{format:as,type:Ao,depthTexture:new w8(y.textureWidth,y.textureHeight,at,void 0,void 0,void 0,void 0,void 0,void 0,Ye),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Ye={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(r,t,Ye),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),N=new cc(x.framebufferWidth,x.framebufferHeight,{format:as,type:Ao,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(c),f=null,s=await r.requestReferenceSpace(o),We.setContext(r),We.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function te(be){for(let Ne=0;Ne<be.removed.length;Ne++){const Ye=be.removed[Ne],at=z.indexOf(Ye);at>=0&&(z[at]=null,k[at].disconnect(Ye))}for(let Ne=0;Ne<be.added.length;Ne++){const Ye=be.added[Ne];let at=z.indexOf(Ye);if(at===-1){for(let kt=0;kt<k.length;kt++)if(kt>=z.length){z.push(Ye),at=kt;break}else if(z[kt]===null){z[kt]=Ye,at=kt;break}if(at===-1)break}const _t=k[at];_t&&_t.connect(Ye)}}const re=new ae,ye=new ae;function F(be,Ne,Ye){re.setFromMatrixPosition(Ne.matrixWorld),ye.setFromMatrixPosition(Ye.matrixWorld);const at=re.distanceTo(ye),_t=Ne.projectionMatrix.elements,kt=Ye.projectionMatrix.elements,rn=_t[14]/(_t[10]-1),dt=_t[14]/(_t[10]+1),Fe=(_t[9]+1)/_t[5],ee=(_t[9]-1)/_t[5],Ge=(_t[8]-1)/_t[0],fe=(kt[8]+1)/kt[0],it=rn*Ge,Ze=rn*fe,xt=at/(-Ge+fe),tt=xt*-Ge;if(Ne.matrixWorld.decompose(be.position,be.quaternion,be.scale),be.translateX(tt),be.translateZ(xt),be.matrixWorld.compose(be.position,be.quaternion,be.scale),be.matrixWorldInverse.copy(be.matrixWorld).invert(),_t[10]===-1)be.projectionMatrix.copy(Ne.projectionMatrix),be.projectionMatrixInverse.copy(Ne.projectionMatrixInverse);else{const Mt=rn+xt,ne=dt+xt,q=it-tt,Te=Ze+(at-tt),oe=Fe*dt/ne*Mt,ve=ee*dt/ne*Mt;be.projectionMatrix.makePerspective(q,Te,oe,ve,Mt,ne),be.projectionMatrixInverse.copy(be.projectionMatrix).invert()}}function J(be,Ne){Ne===null?be.matrixWorld.copy(be.matrix):be.matrixWorld.multiplyMatrices(Ne.matrixWorld,be.matrix),be.matrixWorldInverse.copy(be.matrixWorld).invert()}this.updateCamera=function(be){if(r===null)return;let Ne=be.near,Ye=be.far;w.texture!==null&&(w.depthNear>0&&(Ne=w.depthNear),w.depthFar>0&&(Ye=w.depthFar)),W.near=O.near=B.near=Ne,W.far=O.far=B.far=Ye,(se!==W.near||le!==W.far)&&(r.updateRenderState({depthNear:W.near,depthFar:W.far}),se=W.near,le=W.far),W.layers.mask=be.layers.mask|6,B.layers.mask=W.layers.mask&3,O.layers.mask=W.layers.mask&5;const at=be.parent,_t=W.cameras;J(W,at);for(let kt=0;kt<_t.length;kt++)J(_t[kt],at);_t.length===2?F(W,B,O):W.projectionMatrix.copy(B.projectionMatrix),ge(be,W,at)};function ge(be,Ne,Ye){Ye===null?be.matrix.copy(Ne.matrixWorld):(be.matrix.copy(Ye.matrixWorld),be.matrix.invert(),be.matrix.multiply(Ne.matrixWorld)),be.matrix.decompose(be.position,be.quaternion,be.scale),be.updateMatrixWorld(!0),be.projectionMatrix.copy(Ne.projectionMatrix),be.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),be.isPerspectiveCamera&&(be.fov=a1*2*Math.atan(1/be.projectionMatrix.elements[5]),be.zoom=1)}this.getCamera=function(){return W},this.getFoveation=function(){if(!(y===null&&x===null))return c},this.setFoveation=function(be){c=be,y!==null&&(y.fixedFoveation=be),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=be)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(W)},this.getCameraTexture=function(be){return S[be]};let Z=null;function Oe(be,Ne){if(m=Ne.getViewerPose(f||s),_=Ne,m!==null){const Ye=m.views;x!==null&&(e.setRenderTargetFramebuffer(N,x.framebuffer),e.setRenderTarget(N));let at=!1;Ye.length!==W.cameras.length&&(W.cameras.length=0,at=!0);for(let dt=0;dt<Ye.length;dt++){const Fe=Ye[dt];let ee=null;if(x!==null)ee=x.getViewport(Fe);else{const fe=g.getViewSubImage(y,Fe);ee=fe.viewport,dt===0&&(e.setRenderTargetTextures(N,fe.colorTexture,fe.depthStencilTexture),e.setRenderTarget(N))}let Ge=X[dt];Ge===void 0&&(Ge=new Ta,Ge.layers.enable(dt),Ge.viewport=new hi,X[dt]=Ge),Ge.matrix.fromArray(Fe.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Fe.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(ee.x,ee.y,ee.width,ee.height),dt===0&&(W.matrix.copy(Ge.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale)),at===!0&&W.cameras.push(Ge)}const _t=r.enabledFeatures;if(_t&&_t.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&M){g=n.getBinding();const dt=g.getDepthInformation(Ye[0]);dt&&dt.isValid&&dt.texture&&w.init(dt,r.renderState)}if(_t&&_t.includes("camera-access")&&M){e.state.unbindTexture(),g=n.getBinding();for(let dt=0;dt<Ye.length;dt++){const Fe=Ye[dt].camera;if(Fe){let ee=S[Fe];ee||(ee=new T8,S[Fe]=ee);const Ge=g.getCameraImage(Fe);ee.sourceTexture=Ge}}}}for(let Ye=0;Ye<k.length;Ye++){const at=z[Ye],_t=k[Ye];at!==null&&_t!==void 0&&_t.update(at,Ne,f||s)}Z&&Z(be,Ne),Ne.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:Ne}),_=null}const We=new LN;We.setAnimationLoop(Oe),this.setAnimationLoop=function(be){Z=be},this.dispose=function(){}}}const sd=new Wl,qY=new yn;function XY(i,e){function t(w,S){w.matrixAutoUpdate===!0&&w.updateMatrix(),S.value.copy(w.matrix)}function n(w,S){S.color.getRGB(w.fogColor.value,OD(i)),S.isFog?(w.fogNear.value=S.near,w.fogFar.value=S.far):S.isFogExp2&&(w.fogDensity.value=S.density)}function r(w,S,A,D,N){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(w,S):S.isMeshToonMaterial?(a(w,S),g(w,S)):S.isMeshPhongMaterial?(a(w,S),m(w,S)):S.isMeshStandardMaterial?(a(w,S),y(w,S),S.isMeshPhysicalMaterial&&x(w,S,N)):S.isMeshMatcapMaterial?(a(w,S),_(w,S)):S.isMeshDepthMaterial?a(w,S):S.isMeshDistanceMaterial?(a(w,S),M(w,S)):S.isMeshNormalMaterial?a(w,S):S.isLineBasicMaterial?(s(w,S),S.isLineDashedMaterial&&o(w,S)):S.isPointsMaterial?c(w,S,A,D):S.isSpriteMaterial?f(w,S):S.isShadowMaterial?(w.color.value.copy(S.color),w.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(w,S){w.opacity.value=S.opacity,S.color&&w.diffuse.value.copy(S.color),S.emissive&&w.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(w.map.value=S.map,t(S.map,w.mapTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.bumpMap&&(w.bumpMap.value=S.bumpMap,t(S.bumpMap,w.bumpMapTransform),w.bumpScale.value=S.bumpScale,S.side===Hs&&(w.bumpScale.value*=-1)),S.normalMap&&(w.normalMap.value=S.normalMap,t(S.normalMap,w.normalMapTransform),w.normalScale.value.copy(S.normalScale),S.side===Hs&&w.normalScale.value.negate()),S.displacementMap&&(w.displacementMap.value=S.displacementMap,t(S.displacementMap,w.displacementMapTransform),w.displacementScale.value=S.displacementScale,w.displacementBias.value=S.displacementBias),S.emissiveMap&&(w.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,w.emissiveMapTransform)),S.specularMap&&(w.specularMap.value=S.specularMap,t(S.specularMap,w.specularMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest);const A=e.get(S),D=A.envMap,N=A.envMapRotation;D&&(w.envMap.value=D,sd.copy(N),sd.x*=-1,sd.y*=-1,sd.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(sd.y*=-1,sd.z*=-1),w.envMapRotation.value.setFromMatrix4(qY.makeRotationFromEuler(sd)),w.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=S.reflectivity,w.ior.value=S.ior,w.refractionRatio.value=S.refractionRatio),S.lightMap&&(w.lightMap.value=S.lightMap,w.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,w.lightMapTransform)),S.aoMap&&(w.aoMap.value=S.aoMap,w.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,w.aoMapTransform))}function s(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,S.map&&(w.map.value=S.map,t(S.map,w.mapTransform))}function o(w,S){w.dashSize.value=S.dashSize,w.totalSize.value=S.dashSize+S.gapSize,w.scale.value=S.scale}function c(w,S,A,D){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.size.value=S.size*A,w.scale.value=D*.5,S.map&&(w.map.value=S.map,t(S.map,w.uvTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest)}function f(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.rotation.value=S.rotation,S.map&&(w.map.value=S.map,t(S.map,w.mapTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest)}function m(w,S){w.specular.value.copy(S.specular),w.shininess.value=Math.max(S.shininess,1e-4)}function g(w,S){S.gradientMap&&(w.gradientMap.value=S.gradientMap)}function y(w,S){w.metalness.value=S.metalness,S.metalnessMap&&(w.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,w.metalnessMapTransform)),w.roughness.value=S.roughness,S.roughnessMap&&(w.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,w.roughnessMapTransform)),S.envMap&&(w.envMapIntensity.value=S.envMapIntensity)}function x(w,S,A){w.ior.value=S.ior,S.sheen>0&&(w.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),w.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(w.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,w.sheenColorMapTransform)),S.sheenRoughnessMap&&(w.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,w.sheenRoughnessMapTransform))),S.clearcoat>0&&(w.clearcoat.value=S.clearcoat,w.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(w.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,w.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(w.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Hs&&w.clearcoatNormalScale.value.negate())),S.dispersion>0&&(w.dispersion.value=S.dispersion),S.iridescence>0&&(w.iridescence.value=S.iridescence,w.iridescenceIOR.value=S.iridescenceIOR,w.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(w.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,w.iridescenceMapTransform)),S.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),S.transmission>0&&(w.transmission.value=S.transmission,w.transmissionSamplerMap.value=A.texture,w.transmissionSamplerSize.value.set(A.width,A.height),S.transmissionMap&&(w.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,w.transmissionMapTransform)),w.thickness.value=S.thickness,S.thicknessMap&&(w.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=S.attenuationDistance,w.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(w.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(w.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=S.specularIntensity,w.specularColor.value.copy(S.specularColor),S.specularColorMap&&(w.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,w.specularColorMapTransform)),S.specularIntensityMap&&(w.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,w.specularIntensityMapTransform))}function _(w,S){S.matcap&&(w.matcap.value=S.matcap)}function M(w,S){const A=e.get(S).light;w.referencePosition.value.setFromMatrixPosition(A.matrixWorld),w.nearDistance.value=A.shadow.camera.near,w.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function YY(i,e,t,n){let r={},a={},s=[];const o=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function c(A,D){const N=D.program;n.uniformBlockBinding(A,N)}function f(A,D){let N=r[A.id];N===void 0&&(_(A),N=m(A),r[A.id]=N,A.addEventListener("dispose",w));const k=D.program;n.updateUBOMapping(A,k);const z=e.render.frame;a[A.id]!==z&&(y(A),a[A.id]=z)}function m(A){const D=g();A.__bindingPointIndex=D;const N=i.createBuffer(),k=A.__size,z=A.usage;return i.bindBuffer(i.UNIFORM_BUFFER,N),i.bufferData(i.UNIFORM_BUFFER,k,z),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,D,N),N}function g(){for(let A=0;A<o;A++)if(s.indexOf(A)===-1)return s.push(A),A;return _n("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(A){const D=r[A.id],N=A.uniforms,k=A.__cache;i.bindBuffer(i.UNIFORM_BUFFER,D);for(let z=0,P=N.length;z<P;z++){const V=Array.isArray(N[z])?N[z]:[N[z]];for(let B=0,O=V.length;B<O;B++){const X=V[B];if(x(X,z,B,k)===!0){const W=X.__offset,se=Array.isArray(X.value)?X.value:[X.value];let le=0;for(let ie=0;ie<se.length;ie++){const Y=se[ie],te=M(Y);typeof Y=="number"||typeof Y=="boolean"?(X.__data[0]=Y,i.bufferSubData(i.UNIFORM_BUFFER,W+le,X.__data)):Y.isMatrix3?(X.__data[0]=Y.elements[0],X.__data[1]=Y.elements[1],X.__data[2]=Y.elements[2],X.__data[3]=0,X.__data[4]=Y.elements[3],X.__data[5]=Y.elements[4],X.__data[6]=Y.elements[5],X.__data[7]=0,X.__data[8]=Y.elements[6],X.__data[9]=Y.elements[7],X.__data[10]=Y.elements[8],X.__data[11]=0):(Y.toArray(X.__data,le),le+=te.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,W,X.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function x(A,D,N,k){const z=A.value,P=D+"_"+N;if(k[P]===void 0)return typeof z=="number"||typeof z=="boolean"?k[P]=z:k[P]=z.clone(),!0;{const V=k[P];if(typeof z=="number"||typeof z=="boolean"){if(V!==z)return k[P]=z,!0}else if(V.equals(z)===!1)return V.copy(z),!0}return!1}function _(A){const D=A.uniforms;let N=0;const k=16;for(let P=0,V=D.length;P<V;P++){const B=Array.isArray(D[P])?D[P]:[D[P]];for(let O=0,X=B.length;O<X;O++){const W=B[O],se=Array.isArray(W.value)?W.value:[W.value];for(let le=0,ie=se.length;le<ie;le++){const Y=se[le],te=M(Y),re=N%k,ye=re%te.boundary,F=re+ye;N+=ye,F!==0&&k-F<te.storage&&(N+=k-F),W.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=N,N+=te.storage}}}const z=N%k;return z>0&&(N+=k-z),A.__size=N,A.__cache={},this}function M(A){const D={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(D.boundary=4,D.storage=4):A.isVector2?(D.boundary=8,D.storage=8):A.isVector3||A.isColor?(D.boundary=16,D.storage=12):A.isVector4?(D.boundary=16,D.storage=16):A.isMatrix3?(D.boundary=48,D.storage=48):A.isMatrix4?(D.boundary=64,D.storage=64):A.isTexture?Lt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Lt("WebGLRenderer: Unsupported uniform value type.",A),D}function w(A){const D=A.target;D.removeEventListener("dispose",w);const N=s.indexOf(D.__bindingPointIndex);s.splice(N,1),i.deleteBuffer(r[D.id]),delete r[D.id],delete a[D.id]}function S(){for(const A in r)i.deleteBuffer(r[A]);s=[],r={},a={}}return{bind:c,update:f,dispose:S}}const jY=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let $c=null;function WY(){return $c===null&&($c=new cu(jY,32,32,U4,Fd),$c.minFilter=Pr,$c.magFilter=Pr,$c.wrapS=ll,$c.wrapT=ll,$c.generateMipmaps=!1,$c.needsUpdate=!0),$c}class FN{constructor(e={}){const{canvas:t=DD(),context:n=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:f=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let x;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=n.getContextAttributes().alpha}else x=s;const _=new Set([k4,B4,Hx]),M=new Set([Ao,x0,$m,e1,z4,O4]),w=new Uint32Array(4),S=new Int32Array(4);let A=null,D=null;const N=[],k=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=oc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const z=this;let P=!1;this._outputColorSpace=ns;let V=0,B=0,O=null,X=-1,W=null;const se=new hi,le=new hi;let ie=null;const Y=new Pt(0);let te=0,re=t.width,ye=t.height,F=1,J=null,ge=null;const Z=new hi(0,0,re,ye),Oe=new hi(0,0,re,ye);let We=!1;const be=new x1;let Ne=!1,Ye=!1;const at=new yn,_t=new ae,kt=new hi,rn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function Fe(){return O===null?F:1}let ee=n;function Ge(j,Ee){return t.getContext(j,Ee)}try{const j={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:f,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${C4}`),t.addEventListener("webglcontextlost",$e,!1),t.addEventListener("webglcontextrestored",Xe,!1),t.addEventListener("webglcontextcreationerror",Dt,!1),ee===null){const Ee="webgl2";if(ee=Ge(Ee,j),ee===null)throw Ge(Ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(j){throw j("WebGLRenderer: "+j.message),j}let fe,it,Ze,xt,tt,Mt,ne,q,Te,oe,ve,Se,nt,Qe,Rt,ft,Ve,Ke,Nt,bt,mt,It,ue,yt;function lt(){fe=new rX(ee),fe.init(),It=new PN(ee,fe),it=new Zq(ee,fe,e,It),Ze=new IY(ee,fe),it.reversedDepthBuffer&&y&&Ze.buffers.depth.setReversed(!0),xt=new lX(ee),tt=new TY,Mt=new PY(ee,fe,Ze,tt,it,It,xt),ne=new Qq(z),q=new iX(z),Te=new fV(ee),ue=new jq(ee,Te),oe=new aX(ee,Te,xt,ue),ve=new uX(ee,oe,Te,xt),Nt=new oX(ee,it,Mt),ft=new Kq(tt),Se=new wY(z,ne,q,fe,it,ue,ft),nt=new XY(z,tt),Qe=new AY,Rt=new OY(fe),Ke=new Yq(z,ne,q,Ze,ve,x,c),Ve=new BY(z,ve,it),yt=new YY(ee,xt,it,Ze),bt=new Wq(ee,fe,xt),mt=new sX(ee,fe,xt),xt.programs=Se.programs,z.capabilities=it,z.extensions=fe,z.properties=tt,z.renderLists=Qe,z.shadowMap=Ve,z.state=Ze,z.info=xt}lt();const ot=new GY(z,ee);this.xr=ot,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const j=fe.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=fe.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(j){j!==void 0&&(F=j,this.setSize(re,ye,!1))},this.getSize=function(j){return j.set(re,ye)},this.setSize=function(j,Ee,ze=!0){if(ot.isPresenting){Lt("WebGLRenderer: Can't change size while VR device is presenting.");return}re=j,ye=Ee,t.width=Math.floor(j*F),t.height=Math.floor(Ee*F),ze===!0&&(t.style.width=j+"px",t.style.height=Ee+"px"),this.setViewport(0,0,j,Ee)},this.getDrawingBufferSize=function(j){return j.set(re*F,ye*F).floor()},this.setDrawingBufferSize=function(j,Ee,ze){re=j,ye=Ee,F=ze,t.width=Math.floor(j*ze),t.height=Math.floor(Ee*ze),this.setViewport(0,0,j,Ee)},this.getCurrentViewport=function(j){return j.copy(se)},this.getViewport=function(j){return j.copy(Z)},this.setViewport=function(j,Ee,ze,Ae){j.isVector4?Z.set(j.x,j.y,j.z,j.w):Z.set(j,Ee,ze,Ae),Ze.viewport(se.copy(Z).multiplyScalar(F).round())},this.getScissor=function(j){return j.copy(Oe)},this.setScissor=function(j,Ee,ze,Ae){j.isVector4?Oe.set(j.x,j.y,j.z,j.w):Oe.set(j,Ee,ze,Ae),Ze.scissor(le.copy(Oe).multiplyScalar(F).round())},this.getScissorTest=function(){return We},this.setScissorTest=function(j){Ze.setScissorTest(We=j)},this.setOpaqueSort=function(j){J=j},this.setTransparentSort=function(j){ge=j},this.getClearColor=function(j){return j.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor(...arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha(...arguments)},this.clear=function(j=!0,Ee=!0,ze=!0){let Ae=0;if(j){let we=!1;if(O!==null){const ht=O.texture.format;we=_.has(ht)}if(we){const ht=O.texture.type,St=M.has(ht),Ct=Ke.getClearColor(),Et=Ke.getClearAlpha(),Kt=Ct.r,en=Ct.g,Vt=Ct.b;St?(w[0]=Kt,w[1]=en,w[2]=Vt,w[3]=Et,ee.clearBufferuiv(ee.COLOR,0,w)):(S[0]=Kt,S[1]=en,S[2]=Vt,S[3]=Et,ee.clearBufferiv(ee.COLOR,0,S))}else Ae|=ee.COLOR_BUFFER_BIT}Ee&&(Ae|=ee.DEPTH_BUFFER_BIT),ze&&(Ae|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(Ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",$e,!1),t.removeEventListener("webglcontextrestored",Xe,!1),t.removeEventListener("webglcontextcreationerror",Dt,!1),Ke.dispose(),Qe.dispose(),Rt.dispose(),tt.dispose(),ne.dispose(),q.dispose(),ve.dispose(),ue.dispose(),yt.dispose(),Se.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",ln),ot.removeEventListener("sessionend",Wt),jt.stop()};function $e(j){j.preventDefault(),_x("WebGLRenderer: Context Lost."),P=!0}function Xe(){_x("WebGLRenderer: Context Restored."),P=!1;const j=xt.autoReset,Ee=Ve.enabled,ze=Ve.autoUpdate,Ae=Ve.needsUpdate,we=Ve.type;lt(),xt.autoReset=j,Ve.enabled=Ee,Ve.autoUpdate=ze,Ve.needsUpdate=Ae,Ve.type=we}function Dt(j){_n("WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function Zt(j){const Ee=j.target;Ee.removeEventListener("dispose",Zt),kn(Ee)}function kn(j){At(j),tt.remove(j)}function At(j){const Ee=tt.get(j).programs;Ee!==void 0&&(Ee.forEach(function(ze){Se.releaseProgram(ze)}),j.isShaderMaterial&&Se.releaseShaderCache(j))}this.renderBufferDirect=function(j,Ee,ze,Ae,we,ht){Ee===null&&(Ee=rn);const St=we.isMesh&&we.matrixWorld.determinant()<0,Ct=Mi(j,Ee,ze,Ae,we);Ze.setMaterial(Ae,St);let Et=ze.index,Kt=1;if(Ae.wireframe===!0){if(Et=oe.getWireframeAttribute(ze),Et===void 0)return;Kt=2}const en=ze.drawRange,Vt=ze.attributes.position;let wn=en.start*Kt,Jn=(en.start+en.count)*Kt;ht!==null&&(wn=Math.max(wn,ht.start*Kt),Jn=Math.min(Jn,(ht.start+ht.count)*Kt)),Et!==null?(wn=Math.max(wn,0),Jn=Math.min(Jn,Et.count)):Vt!=null&&(wn=Math.max(wn,0),Jn=Math.min(Jn,Vt.count));const $n=Jn-wn;if($n<0||$n===1/0)return;ue.setup(we,Ae,Ct,ze,Et);let Hn,mi=bt;if(Et!==null&&(Hn=Te.get(Et),mi=mt,mi.setIndex(Hn)),we.isMesh)Ae.wireframe===!0?(Ze.setLineWidth(Ae.wireframeLinewidth*Fe()),mi.setMode(ee.LINES)):mi.setMode(ee.TRIANGLES);else if(we.isLine){let an=Ae.linewidth;an===void 0&&(an=1),Ze.setLineWidth(an*Fe()),we.isLineSegments?mi.setMode(ee.LINES):we.isLineLoop?mi.setMode(ee.LINE_LOOP):mi.setMode(ee.LINE_STRIP)}else we.isPoints?mi.setMode(ee.POINTS):we.isSprite&&mi.setMode(ee.TRIANGLES);if(we.isBatchedMesh)if(we._multiDrawInstances!==null)r1("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),mi.renderMultiDrawInstances(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount,we._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))mi.renderMultiDraw(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount);else{const an=we._multiDrawStarts,wi=we._multiDrawCounts,Vn=we._multiDrawCount,_r=Et?Te.get(Et).bytesPerElement:1,zo=tt.get(Ae).currentProgram.getUniforms();for(let Di=0;Di<Vn;Di++)zo.setValue(ee,"_gl_DrawID",Di),mi.render(an[Di]/_r,wi[Di])}else if(we.isInstancedMesh)mi.renderInstances(wn,$n,we.count);else if(ze.isInstancedBufferGeometry){const an=ze._maxInstanceCount!==void 0?ze._maxInstanceCount:1/0,wi=Math.min(ze.instanceCount,an);mi.renderInstances(wn,$n,wi)}else mi.render(wn,$n)};function Ft(j,Ee,ze){j.transparent===!0&&j.side===ou&&j.forceSinglePass===!1?(j.side=Hs,j.needsUpdate=!0,vn(j,Ee,ze),j.side=g0,j.needsUpdate=!0,vn(j,Ee,ze),j.side=ou):vn(j,Ee,ze)}this.compile=function(j,Ee,ze=null){ze===null&&(ze=j),D=Rt.get(ze),D.init(Ee),k.push(D),ze.traverseVisible(function(we){we.isLight&&we.layers.test(Ee.layers)&&(D.pushLight(we),we.castShadow&&D.pushShadow(we))}),j!==ze&&j.traverseVisible(function(we){we.isLight&&we.layers.test(Ee.layers)&&(D.pushLight(we),we.castShadow&&D.pushShadow(we))}),D.setupLights();const Ae=new Set;return j.traverse(function(we){if(!(we.isMesh||we.isPoints||we.isLine||we.isSprite))return;const ht=we.material;if(ht)if(Array.isArray(ht))for(let St=0;St<ht.length;St++){const Ct=ht[St];Ft(Ct,ze,we),Ae.add(Ct)}else Ft(ht,ze,we),Ae.add(ht)}),D=k.pop(),Ae},this.compileAsync=function(j,Ee,ze=null){const Ae=this.compile(j,Ee,ze);return new Promise(we=>{function ht(){if(Ae.forEach(function(St){tt.get(St).currentProgram.isReady()&&Ae.delete(St)}),Ae.size===0){we(j);return}setTimeout(ht,10)}fe.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let gn=null;function Tt(j){gn&&gn(j)}function ln(){jt.stop()}function Wt(){jt.start()}const jt=new LN;jt.setAnimationLoop(Tt),typeof self<"u"&&jt.setContext(self),this.setAnimationLoop=function(j){gn=j,ot.setAnimationLoop(j),j===null?jt.stop():jt.start()},ot.addEventListener("sessionstart",ln),ot.addEventListener("sessionend",Wt),this.render=function(j,Ee){if(Ee!==void 0&&Ee.isCamera!==!0){_n("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),Ee.parent===null&&Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),ot.enabled===!0&&ot.isPresenting===!0&&(ot.cameraAutoUpdate===!0&&ot.updateCamera(Ee),Ee=ot.getCamera()),j.isScene===!0&&j.onBeforeRender(z,j,Ee,O),D=Rt.get(j,k.length),D.init(Ee),k.push(D),at.multiplyMatrices(Ee.projectionMatrix,Ee.matrixWorldInverse),be.setFromProjectionMatrix(at,Hl,Ee.reversedDepth),Ye=this.localClippingEnabled,Ne=ft.init(this.clippingPlanes,Ye),A=Qe.get(j,N.length),A.init(),N.push(A),ot.enabled===!0&&ot.isPresenting===!0){const ht=z.xr.getDepthSensingMesh();ht!==null&&Ci(ht,Ee,-1/0,z.sortObjects)}Ci(j,Ee,0,z.sortObjects),A.finish(),z.sortObjects===!0&&A.sort(J,ge),dt=ot.enabled===!1||ot.isPresenting===!1||ot.hasDepthSensing()===!1,dt&&Ke.addToRenderList(A,j),this.info.render.frame++,Ne===!0&&ft.beginShadows();const ze=D.state.shadowsArray;Ve.render(ze,j,Ee),Ne===!0&&ft.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ae=A.opaque,we=A.transmissive;if(D.setupLights(),Ee.isArrayCamera){const ht=Ee.cameras;if(we.length>0)for(let St=0,Ct=ht.length;St<Ct;St++){const Et=ht[St];Wn(Ae,we,j,Et)}dt&&Ke.render(j);for(let St=0,Ct=ht.length;St<Ct;St++){const Et=ht[St];hn(A,j,Et,Et.viewport)}}else we.length>0&&Wn(Ae,we,j,Ee),dt&&Ke.render(j),hn(A,j,Ee);O!==null&&B===0&&(Mt.updateMultisampleRenderTarget(O),Mt.updateRenderTargetMipmap(O)),j.isScene===!0&&j.onAfterRender(z,j,Ee),ue.resetDefaultState(),X=-1,W=null,k.pop(),k.length>0?(D=k[k.length-1],Ne===!0&&ft.setGlobalState(z.clippingPlanes,D.state.camera)):D=null,N.pop(),N.length>0?A=N[N.length-1]:A=null};function Ci(j,Ee,ze,Ae){if(j.visible===!1)return;if(j.layers.test(Ee.layers)){if(j.isGroup)ze=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(Ee);else if(j.isLight)D.pushLight(j),j.castShadow&&D.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||be.intersectsSprite(j)){Ae&&kt.setFromMatrixPosition(j.matrixWorld).applyMatrix4(at);const St=ve.update(j),Ct=j.material;Ct.visible&&A.push(j,St,Ct,ze,kt.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||be.intersectsObject(j))){const St=ve.update(j),Ct=j.material;if(Ae&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),kt.copy(j.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),kt.copy(St.boundingSphere.center)),kt.applyMatrix4(j.matrixWorld).applyMatrix4(at)),Array.isArray(Ct)){const Et=St.groups;for(let Kt=0,en=Et.length;Kt<en;Kt++){const Vt=Et[Kt],wn=Ct[Vt.materialIndex];wn&&wn.visible&&A.push(j,St,wn,ze,kt.z,Vt)}}else Ct.visible&&A.push(j,St,Ct,ze,kt.z,null)}}const ht=j.children;for(let St=0,Ct=ht.length;St<Ct;St++)Ci(ht[St],Ee,ze,Ae)}function hn(j,Ee,ze,Ae){const{opaque:we,transmissive:ht,transparent:St}=j;D.setupLightsView(ze),Ne===!0&&ft.setGlobalState(z.clippingPlanes,ze),Ae&&Ze.viewport(se.copy(Ae)),we.length>0&&ii(we,Ee,ze),ht.length>0&&ii(ht,Ee,ze),St.length>0&&ii(St,Ee,ze),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function Wn(j,Ee,ze,Ae){if((ze.isScene===!0?ze.overrideMaterial:null)!==null)return;D.state.transmissionRenderTarget[Ae.id]===void 0&&(D.state.transmissionRenderTarget[Ae.id]=new cc(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?Fd:Ao,minFilter:nc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:oi.workingColorSpace}));const ht=D.state.transmissionRenderTarget[Ae.id],St=Ae.viewport||se;ht.setSize(St.z*z.transmissionResolutionScale,St.w*z.transmissionResolutionScale);const Ct=z.getRenderTarget(),Et=z.getActiveCubeFace(),Kt=z.getActiveMipmapLevel();z.setRenderTarget(ht),z.getClearColor(Y),te=z.getClearAlpha(),te<1&&z.setClearColor(16777215,.5),z.clear(),dt&&Ke.render(ze);const en=z.toneMapping;z.toneMapping=oc;const Vt=Ae.viewport;if(Ae.viewport!==void 0&&(Ae.viewport=void 0),D.setupLightsView(Ae),Ne===!0&&ft.setGlobalState(z.clippingPlanes,Ae),ii(j,ze,Ae),Mt.updateMultisampleRenderTarget(ht),Mt.updateRenderTargetMipmap(ht),fe.has("WEBGL_multisampled_render_to_texture")===!1){let wn=!1;for(let Jn=0,$n=Ee.length;Jn<$n;Jn++){const Hn=Ee[Jn],{object:mi,geometry:an,material:wi,group:Vn}=Hn;if(wi.side===ou&&mi.layers.test(Ae.layers)){const _r=wi.side;wi.side=Hs,wi.needsUpdate=!0,Gt(mi,ze,Ae,an,wi,Vn),wi.side=_r,wi.needsUpdate=!0,wn=!0}}wn===!0&&(Mt.updateMultisampleRenderTarget(ht),Mt.updateRenderTargetMipmap(ht))}z.setRenderTarget(Ct,Et,Kt),z.setClearColor(Y,te),Vt!==void 0&&(Ae.viewport=Vt),z.toneMapping=en}function ii(j,Ee,ze){const Ae=Ee.isScene===!0?Ee.overrideMaterial:null;for(let we=0,ht=j.length;we<ht;we++){const St=j[we],{object:Ct,geometry:Et,group:Kt}=St;let en=St.material;en.allowOverride===!0&&Ae!==null&&(en=Ae),Ct.layers.test(ze.layers)&&Gt(Ct,Ee,ze,Et,en,Kt)}}function Gt(j,Ee,ze,Ae,we,ht){j.onBeforeRender(z,Ee,ze,Ae,we,ht),j.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),we.onBeforeRender(z,Ee,ze,Ae,j,ht),we.transparent===!0&&we.side===ou&&we.forceSinglePass===!1?(we.side=Hs,we.needsUpdate=!0,z.renderBufferDirect(ze,Ee,Ae,we,j,ht),we.side=g0,we.needsUpdate=!0,z.renderBufferDirect(ze,Ee,Ae,we,j,ht),we.side=ou):z.renderBufferDirect(ze,Ee,Ae,we,j,ht),j.onAfterRender(z,Ee,ze,Ae,we,ht)}function vn(j,Ee,ze){Ee.isScene!==!0&&(Ee=rn);const Ae=tt.get(j),we=D.state.lights,ht=D.state.shadowsArray,St=we.state.version,Ct=Se.getParameters(j,we.state,ht,Ee,ze),Et=Se.getProgramCacheKey(Ct);let Kt=Ae.programs;Ae.environment=j.isMeshStandardMaterial?Ee.environment:null,Ae.fog=Ee.fog,Ae.envMap=(j.isMeshStandardMaterial?q:ne).get(j.envMap||Ae.environment),Ae.envMapRotation=Ae.environment!==null&&j.envMap===null?Ee.environmentRotation:j.envMapRotation,Kt===void 0&&(j.addEventListener("dispose",Zt),Kt=new Map,Ae.programs=Kt);let en=Kt.get(Et);if(en!==void 0){if(Ae.currentProgram===en&&Ae.lightsStateVersion===St)return Rr(j,Ct),en}else Ct.uniforms=Se.getUniforms(j),j.onBeforeCompile(Ct,z),en=Se.acquireProgram(Ct,Et),Kt.set(Et,en),Ae.uniforms=Ct.uniforms;const Vt=Ae.uniforms;return(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(Vt.clippingPlanes=ft.uniform),Rr(j,Ct),Ae.needsLights=$r(j),Ae.lightsStateVersion=St,Ae.needsLights&&(Vt.ambientLightColor.value=we.state.ambient,Vt.lightProbe.value=we.state.probe,Vt.directionalLights.value=we.state.directional,Vt.directionalLightShadows.value=we.state.directionalShadow,Vt.spotLights.value=we.state.spot,Vt.spotLightShadows.value=we.state.spotShadow,Vt.rectAreaLights.value=we.state.rectArea,Vt.ltc_1.value=we.state.rectAreaLTC1,Vt.ltc_2.value=we.state.rectAreaLTC2,Vt.pointLights.value=we.state.point,Vt.pointLightShadows.value=we.state.pointShadow,Vt.hemisphereLights.value=we.state.hemi,Vt.directionalShadowMap.value=we.state.directionalShadowMap,Vt.directionalShadowMatrix.value=we.state.directionalShadowMatrix,Vt.spotShadowMap.value=we.state.spotShadowMap,Vt.spotLightMatrix.value=we.state.spotLightMatrix,Vt.spotLightMap.value=we.state.spotLightMap,Vt.pointShadowMap.value=we.state.pointShadowMap,Vt.pointShadowMatrix.value=we.state.pointShadowMatrix),Ae.currentProgram=en,Ae.uniformsList=null,en}function Nn(j){if(j.uniformsList===null){const Ee=j.currentProgram.getUniforms();j.uniformsList=ib.seqWithValue(Ee.seq,j.uniforms)}return j.uniformsList}function Rr(j,Ee){const ze=tt.get(j);ze.outputColorSpace=Ee.outputColorSpace,ze.batching=Ee.batching,ze.batchingColor=Ee.batchingColor,ze.instancing=Ee.instancing,ze.instancingColor=Ee.instancingColor,ze.instancingMorph=Ee.instancingMorph,ze.skinning=Ee.skinning,ze.morphTargets=Ee.morphTargets,ze.morphNormals=Ee.morphNormals,ze.morphColors=Ee.morphColors,ze.morphTargetsCount=Ee.morphTargetsCount,ze.numClippingPlanes=Ee.numClippingPlanes,ze.numIntersection=Ee.numClipIntersection,ze.vertexAlphas=Ee.vertexAlphas,ze.vertexTangents=Ee.vertexTangents,ze.toneMapping=Ee.toneMapping}function Mi(j,Ee,ze,Ae,we){Ee.isScene!==!0&&(Ee=rn),Mt.resetTextureUnits();const ht=Ee.fog,St=Ae.isMeshStandardMaterial?Ee.environment:null,Ct=O===null?z.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:Ff,Et=(Ae.isMeshStandardMaterial?q:ne).get(Ae.envMap||St),Kt=Ae.vertexColors===!0&&!!ze.attributes.color&&ze.attributes.color.itemSize===4,en=!!ze.attributes.tangent&&(!!Ae.normalMap||Ae.anisotropy>0),Vt=!!ze.morphAttributes.position,wn=!!ze.morphAttributes.normal,Jn=!!ze.morphAttributes.color;let $n=oc;Ae.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&($n=z.toneMapping);const Hn=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,mi=Hn!==void 0?Hn.length:0,an=tt.get(Ae),wi=D.state.lights;if(Ne===!0&&(Ye===!0||j!==W)){const zr=j===W&&Ae.id===X;ft.setState(Ae,j,zr)}let Vn=!1;Ae.version===an.__version?(an.needsLights&&an.lightsStateVersion!==wi.state.version||an.outputColorSpace!==Ct||we.isBatchedMesh&&an.batching===!1||!we.isBatchedMesh&&an.batching===!0||we.isBatchedMesh&&an.batchingColor===!0&&we.colorTexture===null||we.isBatchedMesh&&an.batchingColor===!1&&we.colorTexture!==null||we.isInstancedMesh&&an.instancing===!1||!we.isInstancedMesh&&an.instancing===!0||we.isSkinnedMesh&&an.skinning===!1||!we.isSkinnedMesh&&an.skinning===!0||we.isInstancedMesh&&an.instancingColor===!0&&we.instanceColor===null||we.isInstancedMesh&&an.instancingColor===!1&&we.instanceColor!==null||we.isInstancedMesh&&an.instancingMorph===!0&&we.morphTexture===null||we.isInstancedMesh&&an.instancingMorph===!1&&we.morphTexture!==null||an.envMap!==Et||Ae.fog===!0&&an.fog!==ht||an.numClippingPlanes!==void 0&&(an.numClippingPlanes!==ft.numPlanes||an.numIntersection!==ft.numIntersection)||an.vertexAlphas!==Kt||an.vertexTangents!==en||an.morphTargets!==Vt||an.morphNormals!==wn||an.morphColors!==Jn||an.toneMapping!==$n||an.morphTargetsCount!==mi)&&(Vn=!0):(Vn=!0,an.__version=Ae.version);let _r=an.currentProgram;Vn===!0&&(_r=vn(Ae,Ee,we));let zo=!1,Di=!1,Kl=!1;const Ni=_r.getUniforms(),Dr=an.uniforms;if(Ze.useProgram(_r.program)&&(zo=!0,Di=!0,Kl=!0),Ae.id!==X&&(X=Ae.id,Di=!0),zo||W!==j){Ze.buffers.depth.getReversed()&&j.reversedDepth!==!0&&(j._reversedDepth=!0,j.updateProjectionMatrix()),Ni.setValue(ee,"projectionMatrix",j.projectionMatrix),Ni.setValue(ee,"viewMatrix",j.matrixWorldInverse);const er=Ni.map.cameraPosition;er!==void 0&&er.setValue(ee,_t.setFromMatrixPosition(j.matrixWorld)),it.logarithmicDepthBuffer&&Ni.setValue(ee,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),(Ae.isMeshPhongMaterial||Ae.isMeshToonMaterial||Ae.isMeshLambertMaterial||Ae.isMeshBasicMaterial||Ae.isMeshStandardMaterial||Ae.isShaderMaterial)&&Ni.setValue(ee,"isOrthographic",j.isOrthographicCamera===!0),W!==j&&(W=j,Di=!0,Kl=!0)}if(we.isSkinnedMesh){Ni.setOptional(ee,we,"bindMatrix"),Ni.setOptional(ee,we,"bindMatrixInverse");const zr=we.skeleton;zr&&(zr.boneTexture===null&&zr.computeBoneTexture(),Ni.setValue(ee,"boneTexture",zr.boneTexture,Mt))}we.isBatchedMesh&&(Ni.setOptional(ee,we,"batchingTexture"),Ni.setValue(ee,"batchingTexture",we._matricesTexture,Mt),Ni.setOptional(ee,we,"batchingIdTexture"),Ni.setValue(ee,"batchingIdTexture",we._indirectTexture,Mt),Ni.setOptional(ee,we,"batchingColorTexture"),we._colorsTexture!==null&&Ni.setValue(ee,"batchingColorTexture",we._colorsTexture,Mt));const Nr=ze.morphAttributes;if((Nr.position!==void 0||Nr.normal!==void 0||Nr.color!==void 0)&&Nt.update(we,ze,_r),(Di||an.receiveShadow!==we.receiveShadow)&&(an.receiveShadow=we.receiveShadow,Ni.setValue(ee,"receiveShadow",we.receiveShadow)),Ae.isMeshGouraudMaterial&&Ae.envMap!==null&&(Dr.envMap.value=Et,Dr.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1),Ae.isMeshStandardMaterial&&Ae.envMap===null&&Ee.environment!==null&&(Dr.envMapIntensity.value=Ee.environmentIntensity),Dr.dfgLUT!==void 0&&(Dr.dfgLUT.value=WY()),Di&&(Ni.setValue(ee,"toneMappingExposure",z.toneMappingExposure),an.needsLights&&Jr(Dr,Kl),ht&&Ae.fog===!0&&nt.refreshFogUniforms(Dr,ht),nt.refreshMaterialUniforms(Dr,Ae,F,ye,D.state.transmissionRenderTarget[j.id]),ib.upload(ee,Nn(an),Dr,Mt)),Ae.isShaderMaterial&&Ae.uniformsNeedUpdate===!0&&(ib.upload(ee,Nn(an),Dr,Mt),Ae.uniformsNeedUpdate=!1),Ae.isSpriteMaterial&&Ni.setValue(ee,"center",we.center),Ni.setValue(ee,"modelViewMatrix",we.modelViewMatrix),Ni.setValue(ee,"normalMatrix",we.normalMatrix),Ni.setValue(ee,"modelMatrix",we.matrixWorld),Ae.isShaderMaterial||Ae.isRawShaderMaterial){const zr=Ae.uniformsGroups;for(let er=0,xl=zr.length;er<xl;er++){const qs=zr[er];yt.update(qs,_r),yt.bind(qs,_r)}}return _r}function Jr(j,Ee){j.ambientLightColor.needsUpdate=Ee,j.lightProbe.needsUpdate=Ee,j.directionalLights.needsUpdate=Ee,j.directionalLightShadows.needsUpdate=Ee,j.pointLights.needsUpdate=Ee,j.pointLightShadows.needsUpdate=Ee,j.spotLights.needsUpdate=Ee,j.spotLightShadows.needsUpdate=Ee,j.rectAreaLights.needsUpdate=Ee,j.hemisphereLights.needsUpdate=Ee}function $r(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return V},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(j,Ee,ze){const Ae=tt.get(j);Ae.__autoAllocateDepthBuffer=j.resolveDepthBuffer===!1,Ae.__autoAllocateDepthBuffer===!1&&(Ae.__useRenderToTexture=!1),tt.get(j.texture).__webglTexture=Ee,tt.get(j.depthTexture).__webglTexture=Ae.__autoAllocateDepthBuffer?void 0:ze,Ae.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(j,Ee){const ze=tt.get(j);ze.__webglFramebuffer=Ee,ze.__useDefaultFramebuffer=Ee===void 0};const Ri=ee.createFramebuffer();this.setRenderTarget=function(j,Ee=0,ze=0){O=j,V=Ee,B=ze;let Ae=!0,we=null,ht=!1,St=!1;if(j){const Et=tt.get(j);if(Et.__useDefaultFramebuffer!==void 0)Ze.bindFramebuffer(ee.FRAMEBUFFER,null),Ae=!1;else if(Et.__webglFramebuffer===void 0)Mt.setupRenderTarget(j);else if(Et.__hasExternalTextures)Mt.rebindTextures(j,tt.get(j.texture).__webglTexture,tt.get(j.depthTexture).__webglTexture);else if(j.depthBuffer){const Vt=j.depthTexture;if(Et.__boundDepthTexture!==Vt){if(Vt!==null&&tt.has(Vt)&&(j.width!==Vt.image.width||j.height!==Vt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Mt.setupDepthRenderbuffer(j)}}const Kt=j.texture;(Kt.isData3DTexture||Kt.isDataArrayTexture||Kt.isCompressedArrayTexture)&&(St=!0);const en=tt.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Array.isArray(en[Ee])?we=en[Ee][ze]:we=en[Ee],ht=!0):j.samples>0&&Mt.useMultisampledRTT(j)===!1?we=tt.get(j).__webglMultisampledFramebuffer:Array.isArray(en)?we=en[ze]:we=en,se.copy(j.viewport),le.copy(j.scissor),ie=j.scissorTest}else se.copy(Z).multiplyScalar(F).floor(),le.copy(Oe).multiplyScalar(F).floor(),ie=We;if(ze!==0&&(we=Ri),Ze.bindFramebuffer(ee.FRAMEBUFFER,we)&&Ae&&Ze.drawBuffers(j,we),Ze.viewport(se),Ze.scissor(le),Ze.setScissorTest(ie),ht){const Et=tt.get(j.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,Et.__webglTexture,ze)}else if(St){const Et=Ee;for(let Kt=0;Kt<j.textures.length;Kt++){const en=tt.get(j.textures[Kt]);ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+Kt,en.__webglTexture,ze,Et)}}else if(j!==null&&ze!==0){const Et=tt.get(j.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,Et.__webglTexture,ze)}X=-1},this.readRenderTargetPixels=function(j,Ee,ze,Ae,we,ht,St,Ct=0){if(!(j&&j.isWebGLRenderTarget)){_n("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Et=tt.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&St!==void 0&&(Et=Et[St]),Et){Ze.bindFramebuffer(ee.FRAMEBUFFER,Et);try{const Kt=j.textures[Ct],en=Kt.format,Vt=Kt.type;if(!it.textureFormatReadable(en)){_n("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!it.textureTypeReadable(Vt)){_n("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ee>=0&&Ee<=j.width-Ae&&ze>=0&&ze<=j.height-we&&(j.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+Ct),ee.readPixels(Ee,ze,Ae,we,It.convert(en),It.convert(Vt),ht))}finally{const Kt=O!==null?tt.get(O).__webglFramebuffer:null;Ze.bindFramebuffer(ee.FRAMEBUFFER,Kt)}}},this.readRenderTargetPixelsAsync=async function(j,Ee,ze,Ae,we,ht,St,Ct=0){if(!(j&&j.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Et=tt.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&St!==void 0&&(Et=Et[St]),Et)if(Ee>=0&&Ee<=j.width-Ae&&ze>=0&&ze<=j.height-we){Ze.bindFramebuffer(ee.FRAMEBUFFER,Et);const Kt=j.textures[Ct],en=Kt.format,Vt=Kt.type;if(!it.textureFormatReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!it.textureTypeReadable(Vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const wn=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,wn),ee.bufferData(ee.PIXEL_PACK_BUFFER,ht.byteLength,ee.STREAM_READ),j.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+Ct),ee.readPixels(Ee,ze,Ae,we,It.convert(en),It.convert(Vt),0);const Jn=O!==null?tt.get(O).__webglFramebuffer:null;Ze.bindFramebuffer(ee.FRAMEBUFFER,Jn);const $n=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await fP(ee,$n,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,wn),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,ht),ee.deleteBuffer(wn),ee.deleteSync($n),ht}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(j,Ee=null,ze=0){const Ae=Math.pow(2,-ze),we=Math.floor(j.image.width*Ae),ht=Math.floor(j.image.height*Ae),St=Ee!==null?Ee.x:0,Ct=Ee!==null?Ee.y:0;Mt.setTexture2D(j,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,ze,0,0,St,Ct,we,ht),Ze.unbindTexture()};const Fi=ee.createFramebuffer(),In=ee.createFramebuffer();this.copyTextureToTexture=function(j,Ee,ze=null,Ae=null,we=0,ht=null){ht===null&&(we!==0?(r1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ht=we,we=0):ht=0);let St,Ct,Et,Kt,en,Vt,wn,Jn,$n;const Hn=j.isCompressedTexture?j.mipmaps[ht]:j.image;if(ze!==null)St=ze.max.x-ze.min.x,Ct=ze.max.y-ze.min.y,Et=ze.isBox3?ze.max.z-ze.min.z:1,Kt=ze.min.x,en=ze.min.y,Vt=ze.isBox3?ze.min.z:0;else{const Nr=Math.pow(2,-we);St=Math.floor(Hn.width*Nr),Ct=Math.floor(Hn.height*Nr),j.isDataArrayTexture?Et=Hn.depth:j.isData3DTexture?Et=Math.floor(Hn.depth*Nr):Et=1,Kt=0,en=0,Vt=0}Ae!==null?(wn=Ae.x,Jn=Ae.y,$n=Ae.z):(wn=0,Jn=0,$n=0);const mi=It.convert(Ee.format),an=It.convert(Ee.type);let wi;Ee.isData3DTexture?(Mt.setTexture3D(Ee,0),wi=ee.TEXTURE_3D):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?(Mt.setTexture2DArray(Ee,0),wi=ee.TEXTURE_2D_ARRAY):(Mt.setTexture2D(Ee,0),wi=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Ee.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Ee.unpackAlignment);const Vn=ee.getParameter(ee.UNPACK_ROW_LENGTH),_r=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),zo=ee.getParameter(ee.UNPACK_SKIP_PIXELS),Di=ee.getParameter(ee.UNPACK_SKIP_ROWS),Kl=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Hn.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,Hn.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,Kt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,en),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Vt);const Ni=j.isDataArrayTexture||j.isData3DTexture,Dr=Ee.isDataArrayTexture||Ee.isData3DTexture;if(j.isDepthTexture){const Nr=tt.get(j),zr=tt.get(Ee),er=tt.get(Nr.__renderTarget),xl=tt.get(zr.__renderTarget);Ze.bindFramebuffer(ee.READ_FRAMEBUFFER,er.__webglFramebuffer),Ze.bindFramebuffer(ee.DRAW_FRAMEBUFFER,xl.__webglFramebuffer);for(let qs=0;qs<Et;qs++)Ni&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,tt.get(j).__webglTexture,we,Vt+qs),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,tt.get(Ee).__webglTexture,ht,$n+qs)),ee.blitFramebuffer(Kt,en,St,Ct,wn,Jn,St,Ct,ee.DEPTH_BUFFER_BIT,ee.NEAREST);Ze.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(we!==0||j.isRenderTargetTexture||tt.has(j)){const Nr=tt.get(j),zr=tt.get(Ee);Ze.bindFramebuffer(ee.READ_FRAMEBUFFER,Fi),Ze.bindFramebuffer(ee.DRAW_FRAMEBUFFER,In);for(let er=0;er<Et;er++)Ni?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,Nr.__webglTexture,we,Vt+er):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,Nr.__webglTexture,we),Dr?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,zr.__webglTexture,ht,$n+er):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,zr.__webglTexture,ht),we!==0?ee.blitFramebuffer(Kt,en,St,Ct,wn,Jn,St,Ct,ee.COLOR_BUFFER_BIT,ee.NEAREST):Dr?ee.copyTexSubImage3D(wi,ht,wn,Jn,$n+er,Kt,en,St,Ct):ee.copyTexSubImage2D(wi,ht,wn,Jn,Kt,en,St,Ct);Ze.bindFramebuffer(ee.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else Dr?j.isDataTexture||j.isData3DTexture?ee.texSubImage3D(wi,ht,wn,Jn,$n,St,Ct,Et,mi,an,Hn.data):Ee.isCompressedArrayTexture?ee.compressedTexSubImage3D(wi,ht,wn,Jn,$n,St,Ct,Et,mi,Hn.data):ee.texSubImage3D(wi,ht,wn,Jn,$n,St,Ct,Et,mi,an,Hn):j.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,ht,wn,Jn,St,Ct,mi,an,Hn.data):j.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,ht,wn,Jn,Hn.width,Hn.height,mi,Hn.data):ee.texSubImage2D(ee.TEXTURE_2D,ht,wn,Jn,St,Ct,mi,an,Hn);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,Vn),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,_r),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,zo),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Di),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Kl),ht===0&&Ee.generateMipmaps&&ee.generateMipmap(wi),Ze.unbindTexture()},this.initRenderTarget=function(j){tt.get(j).__webglFramebuffer===void 0&&Mt.setupRenderTarget(j)},this.initTexture=function(j){j.isCubeTexture?Mt.setTextureCube(j,0):j.isData3DTexture?Mt.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?Mt.setTexture2DArray(j,0):Mt.setTexture2D(j,0),Ze.unbindTexture()},this.resetState=function(){V=0,B=0,O=null,Ze.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Hl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=oi._getDrawingBufferColorSpace(e),t.unpackColorSpace=oi._getUnpackColorSpace()}}const ZY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:s8,AddEquation:Sf,AddOperation:oD,AdditiveAnimationBlendMode:p8,AdditiveBlending:H6,AgXToneMapping:dD,AlphaFormat:h8,AlwaysCompare:CD,AlwaysDepth:wb,AlwaysStencilFunc:X6,AmbientLight:SN,AnimationAction:NN,AnimationClip:Ax,AnimationLoader:tH,AnimationMixer:DH,AnimationObjectGroup:CH,AnimationUtils:QF,ArcCurve:jD,ArrayCamera:CN,ArrowHelper:nV,AttachedBindMode:q6,Audio:RN,AudioAnalyser:xH,AudioContext:F8,AudioListener:mH,AudioLoader:hH,AxesHelper:iV,BackSide:Hs,BasicDepthPacking:yD,BasicShadowMap:VR,BatchedMesh:VD,Bone:S8,BooleanKeyframeTrack:Vd,Box2:FH,Box3:os,Box3Helper:eV,BoxGeometry:Hd,BoxHelper:$H,BufferAttribute:Pi,BufferGeometry:En,BufferGeometryLoader:AN,ByteType:o8,Cache:ic,Camera:H4,CameraHelper:JH,CanvasTexture:bF,CapsuleGeometry:W4,CatmullRomCurve3:WD,CineonToneMapping:fD,CircleGeometry:Z4,ClampToEdgeWrapping:ll,Clock:H8,Color:Pt,ColorKeyframeTrack:k8,ColorManagement:oi,CompressedArrayTexture:xF,CompressedCubeTexture:yF,CompressedTexture:j4,CompressedTextureLoader:nH,ConeGeometry:qx,ConstantAlphaFactor:aD,ConstantColorFactor:iD,Controls:aV,CubeCamera:UD,CubeReflectionMapping:v0,CubeRefractionMapping:Pf,CubeTexture:Vx,CubeTextureLoader:iH,CubeUVReflectionMapping:g1,CubicBezierCurve:A8,CubicBezierCurve3:ZD,CubicInterpolant:pN,CullFaceBack:F6,CullFaceFront:HR,CullFaceFrontBack:TI,CullFaceNone:FR,Curve:pu,CurvePath:QD,CustomBlending:GR,CustomToneMapping:hD,CylinderGeometry:Gx,Cylindrical:PH,Data3DTexture:F4,DataArrayTexture:P4,DataTexture:cu,DataTextureLoader:rH,DataUtils:GP,DecrementStencilOp:PI,DecrementWrapStencilOp:HI,DefaultLoadingManager:vN,DepthFormat:t1,DepthStencilFormat:n1,DepthTexture:w8,DetachedBindMode:mD,DirectionalLight:_N,DirectionalLightHelper:QH,DiscreteInterpolant:mN,DodecahedronGeometry:K4,DoubleSide:ou,DstAlphaFactor:JR,DstColorFactor:eD,DynamicCopyUsage:nP,DynamicDrawUsage:KI,DynamicReadUsage:$I,EdgesGeometry:YD,EllipseCurve:Q4,EqualCompare:wD,EqualDepth:Eb,EqualStencilFunc:XI,EquirectangularReflectionMapping:hx,EquirectangularRefractionMapping:dx,Euler:Wl,EventDispatcher:hc,ExternalTexture:T8,ExtrudeGeometry:J4,FileLoader:y0,Float16BufferAttribute:KP,Float32BufferAttribute:Yt,FloatType:ol,Fog:G4,FogExp2:V4,FramebufferTexture:vF,FrontSide:g0,Frustum:x1,FrustumArray:Y4,GLBufferAttribute:UH,GLSL1:rP,GLSL3:Y6,GreaterCompare:TD,GreaterDepth:Cb,GreaterEqualCompare:AD,GreaterEqualDepth:Ab,GreaterEqualStencilFunc:ZI,GreaterStencilFunc:jI,GridHelper:ZH,Group:Bm,HalfFloatType:Fd,HemisphereLight:xN,HemisphereLightHelper:WH,IcosahedronGeometry:$4,ImageBitmapLoader:fH,ImageLoader:Cx,ImageUtils:ND,IncrementStencilOp:II,IncrementWrapStencilOp:FI,InstancedBufferAttribute:o1,InstancedBufferGeometry:EN,InstancedInterleavedBuffer:LH,InstancedMesh:HD,Int16BufferAttribute:WP,Int32BufferAttribute:ZP,Int8BufferAttribute:XP,IntType:N4,InterleavedBuffer:q4,InterleavedBufferAttribute:Ud,Interpolant:jx,InterpolateDiscrete:gx,InterpolateLinear:r4,InterpolateSmooth:tb,InterpolationSamplingMode:lP,InterpolationSamplingType:sP,InvertStencilOp:VI,KeepStencilOp:dd,KeyframeTrack:No,LOD:PD,LatheGeometry:e_,Layers:s1,LessCompare:MD,LessDepth:Tb,LessEqualCompare:m8,LessEqualDepth:Ld,LessEqualStencilFunc:YI,LessStencilFunc:qI,Light:Qf,LightProbe:TN,Line:Vf,Line3:GH,LineBasicMaterial:Vs,LineCurve:C8,LineCurve3:KD,LineDashedMaterial:fN,LineLoop:GD,LineSegments:dc,LinearFilter:Pr,LinearInterpolant:B8,LinearMipMapLinearFilter:RI,LinearMipMapNearestFilter:CI,LinearMipmapLinearFilter:nc,LinearMipmapNearestFilter:Gv,LinearSRGBColorSpace:Ff,LinearToneMapping:uD,LinearTransfer:xx,Loader:ml,LoaderUtils:Q6,LoadingManager:I8,LoopOnce:gD,LoopPingPong:xD,LoopRepeat:vD,MOUSE:MI,Material:us,MaterialLoader:l_,MathUtils:CP,Matrix2:X8,Matrix3:Rn,Matrix4:yn,MaxEquation:jR,Mesh:ua,MeshBasicMaterial:Zf,MeshDepthMaterial:O8,MeshDistanceMaterial:L8,MeshLambertMaterial:uN,MeshMatcapMaterial:cN,MeshNormalMaterial:oN,MeshPhongMaterial:sN,MeshPhysicalMaterial:aN,MeshStandardMaterial:z8,MeshToonMaterial:lN,MinEquation:YR,MirroredRepeatWrapping:mx,MixOperation:lD,MultiplyBlending:G6,MultiplyOperation:Fx,NearestFilter:ka,NearestMipMapLinearFilter:AI,NearestMipMapNearestFilter:EI,NearestMipmapLinearFilter:Lm,NearestMipmapNearestFilter:l8,NeutralToneMapping:pD,NeverCompare:SD,NeverDepth:Mb,NeverStencilFunc:GI,NoBlending:lc,NoColorSpace:a0,NoToneMapping:oc,NormalAnimationBlendMode:I4,NormalBlending:Ad,NotEqualCompare:ED,NotEqualDepth:Rb,NotEqualStencilFunc:WI,NumberKeyframeTrack:Tx,Object3D:di,ObjectLoader:uH,ObjectSpaceNormalMap:_D,OctahedronGeometry:Xx,OneFactor:ZR,OneMinusConstantAlphaFactor:sD,OneMinusConstantColorFactor:rD,OneMinusDstAlphaFactor:$R,OneMinusDstColorFactor:tD,OneMinusSrcAlphaFactor:Sb,OneMinusSrcColorFactor:QR,OrthographicCamera:Zx,PCFShadowMap:R4,PCFSoftShadowMap:Vv,PMREMGenerator:eM,Path:o4,PerspectiveCamera:Ta,Plane:_f,PlaneGeometry:y1,PlaneHelper:tV,PointLight:bN,PointLightHelper:YH,Points:qD,PointsMaterial:M8,PolarGridHelper:KH,PolyhedronGeometry:Kf,PositionalAudio:vH,PropertyBinding:fi,PropertyMixer:DN,QuadraticBezierCurve:R8,QuadraticBezierCurve3:D8,Quaternion:dl,QuaternionKeyframeTrack:Wx,QuaternionLinearInterpolant:gN,RED_GREEN_RGTC2_Format:n4,RED_RGTC1_Format:e4,REVISION:C4,RGBADepthPacking:bD,RGBAFormat:as,RGBAIntegerFormat:k4,RGBA_ASTC_10x10_Format:Wb,RGBA_ASTC_10x5_Format:Xb,RGBA_ASTC_10x6_Format:Yb,RGBA_ASTC_10x8_Format:jb,RGBA_ASTC_12x10_Format:Zb,RGBA_ASTC_12x12_Format:Kb,RGBA_ASTC_4x4_Format:kb,RGBA_ASTC_5x4_Format:Ib,RGBA_ASTC_5x5_Format:Pb,RGBA_ASTC_6x5_Format:Fb,RGBA_ASTC_6x6_Format:Hb,RGBA_ASTC_8x5_Format:Vb,RGBA_ASTC_8x6_Format:Gb,RGBA_ASTC_8x8_Format:qb,RGBA_BPTC_Format:Qb,RGBA_ETC2_EAC_Format:Bb,RGBA_PVRTC_2BPPV1_Format:Ob,RGBA_PVRTC_4BPPV1_Format:zb,RGBA_S3TC_DXT1_Format:Xv,RGBA_S3TC_DXT3_Format:Yv,RGBA_S3TC_DXT5_Format:jv,RGBDepthPacking:LI,RGBFormat:d8,RGBIntegerFormat:DI,RGB_BPTC_SIGNED_Format:Jb,RGB_BPTC_UNSIGNED_Format:$b,RGB_ETC1_Format:Lb,RGB_ETC2_Format:Ub,RGB_PVRTC_2BPPV1_Format:Nb,RGB_PVRTC_4BPPV1_Format:Db,RGB_S3TC_DXT1_Format:qv,RGDepthPacking:UI,RGFormat:U4,RGIntegerFormat:B4,RawShaderMaterial:rN,Ray:v1,Raycaster:zN,RectAreaLight:MN,RedFormat:L4,RedIntegerFormat:Hx,ReinhardToneMapping:cD,RenderTarget:v8,RenderTarget3D:NH,RepeatWrapping:px,ReplaceStencilOp:kI,ReverseSubtractEquation:XR,RingGeometry:t_,SIGNED_RED_GREEN_RGTC2_Format:i4,SIGNED_RED_RGTC1_Format:t4,SRGBColorSpace:ns,SRGBTransfer:Oi,Scene:b8,ShaderChunk:Un,ShaderLib:lu,ShaderMaterial:Co,ShadowMaterial:iN,Shape:Rd,ShapeGeometry:n_,ShapePath:rV,ShapeUtils:uu,ShortType:u8,Skeleton:X4,SkeletonHelper:XH,SkinnedMesh:FD,Source:Rf,Sphere:Ia,SphereGeometry:Yx,Spherical:IH,SphericalHarmonics3:wN,SplineCurve:N8,SpotLight:yN,SpotLightHelper:qH,Sprite:ID,SpriteMaterial:_8,SrcAlphaFactor:_b,SrcAlphaSaturateFactor:nD,SrcColorFactor:KR,StaticCopyUsage:tP,StaticDrawUsage:yx,StaticReadUsage:JI,StereoCamera:dH,StreamCopyUsage:iP,StreamDrawUsage:QI,StreamReadUsage:eP,StringKeyframeTrack:Gd,SubtractEquation:qR,SubtractiveBlending:V6,TOUCH:wI,TangentSpaceNormalMap:Wf,TetrahedronGeometry:i_,Texture:Cr,TextureLoader:aH,TextureUtils:cV,Timer:BH,TimestampQuery:aP,TorusGeometry:r_,TorusKnotGeometry:a_,Triangle:sl,TriangleFanDrawMode:OI,TriangleStripDrawMode:zI,TrianglesDrawMode:NI,TubeGeometry:s_,UVMapping:D4,Uint16BufferAttribute:x8,Uint32BufferAttribute:y8,Uint8BufferAttribute:YP,Uint8ClampedBufferAttribute:jP,Uniform:q8,UniformsGroup:OH,UniformsLib:Ot,UniformsUtils:LD,UnsignedByteType:Ao,UnsignedInt101111Type:f8,UnsignedInt248Type:e1,UnsignedInt5999Type:c8,UnsignedIntType:x0,UnsignedShort4444Type:z4,UnsignedShort5551Type:O4,UnsignedShortType:$m,VSMShadowMap:au,Vector2:rt,Vector3:ae,Vector4:hi,VectorKeyframeTrack:Ex,VideoFrameTexture:gF,VideoTexture:XD,WebGL3DRenderTarget:OP,WebGLArrayRenderTarget:zP,WebGLCoordinateSystem:Hl,WebGLCubeRenderTarget:BD,WebGLRenderTarget:cc,WebGLRenderer:FN,WebGLUtils:PN,WebGPUCoordinateSystem:i1,WebXRController:nb,WireframeGeometry:nN,WrapAroundEnding:vx,ZeroCurvatureEnding:vd,ZeroFactor:WR,ZeroSlopeEnding:xd,ZeroStencilOp:BI,createCanvasElement:DD,error:_n,getConsoleFunction:cP,log:_x,setConsoleFunction:uP,warn:Lt,warnOnce:r1},Symbol.toStringTag,{value:"Module"}));var y5={exports:{}},b5={},_5={exports:{}},S5={};var eA;function KY(){if(eA)return S5;eA=1;var i=d1();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,r=i.useEffect,a=i.useLayoutEffect,s=i.useDebugValue;function o(g,y){var x=y(),_=n({inst:{value:x,getSnapshot:y}}),M=_[0].inst,w=_[1];return a(function(){M.value=x,M.getSnapshot=y,c(M)&&w({inst:M})},[g,x,y]),r(function(){return c(M)&&w({inst:M}),g(function(){c(M)&&w({inst:M})})},[g]),s(x),x}function c(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!t(g,x)}catch{return!0}}function f(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return S5.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,S5}var tA;function QY(){return tA||(tA=1,_5.exports=KY()),_5.exports}var nA;function JY(){if(nA)return b5;nA=1;var i=d1(),e=QY();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=i.useRef,s=i.useEffect,o=i.useMemo,c=i.useDebugValue;return b5.useSyncExternalStoreWithSelector=function(f,m,g,y,x){var _=a(null);if(_.current===null){var M={hasValue:!1,value:null};_.current=M}else M=_.current;_=o(function(){function S(z){if(!A){if(A=!0,D=z,z=y(z),x!==void 0&&M.hasValue){var P=M.value;if(x(P,z))return N=P}return N=z}if(P=N,n(D,z))return P;var V=y(z);return x!==void 0&&x(P,V)?(D=z,P):(D=z,N=V)}var A=!1,D,N,k=g===void 0?null:g;return[function(){return S(m())},k===null?void 0:function(){return S(k())}]},[m,g,y,x]);var w=r(f,_[0],_[1]);return s(function(){M.hasValue=!0,M.value=w},[w]),c(w),w},b5}var iA;function $Y(){return iA||(iA=1,y5.exports=JY()),y5.exports}var ej=$Y();const tj=Ux(ej),rA=i=>{let e;const t=new Set,n=(f,m)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,y))}},r=()=>e,o={setState:n,getState:r,getInitialState:()=>c,subscribe:f=>(t.add(f),()=>t.delete(f))},c=e=i(n,r,o);return o},nj=(i=>i?rA(i):rA),{useSyncExternalStoreWithSelector:ij}=tj,rj=i=>i;function aj(i,e=rj,t){const n=ij(i.subscribe,i.getState,i.getInitialState,e,t);return lU.useDebugValue(n),n}const aA=(i,e)=>{const t=nj(i),n=(r,a=e)=>aj(t,r,a);return Object.assign(n,t),n},sj=((i,e)=>i?aA(i,e):aA);var M5={exports:{}},w5={exports:{}},T5={exports:{}},E5={};var sA;function lj(){return sA||(sA=1,(function(i){function e(Y,te){var re=Y.length;Y.push(te);e:for(;0<re;){var ye=re-1>>>1,F=Y[ye];if(0<r(F,te))Y[ye]=te,Y[re]=F,re=ye;else break e}}function t(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var te=Y[0],re=Y.pop();if(re!==te){Y[0]=re;e:for(var ye=0,F=Y.length,J=F>>>1;ye<J;){var ge=2*(ye+1)-1,Z=Y[ge],Oe=ge+1,We=Y[Oe];if(0>r(Z,re))Oe<F&&0>r(We,Z)?(Y[ye]=We,Y[Oe]=re,ye=Oe):(Y[ye]=Z,Y[ge]=re,ye=ge);else if(Oe<F&&0>r(We,re))Y[ye]=We,Y[Oe]=re,ye=Oe;else break e}}return te}function r(Y,te){var re=Y.sortIndex-te.sortIndex;return re!==0?re:Y.id-te.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;i.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();i.unstable_now=function(){return s.now()-o}}var c=[],f=[],m=1,g=null,y=3,x=!1,_=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function D(Y){for(var te=t(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=Y)n(f),te.sortIndex=te.expirationTime,e(c,te);else break;te=t(f)}}function N(Y){if(M=!1,D(Y),!_)if(t(c)!==null)_=!0,le();else{var te=t(f);te!==null&&ie(N,te.startTime-Y)}}var k=!1,z=-1,P=5,V=-1;function B(){return!(i.unstable_now()-V<P)}function O(){if(k){var Y=i.unstable_now();V=Y;var te=!0;try{e:{_=!1,M&&(M=!1,S(z),z=-1),x=!0;var re=y;try{t:{for(D(Y),g=t(c);g!==null&&!(g.expirationTime>Y&&B());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,y=g.priorityLevel;var F=ye(g.expirationTime<=Y);if(Y=i.unstable_now(),typeof F=="function"){g.callback=F,D(Y),te=!0;break t}g===t(c)&&n(c),D(Y)}else n(c);g=t(c)}if(g!==null)te=!0;else{var J=t(f);J!==null&&ie(N,J.startTime-Y),te=!1}}break e}finally{g=null,y=re,x=!1}te=void 0}}finally{te?X():k=!1}}}var X;if(typeof A=="function")X=function(){A(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,se=W.port2;W.port1.onmessage=O,X=function(){se.postMessage(null)}}else X=function(){w(O,0)};function le(){k||(k=!0,X())}function ie(Y,te){z=w(function(){Y(i.unstable_now())},te)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){_||x||(_=!0,le())},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(c)},i.unstable_next=function(Y){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var re=y;y=te;try{return Y()}finally{y=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var re=y;y=Y;try{return te()}finally{y=re}},i.unstable_scheduleCallback=function(Y,te,re){var ye=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ye+re:ye):re=ye,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,Y={id:m++,callback:te,priorityLevel:Y,startTime:re,expirationTime:F,sortIndex:-1},re>ye?(Y.sortIndex=re,e(f,Y),t(c)===null&&Y===t(f)&&(M?(S(z),z=-1):M=!0,ie(N,re-ye))):(Y.sortIndex=F,e(c,Y),_||x||(_=!0,le())),Y},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(Y){var te=y;return function(){var re=y;y=te;try{return Y.apply(this,arguments)}finally{y=re}}}})(E5)),E5}var lA;function HN(){return lA||(lA=1,T5.exports=lj()),T5.exports}var oA;function oj(){return oA||(oA=1,(function(i){i.exports=function(e){function t(h,d,b,E){return new Q1(h,d,b,E)}function n(){}function r(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=rg&&h[rg]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Nc?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case F0:return"Fragment";case Sl:return"Portal";case ig:return"Profiler";case ng:return"StrictMode";case xp:return"Suspense";case Ou:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case ro:return(h.displayName||"Context")+".Provider";case zu:return(h._context.displayName||"Context")+".Consumer";case H0:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _h:return d=h.displayName||null,d!==null?d:s(h.type)||"Memo";case Ml:d=h._payload,h=h._init;try{return s(h(d))}catch{}}return null}function o(h){if(yp===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);yp=d&&d[1]||"",ag=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yp+h+ag}function c(h,d){if(!h||Lu)return"";Lu=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(d){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(bn){var Ut=bn}Reflect.construct(h,[],zt)}else{try{zt.call()}catch(bn){Ut=bn}h.call(zt.prototype)}}else{try{throw Error()}catch(bn){Ut=bn}(zt=h())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(bn){if(bn&&Ut&&typeof bn.stack=="string")return[bn.stack,Ut.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=E.DetermineComponentFrameRoot(),$=U[0],pe=U[1];if($&&pe){var De=$.split(`
`),je=pe.split(`
`);for(R=E=0;E<De.length&&!De[E].includes("DetermineComponentFrameRoot");)E++;for(;R<je.length&&!je[R].includes("DetermineComponentFrameRoot");)R++;if(E===De.length||R===je.length)for(E=De.length-1,R=je.length-1;1<=E&&0<=R&&De[E]!==je[R];)R--;for(;1<=E&&0<=R;E--,R--)if(De[E]!==je[R]){if(E!==1||R!==1)do if(E--,R--,0>R||De[E]!==je[R]){var gt=`
`+De[E].replace(" at new "," at ");return h.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",h.displayName)),gt}while(1<=E&&0<=R);break}}}finally{Lu=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?o(b):""}function f(h){switch(h.tag){case 26:case 27:case 5:return o(h.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return h=c(h.type,!1),h;case 11:return h=c(h.type.render,!1),h;case 1:return h=c(h.type,!0),h;default:return""}}function m(h){try{var d="";do d+=f(h),h=h.return;while(h);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function g(h){var d=h,b=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,(d.flags&4098)!==0&&(b=d.return),h=d.return;while(h)}return d.tag===3?b:null}function y(h){if(g(h)!==h)throw Error(r(188))}function x(h){var d=h.alternate;if(!d){if(d=g(h),d===null)throw Error(r(188));return d!==h?null:h}for(var b=h,E=d;;){var R=b.return;if(R===null)break;var U=R.alternate;if(U===null){if(E=R.return,E!==null){b=E;continue}break}if(R.child===U.child){for(U=R.child;U;){if(U===b)return y(R),h;if(U===E)return y(R),d;U=U.sibling}throw Error(r(188))}if(b.return!==E.return)b=R,E=U;else{for(var $=!1,pe=R.child;pe;){if(pe===b){$=!0,b=R,E=U;break}if(pe===E){$=!0,E=R,b=U;break}pe=pe.sibling}if(!$){for(pe=U.child;pe;){if(pe===b){$=!0,b=U,E=R;break}if(pe===E){$=!0,E=U,b=R;break}pe=pe.sibling}if(!$)throw Error(r(189))}}if(b.alternate!==E)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:d}function _(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(d=_(h),d!==null)return d;h=h.sibling}return null}function M(h){var d=h.tag;if(d===5||d===26||d===27||d===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(d=M(h),d!==null))return d;h=h.sibling}return null}function w(h){return{current:h}}function S(h){0>Yo||(h.current=Dh[Yo],Dh[Yo]=null,Yo--)}function A(h,d){Yo++,Dh[Yo]=h.current,h.current=d}function D(h){return h>>>=0,h===0?32:31-(Nh(h)/Qy|0)|0}function N(h){var d=h&42;if(d!==0)return d;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function k(h,d){var b=h.pendingLanes;if(b===0)return 0;var E=0,R=h.suspendedLanes,U=h.pingedLanes,$=h.warmLanes;h=h.finishedLanes!==0;var pe=b&134217727;return pe!==0?(b=pe&~R,b!==0?E=N(b):(U&=pe,U!==0?E=N(U):h||($=pe&~$,$!==0&&(E=N($))))):(pe=b&~R,pe!==0?E=N(pe):U!==0?E=N(U):h||($=b&~$,$!==0&&(E=N($)))),E===0?0:d!==0&&d!==E&&(d&R)===0&&(R=E&-E,$=d&-d,R>=$||R===32&&($&4194176)!==0)?d:E}function z(h,d){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&d)===0}function P(h,d){switch(h){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var h=X0;return X0<<=1,(X0&4194176)===0&&(X0=128),h}function B(){var h=zh;return zh<<=1,(zh&62914560)===0&&(zh=4194304),h}function O(h){for(var d=[],b=0;31>b;b++)d.push(h);return d}function X(h,d){h.pendingLanes|=d,d!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function W(h,d,b,E,R,U){var $=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var pe=h.entanglements,De=h.expirationTimes,je=h.hiddenUpdates;for(b=$&~b;0<b;){var gt=31-Ga(b),zt=1<<gt;pe[gt]=0,De[gt]=-1;var Ut=je[gt];if(Ut!==null)for(je[gt]=null,gt=0;gt<Ut.length;gt++){var bn=Ut[gt];bn!==null&&(bn.lane&=-536870913)}b&=~zt}E!==0&&se(h,E,0),U!==0&&R===0&&h.tag!==0&&(h.suspendedLanes|=U&~($&~d))}function se(h,d,b){h.pendingLanes|=d,h.suspendedLanes&=~d;var E=31-Ga(d);h.entangledLanes|=d,h.entanglements[E]=h.entanglements[E]|1073741824|b&4194218}function le(h,d){var b=h.entangledLanes|=d;for(h=h.entanglements;b;){var E=31-Ga(b),R=1<<E;R&d|h[E]&d&&(h[E]|=d),b&=~R}}function ie(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Y(h){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(j0,h,void 0,(h.current.flags&128)===128)}catch{}}function te(h){if(typeof t2=="function"&&Bg(h),qa&&typeof qa.setStrictMode=="function")try{qa.setStrictMode(j0,h)}catch{}}function re(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}function ye(h,d){if(typeof h=="object"&&h!==null){var b=Bp.get(h);return b!==void 0?b:(d={value:h,source:d,stack:m(d)},Bp.set(h,d),d)}return{value:h,source:d,stack:m(d)}}function F(h,d){Gi[ir++]=Uh,Gi[ir++]=Lh,Lh=h,Uh=d}function J(h,d,b){xs[ys++]=uo,xs[ys++]=js,xs[ys++]=wl,wl=h;var E=uo;h=js;var R=32-Ga(E)-1;E&=~(1<<R),b+=1;var U=32-Ga(d)+R;if(30<U){var $=R-R%5;U=(E&(1<<$)-1).toString(32),E>>=$,R-=$,uo=1<<32-Ga(d)+R|b<<R|E,js=U+h}else uo=1<<U|b<<R|E,js=h}function ge(h){h.return!==null&&(F(h,1),J(h,1,0))}function Z(h){for(;h===Lh;)Lh=Gi[--ir],Gi[ir]=null,Uh=Gi[--ir],Gi[ir]=null;for(;h===wl;)wl=xs[--ys],xs[ys]=null,js=xs[--ys],xs[ys]=null,uo=xs[--ys],xs[ys]=null}function Oe(h,d){A(Tl,d),A(Bh,h),A(Xr,null),h=zc(d),S(Xr),A(Xr,h)}function We(){S(Xr),S(Bh),S(Tl)}function be(h){h.memoizedState!==null&&A(W0,h);var d=Xr.current,b=Dy(d,h.type);d!==b&&(A(Bh,h),A(Xr,b))}function Ne(h){Bh.current===h&&(S(Xr),S(Bh)),W0.current===h&&(S(W0),so?dn._currentValue=Va:dn._currentValue2=Va)}function Ye(h){var d=Error(r(418,""));throw dt(ye(d,h)),kh}function at(h,d){if(!Da)throw Error(r(175));R_(h.stateNode,h.type,h.memoizedProps,d,h)||Ye(h)}function _t(h){for(xa=h.return;xa;)switch(xa.tag){case 3:case 27:Ws=!0;return;case 5:case 13:Ws=!1;return;default:xa=xa.return}}function kt(h){if(!Da||h!==xa)return!1;if(!ri)return _t(h),ri=!0,!1;var d=!1;if(ra?h.tag!==3&&h.tag!==27&&(h.tag!==5||Yy(h.type)&&!ku(h.type,h.memoizedProps))&&(d=!0):h.tag!==3&&(h.tag!==5||Yy(h.type)&&!ku(h.type,h.memoizedProps))&&(d=!0),d&&sa&&Ye(h),_t(h),h.tag===13){if(!Da)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));sa=qy(h)}else sa=xa?Mg(h.stateNode):null;return!0}function rn(){Da&&(sa=xa=null,ri=!1)}function dt(h){bs===null?bs=[h]:bs.push(h)}function Fe(){for(var h=Pu,d=Z0=Pu=0;d<h;){var b=_s[d];_s[d++]=null;var E=_s[d];_s[d++]=null;var R=_s[d];_s[d++]=null;var U=_s[d];if(_s[d++]=null,E!==null&&R!==null){var $=E.pending;$===null?R.next=R:(R.next=$.next,$.next=R),E.pending=R}U!==0&&it(b,R,U)}}function ee(h,d,b,E){_s[Pu++]=h,_s[Pu++]=d,_s[Pu++]=b,_s[Pu++]=E,Z0|=E,h.lanes|=E,h=h.alternate,h!==null&&(h.lanes|=E)}function Ge(h,d,b,E){return ee(h,d,b,E),Ze(h)}function fe(h,d){return ee(h,null,null,d),Ze(h)}function it(h,d,b){h.lanes|=b;var E=h.alternate;E!==null&&(E.lanes|=b);for(var R=!1,U=h.return;U!==null;)U.childLanes|=b,E=U.alternate,E!==null&&(E.childLanes|=b),U.tag===22&&(h=U.stateNode,h===null||h._visibility&1||(R=!0)),h=U,U=U.return;R&&d!==null&&h.tag===3&&(U=h.stateNode,R=31-Ga(b),U=U.hiddenUpdates,h=U[R],h===null?U[R]=[d]:h.push(d),d.lane=b|536870912)}function Ze(h){if(50<Gc)throw Gc=0,Oa=null,Error(r(185));for(var d=h.return;d!==null;)h=d,d=h.return;return h.tag===3?h.stateNode:null}function xt(h){h!==Bc&&h.next===null&&(Bc===null?K0=Bc=h:Bc=Bc.next=h),Ph=!0,Ih||(Ih=!0,oe(Mt))}function tt(h,d){if(!El&&Ph){El=!0;do for(var b=!1,E=K0;E!==null;){if(h!==0){var R=E.pendingLanes;if(R===0)var U=0;else{var $=E.suspendedLanes,pe=E.pingedLanes;U=(1<<31-Ga(42|h)+1)-1,U&=R&~($&~pe),U=U&201326677?U&201326677|1:U?U|2:0}U!==0&&(b=!0,Te(E,U))}else U=zn,U=k(E,E===Pn?U:0),(U&3)===0||z(E,U)||(b=!0,Te(E,U));E=E.next}while(b);El=!1}}function Mt(){Ph=Ih=!1;var h=0;Fu!==0&&(Iu()&&(h=Fu),Fu=0);for(var d=aa(),b=null,E=K0;E!==null;){var R=E.next,U=ne(E,d);U===0?(E.next=null,b===null?K0=R:b.next=R,R===null&&(Bc=b)):(b=E,(h!==0||(U&3)!==0)&&(Ph=!0)),E=R}tt(h)}function ne(h,d){for(var b=h.suspendedLanes,E=h.pingedLanes,R=h.expirationTimes,U=h.pendingLanes&-62914561;0<U;){var $=31-Ga(U),pe=1<<$,De=R[$];De===-1?((pe&b)===0||(pe&E)!==0)&&(R[$]=P(pe,d)):De<=d&&(h.expiredLanes|=pe),U&=~pe}if(d=Pn,b=zn,b=k(h,h===d?b:0),E=h.callbackNode,b===0||h===d&&Ei===2||h.cancelPendingCommit!==null)return E!==null&&E!==null&&Oh(E),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||z(h,b)){if(d=b&-b,d===h.callbackPriority)return d;switch(E!==null&&Oh(E),ie(b)){case 2:case 8:b=e2;break;case 32:b=Lp;break;case 268435456:b=Up;break;default:b=Lp}return E=q.bind(null,h),b=Y0(b,E),h.callbackPriority=d,h.callbackNode=b,d}return E!==null&&E!==null&&Oh(E),h.callbackPriority=2,h.callbackNode=null,2}function q(h,d){var b=h.callbackNode;if(Gr()&&h.callbackNode!==b)return null;var E=zn;return E=k(h,h===Pn?E:0),E===0?null:(gh(h,E,d),ne(h,aa()),h.callbackNode!=null&&h.callbackNode===b?q.bind(null,h):null)}function Te(h,d){if(Gr())return null;gh(h,d,!0)}function oe(h){Sr?Mp(function(){(nn&6)!==0?Y0(Ug,h):h()}):Y0(Ug,h)}function ve(){return Fu===0&&(Fu=V()),Fu}function Se(h,d){if(Fh===null){var b=Fh=[];kp=0,Xa=ve(),Hu={status:"pending",value:void 0,then:function(E){b.push(E)}}}return kp++,d.then(nt,nt),d}function nt(){if(--kp===0&&Fh!==null){Hu!==null&&(Hu.status="fulfilled");var h=Fh;Fh=null,Xa=0,Hu=null;for(var d=0;d<h.length;d++)(0,h[d])()}}function Qe(h,d){var b=[],E={status:"pending",value:null,reason:null,then:function(R){b.push(R)}};return h.then(function(){E.status="fulfilled",E.value=d;for(var R=0;R<b.length;R++)(0,b[R])(d)},function(R){for(E.status="rejected",E.reason=R,R=0;R<b.length;R++)(0,b[R])(void 0)}),E}function Rt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ft(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function Ve(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Ke(h,d,b){var E=h.updateQueue;if(E===null)return null;if(E=E.shared,(nn&2)!==0){var R=E.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),E.pending=d,d=Ze(h),it(h,null,b),d}return ee(h,E,d,b),Ze(h)}function Nt(h,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194176)!==0)){var E=d.lanes;E&=h.pendingLanes,b|=E,d.lanes=b,le(h,b)}}function bt(h,d){var b=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var R=null,U=null;if(b=b.firstBaseUpdate,b!==null){do{var $={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};U===null?R=U=$:U=U.next=$,b=b.next}while(b!==null);U===null?R=U=d:U=U.next=d}else R=U=d;b={baseState:E.baseState,firstBaseUpdate:R,lastBaseUpdate:U,shared:E.shared,callbacks:E.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=d:h.next=d,b.lastBaseUpdate=d}function mt(){if(Q0){var h=Hu;if(h!==null)throw h}}function It(h,d,b,E){Q0=!1;var R=h.updateQueue;jo=!1;var U=R.firstBaseUpdate,$=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var De=pe,je=De.next;De.next=null,$===null?U=je:$.next=je,$=De;var gt=h.alternate;gt!==null&&(gt=gt.updateQueue,pe=gt.lastBaseUpdate,pe!==$&&(pe===null?gt.firstBaseUpdate=je:pe.next=je,gt.lastBaseUpdate=De))}if(U!==null){var zt=R.baseState;$=0,gt=je=De=null,pe=U;do{var Ut=pe.lane&-536870913,bn=Ut!==pe.lane;if(bn?(zn&Ut)===Ut:(E&Ut)===Ut){Ut!==0&&Ut===Xa&&(Q0=!0),gt!==null&&(gt=gt.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Za=h,qh=pe;Ut=d;var qc=b;switch(qh.tag){case 1:if(Za=qh.payload,typeof Za=="function"){zt=Za.call(qc,zt,Ut);break e}zt=Za;break e;case 3:Za.flags=Za.flags&-65537|128;case 0:if(Za=qh.payload,Ut=typeof Za=="function"?Za.call(qc,zt,Ut):Za,Ut==null)break e;zt=Dc({},zt,Ut);break e;case 2:jo=!0}}Ut=pe.callback,Ut!==null&&(h.flags|=64,bn&&(h.flags|=8192),bn=R.callbacks,bn===null?R.callbacks=[Ut]:bn.push(Ut))}else bn={lane:Ut,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},gt===null?(je=gt=bn,De=zt):gt=gt.next=bn,$|=Ut;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;bn=pe,pe=bn.next,bn.next=null,R.lastBaseUpdate=bn,R.shared.pending=null}}while(!0);gt===null&&(De=zt),R.baseState=De,R.firstBaseUpdate=je,R.lastBaseUpdate=gt,U===null&&(R.shared.lanes=0),Ts|=$,h.lanes=$,h.memoizedState=zt}}function ue(h,d){if(typeof h!="function")throw Error(r(191,h));h.call(d)}function yt(h,d){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)ue(b[h],d)}function lt(h,d){if(vs(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var b=Object.keys(h),E=Object.keys(d);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var R=b[E];if(!Hh.call(d,R)||!vs(h[R],d[R]))return!1}return!0}function ot(h){return h=h.status,h==="fulfilled"||h==="rejected"}function $e(){}function Xe(h,d,b){switch(b=h[b],b===void 0?h.push(d):b!==d&&(d.then($e,$e),d=b),d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Si?Error(r(483)):h;default:if(typeof d.status=="string")d.then($e,$e);else{if(h=Pn,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=d,h.status="pending",h.then(function(E){if(d.status==="pending"){var R=d;R.status="fulfilled",R.value=E}},function(E){if(d.status==="pending"){var R=d;R.status="rejected",R.reason=E}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw h=d.reason,h===Si?Error(r(483)):h}throw kc=d,Si}}function Dt(){if(kc===null)throw Error(r(459));var h=kc;return kc=null,h}function Zt(h){var d=Zs;return Zs+=1,co===null&&(co=[]),Xe(co,h,d)}function kn(h,d){d=d.props.ref,h.ref=d!==void 0?d:null}function At(h,d){throw d.$$typeof===tg?Error(r(525)):(h=Object.prototype.toString.call(d),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h)))}function Ft(h){var d=h._init;return d(h._payload)}function gn(h){function d(ke,Ce){if(h){var Pe=ke.deletions;Pe===null?(ke.deletions=[Ce],ke.flags|=16):Pe.push(Ce)}}function b(ke,Ce){if(!h)return null;for(;Ce!==null;)d(ke,Ce),Ce=Ce.sibling;return null}function E(ke){for(var Ce=new Map;ke!==null;)ke.key!==null?Ce.set(ke.key,ke):Ce.set(ke.index,ke),ke=ke.sibling;return Ce}function R(ke,Ce){return ke=ga(ke,Ce),ke.index=0,ke.sibling=null,ke}function U(ke,Ce,Pe){return ke.index=Pe,h?(Pe=ke.alternate,Pe!==null?(Pe=Pe.index,Pe<Ce?(ke.flags|=33554434,Ce):Pe):(ke.flags|=33554434,Ce)):(ke.flags|=1048576,Ce)}function $(ke){return h&&ke.alternate===null&&(ke.flags|=33554434),ke}function pe(ke,Ce,Pe,ut){return Ce===null||Ce.tag!==6?(Ce=Nu(Pe,ke.mode,ut),Ce.return=ke,Ce):(Ce=R(Ce,Pe),Ce.return=ke,Ce)}function De(ke,Ce,Pe,ut){var Jt=Pe.type;return Jt===F0?gt(ke,Ce,Pe.props.children,ut,Pe.key):Ce!==null&&(Ce.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ml&&Ft(Jt)===Ce.type)?(Ce=R(Ce,Pe.props),kn(Ce,Pe),Ce.return=ke,Ce):(Ce=Xs(Pe.type,Pe.key,Pe.props,null,ke.mode,ut),kn(Ce,Pe),Ce.return=ke,Ce)}function je(ke,Ce,Pe,ut){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Pe.containerInfo||Ce.stateNode.implementation!==Pe.implementation?(Ce=P0(Pe,ke.mode,ut),Ce.return=ke,Ce):(Ce=R(Ce,Pe.children||[]),Ce.return=ke,Ce)}function gt(ke,Ce,Pe,ut,Jt){return Ce===null||Ce.tag!==7?(Ce=Ho(Pe,ke.mode,ut,Jt),Ce.return=ke,Ce):(Ce=R(Ce,Pe),Ce.return=ke,Ce)}function zt(ke,Ce,Pe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=Nu(""+Ce,ke.mode,Pe),Ce.return=ke,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case Vo:return Pe=Xs(Ce.type,Ce.key,Ce.props,null,ke.mode,Pe),kn(Pe,Ce),Pe.return=ke,Pe;case Sl:return Ce=P0(Ce,ke.mode,Pe),Ce.return=ke,Ce;case Ml:var ut=Ce._init;return Ce=ut(Ce._payload),zt(ke,Ce,Pe)}if(Uu(Ce)||a(Ce))return Ce=Ho(Ce,ke.mode,Pe,null),Ce.return=ke,Ce;if(typeof Ce.then=="function")return zt(ke,Zt(Ce),Pe);if(Ce.$$typeof===ro)return zt(ke,fh(ke,Ce),Pe);At(ke,Ce)}return null}function Ut(ke,Ce,Pe,ut){var Jt=Ce!==null?Ce.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Jt!==null?null:pe(ke,Ce,""+Pe,ut);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case Vo:return Pe.key===Jt?De(ke,Ce,Pe,ut):null;case Sl:return Pe.key===Jt?je(ke,Ce,Pe,ut):null;case Ml:return Jt=Pe._init,Pe=Jt(Pe._payload),Ut(ke,Ce,Pe,ut)}if(Uu(Pe)||a(Pe))return Jt!==null?null:gt(ke,Ce,Pe,ut,null);if(typeof Pe.then=="function")return Ut(ke,Ce,Zt(Pe),ut);if(Pe.$$typeof===ro)return Ut(ke,Ce,fh(ke,Pe),ut);At(ke,Pe)}return null}function bn(ke,Ce,Pe,ut,Jt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return ke=ke.get(Pe)||null,pe(Ce,ke,""+ut,Jt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Vo:return ke=ke.get(ut.key===null?Pe:ut.key)||null,De(Ce,ke,ut,Jt);case Sl:return ke=ke.get(ut.key===null?Pe:ut.key)||null,je(Ce,ke,ut,Jt);case Ml:var Ui=ut._init;return ut=Ui(ut._payload),bn(ke,Ce,Pe,ut,Jt)}if(Uu(ut)||a(ut))return ke=ke.get(Pe)||null,gt(Ce,ke,ut,Jt,null);if(typeof ut.then=="function")return bn(ke,Ce,Pe,Zt(ut),Jt);if(ut.$$typeof===ro)return bn(ke,Ce,Pe,fh(Ce,ut),Jt);At(Ce,ut)}return null}function Za(ke,Ce,Pe,ut){for(var Jt=null,Ui=null,pn=Ce,si=Ce=0,Ur=null;pn!==null&&si<Pe.length;si++){pn.index>si?(Ur=pn,pn=null):Ur=pn.sibling;var li=Ut(ke,pn,Pe[si],ut);if(li===null){pn===null&&(pn=Ur);break}h&&pn&&li.alternate===null&&d(ke,pn),Ce=U(li,Ce,si),Ui===null?Jt=li:Ui.sibling=li,Ui=li,pn=Ur}if(si===Pe.length)return b(ke,pn),ri&&F(ke,si),Jt;if(pn===null){for(;si<Pe.length;si++)pn=zt(ke,Pe[si],ut),pn!==null&&(Ce=U(pn,Ce,si),Ui===null?Jt=pn:Ui.sibling=pn,Ui=pn);return ri&&F(ke,si),Jt}for(pn=E(pn);si<Pe.length;si++)Ur=bn(pn,ke,si,Pe[si],ut),Ur!==null&&(h&&Ur.alternate!==null&&pn.delete(Ur.key===null?si:Ur.key),Ce=U(Ur,Ce,si),Ui===null?Jt=Ur:Ui.sibling=Ur,Ui=Ur);return h&&pn.forEach(function(eu){return d(ke,eu)}),ri&&F(ke,si),Jt}function qh(ke,Ce,Pe,ut){if(Pe==null)throw Error(r(151));for(var Jt=null,Ui=null,pn=Ce,si=Ce=0,Ur=null,li=Pe.next();pn!==null&&!li.done;si++,li=Pe.next()){pn.index>si?(Ur=pn,pn=null):Ur=pn.sibling;var eu=Ut(ke,pn,li.value,ut);if(eu===null){pn===null&&(pn=Ur);break}h&&pn&&eu.alternate===null&&d(ke,pn),Ce=U(eu,Ce,si),Ui===null?Jt=eu:Ui.sibling=eu,Ui=eu,pn=Ur}if(li.done)return b(ke,pn),ri&&F(ke,si),Jt;if(pn===null){for(;!li.done;si++,li=Pe.next())li=zt(ke,li.value,ut),li!==null&&(Ce=U(li,Ce,si),Ui===null?Jt=li:Ui.sibling=li,Ui=li);return ri&&F(ke,si),Jt}for(pn=E(pn);!li.done;si++,li=Pe.next())li=bn(pn,ke,si,li.value,ut),li!==null&&(h&&li.alternate!==null&&pn.delete(li.key===null?si:li.key),Ce=U(li,Ce,si),Ui===null?Jt=li:Ui.sibling=li,Ui=li);return h&&pn.forEach(function(Yp){return d(ke,Yp)}),ri&&F(ke,si),Jt}function qc(ke,Ce,Pe,ut){if(typeof Pe=="object"&&Pe!==null&&Pe.type===F0&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case Vo:e:{for(var Jt=Pe.key;Ce!==null;){if(Ce.key===Jt){if(Jt=Pe.type,Jt===F0){if(Ce.tag===7){b(ke,Ce.sibling),ut=R(Ce,Pe.props.children),ut.return=ke,ke=ut;break e}}else if(Ce.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===Ml&&Ft(Jt)===Ce.type){b(ke,Ce.sibling),ut=R(Ce,Pe.props),kn(ut,Pe),ut.return=ke,ke=ut;break e}b(ke,Ce);break}else d(ke,Ce);Ce=Ce.sibling}Pe.type===F0?(ut=Ho(Pe.props.children,ke.mode,ut,Pe.key),ut.return=ke,ke=ut):(ut=Xs(Pe.type,Pe.key,Pe.props,null,ke.mode,ut),kn(ut,Pe),ut.return=ke,ke=ut)}return $(ke);case Sl:e:{for(Jt=Pe.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Pe.containerInfo&&Ce.stateNode.implementation===Pe.implementation){b(ke,Ce.sibling),ut=R(Ce,Pe.children||[]),ut.return=ke,ke=ut;break e}else{b(ke,Ce);break}else d(ke,Ce);Ce=Ce.sibling}ut=P0(Pe,ke.mode,ut),ut.return=ke,ke=ut}return $(ke);case Ml:return Jt=Pe._init,Pe=Jt(Pe._payload),qc(ke,Ce,Pe,ut)}if(Uu(Pe))return Za(ke,Ce,Pe,ut);if(a(Pe)){if(Jt=a(Pe),typeof Jt!="function")throw Error(r(150));return Pe=Jt.call(Pe),qh(ke,Ce,Pe,ut)}if(typeof Pe.then=="function")return qc(ke,Ce,Zt(Pe),ut);if(Pe.$$typeof===ro)return qc(ke,Ce,fh(ke,Pe),ut);At(ke,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Ce!==null&&Ce.tag===6?(b(ke,Ce.sibling),ut=R(Ce,Pe),ut.return=ke,ke=ut):(b(ke,Ce),ut=Nu(Pe,ke.mode,ut),ut.return=ke,ke=ut),$(ke)):b(ke,Ce)}return function(ke,Ce,Pe,ut){try{Zs=0;var Jt=qc(ke,Ce,Pe,ut);return co=null,Jt}catch(pn){if(pn===Si)throw pn;var Ui=t(29,pn,null,ke.mode);return Ui.lanes=ut,Ui.return=ke,Ui}finally{}}}function Tt(h,d){h=Al,A(Ss,h),A(fo,d),Al=h|d.baseLanes}function ln(){A(Ss,Al),A(fo,fo.current)}function Wt(){Al=Ss.current,S(fo),S(Ss)}function jt(h){var d=h.alternate;A(Mr,Mr.current&1),A(Ms,h),Ks===null&&(d===null||fo.current!==null||d.memoizedState!==null)&&(Ks=h)}function Ci(h){if(h.tag===22){if(A(Mr,Mr.current),A(Ms,h),Ks===null){var d=h.alternate;d!==null&&d.memoizedState!==null&&(Ks=h)}}else hn()}function hn(){A(Mr,Mr.current),A(Ms,Ms.current)}function Wn(h){S(Ms),Ks===h&&(Ks=null),S(Mr)}function ii(h){for(var d=h;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Cp(b)||Rh(b)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Gt(){throw Error(r(321))}function vn(h,d){if(d===null)return!1;for(var b=0;b<d.length&&b<h.length;b++)if(!vs(h[b],d[b]))return!1;return!0}function Nn(h,d,b,E,R,U){return ho=U,An=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,on.H=h===null||h.memoizedState===null?wr:ya,Wo=!1,U=b(E,R),Wo=!1,qi&&(U=Mi(d,b,E,R)),Rr(h),U}function Rr(h){on.H=ai;var d=ci!==null&&ci.next!==null;if(ho=0,cr=ci=An=null,Qs=!1,rr=0,J0=null,d)throw Error(r(300));h===null||fr||(h=h.dependencies,h!==null&&bu(h)&&(fr=!0))}function Mi(h,d,b,E){An=h;var R=0;do{if(qi&&(J0=null),rr=0,qi=!1,25<=R)throw Error(r(301));if(R+=1,cr=ci=null,h.updateQueue!=null){var U=h.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}on.H=Gu,U=d(b,E)}while(qi);return U}function Jr(){var h=on.H,d=h.useState()[0];return d=typeof d.then=="function"?Ee(d):d,h=h.useState()[0],(ci!==null?ci.memoizedState:null)!==h&&(An.flags|=1024),d}function $r(){var h=Vh!==0;return Vh=0,h}function Ri(h,d,b){d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~b}function Fi(h){if(Qs){for(h=h.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Qs=!1}ho=0,cr=ci=An=null,qi=!1,rr=Vh=0,J0=null}function In(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?An.memoizedState=cr=h:cr=cr.next=h,cr}function j(){if(ci===null){var h=An.alternate;h=h!==null?h.memoizedState:null}else h=ci.next;var d=cr===null?An.memoizedState:cr.next;if(d!==null)cr=d,ci=h;else{if(h===null)throw An.alternate===null?Error(r(467)):Error(r(310));ci=h,h={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},cr===null?An.memoizedState=cr=h:cr=cr.next=h}return cr}function Ee(h){var d=rr;return rr+=1,J0===null&&(J0=[]),h=Xe(J0,h,d),d=An,(cr===null?d.memoizedState:cr.next)===null&&(d=d.alternate,on.H=d===null||d.memoizedState===null?wr:ya),h}function ze(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Ee(h);if(h.$$typeof===ro)return ta(h)}throw Error(r(438,String(h)))}function Ae(h){var d=null,b=An.updateQueue;if(b!==null&&(d=b.memoCache),d==null){var E=An.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(d={data:E.data.map(function(R){return R.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),b===null&&(b=Pp(),An.updateQueue=b),b.memoCache=d,b=d.data[d.index],b===void 0)for(b=d.data[d.index]=Array(h),E=0;E<h;E++)b[E]=Ry;return d.index++,b}function we(h,d){return typeof d=="function"?d(h):d}function ht(h){var d=j();return St(d,ci,h)}function St(h,d,b){var E=h.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=b;var R=h.baseQueue,U=E.pending;if(U!==null){if(R!==null){var $=R.next;R.next=U.next,U.next=$}d.baseQueue=R=U,E.pending=null}if(U=h.baseState,R===null)h.memoizedState=U;else{d=R.next;var pe=$=null,De=null,je=d,gt=!1;do{var zt=je.lane&-536870913;if(zt!==je.lane?(zn&zt)===zt:(ho&zt)===zt){var Ut=je.revertLane;if(Ut===0)De!==null&&(De=De.next={lane:0,revertLane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),zt===Xa&&(gt=!0);else if((ho&Ut)===Ut){je=je.next,Ut===Xa&&(gt=!0);continue}else zt={lane:0,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},De===null?(pe=De=zt,$=U):De=De.next=zt,An.lanes|=Ut,Ts|=Ut;zt=je.action,Wo&&b(U,zt),U=je.hasEagerState?je.eagerState:b(U,zt)}else Ut={lane:zt,revertLane:je.revertLane,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},De===null?(pe=De=Ut,$=U):De=De.next=Ut,An.lanes|=zt,Ts|=zt;je=je.next}while(je!==null&&je!==d);if(De===null?$=U:De.next=pe,!vs(U,h.memoizedState)&&(fr=!0,gt&&(b=Hu,b!==null)))throw b;h.memoizedState=U,h.baseState=$,h.baseQueue=De,E.lastRenderedState=U}return R===null&&(E.lanes=0),[h.memoizedState,E.dispatch]}function Ct(h){var d=j(),b=d.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var E=b.dispatch,R=b.pending,U=d.memoizedState;if(R!==null){b.pending=null;var $=R=R.next;do U=h(U,$.action),$=$.next;while($!==R);vs(U,d.memoizedState)||(fr=!0),d.memoizedState=U,d.baseQueue===null&&(d.baseState=U),b.lastRenderedState=U}return[U,E]}function Et(h,d,b){var E=An,R=j(),U=ri;if(U){if(b===void 0)throw Error(r(407));b=b()}else b=d();var $=!vs((ci||R).memoizedState,b);if($&&(R.memoizedState=b,fr=!0),R=R.queue,th(Vt.bind(null,E,R,h),[h]),R.getSnapshot!==d||$||cr!==null&&cr.memoizedState.tag&1){if(E.flags|=2048,er(9,en.bind(null,E,R,b,d),{destroy:void 0},null),Pn===null)throw Error(r(349));U||(ho&60)!==0||Kt(E,d,b)}return b}function Kt(h,d,b){h.flags|=16384,h={getSnapshot:d,value:b},d=An.updateQueue,d===null?(d=Pp(),An.updateQueue=d,d.stores=[h]):(b=d.stores,b===null?d.stores=[h]:b.push(h))}function en(h,d,b,E){d.value=b,d.getSnapshot=E,wn(d)&&Jn(h)}function Vt(h,d,b){return b(function(){wn(d)&&Jn(h)})}function wn(h){var d=h.getSnapshot;h=h.value;try{var b=d();return!vs(h,b)}catch{return!0}}function Jn(h){var d=fe(h,2);d!==null&&ma(d,h,2)}function $n(h){var d=In();if(typeof h=="function"){var b=h;if(h=b(),Wo){te(!0);try{b()}finally{te(!1)}}}return d.memoizedState=d.baseState=h,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:h},d}function Hn(h,d,b,E){return h.baseState=b,St(h,ci,typeof E=="function"?E:we)}function mi(h,d,b,E,R){if(bc(h))throw Error(r(485));if(h=d.action,h!==null){var U={payload:R,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){U.listeners.push($)}};on.T!==null?b(!0):U.isTransition=!1,E(U),b=d.pending,b===null?(U.next=d.pending=U,an(d,U)):(U.next=b.next,d.pending=b.next=U)}}function an(h,d){var b=d.action,E=d.payload,R=h.state;if(d.isTransition){var U=on.T,$={};on.T=$;try{var pe=b(R,E),De=on.S;De!==null&&De($,pe),wi(h,d,pe)}catch(je){_r(h,d,je)}finally{on.T=U}}else try{U=b(R,E),wi(h,d,U)}catch(je){_r(h,d,je)}}function wi(h,d,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(E){Vn(h,d,E)},function(E){return _r(h,d,E)}):Vn(h,d,b)}function Vn(h,d,b){d.status="fulfilled",d.value=b,zo(d),h.state=b,d=h.pending,d!==null&&(b=d.next,b===d?h.pending=null:(b=b.next,d.next=b,an(h,b)))}function _r(h,d,b){var E=h.pending;if(h.pending=null,E!==null){E=E.next;do d.status="rejected",d.reason=b,zo(d),d=d.next;while(d!==E)}h.action=null}function zo(h){h=h.listeners;for(var d=0;d<h.length;d++)(0,h[d])()}function Di(h,d){return d}function Kl(h,d){if(ri){var b=Pn.formState;if(b!==null){e:{var E=An;if(ri){if(sa){var R=By(sa,Ws);if(R){sa=Mg(R),E=ky(R);break e}}Ye(E)}E=!1}E&&(d=b[0])}}b=In(),b.memoizedState=b.baseState=d,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:d},b.queue=E,b=Kd.bind(null,An,E),E.dispatch=b,E=$n(!1);var U=Qd.bind(null,An,!1,E.queue);return E=In(),R={state:d,dispatch:null,action:h,pending:null},E.queue=R,b=mi.bind(null,An,R,U,b),R.dispatch=b,E.memoizedState=h,[d,b,!1]}function Ni(h){var d=j();return Dr(d,ci,h)}function Dr(h,d,b){d=St(h,d,Di)[0],h=ht(we)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Ee(d):d;var E=j(),R=E.queue,U=R.dispatch;return b!==E.memoizedState&&(An.flags|=2048,er(9,Nr.bind(null,R,b),{destroy:void 0},null)),[d,U,h]}function Nr(h,d){h.action=d}function zr(h){var d=j(),b=ci;if(b!==null)return Dr(d,b,h);j(),d=d.memoizedState,b=j();var E=b.queue.dispatch;return b.memoizedState=h,[d,E,!1]}function er(h,d,b,E){return h={tag:h,create:d,inst:b,deps:E,next:null},d=An.updateQueue,d===null&&(d=Pp(),An.updateQueue=d),b=d.lastEffect,b===null?d.lastEffect=h.next=h:(E=b.next,b.next=h,h.next=E,d.lastEffect=h),h}function xl(){return j().memoizedState}function qs(h,d,b,E){var R=In();An.flags|=h,R.memoizedState=er(1|d,b,{destroy:void 0},E===void 0?null:E)}function eh(h,d,b,E){var R=j();E=E===void 0?null:E;var U=R.memoizedState.inst;ci!==null&&E!==null&&vn(E,ci.memoizedState.deps)?R.memoizedState=er(d,b,U,E):(An.flags|=h,R.memoizedState=er(1|d,b,U,E))}function E1(h,d){qs(8390656,8,h,d)}function th(h,d){eh(2048,8,h,d)}function ry(h,d){return eh(4,2,h,d)}function ay(h,d){return eh(4,4,h,d)}function nh(h,d){if(typeof d=="function"){h=h();var b=d(h);return function(){typeof b=="function"?b():d(null)}}if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function Ql(h,d,b){b=b!=null?b.concat([h]):null,eh(4,4,nh.bind(null,d,h),b)}function ih(){}function jd(h,d){var b=j();d=d===void 0?null:d;var E=b.memoizedState;return d!==null&&vn(d,E[1])?E[0]:(b.memoizedState=[h,d],h)}function xc(h,d){var b=j();d=d===void 0?null:d;var E=b.memoizedState;if(d!==null&&vn(d,E[1]))return E[0];if(E=h(),Wo){te(!0);try{h()}finally{te(!1)}}return b.memoizedState=[E,d],E}function mu(h,d,b){return b===void 0||(ho&1073741824)!==0?h.memoizedState=d:(h.memoizedState=b,h=eo(),An.lanes|=h,Ts|=h,b)}function A1(h,d,b,E){return vs(b,d)?b:fo.current!==null?(h=mu(h,b,E),vs(h,d)||(fr=!0),h):(ho&42)===0?(fr=!0,h.memoizedState=b):(h=eo(),An.lanes|=h,Ts|=h,d)}function Wd(h,d,b,E,R){var U=Or();va(U!==0&&8>U?U:8);var $=on.T,pe={};on.T=pe,Qd(h,!1,d,b);try{var De=R(),je=on.S;if(je!==null&&je(pe,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var gt=Qe(De,E);vu(h,d,gt,Ra(h))}else vu(h,d,E,Ra(h))}catch(zt){vu(h,d,{then:function(){},status:"rejected",reason:zt},Ra())}finally{va(U),on.T=$}}function C1(h){var d=h.memoizedState;if(d!==null)return d;d={memoizedState:Va,baseState:Va,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:Va},next:null};var b={};return d.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:b},next:null},h.memoizedState=d,h=h.alternate,h!==null&&(h.memoizedState=d),d}function yc(){return ta(dn)}function Jl(){return j().memoizedState}function Zd(){return j().memoizedState}function rh(h){for(var d=h.return;d!==null;){switch(d.tag){case 24:case 3:var b=Ra();h=Ve(b);var E=Ke(d,h,b);E!==null&&(ma(E,d,b),Nt(E,d,b)),d={cache:np()},h.payload=d;return}d=d.return}}function gu(h,d,b){var E=Ra();b={lane:E,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},bc(h)?ah(d,b):(b=Ge(h,d,b,E),b!==null&&(ma(b,h,E),R1(b,d,E)))}function Kd(h,d,b){var E=Ra();vu(h,d,b,E)}function vu(h,d,b,E){var R={lane:E,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(bc(h))ah(d,R);else{var U=h.alternate;if(h.lanes===0&&(U===null||U.lanes===0)&&(U=d.lastRenderedReducer,U!==null))try{var $=d.lastRenderedState,pe=U($,b);if(R.hasEagerState=!0,R.eagerState=pe,vs(pe,$))return ee(h,d,R,0),Pn===null&&Fe(),!1}catch{}finally{}if(b=Ge(h,d,R,E),b!==null)return ma(b,h,E),R1(b,d,E),!0}return!1}function Qd(h,d,b,E){if(E={lane:2,revertLane:ve(),action:E,hasEagerState:!1,eagerState:null,next:null},bc(h)){if(d)throw Error(r(479))}else d=Ge(h,b,E,2),d!==null&&ma(d,h,2)}function bc(h){var d=h.alternate;return h===An||d!==null&&d===An}function ah(h,d){qi=Qs=!0;var b=h.pending;b===null?d.next=d:(d.next=b.next,b.next=d),h.pending=d}function R1(h,d,b){if((b&4194176)!==0){var E=d.lanes;E&=h.pendingLanes,b|=E,d.lanes=b,le(h,b)}}function da(h,d,b,E){d=h.memoizedState,b=b(E,d),b=b==null?d:Dc({},d,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function xu(h,d,b,E,R,U,$){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,U,$):d.prototype&&d.prototype.isPureReactComponent?!lt(b,E)||!lt(R,U):!0}function sh(h,d,b,E){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,E),d.state!==h&&Fp.enqueueReplaceState(d,d.state,null)}function yl(h,d){var b=d;if("ref"in d){b={};for(var E in d)E!=="ref"&&(b[E]=d[E])}if(h=h.defaultProps){b===d&&(b=Dc({},b));for(var R in h)b[R]===void 0&&(b[R]=h[R])}return b}function Jd(h,d){try{var b=h.onUncaughtError;b(d.value,{componentStack:d.stack})}catch(E){setTimeout(function(){throw E})}}function $d(h,d,b){try{var E=h.onCaughtError;E(b.value,{componentStack:b.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function lh(h,d,b){return b=Ve(b),b.tag=3,b.payload={element:null},b.callback=function(){Jd(h,d)},b}function T0(h){return h=Ve(h),h.tag=3,h}function oh(h,d,b,E){var R=b.type.getDerivedStateFromError;if(typeof R=="function"){var U=E.value;h.payload=function(){return R(U)},h.callback=function(){$d(d,b,E)}}var $=b.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(h.callback=function(){$d(d,b,E),typeof R!="function"&&(As===null?As=new Set([this]):As.add(this));var pe=E.stack;this.componentDidCatch(E.value,{componentStack:pe!==null?pe:""})})}function sy(h,d,b,E,R){if(b.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(d=b.alternate,d!==null&&_c(d,b,R,!0),b=Ms.current,b!==null){switch(b.tag){case 13:return Ks===null?Ha():b.alternate===null&&ti===0&&(ti=3),b.flags&=-257,b.flags|=65536,b.lanes=R,E===Ip?b.flags|=16384:(d=b.updateQueue,d===null?b.updateQueue=new Set([E]):d.add(E),gp(h,E,R)),!1;case 22:return b.flags|=65536,E===Ip?b.flags|=16384:(d=b.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([E])},b.updateQueue=d):(b=d.retryQueue,b===null?d.retryQueue=new Set([E]):b.add(E)),gp(h,E,R)),!1}throw Error(r(435,b.tag))}return gp(h,E,R),Ha(),!1}if(ri)return d=Ms.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=R,E!==kh&&(h=Error(r(422),{cause:E}),dt(ye(h,b)))):(E!==kh&&(d=Error(r(423),{cause:E}),dt(ye(d,b))),h=h.current.alternate,h.flags|=65536,R&=-R,h.lanes|=R,E=ye(E,b),R=lh(h.stateNode,E,R),bt(h,R),ti!==4&&(ti=2)),!1;var U=Error(r(520),{cause:E});if(U=ye(U,b),ef===null?ef=[U]:ef.push(U),ti!==4&&(ti=2),d===null)return!0;E=ye(E,b),b=d;do{switch(b.tag){case 3:return b.flags|=65536,h=R&-R,b.lanes|=h,h=lh(b.stateNode,E,h),bt(b,h),!1;case 1:if(d=b.type,U=b.stateNode,(b.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(As===null||!As.has(U))))return b.flags|=65536,R&=-R,b.lanes|=R,R=T0(R),oh(R,h,b,E),bt(b,R),!1}b=b.return}while(b!==null);return!1}function ea(h,d,b,E){d.child=h===null?Ig(d,null,b,E):Vu(d,h.child,b,E)}function ly(h,d,b,E,R){b=b.render;var U=d.ref;if("ref"in E){var $={};for(var pe in E)pe!=="ref"&&($[pe]=E[pe])}else $=E;return Sc(d),E=Nn(h,d,b,$,U,R),pe=$r(),h!==null&&!fr?(Ri(h,d,R),Oo(h,d,R)):(ri&&pe&&ge(d),d.flags|=1,ea(h,d,E,R),d.child)}function oy(h,d,b,E,R){if(h===null){var U=b.type;return typeof U=="function"&&!Po(U)&&U.defaultProps===void 0&&b.compare===null?(d.tag=15,d.type=U,ep(h,d,U,E,R)):(h=Xs(b.type,null,E,d,d.mode,R),h.ref=d.ref,h.return=d,d.child=h)}if(U=h.child,!B1(h,R)){var $=U.memoizedProps;if(b=b.compare,b=b!==null?b:lt,b($,E)&&h.ref===d.ref)return Oo(h,d,R)}return d.flags|=1,h=ga(U,E),h.ref=d.ref,h.return=d,d.child=h}function ep(h,d,b,E,R){if(h!==null){var U=h.memoizedProps;if(lt(U,E)&&h.ref===d.ref)if(fr=!1,d.pendingProps=E=U,B1(h,R))(h.flags&131072)!==0&&(fr=!0);else return d.lanes=h.lanes,Oo(h,d,R)}return D1(h,d,b,E,R)}function uy(h,d,b){var E=d.pendingProps,R=E.children,U=(d.stateNode._pendingVisibility&2)!==0,$=h!==null?h.memoizedState:null;if(uh(h,d),E.mode==="hidden"||U){if((d.flags&128)!==0){if(E=$!==null?$.baseLanes|b:b,h!==null){for(R=d.child=h.child,U=0;R!==null;)U=U|R.lanes|R.childLanes,R=R.sibling;d.childLanes=U&~E}else d.childLanes=0,d.child=null;return cy(h,d,E,b)}if((b&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},h!==null&&ip(d,$!==null?$.cachePool:null),$!==null?Tt(d,$):ln(),Ci(d);else return d.lanes=d.childLanes=536870912,cy(h,d,$!==null?$.baseLanes|b:b,b)}else $!==null?(ip(d,$.cachePool),Tt(d,$),hn(),d.memoizedState=null):(h!==null&&ip(d,null),ln(),hn());return ea(h,d,R,b),d.child}function cy(h,d,b,E){var R=_u();return R=R===null?null:{parent:so?gi._currentValue:gi._currentValue2,pool:R},d.memoizedState={baseLanes:b,cachePool:R},h!==null&&ip(d,null),ln(),Ci(d),h!==null&&_c(h,d,E,!0),null}function uh(h,d){var b=d.ref;if(b===null)h!==null&&h.ref!==null&&(d.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(d.flags|=2097664)}}function D1(h,d,b,E,R){return Sc(d),b=Nn(h,d,b,E,void 0,R),E=$r(),h!==null&&!fr?(Ri(h,d,R),Oo(h,d,R)):(ri&&E&&ge(d),d.flags|=1,ea(h,d,b,R),d.child)}function fy(h,d,b,E,R,U){return Sc(d),d.updateQueue=null,b=Mi(d,E,b,R),Rr(h),E=$r(),h!==null&&!fr?(Ri(h,d,U),Oo(h,d,U)):(ri&&E&&ge(d),d.flags|=1,ea(h,d,b,U),d.child)}function N1(h,d,b,E,R){if(Sc(d),d.stateNode===null){var U=Uc,$=b.contextType;typeof $=="object"&&$!==null&&(U=ta($)),U=new b(E,U),d.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Fp,d.stateNode=U,U._reactInternals=d,U=d.stateNode,U.props=E,U.state=d.memoizedState,U.refs={},Rt(d),$=b.contextType,U.context=typeof $=="object"&&$!==null?ta($):Uc,U.state=d.memoizedState,$=b.getDerivedStateFromProps,typeof $=="function"&&(da(d,b,$,E),U.state=d.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||($=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),$!==U.state&&Fp.enqueueReplaceState(U,U.state,null),It(d,E,U,R),mt(),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308),E=!0}else if(h===null){U=d.stateNode;var pe=d.memoizedProps,De=yl(b,pe);U.props=De;var je=U.context,gt=b.contextType;$=Uc,typeof gt=="object"&&gt!==null&&($=ta(gt));var zt=b.getDerivedStateFromProps;gt=typeof zt=="function"||typeof U.getSnapshotBeforeUpdate=="function",pe=d.pendingProps!==pe,gt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(pe||je!==$)&&sh(d,U,E,$),jo=!1;var Ut=d.memoizedState;U.state=Ut,It(d,E,U,R),mt(),je=d.memoizedState,pe||Ut!==je||jo?(typeof zt=="function"&&(da(d,b,zt,E),je=d.memoizedState),(De=jo||xu(d,b,De,E,Ut,je,$))?(gt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=je),U.props=E,U.state=je,U.context=$,E=De):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{U=d.stateNode,ft(h,d),$=d.memoizedProps,gt=yl(b,$),U.props=gt,zt=d.pendingProps,Ut=U.context,je=b.contextType,De=Uc,typeof je=="object"&&je!==null&&(De=ta(je)),pe=b.getDerivedStateFromProps,(je=typeof pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||($!==zt||Ut!==De)&&sh(d,U,E,De),jo=!1,Ut=d.memoizedState,U.state=Ut,It(d,E,U,R),mt();var bn=d.memoizedState;$!==zt||Ut!==bn||jo||h!==null&&h.dependencies!==null&&bu(h.dependencies)?(typeof pe=="function"&&(da(d,b,pe,E),bn=d.memoizedState),(gt=jo||xu(d,b,gt,E,Ut,bn,De)||h!==null&&h.dependencies!==null&&bu(h.dependencies))?(je||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(E,bn,De),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(E,bn,De)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||$===h.memoizedProps&&Ut===h.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===h.memoizedProps&&Ut===h.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=bn),U.props=E,U.state=bn,U.context=De,E=gt):(typeof U.componentDidUpdate!="function"||$===h.memoizedProps&&Ut===h.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||$===h.memoizedProps&&Ut===h.memoizedState||(d.flags|=1024),E=!1)}return U=E,uh(h,d),E=(d.flags&128)!==0,U||E?(U=d.stateNode,b=E&&typeof b.getDerivedStateFromError!="function"?null:U.render(),d.flags|=1,h!==null&&E?(d.child=Vu(d,h.child,null,R),d.child=Vu(d,null,b,R)):ea(h,d,b,R),d.memoizedState=U.state,h=d.child):h=Oo(h,d,R),h}function hy(h,d,b,E){return rn(),d.flags|=256,ea(h,d,b,E),d.child}function z1(h){return{baseLanes:h,cachePool:vy()}}function O1(h,d,b){return h=h!==null?h.childLanes&~b:0,d&&(h|=Wa),h}function dy(h,d,b){var E=d.pendingProps,R=!1,U=(d.flags&128)!==0,$;if(($=U)||($=h!==null&&h.memoizedState===null?!1:(Mr.current&2)!==0),$&&(R=!0,d.flags&=-129),$=(d.flags&32)!==0,d.flags&=-33,h===null){if(ri){if(R?jt(d):hn(),ri){var pe=sa,De;(De=pe)&&(pe=Vy(pe,Ws),pe!==null?(d.memoizedState={dehydrated:pe,treeContext:wl!==null?{id:uo,overflow:js}:null,retryLane:536870912},De=t(18,null,null,0),De.stateNode=pe,De.return=d,d.child=De,xa=d,sa=null,De=!0):De=!1),De||Ye(d)}if(pe=d.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return Rh(pe)?d.lanes=16:d.lanes=536870912,null;Wn(d)}return pe=E.children,E=E.fallback,R?(hn(),R=d.mode,pe=L1({mode:"hidden",children:pe},R),E=Ho(E,R,b,null),pe.return=d,E.return=d,pe.sibling=E,d.child=pe,R=d.child,R.memoizedState=z1(b),R.childLanes=O1(h,$,b),d.memoizedState=ba,E):(jt(d),ch(d,pe))}if(De=h.memoizedState,De!==null&&(pe=De.dehydrated,pe!==null)){if(U)d.flags&256?(jt(d),d.flags&=-257,d=U1(h,d,b)):d.memoizedState!==null?(hn(),d.child=h.child,d.flags|=128,d=null):(hn(),R=E.fallback,pe=d.mode,E=L1({mode:"visible",children:E.children},pe),R=Ho(R,pe,b,null),R.flags|=2,E.return=d,R.return=d,E.sibling=R,d.child=E,Vu(d,h.child,null,b),E=d.child,E.memoizedState=z1(b),E.childLanes=O1(h,$,b),d.memoizedState=ba,d=R);else if(jt(d),Rh(pe))$=Uy(pe).digest,E=Error(r(419)),E.stack="",E.digest=$,dt({value:E,source:null,stack:null}),d=U1(h,d,b);else if(fr||_c(h,d,b,!1),$=(b&h.childLanes)!==0,fr||$){if($=Pn,$!==null){if(E=b&-b,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&($.suspendedLanes|b))!==0?0:E,E!==0&&E!==De.retryLane)throw De.retryLane=E,fe(h,E),ma($,h,E),i2}Cp(pe)||Ha(),d=U1(h,d,b)}else Cp(pe)?(d.flags|=128,d.child=h.child,d=Cc.bind(null,h),C_(pe,d),d=null):(h=De.treeContext,Da&&(sa=Py(pe),xa=d,ri=!0,bs=null,Ws=!1,h!==null&&(xs[ys++]=uo,xs[ys++]=js,xs[ys++]=wl,uo=h.id,js=h.overflow,wl=d)),d=ch(d,E.children),d.flags|=4096);return d}return R?(hn(),R=E.fallback,pe=d.mode,De=h.child,U=De.sibling,E=ga(De,{mode:"hidden",children:E.children}),E.subtreeFlags=De.subtreeFlags&31457280,U!==null?R=ga(U,R):(R=Ho(R,pe,b,null),R.flags|=2),R.return=d,E.return=d,E.sibling=R,d.child=E,E=R,R=d.child,pe=h.child.memoizedState,pe===null?pe=z1(b):(De=pe.cachePool,De!==null?(U=so?gi._currentValue:gi._currentValue2,De=De.parent!==U?{parent:U,pool:U}:De):De=vy(),pe={baseLanes:pe.baseLanes|b,cachePool:De}),R.memoizedState=pe,R.childLanes=O1(h,$,b),d.memoizedState=ba,E):(jt(d),b=h.child,h=b.sibling,b=ga(b,{mode:"visible",children:E.children}),b.return=d,b.sibling=null,h!==null&&($=d.deletions,$===null?(d.deletions=[h],d.flags|=16):$.push(h)),d.child=b,d.memoizedState=null,b)}function ch(h,d){return d=L1({mode:"visible",children:d},h.mode),d.return=h,h.child=d}function L1(h,d){return vp(h,d,0,null)}function U1(h,d,b){return Vu(d,h.child,null,b),h=ch(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function py(h,d,b){h.lanes|=d;var E=h.alternate;E!==null&&(E.lanes|=d),k1(h.return,d,b)}function tp(h,d,b,E,R){var U=h.memoizedState;U===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:R}:(U.isBackwards=d,U.rendering=null,U.renderingStartTime=0,U.last=E,U.tail=b,U.tailMode=R)}function my(h,d,b){var E=d.pendingProps,R=E.revealOrder,U=E.tail;if(ea(h,d,E.children,b),E=Mr.current,(E&2)!==0)E=E&1|2,d.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&py(h,b,d);else if(h.tag===19)py(h,b,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}switch(A(Mr,E),R){case"forwards":for(b=d.child,R=null;b!==null;)h=b.alternate,h!==null&&ii(h)===null&&(R=b),b=b.sibling;b=R,b===null?(R=d.child,d.child=null):(R=b.sibling,b.sibling=null),tp(d,!1,R,b,U);break;case"backwards":for(b=null,R=d.child,d.child=null;R!==null;){if(h=R.alternate,h!==null&&ii(h)===null){d.child=R;break}h=R.sibling,R.sibling=b,b=R,R=h}tp(d,!0,b,null,U);break;case"together":tp(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Oo(h,d,b){if(h!==null&&(d.dependencies=h.dependencies),Ts|=d.lanes,(b&d.childLanes)===0)if(h!==null){if(_c(h,d,b,!1),(b&d.childLanes)===0)return null}else return null;if(h!==null&&d.child!==h.child)throw Error(r(153));if(d.child!==null){for(h=d.child,b=ga(h,h.pendingProps),d.child=b,b.return=d;h.sibling!==null;)h=h.sibling,b=b.sibling=ga(h,h.pendingProps),b.return=d;b.sibling=null}return d.child}function B1(h,d){return(h.lanes&d)!==0?!0:(h=h.dependencies,!!(h!==null&&bu(h)))}function T_(h,d,b){switch(d.tag){case 3:Oe(d,d.stateNode.containerInfo),yu(d,gi,h.memoizedState.cache),rn();break;case 27:case 5:be(d);break;case 4:Oe(d,d.stateNode.containerInfo);break;case 10:yu(d,d.type,d.memoizedProps.value);break;case 13:var E=d.memoizedState;if(E!==null)return E.dehydrated!==null?(jt(d),d.flags|=128,null):(b&d.child.childLanes)!==0?dy(h,d,b):(jt(d),h=Oo(h,d,b),h!==null?h.sibling:null);jt(d);break;case 19:var R=(h.flags&128)!==0;if(E=(b&d.childLanes)!==0,E||(_c(h,d,b,!1),E=(b&d.childLanes)!==0),R){if(E)return my(h,d,b);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),A(Mr,Mr.current),E)break;return null;case 22:case 23:return d.lanes=0,uy(h,d,b);case 24:yu(d,gi,h.memoizedState.cache)}return Oo(h,d,b)}function gy(h,d,b){if(h!==null)if(h.memoizedProps!==d.pendingProps)fr=!0;else{if(!B1(h,b)&&(d.flags&128)===0)return fr=!1,T_(h,d,b);fr=(h.flags&131072)!==0}else fr=!1,ri&&(d.flags&1048576)!==0&&J(d,Uh,d.index);switch(d.lanes=0,d.tag){case 16:e:{h=d.pendingProps;var E=d.elementType,R=E._init;if(E=R(E._payload),d.type=E,typeof E=="function")Po(E)?(h=yl(E,h),d.tag=1,d=N1(null,d,E,h,b)):(d.tag=0,d=D1(null,d,E,h,b));else{if(E!=null){if(R=E.$$typeof,R===H0){d.tag=11,d=ly(null,d,E,h,b);break e}else if(R===_h){d.tag=14,d=oy(null,d,E,h,b);break e}}throw d=s(E)||E,Error(r(306,d,""))}}return d;case 0:return D1(h,d,d.type,d.pendingProps,b);case 1:return E=d.type,R=yl(E,d.pendingProps),N1(h,d,E,R,b);case 3:e:{if(Oe(d,d.stateNode.containerInfo),h===null)throw Error(r(387));var U=d.pendingProps;R=d.memoizedState,E=R.element,ft(h,d),It(d,U,null,b);var $=d.memoizedState;if(U=$.cache,yu(d,gi,U),U!==R.cache&&I1(d,[gi],b,!0),mt(),U=$.element,Da&&R.isDehydrated)if(R={element:U,isDehydrated:!1,cache:$.cache},d.updateQueue.baseState=R,d.memoizedState=R,d.flags&256){d=hy(h,d,U,b);break e}else if(U!==E){E=ye(Error(r(424)),d),dt(E),d=hy(h,d,U,b);break e}else for(Da&&(sa=Iy(d.stateNode.containerInfo),xa=d,ri=!0,bs=null,Ws=!0),b=Ig(d,null,U,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(rn(),U===E){d=Oo(h,d,b);break e}ea(h,d,U,b)}d=d.child}return d;case 26:if(gs)return uh(h,d),h===null?(b=Op(d.type,null,d.pendingProps,null))?d.memoizedState=b:ri||(d.stateNode=D_(d.type,d.pendingProps,Tl.current,d)):d.memoizedState=Op(d.type,h.memoizedProps,d.pendingProps,h.memoizedState),null;case 27:if(ra)return be(d),h===null&&ra&&ri&&(E=d.stateNode=Lg(d.type,d.pendingProps,Tl.current,Xr.current,!1),xa=d,Ws=!0,sa=Rp(E)),E=d.pendingProps.children,h!==null||ri?ea(h,d,E,b):d.child=Vu(d,null,E,b),uh(h,d),d.child;case 5:return h===null&&ri&&(jy(d.type,d.pendingProps,Xr.current),(R=E=sa)&&(E=Fy(E,d.type,d.pendingProps,Ws),E!==null?(d.stateNode=E,xa=d,sa=Rp(E),Ws=!1,R=!0):R=!1),R||Ye(d)),be(d),R=d.type,U=d.pendingProps,$=h!==null?h.memoizedProps:null,E=U.children,ku(R,U)?E=null:$!==null&&ku(R,$)&&(d.flags|=32),d.memoizedState!==null&&(R=Nn(h,d,Jr,null,null,b),so?dn._currentValue=R:dn._currentValue2=R),uh(h,d),ea(h,d,E,b),d.child;case 6:return h===null&&ri&&(Wy(d.pendingProps,Xr.current),(h=b=sa)&&(b=Hy(b,d.pendingProps,Ws),b!==null?(d.stateNode=b,xa=d,sa=null,h=!0):h=!1),h||Ye(d)),null;case 13:return dy(h,d,b);case 4:return Oe(d,d.stateNode.containerInfo),E=d.pendingProps,h===null?d.child=Vu(d,null,E,b):ea(h,d,E,b),d.child;case 11:return ly(h,d,d.type,d.pendingProps,b);case 7:return ea(h,d,d.pendingProps,b),d.child;case 8:return ea(h,d,d.pendingProps.children,b),d.child;case 12:return ea(h,d,d.pendingProps.children,b),d.child;case 10:return E=d.pendingProps,yu(d,d.type,E.value),ea(h,d,E.children,b),d.child;case 9:return R=d.type._context,E=d.pendingProps.children,Sc(d),R=ta(R),E=E(R),d.flags|=1,ea(h,d,E,b),d.child;case 14:return oy(h,d,d.type,d.pendingProps,b);case 15:return ep(h,d,d.type,d.pendingProps,b);case 19:return my(h,d,b);case 22:return uy(h,d,b);case 24:return Sc(d),E=ta(gi),h===null?(R=_u(),R===null&&(R=Pn,U=np(),R.pooledCache=U,U.refCount++,U!==null&&(R.pooledCacheLanes|=b),R=U),d.memoizedState={parent:E,cache:R},Rt(d),yu(d,gi,R)):((h.lanes&b)!==0&&(ft(h,d),It(d,null,null,b),mt()),R=h.memoizedState,U=d.memoizedState,R.parent!==E?(R={parent:E,cache:E},d.memoizedState=R,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=R),yu(d,gi,E)):(E=U.cache,yu(d,gi,E),E!==R.cache&&I1(d,[gi],b,!0))),ea(h,d,d.pendingProps.children,b),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function yu(h,d,b){so?(A(Ya,d._currentValue),d._currentValue=b):(A(Ya,d._currentValue2),d._currentValue2=b)}function Lo(h){var d=Ya.current;so?h._currentValue=d:h._currentValue2=d,S(Ya)}function k1(h,d,b){for(;h!==null;){var E=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),h===b)break;h=h.return}}function I1(h,d,b,E){var R=h.child;for(R!==null&&(R.return=h);R!==null;){var U=R.dependencies;if(U!==null){var $=R.child;U=U.firstContext;e:for(;U!==null;){var pe=U;U=R;for(var De=0;De<d.length;De++)if(pe.context===d[De]){U.lanes|=b,pe=U.alternate,pe!==null&&(pe.lanes|=b),k1(U.return,b,h),E||($=null);break e}U=pe.next}}else if(R.tag===18){if($=R.return,$===null)throw Error(r(341));$.lanes|=b,U=$.alternate,U!==null&&(U.lanes|=b),k1($,b,h),$=null}else $=R.child;if($!==null)$.return=R;else for($=R;$!==null;){if($===h){$=null;break}if(R=$.sibling,R!==null){R.return=$.return,$=R;break}$=$.return}R=$}}function _c(h,d,b,E){h=null;for(var R=d,U=!1;R!==null;){if(!U){if((R.flags&524288)!==0)U=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var $=R.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var pe=R.type;vs(R.pendingProps.value,$.value)||(h!==null?h.push(pe):h=[pe])}}else if(R===W0.current){if($=R.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(h!==null?h.push(dn):h=[dn])}R=R.return}h!==null&&I1(d,h,b,E),d.flags|=262144}function bu(h){for(h=h.firstContext;h!==null;){var d=h.context;if(!vs(so?d._currentValue:d._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Sc(h){qu=h,ar=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function ta(h){return P1(qu,h)}function fh(h,d){return qu===null&&Sc(h),P1(h,d)}function P1(h,d){var b=so?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:b,next:null},ar===null){if(h===null)throw Error(r(308));ar=d,h.dependencies={lanes:0,firstContext:d},h.flags|=524288}else ar=ar.next=d;return b}function np(){return{controller:new r2,data:new Map,refCount:0}}function E0(h){h.refCount--,h.refCount===0&&Zo(Ic,function(){h.controller.abort()})}function _u(){var h=Ko.current;return h!==null?h:Pn.pooledCache}function ip(h,d){d===null?A(Ko,Ko.current):A(Ko,d.pool)}function vy(){var h=_u();return h===null?null:{parent:so?gi._currentValue:gi._currentValue2,pool:h}}function fs(h){h.flags|=4}function F1(h,d){if(h!==null&&h.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(h=d.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function rp(h,d,b,E){if(ia)for(b=d.child;b!==null;){if(b.tag===5||b.tag===6)ao(h,b.stateNode);else if(!(b.tag===4||ra&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(ps)for(var R=d.child;R!==null;){if(R.tag===5){var U=R.stateNode;b&&E&&(U=_g(U,R.type,R.memoizedProps)),ao(h,U)}else if(R.tag===6)U=R.stateNode,b&&E&&(U=Sg(U,R.memoizedProps)),ao(h,U);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)U=R.child,U!==null&&(U.return=R),rp(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function A0(h,d,b,E){if(ps)for(var R=d.child;R!==null;){if(R.tag===5){var U=R.stateNode;b&&E&&(U=_g(U,R.type,R.memoizedProps)),yg(h,U)}else if(R.tag===6)U=R.stateNode,b&&E&&(U=Sg(U,R.memoizedProps)),yg(h,U);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)U=R.child,U!==null&&(U.return=R),A0(h,R,!(R.memoizedProps!==null&&R.memoizedProps.mode==="manual"),!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===d)break;for(;R.sibling===null;){if(R.return===null||R.return===d)return;R=R.return}R.sibling.return=R.return,R=R.sibling}}function C0(h,d){if(ps&&F1(h,d)){h=d.stateNode;var b=h.containerInfo,E=Ap();A0(E,d,!1,!1),h.pendingChildren=E,fs(d),Ly(b,E)}}function H1(h,d,b,E){if(ia)h.memoizedProps!==E&&fs(d);else if(ps){var R=h.stateNode,U=h.memoizedProps;if((h=F1(h,d))||U!==E){var $=Xr.current;U=xg(R,b,U,E,!h,null),U===R?d.stateNode=R:(Go(U,b,E,$)&&fs(d),d.stateNode=U,h?rp(U,d,!1,!1):fs(d))}else d.stateNode=R}}function R0(h,d,b){if(Ny(d,b)){if(h.flags|=16777216,!qo(d,b))if(vh())h.flags|=8192;else throw kc=Ip,kg}else h.flags&=-16777217}function V1(h,d){if(Zy(d)){if(h.flags|=16777216,!zg(d))if(vh())h.flags|=8192;else throw kc=Ip,kg}else h.flags&=-16777217}function hh(h,d){d!==null&&(h.flags|=4),h.flags&16384&&(d=h.tag!==22?B():536870912,h.lanes|=d,Jo|=d)}function Mc(h,d){if(!ri)switch(h.tailMode){case"hidden":d=h.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function Hi(h){var d=h.alternate!==null&&h.alternate.child===h.child,b=0,E=0;if(d)for(var R=h.child;R!==null;)b|=R.lanes|R.childLanes,E|=R.subtreeFlags&31457280,E|=R.flags&31457280,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)b|=R.lanes|R.childLanes,E|=R.subtreeFlags,E|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=E,h.childLanes=b,d}function xy(h,d,b){var E=d.pendingProps;switch(Z(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(d),null;case 1:return Hi(d),null;case 3:return b=d.stateNode,E=null,h!==null&&(E=h.memoizedState.cache),d.memoizedState.cache!==E&&(d.flags|=2048),Lo(gi),We(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(kt(d)?fs(d):h===null||h.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,bs!==null&&(Bo(bs),bs=null))),C0(h,d),Hi(d),null;case 26:if(gs){b=d.type;var R=d.memoizedState;return h===null?(fs(d),R!==null?(Hi(d),V1(d,R)):(Hi(d),R0(d,b,E))):R?R!==h.memoizedState?(fs(d),Hi(d),V1(d,R)):(Hi(d),d.flags&=-16777217):(ia?h.memoizedProps!==E&&fs(d):H1(h,d,b,E),Hi(d),R0(d,b,E)),null}case 27:if(ra){if(Ne(d),b=Tl.current,R=d.type,h!==null&&d.stateNode!=null)ia?h.memoizedProps!==E&&fs(d):H1(h,d,R,E);else{if(!E){if(d.stateNode===null)throw Error(r(166));return Hi(d),null}h=Xr.current,kt(d)?at(d,h):(h=Lg(R,E,b,h,!0),d.stateNode=h,fs(d))}return Hi(d),null}case 5:if(Ne(d),b=d.type,h!==null&&d.stateNode!=null)H1(h,d,b,E);else{if(!E){if(d.stateNode===null)throw Error(r(166));return Hi(d),null}h=Xr.current,kt(d)?at(d,h):(R=lg(b,E,Tl.current,h,d),rp(R,d,!1,!1),d.stateNode=R,Go(R,b,E,h)&&fs(d))}return Hi(d),R0(d,d.type,d.pendingProps),null;case 6:if(h&&d.stateNode!=null)b=h.memoizedProps,ia?b!==E&&fs(d):ps&&(b!==E?(d.stateNode=_p(E,Tl.current,Xr.current,d),fs(d)):d.stateNode=h.stateNode);else{if(typeof E!="string"&&d.stateNode===null)throw Error(r(166));if(h=Tl.current,b=Xr.current,kt(d)){if(!Da)throw Error(r(176));if(h=d.stateNode,b=d.memoizedProps,E=null,R=xa,R!==null)switch(R.tag){case 27:case 5:E=R.memoizedProps}Gy(h,b,d,E)||Ye(d)}else d.stateNode=_p(E,h,b,d)}return Hi(d),null;case 13:if(E=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(R=kt(d),E!==null&&E.dehydrated!==null){if(h===null){if(!R)throw Error(r(318));if(!Da)throw Error(r(344));if(R=d.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(r(317));G0(R,d)}else rn(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Hi(d),R=!1}else bs!==null&&(Bo(bs),bs=null),R=!0;if(!R)return d.flags&256?(Wn(d),d):(Wn(d),null)}if(Wn(d),(d.flags&128)!==0)return d.lanes=b,d;if(b=E!==null,h=h!==null&&h.memoizedState!==null,b){E=d.child,R=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(R=E.alternate.memoizedState.cachePool.pool);var U=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(U=E.memoizedState.cachePool.pool),U!==R&&(E.flags|=2048)}return b!==h&&b&&(d.child.flags|=8192),hh(d,d.updateQueue),Hi(d),null;case 4:return We(),C0(h,d),h===null&&cg(d.stateNode.containerInfo),Hi(d),null;case 10:return Lo(d.type),Hi(d),null;case 19:if(S(Mr),R=d.memoizedState,R===null)return Hi(d),null;if(E=(d.flags&128)!==0,U=R.rendering,U===null)if(E)Mc(R,!1);else{if(ti!==0||h!==null&&(h.flags&128)!==0)for(h=d.child;h!==null;){if(U=ii(h),U!==null){for(d.flags|=128,Mc(R,!1),h=U.updateQueue,d.updateQueue=h,hh(d,h),d.subtreeFlags=0,h=b,b=d.child;b!==null;)Fo(b,h),b=b.sibling;return A(Mr,Mr.current&1|2),d.child}h=h.sibling}R.tail!==null&&aa()>$i&&(d.flags|=128,E=!0,Mc(R,!1),d.lanes=4194304)}else{if(!E)if(h=ii(U),h!==null){if(d.flags|=128,E=!0,h=h.updateQueue,d.updateQueue=h,hh(d,h),Mc(R,!0),R.tail===null&&R.tailMode==="hidden"&&!U.alternate&&!ri)return Hi(d),null}else 2*aa()-R.renderingStartTime>$i&&b!==536870912&&(d.flags|=128,E=!0,Mc(R,!1),d.lanes=4194304);R.isBackwards?(U.sibling=d.child,d.child=U):(h=R.last,h!==null?h.sibling=U:d.child=U,R.last=U)}return R.tail!==null?(d=R.tail,R.rendering=d,R.tail=d.sibling,R.renderingStartTime=aa(),d.sibling=null,h=Mr.current,A(Mr,E?h&1|2:h&1),d):(Hi(d),null);case 22:case 23:return Wn(d),Wt(),E=d.memoizedState!==null,h!==null?h.memoizedState!==null!==E&&(d.flags|=8192):E&&(d.flags|=8192),E?(b&536870912)!==0&&(d.flags&128)===0&&(Hi(d),d.subtreeFlags&6&&(d.flags|=8192)):Hi(d),b=d.updateQueue,b!==null&&hh(d,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),E=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(E=d.memoizedState.cachePool.pool),E!==b&&(d.flags|=2048),h!==null&&S(Ko),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Lo(gi),Hi(d),null;case 25:return null}throw Error(r(156,d.tag))}function yy(h,d){switch(Z(d),d.tag){case 1:return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return Lo(gi),We(),h=d.flags,(h&65536)!==0&&(h&128)===0?(d.flags=h&-65537|128,d):null;case 26:case 27:case 5:return Ne(d),null;case 13:if(Wn(d),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(r(340));rn()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return S(Mr),null;case 4:return We(),null;case 10:return Lo(d.type),null;case 22:case 23:return Wn(d),Wt(),h!==null&&S(Ko),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 24:return Lo(gi),null;case 25:return null;default:return null}}function G1(h,d){switch(Z(d),d.tag){case 3:Lo(gi),We();break;case 26:case 27:case 5:Ne(d);break;case 4:We();break;case 13:Wn(d);break;case 19:S(Mr);break;case 10:Lo(d.type);break;case 22:case 23:Wn(d),Wt(),h!==null&&S(Ko);break;case 24:Lo(gi)}}function dh(h,d){try{var b=d.updateQueue,E=b!==null?b.lastEffect:null;if(E!==null){var R=E.next;b=R;do{if((b.tag&h)===h){E=void 0;var U=b.create,$=b.inst;E=U(),$.destroy=E}b=b.next}while(b!==R)}}catch(pe){Gn(d,d.return,pe)}}function Su(h,d,b){try{var E=d.updateQueue,R=E!==null?E.lastEffect:null;if(R!==null){var U=R.next;E=U;do{if((E.tag&h)===h){var $=E.inst,pe=$.destroy;if(pe!==void 0){$.destroy=void 0,R=d;var De=b;try{pe()}catch(je){Gn(R,De,je)}}}E=E.next}while(E!==U)}}catch(je){Gn(d,d.return,je)}}function by(h){var d=h.updateQueue;if(d!==null){var b=h.stateNode;try{yt(d,b)}catch(E){Gn(h,h.return,E)}}}function _y(h,d,b){b.props=yl(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(E){Gn(h,d,E)}}function wc(h,d){try{var b=h.ref;if(b!==null){var E=h.stateNode;switch(h.tag){case 26:case 27:case 5:var R=V0(E);break;default:R=E}typeof b=="function"?h.refCleanup=b(R):b.current=R}}catch(U){Gn(h,d,U)}}function Vi(h,d){var b=h.ref,E=h.refCleanup;if(b!==null)if(typeof E=="function")try{E()}catch(R){Gn(h,d,R)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(R){Gn(h,d,R)}else b.current=null}function D0(h){var d=h.type,b=h.memoizedProps,E=h.stateNode;try{A_(E,d,b,h)}catch(R){Gn(h,h.return,R)}}function q1(h,d,b){try{pg(h.stateNode,h.type,b,d,h)}catch(E){Gn(h,h.return,E)}}function X1(h){return h.tag===5||h.tag===3||(gs?h.tag===26:!1)||(ra?h.tag===27:!1)||h.tag===4}function ap(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||X1(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!ra||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function sp(h,d,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?gg(b,h,d):zy(b,h);else if(!(E===4||ra&&E===27)&&(h=h.child,h!==null))for(sp(h,d,b),h=h.sibling;h!==null;)sp(h,d,b),h=h.sibling}function N0(h,d,b){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?mg(b,h,d):dg(b,h);else if(!(E===4||ra&&E===27)&&(h=h.child,h!==null))for(N0(h,d,b),h=h.sibling;h!==null;)N0(h,d,b),h=h.sibling}function Sy(h,d,b){h=h.containerInfo;try{bg(h,b)}catch(E){Gn(d,d.return,E)}}function z0(h,d){for(Bu(h.containerInfo),sr=d;sr!==null;)if(h=sr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,sr=d;else for(;sr!==null;){h=sr;var b=h.alternate;switch(d=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&b!==null){d=void 0;var E=h,R=b.memoizedProps;b=b.memoizedState;var U=E.stateNode;try{var $=yl(E.type,R,E.elementType===E.type);d=U.getSnapshotBeforeUpdate($,b),U.__reactInternalSnapshotBeforeUpdate=d}catch(pe){Gn(E,E.return,pe)}}break;case 3:(d&1024)!==0&&ia&&Ep(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=h.sibling,d!==null){d.return=h.return,sr=d;break}sr=h.return}return $=Pc,Pc=!1,$}function lp(h,d,b){var E=b.flags;switch(b.tag){case 0:case 11:case 15:$l(h,b),E&4&&dh(5,b);break;case 1:if($l(h,b),E&4)if(h=b.stateNode,d===null)try{h.componentDidMount()}catch(pe){Gn(b,b.return,pe)}else{var R=yl(b.type,d.memoizedProps);d=d.memoizedState;try{h.componentDidUpdate(R,d,h.__reactInternalSnapshotBeforeUpdate)}catch(pe){Gn(b,b.return,pe)}}E&64&&by(b),E&512&&wc(b,b.return);break;case 3:if($l(h,b),E&64&&(E=b.updateQueue,E!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=V0(b.child.stateNode);break;case 1:h=b.child.stateNode}try{yt(E,h)}catch(pe){Gn(b,b.return,pe)}}break;case 26:if(gs){$l(h,b),E&512&&wc(b,b.return);break}case 27:case 5:$l(h,b),d===null&&E&4&&D0(b),E&512&&wc(b,b.return);break;case 12:$l(h,b);break;case 13:$l(h,b),E&4&&Mu(h,b);break;case 22:if(R=b.memoizedState!==null||Lr,!R){d=d!==null&&d.memoizedState!==null||Ji;var U=Lr,$=Ji;Lr=R,(Ji=d)&&!$?Tu(h,b,(b.subtreeFlags&8772)!==0):$l(h,b),Lr=U,Ji=$}E&512&&(b.memoizedProps.mode==="manual"?wc(b,b.return):Vi(b,b.return));break;default:$l(h,b)}}function O0(h){var d=h.alternate;d!==null&&(h.alternate=null,O0(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&fg(d)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function hs(h,d,b){for(b=b.child;b!==null;)op(h,d,b),b=b.sibling}function op(h,d,b){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(j0,b)}catch{}switch(b.tag){case 26:if(gs){Ji||Vi(b,d),hs(h,d,b),b.memoizedState?Ag(b.memoizedState):b.stateNode&&Dg(b.stateNode);break}case 27:if(ra){Ji||Vi(b,d);var E=hr,R=ja;hr=b.stateNode,hs(h,d,b),Ky(b.stateNode),hr=E,ja=R;break}case 5:Ji||Vi(b,d);case 6:if(ia){if(E=hr,R=ja,hr=null,hs(h,d,b),hr=E,ja=R,hr!==null)if(ja)try{ur(hr,b.stateNode)}catch(U){Gn(b,d,U)}else try{Na(hr,b.stateNode)}catch(U){Gn(b,d,U)}}else hs(h,d,b);break;case 18:ia&&hr!==null&&(ja?wg(hr,b.stateNode):Xy(hr,b.stateNode));break;case 4:ia?(E=hr,R=ja,hr=b.stateNode.containerInfo,ja=!0,hs(h,d,b),hr=E,ja=R):(ps&&Sy(b.stateNode,b,Ap()),hs(h,d,b));break;case 0:case 11:case 14:case 15:Ji||Su(2,b,d),Ji||Su(4,b,d),hs(h,d,b);break;case 1:Ji||(Vi(b,d),E=b.stateNode,typeof E.componentWillUnmount=="function"&&_y(b,d,E)),hs(h,d,b);break;case 21:hs(h,d,b);break;case 22:Ji||Vi(b,d),Ji=(E=Ji)||b.memoizedState!==null,hs(h,d,b),Ji=E;break;default:hs(h,d,b)}}function Mu(h,d){if(Da&&d.memoizedState===null&&(h=d.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{Np(h)}catch(b){Gn(d,d.return,b)}}function L0(h){switch(h.tag){case 13:case 19:var d=h.stateNode;return d===null&&(d=h.stateNode=new $0),d;case 22:return h=h.stateNode,d=h._retryCache,d===null&&(d=h._retryCache=new $0),d;default:throw Error(r(435,h.tag))}}function ph(h,d){var b=L0(h);d.forEach(function(E){var R=K1.bind(null,h,E);b.has(E)||(b.add(E),E.then(R,R))})}function Aa(h,d){var b=d.deletions;if(b!==null)for(var E=0;E<b.length;E++){var R=b[E],U=h,$=d;if(ia){var pe=$;e:for(;pe!==null;){switch(pe.tag){case 27:case 5:hr=pe.stateNode,ja=!1;break e;case 3:hr=pe.stateNode.containerInfo,ja=!0;break e;case 4:hr=pe.stateNode.containerInfo,ja=!0;break e}pe=pe.return}if(hr===null)throw Error(r(160));op(U,$,R),hr=null,ja=!1}else op(U,$,R);U=R.alternate,U!==null&&(U.return=null),R.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)wu(d,h),d=d.sibling}function wu(h,d){var b=h.alternate,E=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:Aa(d,h),Pa(h),E&4&&(Su(3,h,h.return),dh(3,h),Su(5,h,h.return));break;case 1:Aa(d,h),Pa(h),E&512&&(Ji||b===null||Vi(b,b.return)),E&64&&Lr&&(h=h.updateQueue,h!==null&&(E=h.callbacks,E!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?E:b.concat(E))));break;case 26:if(gs){var R=za;Aa(d,h),Pa(h),E&512&&(Ji||b===null||Vi(b,b.return)),E&4&&(E=b!==null?b.memoizedState:null,d=h.memoizedState,b===null?d===null?h.stateNode===null?h.stateNode=Cg(R,h.type,h.memoizedProps,h):Rg(R,h.type,h.stateNode):h.stateNode=Eg(R,d,h.memoizedProps):E!==d?(E===null?b.stateNode!==null&&Dg(b.stateNode):Ag(E),d===null?Rg(R,h.type,h.stateNode):Eg(R,d,h.memoizedProps)):d===null&&h.stateNode!==null&&q1(h,h.memoizedProps,b.memoizedProps));break}case 27:if(ra&&E&4&&h.alternate===null){R=h.stateNode;var U=h.memoizedProps;try{N_(R),z_(h.type,U,R,h)}catch(gt){Gn(h,h.return,gt)}}case 5:if(Aa(d,h),Pa(h),E&512&&(Ji||b===null||Vi(b,b.return)),ia){if(h.flags&32){d=h.stateNode;try{Ah(d)}catch(gt){Gn(h,h.return,gt)}}E&4&&h.stateNode!=null&&(d=h.memoizedProps,q1(h,d,b!==null?b.memoizedProps:d)),E&1024&&(Xu=!0)}break;case 6:if(Aa(d,h),Pa(h),E&4&&ia){if(h.stateNode===null)throw Error(r(162));E=h.memoizedProps,b=b!==null?b.memoizedProps:E,d=h.stateNode;try{Oy(d,b,E)}catch(gt){Gn(h,h.return,gt)}}break;case 3:if(gs?(Ng(),R=za,za=zp(d.containerInfo),Aa(d,h),za=R):Aa(d,h),Pa(h),E&4){if(ia&&Da&&b!==null&&b.memoizedState.isDehydrated)try{Dp(d.containerInfo)}catch(gt){Gn(h,h.return,gt)}if(ps){E=d.containerInfo,b=d.pendingChildren;try{bg(E,b)}catch(gt){Gn(h,h.return,gt)}}}Xu&&(Xu=!1,Y1(h));break;case 4:gs?(b=za,za=zp(h.stateNode.containerInfo),Aa(d,h),Pa(h),za=b):(Aa(d,h),Pa(h)),E&4&&ps&&Sy(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:Aa(d,h),Pa(h);break;case 13:Aa(d,h),Pa(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(po=aa()),E&4&&(E=h.updateQueue,E!==null&&(h.updateQueue=null,ph(h,E)));break;case 22:E&512&&(Ji||b===null||Vi(b,b.return)),R=h.memoizedState!==null;var $=b!==null&&b.memoizedState!==null,pe=Lr,De=Ji;if(Lr=pe||R,Ji=De||$,Aa(d,h),Ji=De,Lr=pe,Pa(h),d=h.stateNode,d._current=h,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,E&8192&&(d._visibility=R?d._visibility&-2:d._visibility|1,R&&(d=Lr||Ji,b===null||$||d||U0(h)),ia&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,ia)for(d=h;;){if(d.tag===5||gs&&d.tag===26||ra&&d.tag===27){if(b===null){$=b=d;try{U=$.stateNode,R?Ch(U):vg($.stateNode,$.memoizedProps)}catch(gt){Gn($,$.return,gt)}}}else if(d.tag===6){if(b===null){$=d;try{var je=$.stateNode;R?Tp(je):Xo(je,$.memoizedProps)}catch(gt){Gn($,$.return,gt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}E&4&&(E=h.updateQueue,E!==null&&(b=E.retryQueue,b!==null&&(E.retryQueue=null,ph(h,b))));break;case 19:Aa(d,h),Pa(h),E&4&&(E=h.updateQueue,E!==null&&(h.updateQueue=null,ph(h,E)));break;case 21:break;default:Aa(d,h),Pa(h)}}function Pa(h){var d=h.flags;if(d&2){try{if(ia&&(!ra||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(X1(b)){var E=b;break e}b=b.return}throw Error(r(160))}switch(E.tag){case 27:if(ra){var R=E.stateNode,U=ap(h);N0(h,U,R);break}case 5:var $=E.stateNode;E.flags&32&&(Ah($),E.flags&=-33);var pe=ap(h);N0(h,pe,$);break;case 3:case 4:var De=E.stateNode.containerInfo,je=ap(h);sp(h,je,De);break;default:throw Error(r(161))}}}catch(gt){Gn(h,h.return,gt)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function Y1(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var d=h;Y1(d),d.tag===5&&d.flags&1024&&Ti(d.stateNode),h=h.sibling}}function $l(h,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)lp(h,d.alternate,d),d=d.sibling}function U0(h){for(h=h.child;h!==null;){var d=h;switch(d.tag){case 0:case 11:case 14:case 15:Su(4,d,d.return),U0(d);break;case 1:Vi(d,d.return);var b=d.stateNode;typeof b.componentWillUnmount=="function"&&_y(d,d.return,b),U0(d);break;case 26:case 27:case 5:Vi(d,d.return),U0(d);break;case 22:Vi(d,d.return),d.memoizedState===null&&U0(d);break;default:U0(d)}h=h.sibling}}function Tu(h,d,b){for(b=b&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var E=d.alternate,R=h,U=d,$=U.flags;switch(U.tag){case 0:case 11:case 15:Tu(R,U,b),dh(4,U);break;case 1:if(Tu(R,U,b),E=U,R=E.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch(je){Gn(E,E.return,je)}if(E=U,R=E.updateQueue,R!==null){var pe=E.stateNode;try{var De=R.shared.hiddenCallbacks;if(De!==null)for(R.shared.hiddenCallbacks=null,R=0;R<De.length;R++)ue(De[R],pe)}catch(je){Gn(E,E.return,je)}}b&&$&64&&by(U),wc(U,U.return);break;case 26:case 27:case 5:Tu(R,U,b),b&&E===null&&$&4&&D0(U),wc(U,U.return);break;case 12:Tu(R,U,b);break;case 13:Tu(R,U,b),b&&$&4&&Mu(R,U);break;case 22:U.memoizedState===null&&Tu(R,U,b),wc(U,U.return);break;default:Tu(R,U,b)}d=d.sibling}}function j1(h,d){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(h=d.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&E0(b))}function up(h,d){h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&E0(h))}function Uo(h,d,b,E){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)cp(h,d,b,E),d=d.sibling}function cp(h,d,b,E){var R=d.flags;switch(d.tag){case 0:case 11:case 15:Uo(h,d,b,E),R&2048&&dh(9,d);break;case 3:Uo(h,d,b,E),R&2048&&(h=null,d.alternate!==null&&(h=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==h&&(d.refCount++,h!=null&&E0(h)));break;case 12:if(R&2048){Uo(h,d,b,E),h=d.stateNode;try{var U=d.memoizedProps,$=U.id,pe=U.onPostCommit;typeof pe=="function"&&pe($,d.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(De){Gn(d,d.return,De)}}else Uo(h,d,b,E);break;case 23:break;case 22:U=d.stateNode,d.memoizedState!==null?U._visibility&4?Uo(h,d,b,E):Eu(h,d):U._visibility&4?Uo(h,d,b,E):(U._visibility|=4,pa(h,d,b,E,(d.subtreeFlags&10256)!==0)),R&2048&&j1(d.alternate,d);break;case 24:Uo(h,d,b,E),R&2048&&up(d.alternate,d);break;default:Uo(h,d,b,E)}}function pa(h,d,b,E,R){for(R=R&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var U=h,$=d,pe=b,De=E,je=$.flags;switch($.tag){case 0:case 11:case 15:pa(U,$,pe,De,R),dh(8,$);break;case 23:break;case 22:var gt=$.stateNode;$.memoizedState!==null?gt._visibility&4?pa(U,$,pe,De,R):Eu(U,$):(gt._visibility|=4,pa(U,$,pe,De,R)),R&&je&2048&&j1($.alternate,$);break;case 24:pa(U,$,pe,De,R),R&&je&2048&&up($.alternate,$);break;default:pa(U,$,pe,De,R)}d=d.sibling}}function Eu(h,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var b=h,E=d,R=E.flags;switch(E.tag){case 22:Eu(b,E),R&2048&&j1(E.alternate,E);break;case 24:Eu(b,E),R&2048&&up(E.alternate,E);break;default:Eu(b,E)}d=d.sibling}}function Hr(h){if(h.subtreeFlags&Fc)for(h=h.child;h!==null;)Tc(h),h=h.sibling}function Tc(h){switch(h.tag){case 26:Hr(h),h.flags&Fc&&(h.memoizedState!==null?Og(za,h.memoizedState,h.memoizedProps):tr(h.type,h.memoizedProps));break;case 5:Hr(h),h.flags&Fc&&tr(h.type,h.memoizedProps);break;case 3:case 4:if(gs){var d=za;za=zp(h.stateNode.containerInfo),Hr(h),za=d}else Hr(h);break;case 22:h.memoizedState===null&&(d=h.alternate,d!==null&&d.memoizedState!==null?(d=Fc,Fc=16777216,Hr(h),Fc=d):Hr(h));break;default:Hr(h)}}function fp(h){var d=h.alternate;if(d!==null&&(h=d.child,h!==null)){d.child=null;do d=h.sibling,h.sibling=null,h=d;while(h!==null)}}function Au(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var E=d[b];sr=E,Cu(E,h)}fp(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)mh(h),h=h.sibling}function mh(h){switch(h.tag){case 0:case 11:case 15:Au(h),h.flags&2048&&Su(9,h,h.return);break;case 3:Au(h);break;case 12:Au(h);break;case 22:var d=h.stateNode;h.memoizedState!==null&&d._visibility&4&&(h.return===null||h.return.tag!==13)?(d._visibility&=-5,B0(h)):Au(h);break;default:Au(h)}}function B0(h){var d=h.deletions;if((h.flags&16)!==0){if(d!==null)for(var b=0;b<d.length;b++){var E=d[b];sr=E,Cu(E,h)}fp(h)}for(h=h.child;h!==null;){switch(d=h,d.tag){case 0:case 11:case 15:Su(8,d,d.return),B0(d);break;case 22:b=d.stateNode,b._visibility&4&&(b._visibility&=-5,B0(d));break;default:B0(d)}h=h.sibling}}function Cu(h,d){for(;sr!==null;){var b=sr;switch(b.tag){case 0:case 11:case 15:Su(8,b,d);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var E=b.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:E0(b.memoizedState.cache)}if(E=b.child,E!==null)E.return=b,sr=E;else e:for(b=h;sr!==null;){E=sr;var R=E.sibling,U=E.return;if(O0(E),E===b){sr=null;break e}if(R!==null){R.return=U,sr=R;break e}sr=U}}}function hp(h){var d=ug(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(h=Lc(h),h===null)throw Error(r(362));return h.stateNode.current}function k0(h,d){var b=h.tag;switch(d.$$typeof){case Gh:if(h.type===d.value)return!0;break;case Gp:e:{for(d=d.value,h=[h,0],b=0;b<h.length;){var E=h[b++],R=E.tag,U=h[b++],$=d[U];if(R!==5&&R!==26&&R!==27||!oo(E)){for(;$!=null&&k0(E,$);)U++,$=d[U];if(U===d.length){d=!0;break e}else for(E=E.child;E!==null;)h.push(E,U),E=E.sibling}}d=!1}return d;case qp:if((b===5||b===26||b===27)&&E_(h.stateNode,d.value))return!0;break;case vi:if((b===5||b===6||b===26||b===27)&&(h=Eh(h),h!==null&&0<=h.indexOf(d.value)))return!0;break;case ei:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Ru(h){switch(h.$$typeof){case Gh:return"<"+(s(h.value)||"Unknown")+">";case Gp:return":has("+(Ru(h)||"")+")";case qp:return'[role="'+h.value+'"]';case vi:return'"'+h.value+'"';case ei:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function My(h,d){var b=[];h=[h,0];for(var E=0;E<h.length;){var R=h[E++],U=R.tag,$=h[E++],pe=d[$];if(U!==5&&U!==26&&U!==27||!oo(R)){for(;pe!=null&&k0(R,pe);)$++,pe=d[$];if($===d.length)b.push(R);else for(R=R.child;R!==null;)h.push(R,$),R=R.sibling}}return b}function Ca(h,d){if(!lo)throw Error(r(363));h=hp(h),h=My(h,d),d=[],h=Array.from(h);for(var b=0;b<h.length;){var E=h[b++],R=E.tag;if(R===5||R===26||R===27)oo(E)||d.push(E.stateNode);else for(E=E.child;E!==null;)h.push(E),E=E.sibling}return d}function Ra(){if((nn&2)!==0&&zn!==0)return zn&-zn;if(on.T!==null){var h=Xa;return h!==0?h:ve()}return Ys()}function eo(){Wa===0&&(Wa=(zn&536870912)===0||ri?V():536870912);var h=Ms.current;return h!==null&&(h.flags|=32),Wa}function ma(h,d,b){(h===Pn&&Ei===2||h.cancelPendingCommit!==null)&&(_l(h,0),bl(h,zn,Wa,!1)),X(h,b),((nn&2)===0||h!==Pn)&&(h===Pn&&((nn&2)===0&&(Cl|=b),ti===4&&bl(h,zn,Wa,!1)),xt(h))}function gh(h,d,b){if((nn&6)!==0)throw Error(r(327));var E=!b&&(d&60)===0&&(d&h.expiredLanes)===0||z(h,d),R=E?io(h,d):to(h,d,!0),U=E;do{if(R===0){ws&&!E&&bl(h,d,0,!1);break}else if(R===6)bl(h,d,0,!xi);else{if(b=h.current.alternate,U&&!wy(b)){R=to(h,d,!1),U=!1;continue}if(R===2){if(U=d,h.errorRecoveryDisabledLanes&U)var $=0;else $=h.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){d=$;e:{var pe=h;R=ef;var De=Da&&pe.current.memoizedState.isDehydrated;if(De&&(_l(pe,$).flags|=256),$=to(pe,$,!1),$!==2){if(Qo&&!De){pe.errorRecoveryDisabledLanes|=U,Cl|=U,R=4;break e}U=Es,Es=R,U!==null&&Bo(U)}R=$}if(U=!1,R!==2)continue}}if(R===1){_l(h,0),bl(h,d,0,!0);break}e:{switch(E=h,R){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){bl(E,d,Wa,!xi);break e}break;case 2:Es=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=b,E.finishedLanes=d,(d&62914560)===d&&(U=po+300-aa(),10<U)){if(bl(E,d,Wa,!xi),k(E,0)!==0)break e;E.timeoutHandle=og(dp.bind(null,E,b,Es,Rl,tf,d,Wa,Cl,Jo,xi,2,-0,0),U);break e}dp(E,b,Es,Rl,tf,d,Wa,Cl,Jo,xi,0,-0,0)}}break}while(!0);xt(h)}function Bo(h){Es===null?Es=h:Es.push.apply(Es,h)}function dp(h,d,b,E,R,U,$,pe,De,je,gt,zt,Ut){var bn=d.subtreeFlags;if((bn&8192||(bn&16785408)===16785408)&&(ms(),Tc(d),d=Sp(),d!==null)){h.cancelPendingCommit=d(Li.bind(null,h,b,E,R,$,pe,De,1,zt,Ut)),bl(h,U,$,!je);return}Li(h,b,E,R,$,pe,De,gt,zt,Ut)}function wy(h){for(var d=h;;){var b=d.tag;if((b===0||b===11||b===15)&&d.flags&16384&&(b=d.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var E=0;E<b.length;E++){var R=b[E],U=R.getSnapshot;R=R.value;try{if(!vs(U(),R))return!1}catch{return!1}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function bl(h,d,b,E){d&=~_a,d&=~Cl,h.suspendedLanes|=d,h.pingedLanes&=~d,E&&(h.warmLanes|=d),E=h.expirationTimes;for(var R=d;0<R;){var U=31-Ga(R),$=1<<U;E[U]=-1,R&=~$}b!==0&&se(h,b,d)}function W1(){return(nn&6)===0?(tt(0),!1):!0}function Fa(){if(Sn!==null){if(Ei===0)var h=Sn.return;else h=Sn,ar=qu=null,Fi(h),co=null,Zs=0,h=Sn;for(;h!==null;)G1(h.alternate,h),h=h.return;Sn=null}}function _l(h,d){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==Oc&&(h.timeoutHandle=Oc,Th(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Fa(),Pn=h,Sn=b=ga(h.current,null),zn=d,Ei=0,dr=null,xi=!1,ws=z(h,d),Qo=!1,Jo=Wa=_a=Cl=Ts=ti=0,Es=ef=null,tf=!1,(d&8)!==0&&(d|=d&32);var E=h.entangledLanes;if(E!==0)for(h=h.entanglements,E&=d;0<E;){var R=31-Ga(E),U=1<<R;d|=h[R],E&=~U}return Al=d,Fe(),b}function Ec(h,d){An=null,on.H=ai,d===Si?(d=Dt(),Ei=3):d===kg?(d=Dt(),Ei=4):Ei=d===i2?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,dr=d,Sn===null&&(ti=1,Jd(h,ye(d,h.current)))}function vh(){var h=Ms.current;return h===null?!0:(zn&4194176)===zn?Ks===null:(zn&62914560)===zn||(zn&536870912)!==0?h===Ks:!1}function I0(){var h=on.H;return on.H=ai,h===null?ai:h}function ds(){var h=on.A;return on.A=Vp,h}function Ha(){ti=4,xi||(zn&4194176)!==zn&&Ms.current!==null||(ws=!0),(Ts&134217727)===0&&(Cl&134217727)===0||Pn===null||bl(Pn,zn,Wa,!1)}function to(h,d,b){var E=nn;nn|=2;var R=I0(),U=ds();(Pn!==h||zn!==d)&&(Rl=null,_l(h,d)),d=!1;var $=ti;e:do try{if(Ei!==0&&Sn!==null){var pe=Sn,De=dr;switch(Ei){case 8:Fa(),$=6;break e;case 3:case 2:case 6:Ms.current===null&&(d=!0);var je=Ei;if(Ei=0,dr=null,Du(h,pe,De,je),b&&ws){$=0;break e}break;default:je=Ei,Ei=0,dr=null,Du(h,pe,De,je)}}no(),$=ti;break}catch(gt){Ec(h,gt)}while(!0);return d&&h.shellSuspendCounter++,ar=qu=null,nn=E,on.H=R,on.A=U,Sn===null&&(Pn=null,zn=0,Fe()),$}function no(){for(;Sn!==null;)Z1(Sn)}function io(h,d){var b=nn;nn|=2;var E=I0(),R=ds();Pn!==h||zn!==d?(Rl=null,$i=aa()+500,_l(h,d)):ws=z(h,d);e:do try{if(Ei!==0&&Sn!==null){d=Sn;var U=dr;t:switch(Ei){case 1:Ei=0,dr=null,Du(h,d,U,1);break;case 2:if(ot(U)){Ei=0,dr=null,pp(d);break}d=function(){Ei===2&&Pn===h&&(Ei=7),xt(h)},U.then(d,d);break e;case 3:Ei=7;break e;case 4:Ei=5;break e;case 7:ot(U)?(Ei=0,dr=null,pp(d)):(Ei=0,dr=null,Du(h,d,U,7));break;case 5:var $=null;switch(Sn.tag){case 26:$=Sn.memoizedState;case 5:case 27:var pe=Sn,De=pe.type,je=pe.pendingProps;if($?zg($):qo(De,je)){Ei=0,dr=null;var gt=pe.sibling;if(gt!==null)Sn=gt;else{var zt=pe.return;zt!==null?(Sn=zt,xh(zt)):Sn=null}break t}}Ei=0,dr=null,Du(h,d,U,5);break;case 6:Ei=0,dr=null,Du(h,d,U,6);break;case 8:Fa(),ti=6;break e;default:throw Error(r(462))}}ko();break}catch(Ut){Ec(h,Ut)}while(!0);return ar=qu=null,on.H=E,on.A=R,nn=b,Sn!==null?0:(Pn=null,zn=0,Fe(),ti)}function ko(){for(;Sn!==null&&!Jy();)Z1(Sn)}function Z1(h){var d=gy(h.alternate,h,Al);h.memoizedProps=h.pendingProps,d===null?xh(h):Sn=d}function pp(h){var d=h,b=d.alternate;switch(d.tag){case 15:case 0:d=fy(b,d,d.pendingProps,d.type,void 0,zn);break;case 11:d=fy(b,d,d.pendingProps,d.type.render,d.ref,zn);break;case 5:Fi(d);default:G1(b,d),d=Sn=Fo(d,Al),d=gy(b,d,Al)}h.memoizedProps=h.pendingProps,d===null?xh(h):Sn=d}function Du(h,d,b,E){ar=qu=null,Fi(d),co=null,Zs=0;var R=d.return;try{if(sy(h,R,d,b,zn)){ti=1,Jd(h,ye(b,h.current)),Sn=null;return}}catch(U){if(R!==null)throw Sn=R,U;ti=1,Jd(h,ye(b,h.current)),Sn=null;return}d.flags&32768?(ri||E===1?h=!0:ws||(zn&536870912)!==0?h=!1:(xi=h=!0,(E===2||E===3||E===6)&&(E=Ms.current,E!==null&&E.tag===13&&(E.flags|=16384))),Vr(d,h)):xh(d)}function xh(h){var d=h;do{if((d.flags&32768)!==0){Vr(d,xi);return}h=d.return;var b=xy(d.alternate,d,Al);if(b!==null){Sn=b;return}if(d=d.sibling,d!==null){Sn=d;return}Sn=d=h}while(d!==null);ti===0&&(ti=5)}function Vr(h,d){do{var b=yy(h.alternate,h);if(b!==null){b.flags&=32767,Sn=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!d&&(h=h.sibling,h!==null)){Sn=h;return}Sn=h=b}while(h!==null);ti=6,Sn=null}function Li(h,d,b,E,R,U,$,pe,De,je){var gt=on.T,zt=Or();try{va(2),on.T=null,Zn(h,d,b,E,zt,R,U,$,pe,De,je)}finally{on.T=gt,va(zt)}}function Zn(h,d,b,E,R,U,$,pe){do Gr();while($o!==null);if((nn&6)!==0)throw Error(r(327));var De=h.finishedWork;if(E=h.finishedLanes,De===null)return null;if(h.finishedWork=null,h.finishedLanes=0,De===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var je=De.lanes|De.childLanes;if(je|=Z0,W(h,E,je,U,$,pe),h===Pn&&(Sn=Pn=null,zn=0),(De.subtreeFlags&10256)===0&&(De.flags&10256)===0||Js||(Js=!0,Xp=je,Vc=b,yh(Lp,function(){return Gr(),null})),b=(De.flags&15990)!==0,(De.subtreeFlags&15990)!==0||b?(b=on.T,on.T=null,U=Or(),va(2),$=nn,nn|=4,z0(h,De),wu(De,h),sg(h.containerInfo),h.current=De,lp(h,De.alternate,De),$y(),nn=$,va(U),on.T=b):h.current=De,Js?(Js=!1,$o=h,Hc=E):Io(h,je),je=h.pendingLanes,je===0&&(As=null),Y(De.stateNode),xt(h),d!==null)for(R=h.onRecoverableError,De=0;De<d.length;De++)je=d[De],R(je.value,{componentStack:je.stack});return(Hc&3)!==0&&Gr(),je=h.pendingLanes,(E&4194218)!==0&&(je&42)!==0?h===Oa?Gc++:(Gc=0,Oa=h):Gc=0,tt(0),null}function Io(h,d){(h.pooledCacheLanes&=d)===0&&(d=h.pooledCache,d!=null&&(h.pooledCache=null,E0(d)))}function Gr(){if($o!==null){var h=$o,d=Xp;Xp=0;var b=ie(Hc),E=32>b?32:b;b=on.T;var R=Or();try{if(va(E),on.T=null,$o===null)var U=!1;else{E=Vc,Vc=null;var $=$o,pe=Hc;if($o=null,Hc=0,(nn&6)!==0)throw Error(r(331));var De=nn;if(nn|=4,mh($.current),cp($,$.current,pe,E),nn=De,tt(0,!1),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(j0,$)}catch{}U=!0}return U}finally{va(R),on.T=b,Io(h,d)}}return!1}function mp(h,d,b){d=ye(b,d),d=lh(h.stateNode,d,2),h=Ke(h,d,2),h!==null&&(X(h,2),xt(h))}function Gn(h,d,b){if(h.tag===3)mp(h,h,b);else for(;d!==null;){if(d.tag===3){mp(d,h,b);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(As===null||!As.has(E))){h=ye(b,h),b=T0(2),E=Ke(d,b,2),E!==null&&(oh(b,E,d,h),X(E,2),xt(E));break}}d=d.return}}function gp(h,d,b){var E=h.pingCache;if(E===null){E=h.pingCache=new qn;var R=new Set;E.set(d,R)}else R=E.get(d),R===void 0&&(R=new Set,E.set(d,R));R.has(b)||(Qo=!0,R.add(b),h=Ty.bind(null,h,d,b),d.then(h,h))}function Ty(h,d,b){var E=h.pingCache;E!==null&&E.delete(d),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Pn===h&&(zn&b)===b&&(ti===4||ti===3&&(zn&62914560)===zn&&300>aa()-po?(nn&2)===0&&_l(h,0):_a|=b,Jo===zn&&(Jo=0)),xt(h)}function Ac(h,d){d===0&&(d=B()),h=fe(h,d),h!==null&&(X(h,d),xt(h))}function Cc(h){var d=h.memoizedState,b=0;d!==null&&(b=d.retryLane),Ac(h,b)}function K1(h,d){var b=0;switch(h.tag){case 13:var E=h.stateNode,R=h.memoizedState;R!==null&&(b=R.retryLane);break;case 19:E=h.stateNode;break;case 22:E=h.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(d),Ac(h,b)}function yh(h,d){return Y0(h,d)}function Q1(h,d,b,E){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(h){return h=h.prototype,!(!h||!h.isReactComponent)}function ga(h,d){var b=h.alternate;return b===null?(b=t(h.tag,d,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=d,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,d=h.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function Fo(h,d){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=d,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,d=b.dependencies,h.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),h}function Xs(h,d,b,E,R,U){var $=0;if(E=h,typeof h=="function")Po(h)&&($=1);else if(typeof h=="string")$=gs&&ra?Tg(h,b,Xr.current)?26:q0(h)?27:5:gs?Tg(h,b,Xr.current)?26:5:ra&&q0(h)?27:5;else e:switch(h){case F0:return Ho(b.children,R,U,d);case ng:$=8,R|=24;break;case ig:return h=t(12,b,d,R|2),h.elementType=ig,h.lanes=U,h;case xp:return h=t(13,b,d,R),h.elementType=xp,h.lanes=U,h;case Ou:return h=t(19,b,d,R),h.elementType=Ou,h.lanes=U,h;case Sh:return vp(b,R,U,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Cy:case ro:$=10;break e;case zu:$=9;break e;case H0:$=11;break e;case _h:$=14;break e;case Ml:$=16,E=null;break e}$=29,b=Error(r(130,h===null?"null":typeof h,"")),E=null}return d=t($,b,d,R),d.elementType=h,d.type=E,d.lanes=U,d}function Ho(h,d,b,E){return h=t(7,h,E,d),h.lanes=b,h}function vp(h,d,b,E){h=t(22,h,E,d),h.elementType=Sh,h.lanes=b;var R={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var U=R._current;if(U===null)throw Error(r(456));if((R._pendingVisibility&2)===0){var $=fe(U,2);$!==null&&(R._pendingVisibility|=2,ma($,U,2))}},attach:function(){var U=R._current;if(U===null)throw Error(r(456));if((R._pendingVisibility&2)!==0){var $=fe(U,2);$!==null&&(R._pendingVisibility&=-3,ma($,U,2))}}};return h.stateNode=R,h}function Nu(h,d,b){return h=t(6,h,null,d),h.lanes=b,h}function P0(h,d,b){return d=t(4,h.children!==null?h.children:[],h.key,d),d.lanes=b,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Rc(h,d,b,E,R,U,$,pe){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O(0),this.hiddenUpdates=O(null),this.identifierPrefix=E,this.onUncaughtError=R,this.onCaughtError=U,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function qr(h,d,b,E,R,U,$,pe,De,je,gt,zt){return h=new Rc(h,d,b,$,pe,De,je,zt),d=1,U===!0&&(d|=24),U=t(3,null,null,d),h.current=U,U.stateNode=h,d=np(),d.refCount++,h.pooledCache=d,d.refCount++,U.memoizedState={element:E,isDehydrated:b,cache:d},Rt(U),h}function bh(h){return h?(h=Uc,h):Uc}function J1(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=x(d),h=h!==null?_(h):null,h===null?null:V0(h.stateNode)}function Ey(h,d,b,E,R,U){R=bh(R),E.context===null?E.context=R:E.pendingContext=R,E=Ve(d),E.payload={element:b},U=U===void 0?null:U,U!==null&&(E.callback=U),b=Ke(h,E,d),b!==null&&(ma(b,h,d),Nt(b,h,d))}function Ay(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<d?b:d}}function $1(h,d){Ay(h,d),(h=h.alternate)&&Ay(h,d)}var tn={},eg=d1(),na=HN(),Dc=Object.assign,tg=Symbol.for("react.element"),Vo=Symbol.for("react.transitional.element"),Sl=Symbol.for("react.portal"),F0=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),zu=Symbol.for("react.consumer"),ro=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),_h=Symbol.for("react.memo"),Ml=Symbol.for("react.lazy"),Sh=Symbol.for("react.offscreen"),Ry=Symbol.for("react.memo_cache_sentinel"),rg=Symbol.iterator,Nc=Symbol.for("react.client.reference"),on=eg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yp,ag,Lu=!1,Uu=Array.isArray,bp=e.rendererVersion,Mh=e.rendererPackageName,wh=e.extraDevToolsConfig,V0=e.getPublicInstance,zc=e.getRootHostContext,Dy=e.getChildHostContext,Bu=e.prepareForCommit,sg=e.resetAfterCommit,lg=e.createInstance,ao=e.appendInitialChild,Go=e.finalizeInitialChildren,ku=e.shouldSetTextContent,_p=e.createTextInstance,og=e.scheduleTimeout,Th=e.cancelTimeout,Oc=e.noTimeout,so=e.isPrimaryRenderer;e.warnsIfNotActing;var ia=e.supportsMutation,ps=e.supportsPersistence,Da=e.supportsHydration,ug=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var cg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var va=e.setCurrentUpdatePriority,Or=e.getCurrentUpdatePriority,Ys=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Iu=e.shouldAttemptEagerTransition,fg=e.detachDeletedInstance;e.requestPostPaintCallback;var Ny=e.maySuspendCommit,qo=e.preloadInstance,ms=e.startSuspendingCommit,tr=e.suspendInstance,Sp=e.waitForCommitToBeReady,Va=e.NotPendingTransition,dn=e.HostTransitionContext,Ti=e.resetFormInstance;e.bindToConsole;var Sr=e.supportsMicrotasks,Mp=e.scheduleMicrotask,lo=e.supportsTestSelectors,Lc=e.findFiberRoot,wp=e.getBoundingRect,Eh=e.getTextContent,oo=e.isHiddenSubtree,E_=e.matchAccessibilityRole,nr=e.setFocusIfFocusable,hg=e.setupIntersectionObserver,dg=e.appendChild,zy=e.appendChildToContainer,Oy=e.commitTextUpdate,A_=e.commitMount,pg=e.commitUpdate,mg=e.insertBefore,gg=e.insertInContainerBefore,Na=e.removeChild,ur=e.removeChildFromContainer,Ah=e.resetTextContent,Ch=e.hideInstance,Tp=e.hideTextInstance,vg=e.unhideInstance,Xo=e.unhideTextInstance,Ep=e.clearContainer,xg=e.cloneInstance,Ap=e.createContainerChildSet,yg=e.appendChildToContainerChildSet,Ly=e.finalizeContainerChildren,bg=e.replaceContainerChildren,_g=e.cloneHiddenInstance,Sg=e.cloneHiddenTextInstance,Cp=e.isSuspenseInstancePending,Rh=e.isSuspenseInstanceFallback,Uy=e.getSuspenseInstanceFallbackErrorDetails,C_=e.registerSuspenseInstanceRetry,By=e.canHydrateFormStateMarker,ky=e.isFormStateMarkerMatching,Mg=e.getNextHydratableSibling,Rp=e.getFirstHydratableChild,Iy=e.getFirstHydratableChildWithinContainer,Py=e.getFirstHydratableChildWithinSuspenseInstance,Fy=e.canHydrateInstance,Hy=e.canHydrateTextInstance,Vy=e.canHydrateSuspenseInstance,R_=e.hydrateInstance,Gy=e.hydrateTextInstance,G0=e.hydrateSuspenseInstance,qy=e.getNextHydratableInstanceAfterSuspenseInstance,Dp=e.commitHydratedContainer,Np=e.commitHydratedSuspenseInstance,Xy=e.clearSuspenseBoundary,wg=e.clearSuspenseBoundaryFromContainer,Yy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var jy=e.validateHydratableInstance,Wy=e.validateHydratableTextInstance,gs=e.supportsResources,Tg=e.isHostHoistableType,zp=e.getHoistableRoot,Op=e.getResource,Eg=e.acquireResource,Ag=e.releaseResource,Cg=e.hydrateHoistable,Rg=e.mountHoistable,Dg=e.unmountHoistable,D_=e.createHoistableInstance,Ng=e.prepareToCommitHoistables,Zy=e.mayResourceSuspendCommit,zg=e.preloadResource,Og=e.suspendResource,ra=e.supportsSingletons,Lg=e.resolveSingletonInstance,N_=e.clearSingleton,z_=e.acquireSingletonInstance,Ky=e.releaseSingletonInstance,q0=e.isHostSingletonType,Dh=[],Yo=-1,Uc={},Ga=Math.clz32?Math.clz32:D,Nh=Math.log,Qy=Math.LN2,X0=128,zh=4194304,Y0=na.unstable_scheduleCallback,Oh=na.unstable_cancelCallback,Jy=na.unstable_shouldYield,$y=na.unstable_requestPaint,aa=na.unstable_now,Ug=na.unstable_ImmediatePriority,e2=na.unstable_UserBlockingPriority,Lp=na.unstable_NormalPriority,Up=na.unstable_IdlePriority,t2=na.log,Bg=na.unstable_setDisableYieldValue,j0=null,qa=null,vs=typeof Object.is=="function"?Object.is:re,Bp=new WeakMap,Gi=[],ir=0,Lh=null,Uh=0,xs=[],ys=0,wl=null,uo=1,js="",Xr=w(null),Bh=w(null),Tl=w(null),W0=w(null),xa=null,sa=null,ri=!1,bs=null,Ws=!1,kh=Error(r(519)),_s=[],Pu=0,Z0=0,K0=null,Bc=null,Ih=!1,Ph=!1,El=!1,Fu=0,Fh=null,kp=0,Xa=0,Hu=null,jo=!1,Q0=!1,Hh=Object.prototype.hasOwnProperty,Si=Error(r(460)),kg=Error(r(474)),Ip={then:function(){}},kc=null,co=null,Zs=0,Vu=gn(!0),Ig=gn(!1),fo=w(null),Ss=w(0),Ms=w(null),Ks=null,Mr=w(0),ho=0,An=null,ci=null,cr=null,Qs=!1,qi=!1,Wo=!1,Vh=0,rr=0,J0=null,n2=0,Pp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ai={readContext:ta,use:ze,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useLayoutEffect:Gt,useInsertionEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useSyncExternalStore:Gt,useId:Gt};ai.useCacheRefresh=Gt,ai.useMemoCache=Gt,ai.useHostTransitionStatus=Gt,ai.useFormState=Gt,ai.useActionState=Gt,ai.useOptimistic=Gt;var wr={readContext:ta,use:ze,useCallback:function(h,d){return In().memoizedState=[h,d===void 0?null:d],h},useContext:ta,useEffect:E1,useImperativeHandle:function(h,d,b){b=b!=null?b.concat([h]):null,qs(4194308,4,nh.bind(null,d,h),b)},useLayoutEffect:function(h,d){return qs(4194308,4,h,d)},useInsertionEffect:function(h,d){qs(4,2,h,d)},useMemo:function(h,d){var b=In();d=d===void 0?null:d;var E=h();if(Wo){te(!0);try{h()}finally{te(!1)}}return b.memoizedState=[E,d],E},useReducer:function(h,d,b){var E=In();if(b!==void 0){var R=b(d);if(Wo){te(!0);try{b(d)}finally{te(!1)}}}else R=d;return E.memoizedState=E.baseState=R,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:R},E.queue=h,h=h.dispatch=gu.bind(null,An,h),[E.memoizedState,h]},useRef:function(h){var d=In();return h={current:h},d.memoizedState=h},useState:function(h){h=$n(h);var d=h.queue,b=Kd.bind(null,An,d);return d.dispatch=b,[h.memoizedState,b]},useDebugValue:ih,useDeferredValue:function(h,d){var b=In();return mu(b,h,d)},useTransition:function(){var h=$n(!1);return h=Wd.bind(null,An,h.queue,!0,!1),In().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,d,b){var E=An,R=In();if(ri){if(b===void 0)throw Error(r(407));b=b()}else{if(b=d(),Pn===null)throw Error(r(349));(zn&60)!==0||Kt(E,d,b)}R.memoizedState=b;var U={value:b,getSnapshot:d};return R.queue=U,E1(Vt.bind(null,E,U,h),[h]),E.flags|=2048,er(9,en.bind(null,E,U,b,d),{destroy:void 0},null),b},useId:function(){var h=In(),d=Pn.identifierPrefix;if(ri){var b=js,E=uo;b=(E&~(1<<32-Ga(E)-1)).toString(32)+b,d=":"+d+"R"+b,b=Vh++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=n2++,d=":"+d+"r"+b.toString(32)+":";return h.memoizedState=d},useCacheRefresh:function(){return In().memoizedState=rh.bind(null,An)}};wr.useMemoCache=Ae,wr.useHostTransitionStatus=yc,wr.useFormState=Kl,wr.useActionState=Kl,wr.useOptimistic=function(h){var d=In();d.memoizedState=d.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=b,d=Qd.bind(null,An,!0,b),b.dispatch=d,[h,d]};var ya={readContext:ta,use:ze,useCallback:jd,useContext:ta,useEffect:th,useImperativeHandle:Ql,useInsertionEffect:ry,useLayoutEffect:ay,useMemo:xc,useReducer:ht,useRef:xl,useState:function(){return ht(we)},useDebugValue:ih,useDeferredValue:function(h,d){var b=j();return A1(b,ci.memoizedState,h,d)},useTransition:function(){var h=ht(we)[0],d=j().memoizedState;return[typeof h=="boolean"?h:Ee(h),d]},useSyncExternalStore:Et,useId:Jl};ya.useCacheRefresh=Zd,ya.useMemoCache=Ae,ya.useHostTransitionStatus=yc,ya.useFormState=Ni,ya.useActionState=Ni,ya.useOptimistic=function(h,d){var b=j();return Hn(b,ci,h,d)};var Gu={readContext:ta,use:ze,useCallback:jd,useContext:ta,useEffect:th,useImperativeHandle:Ql,useInsertionEffect:ry,useLayoutEffect:ay,useMemo:xc,useReducer:Ct,useRef:xl,useState:function(){return Ct(we)},useDebugValue:ih,useDeferredValue:function(h,d){var b=j();return ci===null?mu(b,h,d):A1(b,ci.memoizedState,h,d)},useTransition:function(){var h=Ct(we)[0],d=j().memoizedState;return[typeof h=="boolean"?h:Ee(h),d]},useSyncExternalStore:Et,useId:Jl};Gu.useCacheRefresh=Zd,Gu.useMemoCache=Ae,Gu.useHostTransitionStatus=yc,Gu.useFormState=zr,Gu.useActionState=zr,Gu.useOptimistic=function(h,d){var b=j();return ci!==null?Hn(b,ci,h,d):(b.baseState=h,[h,b.queue.dispatch])};var Fp={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,d,b){h=h._reactInternals;var E=Ra(),R=Ve(E);R.payload=d,b!=null&&(R.callback=b),d=Ke(h,R,E),d!==null&&(ma(d,h,E),Nt(d,h,E))},enqueueReplaceState:function(h,d,b){h=h._reactInternals;var E=Ra(),R=Ve(E);R.tag=1,R.payload=d,b!=null&&(R.callback=b),d=Ke(h,R,E),d!==null&&(ma(d,h,E),Nt(d,h,E))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var b=Ra(),E=Ve(b);E.tag=2,d!=null&&(E.callback=d),d=Ke(h,E,b),d!==null&&(ma(d,h,b),Nt(d,h,b))}},Pg=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},i2=Error(r(461)),fr=!1,ba={dehydrated:null,treeContext:null,retryLane:0},Ya=w(null),qu=null,ar=null,r2=typeof AbortController<"u"?AbortController:function(){var h=[],d=this.signal={aborted:!1,addEventListener:function(b,E){h.push(E)}};this.abort=function(){d.aborted=!0,h.forEach(function(b){return b()})}},Zo=na.unstable_scheduleCallback,Ic=na.unstable_NormalPriority,gi={$$typeof:ro,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hp=on.S;on.S=function(h,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&Se(h,d),Hp!==null&&Hp(h,d)};var Ko=w(null),Lr=!1,Ji=!1,Xu=!1,$0=typeof WeakSet=="function"?WeakSet:Set,sr=null,Pc=!1,hr=null,ja=!1,za=null,Fc=8192,Vp={getCacheForType:function(h){var d=ta(gi),b=d.data.get(h);return b===void 0&&(b=h(),d.data.set(h,b)),b}},Gh=0,Gp=1,qp=2,ei=3,vi=4;if(typeof Symbol=="function"&&Symbol.for){var Cn=Symbol.for;Gh=Cn("selector.component"),Gp=Cn("selector.has_pseudo_class"),qp=Cn("selector.role"),ei=Cn("selector.test_id"),vi=Cn("selector.text")}var qn=typeof WeakMap=="function"?WeakMap:Map,nn=0,Pn=null,Sn=null,zn=0,Ei=0,dr=null,xi=!1,ws=!1,Qo=!1,Al=0,ti=0,Ts=0,Cl=0,_a=0,Wa=0,Jo=0,ef=null,Es=null,tf=!1,po=0,$i=1/0,Rl=null,As=null,Js=!1,$o=null,Hc=0,Xp=0,Vc=null,Gc=0,Oa=null;return tn.attemptContinuousHydration=function(h){if(h.tag===13){var d=fe(h,67108864);d!==null&&ma(d,h,67108864),$1(h,67108864)}},tn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=Ra(),b=fe(h,d);b!==null&&ma(b,h,d),$1(h,d)}},tn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var d=N(h.pendingLanes);if(d!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;d;){var b=1<<31-Ga(d);h.entanglements[1]|=b,d&=~b}xt(h),(nn&6)===0&&($i=aa()+500,tt(0))}}break;case 13:d=fe(h,2),d!==null&&ma(d,h,2),W1(),$1(h,2)}},tn.batchedUpdates=function(h,d){return h(d)},tn.createComponentSelector=function(h){return{$$typeof:Gh,value:h}},tn.createContainer=function(h,d,b,E,R,U,$,pe,De,je){return qr(h,d,!1,null,b,E,U,$,pe,De,je,null)},tn.createHasPseudoClassSelector=function(h){return{$$typeof:Gp,value:h}},tn.createHydrationContainer=function(h,d,b,E,R,U,$,pe,De,je,gt,zt,Ut){return h=qr(b,E,!0,h,R,U,pe,De,je,gt,zt,Ut),h.context=bh(null),b=h.current,E=Ra(),R=Ve(E),R.callback=d??null,Ke(b,R,E),h.current.lanes=E,X(h,E),xt(h),h},tn.createPortal=function(h,d,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:E==null?null:""+E,children:h,containerInfo:d,implementation:b}},tn.createRoleSelector=function(h){return{$$typeof:qp,value:h}},tn.createTestNameSelector=function(h){return{$$typeof:ei,value:h}},tn.createTextSelector=function(h){return{$$typeof:vi,value:h}},tn.defaultOnCaughtError=function(h){console.error(h)},tn.defaultOnRecoverableError=function(h){Pg(h)},tn.defaultOnUncaughtError=function(h){Pg(h)},tn.deferredUpdates=function(h){var d=on.T,b=Or();try{return va(32),on.T=null,h()}finally{va(b),on.T=d}},tn.discreteUpdates=function(h,d,b,E,R){var U=on.T,$=Or();try{return va(2),on.T=null,h(d,b,E,R)}finally{va($),on.T=U,nn===0&&($i=aa()+500)}},tn.findAllNodes=Ca,tn.findBoundingRects=function(h,d){if(!lo)throw Error(r(363));d=Ca(h,d),h=[];for(var b=0;b<d.length;b++)h.push(wp(d[b]));for(d=h.length-1;0<d;d--){b=h[d];for(var E=b.x,R=E+b.width,U=b.y,$=U+b.height,pe=d-1;0<=pe;pe--)if(d!==pe){var De=h[pe],je=De.x,gt=je+De.width,zt=De.y,Ut=zt+De.height;if(E>=je&&U>=zt&&R<=gt&&$<=Ut){h.splice(d,1);break}else if(E!==je||b.width!==De.width||Ut<U||zt>$){if(!(U!==zt||b.height!==De.height||gt<E||je>R)){je>E&&(De.width+=je-E,De.x=E),gt<R&&(De.width=R-je),h.splice(d,1);break}}else{zt>U&&(De.height+=zt-U,De.y=U),Ut<$&&(De.height=$-zt),h.splice(d,1);break}}}return h},tn.findHostInstance=J1,tn.findHostInstanceWithNoPortals=function(h){return h=x(h),h=h!==null?M(h):null,h===null?null:V0(h.stateNode)},tn.findHostInstanceWithWarning=function(h){return J1(h)},tn.flushPassiveEffects=Gr,tn.flushSyncFromReconciler=function(h){var d=nn;nn|=1;var b=on.T,E=Or();try{if(va(2),on.T=null,h)return h()}finally{va(E),on.T=b,nn=d,(nn&6)===0&&tt(0)}},tn.flushSyncWork=W1,tn.focusWithin=function(h,d){if(!lo)throw Error(r(363));for(h=hp(h),d=My(h,d),d=Array.from(d),h=0;h<d.length;){var b=d[h++],E=b.tag;if(!oo(b)){if((E===5||E===26||E===27)&&nr(b.stateNode))return!0;for(b=b.child;b!==null;)d.push(b),b=b.sibling}}return!1},tn.getFindAllNodesFailureDescription=function(h,d){if(!lo)throw Error(r(363));var b=0,E=[];h=[hp(h),0];for(var R=0;R<h.length;){var U=h[R++],$=U.tag,pe=h[R++],De=d[pe];if(($!==5&&$!==26&&$!==27||!oo(U))&&(k0(U,De)&&(E.push(Ru(De)),pe++,pe>b&&(b=pe)),pe<d.length))for(U=U.child;U!==null;)h.push(U,pe),U=U.sibling}if(b<d.length){for(h=[];b<d.length;b++)h.push(Ru(d[b]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},tn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return V0(h.child.stateNode);default:return h.child.stateNode}},tn.injectIntoDevTools=function(){var h={bundleType:0,version:bp,rendererPackageName:Mh,currentDispatcherRef:on,findFiberByHostInstance:ug,reconcilerVersion:"19.0.0"};if(wh!==null&&(h.rendererConfig=wh),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{j0=d.inject(h),qa=d}catch{}h=!!d.checkDCE}}return h},tn.isAlreadyRendering=function(){return!1},tn.observeVisibleRects=function(h,d,b,E){if(!lo)throw Error(r(363));h=Ca(h,d);var R=hg(h,b,E).disconnect;return{disconnect:function(){R()}}},tn.shouldError=function(){return null},tn.shouldSuspend=function(){return!1},tn.startHostTransition=function(h,d,b,E){if(h.tag!==5)throw Error(r(476));var R=C1(h).queue;Wd(h,R,d,Va,b===null?n:function(){var U=C1(h).next.queue;return vu(h,U,{},Ra()),b(E)})},tn.updateContainer=function(h,d,b,E){var R=d.current,U=Ra();return Ey(R,U,h,d,b,E),U},tn.updateContainerSync=function(h,d,b,E){return d.tag===0&&Gr(),Ey(d.current,2,h,d,b,E),2},tn},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(w5)),w5.exports}var uA;function uj(){return uA||(uA=1,M5.exports=oj()),M5.exports}var cj=uj();const fj=Ux(cj);var cA=HN();function Y8(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const r=Y8(n,e,t);if(r)return r;n=e?null:n.sibling}}function VN(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const j8=VN(Me.createContext(null));class GN extends Me.Component{render(){return Me.createElement(j8.Provider,{value:this._reactInternals},this.props.children)}}function qN(){const i=Me.useContext(j8);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Me.useId();return Me.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=Y8(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[i,e])}const hj=Symbol.for("react.context"),dj=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===hj;function pj(){const i=qN(),[e]=Me.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;dj(n)&&n!==j8&&!e.has(n)&&e.set(n,Me.use(VN(n))),t=t.return}return e}function mj(){const i=pj();return Me.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>Me.createElement(e,null,Me.createElement(t.Provider,{...n,value:i.get(t)})),e=>Me.createElement(GN,{...e})),[i])}function XN(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const YN=i=>i&&i.isOrthographicCamera,gj=i=>i&&i.hasOwnProperty("current"),vj=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Kx=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?Me.useLayoutEffect:Me.useEffect;function jN(i){const e=Me.useRef(i);return Kx(()=>void(e.current=i),[i]),e}function xj(){const i=qN(),e=mj();return Me.useMemo(()=>({children:t})=>{const r=!!Y8(i,!0,a=>a.type===Me.StrictMode)?Me.StrictMode:Me.Fragment;return de.jsx(r,{children:de.jsx(e,{children:t})})},[i,e])}function yj({set:i}){return Kx(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const bj=(i=>(i=class extends Me.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function WN(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function Sm(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const mr={obj:i=>i===Object(i)&&!mr.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:r=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(mr.str(i)||mr.num(i)||mr.boo(i))return i===e;const a=mr.obj(i);if(a&&n==="reference")return i===e;const s=mr.arr(i);if(s&&t==="reference")return i===e;if((s||a)&&i===e)return!0;let o;for(o in i)if(!(o in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(o in r?e:i)if(!mr.equ(i[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:i)if(i[o]!==e[o])return!1;if(mr.und(o)){if(s&&i.length===0&&e.length===0||a&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function _j(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const ZN=["children","key","ref"];function Sj(i){const e={};for(const t in i)ZN.includes(t)||(e[t]=i[t]);return e}function u4(i,e,t,n){const r=i;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Sj(n),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Rx(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const r of n){if(typeof t!="object"||t===null){if(t!==void 0){const a=n.slice(n.indexOf(r)).join("-");return{root:t,key:a,target:void 0}}return{root:i,key:e,target:void 0}}e=r,i=t,t=t[e]}return{root:i,key:e,target:t}}const fA=/-\d+$/;function c4(i,e){if(mr.str(e.props.attach)){if(fA.test(e.props.attach)){const r=e.props.attach.replace(fA,""),{root:a,key:s}=Rx(i.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:n}=Rx(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else mr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function f4(i,e){if(mr.str(e.props.attach)){const{root:t,key:n}=Rx(i.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[n]:t[n]=r}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const nM=[...ZN,"args","dispose","attach","object","onUpdate","dispose"],hA=new Map;function Mj(i){let e=hA.get(i.constructor);try{e||(e=new i.constructor,hA.set(i.constructor,e))}catch{}return e}function wj(i,e){const t={};for(const n in e)if(!nM.includes(n)&&!mr.equ(e[n],i.props[n])){t[n]=e[n];for(const r in e)r.startsWith(`${n}-`)&&(t[r]=e[r])}for(const n in i.props){if(nM.includes(n)||e.hasOwnProperty(n))continue;const{root:r,key:a}=Rx(i.object,n);if(r.constructor&&r.constructor.length===0){const s=Mj(r);mr.und(s)||(t[a]=s[a])}else t[a]=0}return t}const Tj=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Ej=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Mf(i,e){var t;const n=i.__r3f,r=n&&XN(n).getState(),a=n?.eventCount;for(const o in e){let c=e[o];if(nM.includes(o))continue;if(n&&Ej.test(o)){typeof c=="function"?n.handlers[o]=c:delete n.handlers[o],n.eventCount=Object.keys(n.handlers).length;continue}if(c===void 0)continue;let{root:f,key:m,target:g}=Rx(i,o);if(g===void 0&&(typeof f!="object"||f===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${m}".`);if(g instanceof s1&&c instanceof s1)g.mask=c.mask;else if(g instanceof Pt&&vj(c))g.set(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&c!=null&&c.constructor&&g.constructor===c.constructor)g.copy(c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(c))typeof g.fromArray=="function"?g.fromArray(c):g.set(...c);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof c=="number")typeof g.setScalar=="function"?g.setScalar(c):g.set(c);else{var s;f[m]=c,r&&!r.linear&&Tj.includes(m)&&(s=f[m])!=null&&s.isTexture&&f[m].format===as&&f[m].type===Ao&&(f[m].colorSpace=ns)}}if(n!=null&&n.parent&&r!=null&&r.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const o=n.object,c=r.internal.interaction.indexOf(o);c>-1&&r.internal.interaction.splice(c,1),n.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&_1(n),i}function _1(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Aj(i,e){i.manual||(YN(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const rl=i=>i?.isObject3D;function A3(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function KN(i,e,t,n){const r=t.get(e);r&&(t.delete(e),t.size===0&&(i.delete(n),r.target.releasePointerCapture(n)))}function Cj(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,r)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((n,r)=>{KN(t.capturedMap,e,n,r)})}function Rj(i){function e(c){const{internal:f}=i.getState(),m=c.offsetX-f.initialClick[0],g=c.offsetY-f.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(c){return c.filter(f=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(c,f){const m=i.getState(),g=new Set,y=[],x=f?f(m.internal.interaction):m.internal.interaction;for(let S=0;S<x.length;S++){const A=Sm(x[S]);A&&(A.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(c,m);function _(S){const A=Sm(S);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var D;A.events.compute==null||A.events.compute(c,A,(D=A.previousRoot)==null?void 0:D.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(S,!0):[]}let M=x.flatMap(_).sort((S,A)=>{const D=Sm(S.object),N=Sm(A.object);return!D||!N?S.distance-A.distance:N.events.priority-D.events.priority||S.distance-A.distance}).filter(S=>{const A=A3(S);return g.has(A)?!1:(g.add(A),!0)});m.events.filter&&(M=m.events.filter(M,m));for(const S of M){let A=S.object;for(;A;){var w;(w=A.__r3f)!=null&&w.eventCount&&y.push({...S,eventObject:A}),A=A.parent}}if("pointerId"in c&&m.internal.capturedMap.has(c.pointerId))for(let S of m.internal.capturedMap.get(c.pointerId).values())g.has(A3(S.intersection))||y.push(S.intersection);return y}function r(c,f,m,g){if(c.length){const y={stopped:!1};for(const x of c){let _=Sm(x.object);if(_||x.object.traverseAncestors(M=>{const w=Sm(M);if(w)return _=w,!1}),_){const{raycaster:M,pointer:w,camera:S,internal:A}=_,D=new ae(w.x,w.y,0).unproject(S),N=B=>{var O,X;return(O=(X=A.capturedMap.get(B))==null?void 0:X.has(x.eventObject))!=null?O:!1},k=B=>{const O={intersection:x,target:f.target};A.capturedMap.has(B)?A.capturedMap.get(B).set(x.eventObject,O):A.capturedMap.set(B,new Map([[x.eventObject,O]])),f.target.setPointerCapture(B)},z=B=>{const O=A.capturedMap.get(B);O&&KN(A.capturedMap,x.eventObject,O,B)};let P={};for(let B in f){let O=f[B];typeof O!="function"&&(P[B]=O)}let V={...x,...P,pointer:w,intersections:c,stopped:y.stopped,delta:m,unprojectedPoint:D,ray:M.ray,camera:S,stopPropagation(){const B="pointerId"in f&&A.capturedMap.get(f.pointerId);if((!B||B.has(x.eventObject))&&(V.stopped=y.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(O=>O.eventObject===x.eventObject))){const O=c.slice(0,c.indexOf(x));a([...O,x])}},target:{hasPointerCapture:N,setPointerCapture:k,releasePointerCapture:z},currentTarget:{hasPointerCapture:N,setPointerCapture:k,releasePointerCapture:z},nativeEvent:f};if(g(V),y.stopped===!0)break}}}return c}function a(c){const{internal:f}=i.getState();for(const m of f.hovered.values())if(!c.length||!c.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(f.hovered.delete(A3(m)),y!=null&&y.eventCount){const x=y.handlers,_={...m,intersections:c};x.onPointerOut==null||x.onPointerOut(_),x.onPointerLeave==null||x.onPointerLeave(_)}}}function s(c,f){for(let m=0;m<f.length;m++){const g=f[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(c)}}function o(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:m}=i.getState();"pointerId"in f&&m.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(f.pointerId)&&(m.capturedMap.delete(f.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:y}=i.getState();y.lastEvent.current=m;const x=c==="onPointerMove",_=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",w=n(m,x?t:void 0),S=_?e(m):0;c==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=w.map(D=>D.eventObject)),_&&!w.length&&S<=2&&(s(m,y.interaction),g&&g(m)),x&&a(w);function A(D){const N=D.eventObject,k=N.__r3f;if(!(k!=null&&k.eventCount))return;const z=k.handlers;if(x){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const P=A3(D),V=y.hovered.get(P);V?V.stopped&&D.stopPropagation():(y.hovered.set(P,D),z.onPointerOver==null||z.onPointerOver(D),z.onPointerEnter==null||z.onPointerEnter(D))}z.onPointerMove==null||z.onPointerMove(D)}else{const P=z[c];P?(!_||y.initialHits.includes(N))&&(s(m,y.interaction.filter(V=>!y.initialHits.includes(V))),P(D)):_&&y.initialHits.includes(N)&&s(m,y.interaction.filter(V=>!y.initialHits.includes(V)))}}r(w,m,S,A)}}return{handlePointer:o}}const dA=i=>!!(i!=null&&i.render),QN=Me.createContext(null),Dj=(i,e)=>{const t=sj((o,c)=>{const f=new ae,m=new ae,g=new ae;function y(S=c().camera,A=m,D=c().size){const{width:N,height:k,top:z,left:P}=D,V=N/k;A.isVector3?g.copy(A):g.set(...A);const B=S.getWorldPosition(f).distanceTo(g);if(YN(S))return{width:N/S.zoom,height:k/S.zoom,top:z,left:P,factor:1,distance:B,aspect:V};{const O=S.fov*Math.PI/180,X=2*Math.tan(O/2)*B,W=X*(N/k);return{width:W,height:X,top:z,left:P,factor:N/W,distance:B,aspect:V}}}let x;const _=S=>o(A=>({performance:{...A.performance,current:S}})),M=new rt;return{set:o,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>i(c(),S),advance:(S,A)=>e(S,A,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new H8,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=c();x&&clearTimeout(x),S.performance.current!==S.performance.min&&_(S.performance.min),x=setTimeout(()=>_(c().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>o(A=>({...A,events:{...A.events,...S}})),setSize:(S,A,D=0,N=0)=>{const k=c().camera,z={width:S,height:A,top:D,left:N};o(P=>({size:z,viewport:{...P.viewport,...y(k,m,z)}}))},setDpr:S=>o(A=>{const D=WN(S);return{viewport:{...A.viewport,dpr:D,initialDpr:A.viewport.initialDpr||D}}}),setFrameloop:(S="always")=>{const A=c().clock;A.stop(),A.elapsedTime=0,S!=="never"&&(A.start(),A.elapsedTime=0),o(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:Me.createRef(),active:!1,frames:0,priority:0,subscribe:(S,A,D)=>{const N=c().internal;return N.priority=N.priority+(A>0?1:0),N.subscribers.push({ref:S,priority:A,store:D}),N.subscribers=N.subscribers.sort((k,z)=>k.priority-z.priority),()=>{const k=c().internal;k!=null&&k.subscribers&&(k.priority=k.priority-(A>0?1:0),k.subscribers=k.subscribers.filter(z=>z.ref!==S))}}}}}),n=t.getState();let r=n.size,a=n.viewport.dpr,s=n.camera;return t.subscribe(()=>{const{camera:o,size:c,viewport:f,gl:m,set:g}=t.getState();if(c.width!==r.width||c.height!==r.height||f.dpr!==a){r=c,a=f.dpr,Aj(o,c),f.dpr>0&&m.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(c.width,c.height,y)}o!==s&&(s=o,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>i(o)),t};function Nj(){const i=Me.useContext(QN);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function c_(i,e=0){const t=Nj(),n=t.getState().internal.subscribe,r=jN(i);return Kx(()=>n(r,e,t),[e,n,t]),null}var zj={version:"9.4.2"};function Oj(i){const e=fj(i);return e.injectIntoDevTools(),e}const JN=0,c1={},Lj=/^three(?=[A-Z])/,f_=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let Uj=0;const Bj=i=>typeof i=="function";function kj(i){if(Bj(i)){const e=`${Uj++}`;return c1[e]=i,e}else Object.assign(c1,i)}function $N(i,e){const t=f_(i),n=c1[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Ij(i,e,t){var n;return i=f_(i)in c1?i:i.replace(Lj,""),$N(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,u4(e.object,t,i,e)}function Pj(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?f4(i.parent,i):rl(i.object)&&(i.object.visible=!1),i.isHidden=!0,_1(i)}}function ez(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?c4(i.parent,i):rl(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,_1(i)}}function W8(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var r,a;const s=c1[f_(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Mf(e.object,e.props),e.props.attach)c4(i,e);else if(rl(e.object)&&rl(i.object)){const s=i.object.children.indexOf(t?.object);if(t&&s!==-1){const o=i.object.children.indexOf(e.object);if(o!==-1){i.object.children.splice(o,1);const c=o<s?s-1:s;i.object.children.splice(c,0,e.object)}else e.object.parent=i.object,i.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const s of e.children)W8(e,s);_1(e)}}function A5(i,e){e&&(e.parent=i,i.children.push(e),W8(i,e))}function pA(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),W8(i,e,t)}function tz(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():cA.unstable_scheduleCallback(cA.unstable_IdlePriority,e)}}function iM(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?f4(i,e):rl(e.object)&&rl(i.object)&&(i.object.remove(e.object),Cj(XN(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];iM(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&tz(e.object),t===void 0&&_1(e)}function Fj(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const rb=[];function Hj(){for(const[t]of rb){const n=t.parent;if(n){t.props.attach?f4(n,t):rl(t.object)&&rl(n.object)&&n.object.remove(t.object);for(const r of t.children)r.props.attach?f4(t,r):rl(r.object)&&rl(t.object)&&t.object.remove(r.object)}t.isHidden&&ez(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&tz(t.object)}for(const[t,n,r]of rb){t.props=n;const a=t.parent;if(a){var i,e;const s=c1[f_(t.type)];t.object=(i=t.props.object)!=null?i:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Fj(r,t.object),Mf(t.object,t.props),t.props.attach?c4(a,t):rl(t.object)&&rl(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?c4(t,o):rl(o.object)&&rl(t.object)&&t.object.add(o.object);_1(t)}}rb.length=0}const C5=()=>{},mA={};let C3=JN;const Vj=0,Gj=4,rM=Oj({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Ij,removeChild:iM,appendChild:A5,appendInitialChild:A5,insertBefore:pA,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||A5(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||iM(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||pA(n,e,t)},getRootHostContext:()=>mA,getChildHostContext:()=>mA,commitUpdate(i,e,t,n,r){var a,s,o;$N(e,n);let c=!1;if((i.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=n.args)!=null&&o.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(c=!0),c)rb.push([i,{...n},r]);else{const m=wj(i,n);Object.keys(m).length&&(Object.assign(i.props,m),Mf(i.object,m))}(r.sibling===null||(r.flags&Gj)===Vj)&&Hj()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>u4(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Pj,unhideInstance:ez,createTextInstance:C5,hideTextInstance:C5,unhideTextInstance:C5,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:Me.createContext(null),setCurrentUpdatePriority(i){C3=i},getCurrentUpdatePriority(){return C3},resolveUpdatePriority(){var i;if(C3!==JN)return C3;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return eb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return eb.ContinuousEventPriority;default:return eb.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:zj.version}),kd=new Map,Mm={objects:"shallow",strict:!1};function qj(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:r,left:a}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function Xj(i){const e=kd.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=n||Dj(lM,vA),s=t||rM.createContainer(a,eb.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||kd.set(i,{fiber:s,store:a});let o,c,f=!1,m=null;return{async configure(g={}){let y;m=new Promise(J=>y=J);let{gl:x,size:_,scene:M,events:w,onCreated:S,shadows:A=!1,linear:D=!1,flat:N=!1,legacy:k=!1,orthographic:z=!1,frameloop:P="always",dpr:V=[1,2],performance:B,raycaster:O,camera:X,onPointerMissed:W}=g,se=a.getState(),le=se.gl;if(!se.gl){const J={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},ge=typeof x=="function"?await x(J):x;dA(ge)?le=ge:le=new FN({...J,...x}),se.set({gl:le})}let ie=se.raycaster;ie||se.set({raycaster:ie=new zN});const{params:Y,...te}=O||{};if(mr.equ(te,ie,Mm)||Mf(ie,{...te}),mr.equ(Y,ie.params,Mm)||Mf(ie,{params:{...ie.params,...Y}}),!se.camera||se.camera===c&&!mr.equ(c,X,Mm)){c=X;const J=X?.isCamera,ge=J?X:z?new Zx(0,0,0,0,.1,1e3):new Ta(75,0,.1,1e3);J||(ge.position.z=5,X&&(Mf(ge,X),ge.manual||("aspect"in X||"left"in X||"right"in X||"bottom"in X||"top"in X)&&(ge.manual=!0,ge.updateProjectionMatrix())),!se.camera&&!(X!=null&&X.rotation)&&ge.lookAt(0,0,0)),se.set({camera:ge}),ie.camera=ge}if(!se.scene){let J;M!=null&&M.isScene?(J=M,u4(J,a,"",{})):(J=new b8,u4(J,a,"",{}),M&&Mf(J,M)),se.set({scene:J})}w&&!se.events.handlers&&se.set({events:w(a)});const re=qj(i,_);if(mr.equ(re,se.size,Mm)||se.setSize(re.width,re.height,re.top,re.left),V&&se.viewport.dpr!==WN(V)&&se.setDpr(V),se.frameloop!==P&&se.setFrameloop(P),se.onPointerMissed||se.set({onPointerMissed:W}),B&&!mr.equ(B,se.performance,Mm)&&se.set(J=>({performance:{...J.performance,...B}})),!se.xr){var ye;const J=(Oe,We)=>{const be=a.getState();be.frameloop!=="never"&&vA(Oe,!0,be,We)},ge=()=>{const Oe=a.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?J:null),Oe.gl.xr.isPresenting||lM(Oe)},Z={connect(){const Oe=a.getState().gl;Oe.xr.addEventListener("sessionstart",ge),Oe.xr.addEventListener("sessionend",ge)},disconnect(){const Oe=a.getState().gl;Oe.xr.removeEventListener("sessionstart",ge),Oe.xr.removeEventListener("sessionend",ge)}};typeof((ye=le.xr)==null?void 0:ye.addEventListener)=="function"&&Z.connect(),se.set({xr:Z})}if(le.shadowMap){const J=le.shadowMap.enabled,ge=le.shadowMap.type;if(le.shadowMap.enabled=!!A,mr.boo(A))le.shadowMap.type=Vv;else if(mr.str(A)){var F;const Z={basic:VR,percentage:R4,soft:Vv,variance:au};le.shadowMap.type=(F=Z[A])!=null?F:Vv}else mr.obj(A)&&Object.assign(le.shadowMap,A);(J!==le.shadowMap.enabled||ge!==le.shadowMap.type)&&(le.shadowMap.needsUpdate=!0)}return oi.enabled=!k,f||(le.outputColorSpace=D?Ff:ns,le.toneMapping=N?oc:s8),se.legacy!==k&&se.set(()=>({legacy:k})),se.linear!==D&&se.set(()=>({linear:D})),se.flat!==N&&se.set(()=>({flat:N})),x&&!mr.fun(x)&&!dA(x)&&!mr.equ(x,le,Mm)&&Mf(le,x),o=S,f=!0,y(),this},render(g){return!f&&!m&&this.configure(),m.then(()=>{rM.updateContainer(de.jsx(Yj,{store:a,children:g,onCreated:o,rootElement:i}),s,null,()=>{})}),a},unmount(){nz(i)}}}function Yj({store:i,children:e,onCreated:t,rootElement:n}){return Kx(()=>{const r=i.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),i.getState().events.connected||r.events.connect==null||r.events.connect(n)},[]),de.jsx(QN.Provider,{value:i,children:e})}function nz(i,e){const t=kd.get(i),n=t?.fiber;if(n){const r=t?.store.getState();r&&(r.internal.active=!1),rM.updateContainer(null,n,null,()=>{r&&setTimeout(()=>{try{var a,s,o,c;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(c=r.gl)!=null&&c.xr&&r.xr.disconnect(),_j(r.scene),kd.delete(i)}catch{}},500)})}}const jj=new Set,Wj=new Set,Zj=new Set;function R5(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function Qv(i,e){switch(i){case"before":return R5(jj,e);case"after":return R5(Wj,e);case"tail":return R5(Zj,e)}}let D5,N5;function aM(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),D5=e.internal.subscribers;for(let r=0;r<D5.length;r++)N5=D5[r],N5.ref.current(N5.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let h4=!1,sM=!1,z5,gA,wm;function iz(i){gA=requestAnimationFrame(iz),h4=!0,z5=0,Qv("before",i),sM=!0;for(const t of kd.values()){var e;wm=t.store.getState(),wm.internal.active&&(wm.frameloop==="always"||wm.internal.frames>0)&&!((e=wm.gl.xr)!=null&&e.isPresenting)&&(z5+=aM(i,wm))}if(sM=!1,Qv("after",i),z5===0)return Qv("tail",i),h4=!1,cancelAnimationFrame(gA)}function lM(i,e=1){var t;if(!i)return kd.forEach(n=>lM(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):sM?i.internal.frames=2:i.internal.frames=1,h4||(h4=!0,requestAnimationFrame(iz)))}function vA(i,e=!0,t,n){if(e&&Qv("before",i),t)aM(i,t,n);else for(const r of kd.values())aM(i,r.store.getState());e&&Qv("after",i)}const O5={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Kj(i){const{handlePointer:e}=Rj(i);return{priority:1,enabled:!0,compute(t,n,r){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(O5).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:r}=i.getState();(t=r.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=i.getState();if(r.disconnect==null||r.disconnect(),n(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,c]=O5[a];t.addEventListener(o,s,{passive:c})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const r in n.handlers){const a=n.handlers[r],[s]=O5[r];n.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function xA(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function Qj({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=Me.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=Me.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=i?typeof i=="number"?i:i.scroll:null,f=i?typeof i=="number"?i:i.resize:null,m=Me.useRef(!1);Me.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,x]=Me.useMemo(()=>{const S=()=>{if(!o.current.element)return;const{left:A,top:D,width:N,height:k,bottom:z,right:P,x:V,y:B}=o.current.element.getBoundingClientRect(),O={left:A,top:D,width:N,height:k,bottom:z,right:P,x:V,y:B};o.current.element instanceof HTMLElement&&n&&(O.height=o.current.element.offsetHeight,O.width=o.current.element.offsetWidth),Object.freeze(O),m.current&&!tW(o.current.lastBounds,O)&&s(o.current.lastBounds=O)};return[S,f?xA(S,f):S,c?xA(S,c):S]},[s,n,c,f]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",x,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function M(){o.current.element&&(o.current.resizeObserver=new r(x),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(S=>S.addEventListener("scroll",x,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=S=>{!S||S===o.current.element||(_(),o.current.element=S,o.current.scrollContainers=rz(S),M())};return $j(x,!!e),Jj(y),Me.useEffect(()=>{_(),M()},[e,x,y]),Me.useEffect(()=>_,[]),[w,a,g]}function Jj(i){Me.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function $j(i,e){Me.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function rz(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:r}=window.getComputedStyle(i);return[t,n,r].some(a=>a==="auto"||a==="scroll")&&e.push(i),[...e,...rz(i.parentElement)]}const eW=["x","y","top","bottom","left","right","width","height"],tW=(i,e)=>eW.every(t=>i[t]===e[t]);function nW({ref:i,children:e,fallback:t,resize:n,style:r,gl:a,events:s=Kj,eventSource:o,eventPrefix:c,shadows:f,linear:m,flat:g,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:w,raycaster:S,camera:A,scene:D,onPointerMissed:N,onCreated:k,...z}){Me.useMemo(()=>kj(ZY),[]);const P=xj(),[V,B]=Qj({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=Me.useRef(null),X=Me.useRef(null);Me.useImperativeHandle(i,()=>O.current);const W=jN(N),[se,le]=Me.useState(!1),[ie,Y]=Me.useState(!1);if(se)throw se;if(ie)throw ie;const te=Me.useRef(null);Kx(()=>{const ye=O.current;if(B.width>0&&B.height>0&&ye){te.current||(te.current=Xj(ye));async function F(){await te.current.configure({gl:a,scene:D,events:s,shadows:f,linear:m,flat:g,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:w,raycaster:S,camera:A,size:B,onPointerMissed:(...J)=>W.current==null?void 0:W.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(o?gj(o)?o.current:o:X.current),c&&J.setEvents({compute:(ge,Z)=>{const Oe=ge[c+"X"],We=ge[c+"Y"];Z.pointer.set(Oe/Z.size.width*2-1,-(We/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),k?.(J)}}),te.current.render(de.jsx(P,{children:de.jsx(bj,{set:Y,children:de.jsx(Me.Suspense,{fallback:de.jsx(yj,{set:le}),children:e??null})})}))}F()}}),Me.useEffect(()=>{const ye=O.current;if(ye)return()=>nz(ye)},[]);const re=o?"none":"auto";return de.jsx("div",{ref:X,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...r},...z,children:de.jsx("div",{ref:V,style:{width:"100%",height:"100%"},children:de.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function h_(i){return de.jsx(GN,{children:de.jsx(nW,{...i})})}function iW(){const i=Me.useRef(),[e,t]=Me.useState(0);Me.useEffect(()=>{const a=Date.now(),s=()=>{const o=Date.now()-a,c=Math.min(o/3e3,1),f=1-Math.pow(1-c,3);t(f),c<1&&requestAnimationFrame(s)};s()},[]);const n=Me.useMemo(()=>{const r=[];for(let f=0;f<=200;f++){const m=f/200,g=m*Math.PI*2*3,y=m*3,x=y*Math.cos(g),_=y*Math.sin(g),M=(m-.5)*.3;r.push(x,_,M)}const c=new En;return c.setAttribute("position",new Yt(r,3)),c},[]);return c_(r=>{i.current&&(i.current.rotation.z=r.clock.elapsedTime*.1)}),de.jsxs("group",{ref:i,scale:e,children:[de.jsx("line",{geometry:n,children:de.jsx("lineBasicMaterial",{color:"#B8860B",transparent:!0,opacity:.5})}),[1,2].map((r,a)=>{const s=n.clone();return s.translate(0,0,r*.1),de.jsx("line",{geometry:s,children:de.jsx("lineBasicMaterial",{color:"#B8860B",transparent:!0,opacity:.3-a*.1})},a)}),[.5,1,1.5,2,2.5,3].map((r,a)=>de.jsxs("mesh",{position:[0,0,-.2+a*.05],children:[de.jsx("ringGeometry",{args:[r*.95,r,64]}),de.jsx("meshBasicMaterial",{color:"#B8860B",transparent:!0,opacity:Math.max(.1-a*.015,.02),side:ou})]},`ring-${a}`))]})}function rW(){return de.jsx("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:de.jsxs(h_,{camera:{position:[0,0,5],fov:50},children:[de.jsx("ambientLight",{intensity:.3}),de.jsx(iW,{})]})})}function aW(){const i=Me.useRef(null),e=Me.useRef(null),t=Me.useRef(null),n=Me.useRef(null);return Me.useEffect(()=>{Ii.timeline().from(e.current,{opacity:0,y:50,duration:1,ease:"power3.out"}).from(t.current,{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(n.current,{opacity:0,scale:.8,duration:.6,ease:"back.out(1.7)"},"-=0.3")},[]),de.jsxs("section",{ref:i,id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[de.jsx(rW,{}),de.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[de.jsx("h1",{ref:e,className:"text-4xl md:text-6xl lg:text-7xl font-light mb-8 text-white tracking-wider",children:"Laura Gomezjurado Gonzalez"}),de.jsx("p",{ref:t,className:"text-lg md:text-xl text-gray-300 mb-12 font-light tracking-wide",children:"Mech Interp | Evaluation Science | Fairness | Robustness"}),de.jsx("p",{className:"text-sm md:text-base text-gray-400 mb-16 max-w-2xl mx-auto font-light leading-relaxed",children:"Exploring how large models reason, generalize, and fail; and how we can build AI systems that are more interpretable, robust, and aligned with human needs."}),de.jsxs("div",{ref:n,className:"flex gap-4 justify-center flex-wrap",children:[de.jsx("a",{href:"#portfolio",className:"px-8 py-3 bg-[#B8860B] hover:bg-[#8B6914] rounded font-light text-base transition-all duration-200 text-black",children:"View My Work"}),de.jsx("a",{href:"#contact",className:"px-8 py-3 border border-[#B8860B]/40 hover:border-[#B8860B] rounded font-light text-base transition-all duration-200 text-white hover:text-[#B8860B]",children:"Get In Touch"})]})]})]})}function sW(){const i=Me.useRef();return c_(e=>{i.current&&(i.current.rotation.x=e.clock.elapsedTime*.08,i.current.rotation.y=e.clock.elapsedTime*.12,i.current.position.y=Math.sin(e.clock.elapsedTime*.25)*.15)}),de.jsxs("mesh",{ref:i,position:[3,0,-2],children:[de.jsx("torusGeometry",{args:[1,.4,24,64]}),de.jsx("meshStandardMaterial",{color:"#B8860B",wireframe:!0,emissive:"#B8860B",emissiveIntensity:.18,metalness:.8,roughness:.2,opacity:.5,transparent:!0})]})}function lW(){return de.jsx("div",{className:"absolute inset-0 -z-10 opacity-20 pointer-events-none",children:de.jsxs(h_,{camera:{position:[0,0,5],fov:50},children:[de.jsx("ambientLight",{intensity:.2}),de.jsx(sW,{})]})})}Ii.registerPlugin(Mn);function oW(){const i=Me.useRef(null),e=Me.useRef(null),t=Me.useRef(null),n=Me.useRef(null);return Me.useEffect(()=>{e.current&&Ii.set(e.current,{opacity:1,y:0}),t.current&&Ii.set(t.current,{opacity:1,x:0}),n.current&&Ii.set(n.current,{opacity:1,x:0}),Ii.fromTo(e.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:i.current,start:"top 85%",toggleActions:"play none none none"}}),Ii.fromTo(t.current,{opacity:0,x:-50},{opacity:1,x:0,duration:1,ease:"power3.out",delay:.2,scrollTrigger:{trigger:i.current,start:"top 85%",toggleActions:"play none none none"}}),Ii.fromTo(n.current,{opacity:0,x:50},{opacity:1,x:0,duration:1,ease:"power3.out",delay:.4,scrollTrigger:{trigger:i.current,start:"top 85%",toggleActions:"play none none none"}})},[]),de.jsxs("section",{ref:i,id:"about",className:"relative min-h-screen py-20 px-4 overflow-hidden",children:[de.jsx(lW,{}),de.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[de.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-24 text-center text-gray-900 tracking-wider",children:"About Me"}),de.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[de.jsxs("div",{ref:t,className:"space-y-6",children:[de.jsx("p",{className:"text-xl text-gray-400 leading-relaxed",children:"I'm deeply passionate about how AI systems reason, where they fail, and how we can make them safer for everyonenot just on paper, but in the places where technology meets real life."}),de.jsx("p",{className:"text-lg text-gray-500 leading-relaxed",children:"My work spans interpretability, fairness, robustness, and model editing, motivated by a simple idea: if we can understand the mechanisms behind a model's behavior, we can build systems that are more reliable and more equitable by design."}),de.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:`I come from a background of deploying AI in low-infrastructure, post-conflict regions, and I continue to serve in global governance spaces like UN Women and Davos. Those experiences taught me that "AI safety" isn't just a technical problemit's about access, trust, context, and the people who stand to benefit or be harmed.`}),de.jsx("p",{className:"text-lg text-gray-400 leading-relaxed",children:"I'm driven by research that is both intellectually rigorous and socially grounded, and by a belief that technical excellence and human impact should reinforce each other, not compete."}),de.jsx("div",{className:"flex flex-wrap gap-4 mt-8",children:["AI Safety","Interpretability","Fairness","Robustness","Model Editing","Ensembles","Precision Routing"].map((r,a)=>de.jsx("span",{className:"px-4 py-2 glass rounded-lg text-sm transform transition-all duration-200 hover:scale-105 hover:bg-[#B8860B]/10 hover:border-[#B8860B]/30 cursor-default",style:{animationDelay:`${a*.1}s`},children:r},r))})]}),de.jsxs("div",{ref:n,className:"relative group",children:[de.jsx("div",{className:"glass rounded-2xl p-2 aspect-square flex items-center justify-center transform transition-all duration-300 hover:scale-[1.02] overflow-hidden",children:de.jsxs("div",{className:"w-full h-full rounded-xl relative overflow-hidden bg-gradient-to-br from-[#B8860B]/20 via-[#8B6914]/10 to-[#B8860B]/20",children:[de.jsx("img",{src:"/profile.jpg",alt:"Laura Gomezjurado Gonzalez at World Economic Forum Davos 2025",className:"w-full h-full object-cover rounded-xl transform group-hover:scale-110 transition-transform duration-500"}),de.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/10 to-transparent transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})}),de.jsx("div",{className:"absolute -bottom-4 -right-4 w-32 h-32 bg-[#B8860B] rounded-full blur-3xl opacity-20 -z-10 group-hover:opacity-30 transition-all duration-300"}),de.jsx("div",{className:"absolute -top-4 -left-4 w-24 h-24 bg-[#B8860B] rounded-full blur-2xl opacity-15 -z-10 group-hover:opacity-25 transition-all duration-300"})]})]})]})]})}function uW(){const i=Me.useRef();return c_(e=>{i.current&&(i.current.rotation.x=e.clock.elapsedTime*.08,i.current.rotation.y=e.clock.elapsedTime*.12,i.current.position.y=Math.sin(e.clock.elapsedTime*.25)*.15)}),de.jsxs("mesh",{ref:i,position:[-3,0,-2],children:[de.jsx("torusGeometry",{args:[1,.4,24,64]}),de.jsx("meshStandardMaterial",{color:"#B8860B",wireframe:!0,emissive:"#B8860B",emissiveIntensity:.18,metalness:.8,roughness:.2,opacity:.5,transparent:!0})]})}function cW(){return de.jsx("div",{className:"absolute inset-0 -z-10 opacity-20 pointer-events-none",children:de.jsxs(h_,{camera:{position:[0,0,5],fov:50},children:[de.jsx("ambientLight",{intensity:.2}),de.jsx(uW,{})]})})}Ii.registerPlugin(Mn);const fW=[{id:1,title:"AI Cybersecurity & Evaluation Robustness",description:"Research at Stanford CRFM extending CyberBench: benchmarking cybersecurity agents",briefDescription:"Extending evaluation frameworks for cybersecurity agents with robust benchmarking methodologies.",tech:["Agents","Cybersecurity","AI Safety"],color:"from-[#B8860B] to-[#8B6914]",org:"Stanford CRFM (2025 - Present)",image:null,link:null,github:null},{id:2,title:"Transformer Generalization Limits",description:"Microsoft Research internship probing generalization limits on weak-signal behavioral prediction (email reply). Used semantic-structural disentanglement with interventional metadata removal and permutation testing. Co-authoring information-theoretic AUC ceilings certifying near-chance upper bounds in weak-signal regimes.",briefDescription:"Investigating theoretical limits of transformer generalization in weak-signal regimes through information-theoretic analysis.",tech:["Transformers","Generalization","XGBoost","Evaluation"],color:"from-[#B8860B] to-[#A0826D]",org:"Microsoft Research (Summer 2025)",image:null,link:null,github:null},{id:3,title:"Precision Routing for Multi-LLM Ensembles",description:"Stanford Scaling Intelligence Lab research estimating per-query success to select minimum-cost models with target-accuracy constraints. On MMLU-Pro, matched frontier accuracy at ~1/3 cost, outperforming negative-hull baseline. Fine-tuned encoder + calibration head for query difficulty estimation.",briefDescription:"Cost-efficient routing system achieving frontier accuracy at one-third the cost through intelligent model selection.",tech:["LLMs","Ensembles","Calibration","Cost Optimization"],color:"from-[#8B6914] to-[#B8860B]",org:"Stanford Scaling Intelligence Lab (2025)",image:null,link:null,github:null},{id:4,title:"High-Dimensional Model Editing for Fairness",description:"Built -scaled merge of subgroup-specific  maintaining accuracy while lowering DPD/EOD vs FFT/LoRA across LLaMA-2, DistilBERT, and Qwen-2.5. Derived theoretical DPD upper bound linking coefficients to subgroup vector norms. NeurIPS 2025 WS, ICLR 2026 under review.",briefDescription:"Novel model editing approach reducing demographic parity gaps while preserving accuracy through high-dimensional parameter manipulation.",tech:["Model Editing","Fairness","PyTorch","DeepSpeed"],color:"from-[#B8860B] to-[#8B6914]",org:"Mila/Meta AI with Dr. Hiroki Naganuma (2024 - Present)",image:null,link:"https://arxiv.org/abs/2505.24262",github:null},{id:10,title:"Interpretation Shifts: OOD Analysis & Attribution Robustness",description:"Comprehensive analysis of model behavior under distribution shift, comparing Vision Transformers and ResNet architectures. Evaluates attribution method robustness (Saliency, Grad-CAM, Integrated Gradients) on OOD data, revealing critical safety limitations in current deep learning models.",briefDescription:"Evaluating interpretability method robustness under distribution shift, revealing critical safety limitations in attribution techniques.",tech:["Interpretability","OOD Analysis","Vision Transformers","PyTorch"],color:"from-[#B8860B] to-[#A0826D]",org:"Research Project",image:null,link:null,github:"https://github.com/LauraGomezjurado/interpret_shifts"},{id:5,title:"ASOFI: AI for Agriculture & Peacebuilding",description:"Co-founded organization deploying on-device cacao disease detection (MobileNet  TFLite/Core ML) via WhatsApp to 12 rural co-ops, scanning 1.5k+ plants/month with ~18% yield lift. Led digital-literacy & AI bootcamps for 700+ women in post-conflict zones. Partnerships with MAKAIA and +Colombia.",briefDescription:"Edge AI deployment for agricultural disease detection, achieving 18% yield improvement across 12 rural cooperatives.",tech:["MobileNet","TFLite","Edge AI","Social Impact"],color:"from-[#A0826D] to-[#B8860B]",org:"ASOFI (Co-founder & President, 2021 - Present)",image:null,link:null,github:null},{id:6,title:"Browser-Native Latent-Code Video",description:"Built browser-native, latent-code video over WebRTC at <15 kbps (~100-500 vs H.264/VP9), MOS  4.2/5, 25 fps on CPU with ONNX Runtime. Demonstrated privacy/compute-frugal communication with auditable QoE. Published at IEEE DCC 2023.",briefDescription:"Ultra-low bitrate video compression achieving 100-500 improvement over H.264/VP9 with browser-native implementation.",tech:["WebRTC","ONNX Runtime","Video Compression","Edge Computing"],color:"from-[#8B6914] to-[#B8860B]",org:"Stanford EE (2022 - 2023)",image:null,link:"https://ieeexplore.ieee.org/document/10125536",github:null},{id:7,title:"COVID-19 Detection from Cough",description:"Led ~30k-sample cough collection across 30+ hospitals. Trained CNN/SSL models (AUC 0.807/0.802). Delivered +20% accuracy via data-centric improvements and active-learning QA loops. Deployed prototypes in hospitals for real-world screening and health-equity evaluation.",briefDescription:"Audio-based COVID-19 screening achieving 0.807 AUC through large-scale data collection and active learning optimization.",tech:["CNN","Self-Supervised Learning","Active Learning","Healthcare AI"],color:"from-[#B8860B] to-[#A0826D]",org:"Covid Detection Foundation / Virufy (2021 - 2023)",image:null,link:"https://ui.adsabs.harvard.edu/abs/2022arXiv220101669D/abstract",github:null},{id:8,title:"Clinical-Note LLM Pipeline",description:"Built compact LLaMA-3 pipeline (QLoRA+RAG+DPO, 1-8B) improving note quality (ROUGE-1 0.250.48; BERTScore 0.865 on ACI-BENCH). Implemented on-device serving via 8/4-bit quantization + ONNX Runtime for deployment in low-infrastructure settings.",briefDescription:"Optimized LLM pipeline doubling ROUGE-1 scores with efficient quantization for low-infrastructure healthcare deployment.",tech:["LLaMA-3","QLoRA","RAG","DPO","Quantization"],color:"from-[#8B6914] to-[#B8860B]",org:"Selected Project",image:null,link:null,github:"https://github.com/LauraGomezjurado/clinical-notes-pipeline"},{id:9,title:"Safe Convex RL",description:"Developed primal-dual method with O(1/K) regret achieving expert-level reward with unsafe occupancy 0.047%. Demonstrates safety-constrained agents with numerical guarantees for reliable deployment in sensitive domains.",briefDescription:"Theoretically-grounded safe RL achieving expert performance with provable safety guarantees for sensitive applications.",tech:["Reinforcement Learning","Convex Optimization","Safety Constraints"],color:"from-[#B8860B] to-[#8B6914]",org:"Selected Project",image:null,link:null,github:"https://github.com/LauraGomezjurado/ee364b-project"}];function hW(){const i=Me.useRef(null),e=Me.useRef(null),[t,n]=Me.useState(null);return Me.useEffect(()=>{e.current&&Ii.set(e.current,{opacity:1,y:0});const r=document.querySelectorAll(".project-item");r.forEach(a=>{Ii.set(a,{opacity:1,y:0})}),Ii.fromTo(e.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:i.current,start:"top 85%",toggleActions:"play none none none"}}),r.forEach((a,s)=>{Ii.fromTo(a,{opacity:0,y:50},{opacity:1,y:0,duration:.8,ease:"power3.out",delay:s*.1,scrollTrigger:{trigger:a,start:"top 85%",toggleActions:"play none none none"}})})},[]),de.jsxs("section",{ref:i,id:"portfolio",className:"relative min-h-screen py-20 px-4 overflow-hidden",children:[de.jsx(cW,{}),de.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto",children:[de.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-32 text-center text-white tracking-wider",children:"Research & Projects"}),de.jsx("div",{className:"space-y-32 md:space-y-48",children:fW.map(r=>de.jsx("div",{className:"project-item min-h-[60vh] md:min-h-[70vh] flex flex-col justify-center",children:de.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-20 items-start",children:[de.jsxs("div",{className:"space-y-6",children:[de.jsxs("div",{children:[de.jsx("h3",{className:"text-3xl md:text-4xl lg:text-5xl font-light mb-4 text-[#B8860B] tracking-wide",children:r.title}),de.jsx("p",{className:"text-sm text-[#B8860B]/80 mb-6 font-light tracking-wide uppercase",children:r.org})]}),de.jsx("p",{className:"text-base md:text-lg text-gray-300 leading-relaxed font-light max-w-xl",children:r.description}),de.jsxs("div",{className:"flex flex-col gap-3 mt-8",children:[r.github&&de.jsxs("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm text-[#B8860B] hover:text-[#8B6914] transition-colors font-light",children:[de.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"View on GitHub"]}),r.link&&de.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm text-[#B8860B] hover:text-[#8B6914] transition-colors font-light",children:[de.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Read Paper"]})]})]}),de.jsxs("div",{className:"space-y-6 flex flex-col justify-start",children:[r.image?de.jsx("div",{className:"w-full aspect-video bg-white/5 overflow-hidden mb-6",children:de.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}):de.jsx("div",{className:"w-full aspect-video bg-gradient-to-br from-[#B8860B]/10 to-[#8B6914]/10 flex items-center justify-center border border-[#B8860B]/20 mb-6",children:de.jsx("div",{className:"text-6xl md:text-8xl text-[#B8860B]/30 font-light tracking-widest",children:r.org.charAt(0)})}),de.jsx("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed font-light",children:r.briefDescription}),de.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.tech.map((a,s)=>de.jsx("span",{className:"px-3 py-1.5 bg-white/5 rounded text-xs font-light text-gray-400 border border-white/10",children:a},s))})]})]})},r.id))})]})]})}function dW(){const i=Me.useRef();return c_(e=>{i.current&&(i.current.rotation.x=e.clock.elapsedTime*.08,i.current.rotation.y=e.clock.elapsedTime*.12,i.current.position.y=Math.sin(e.clock.elapsedTime*.25)*.15)}),de.jsxs("mesh",{ref:i,position:[0,0,-2],children:[de.jsx("torusGeometry",{args:[1.2,.5,24,64]}),de.jsx("meshStandardMaterial",{color:"#B8860B",wireframe:!0,emissive:"#B8860B",emissiveIntensity:.18,metalness:.8,roughness:.2,opacity:.5,transparent:!0})]})}function pW(){return de.jsx("div",{className:"absolute inset-0 -z-10 opacity-20 pointer-events-none",children:de.jsxs(h_,{camera:{position:[0,0,5],fov:50},children:[de.jsx("ambientLight",{intensity:.2}),de.jsx(dW,{})]})})}Ii.registerPlugin(Mn);function mW(){const i=Me.useRef(null),e=Me.useRef(null),t=Me.useRef(null),[n,r]=Me.useState({name:"",email:"",message:""});Me.useEffect(()=>{Ii.from(e.current,{scrollTrigger:{trigger:i.current,start:"top 80%"},opacity:0,y:50,duration:1,ease:"power3.out"}),Ii.from(t.current,{scrollTrigger:{trigger:i.current,start:"top 80%"},opacity:0,y:50,duration:1,ease:"power3.out",delay:.2})},[]);const a=o=>{o.preventDefault(),console.log("Form submitted:",n),alert("Thank you for your message! I'll get back to you soon."),r({name:"",email:"",message:""})},s=o=>{r({...n,[o.target.name]:o.target.value})};return de.jsxs("section",{ref:i,id:"contact",className:"relative min-h-screen py-20 px-4 overflow-hidden",children:[de.jsx(pW,{}),de.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[de.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-24 text-center text-white tracking-wider",children:"Get In Touch"}),de.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[de.jsxs("div",{className:"space-y-6",children:[de.jsx("h3",{className:"text-2xl font-light mb-4",children:"Research & Collaboration"}),de.jsx("p",{className:"text-gray-300 leading-relaxed",children:"I'm interested in discussing research collaborations, particularly in AI safety, interpretability, and fairness. Open to opportunities that advance mechanistic understanding of large models and develop practical safety frameworks."}),de.jsxs("div",{className:"space-y-4 mt-8",children:[de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:de.jsx("svg",{className:"w-6 h-6 text-[#B8860B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),de.jsxs("div",{children:[de.jsx("div",{className:"text-sm text-gray-400",children:"Email"}),de.jsx("a",{href:"mailto:lpgomez@stanford.edu",className:"text-[#B8860B] hover:text-[#8B6914] transition-colors",children:"lpgomez@stanford.edu"})]})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:de.jsx("svg",{className:"w-6 h-6 text-[#B8860B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),de.jsxs("div",{children:[de.jsx("div",{className:"text-sm text-gray-400",children:"Phone"}),de.jsx("a",{href:"tel:+16505053811",className:"text-[#B8860B] hover:text-[#8B6914] transition-colors",children:"+1 (650) 505-3811"})]})]}),de.jsxs("div",{className:"flex items-center gap-4",children:[de.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:de.jsxs("svg",{className:"w-6 h-6 text-[#B8860B]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),de.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),de.jsxs("div",{children:[de.jsx("div",{className:"text-sm text-gray-400",children:"Location"}),de.jsx("div",{className:"text-[#B8860B]",children:"Stanford, CA"})]})]})]}),de.jsxs("div",{className:"flex gap-4 mt-8",children:[de.jsx("a",{href:"https://github.com/LauraGomezjurado",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 glass rounded-lg flex items-center justify-center hover:scale-110 transition-transform",children:de.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),de.jsx("a",{href:"https://www.linkedin.com/in/laura-gomezjurado/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 glass rounded-lg flex items-center justify-center hover:scale-110 transition-transform",children:de.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:de.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),de.jsxs("form",{ref:t,onSubmit:a,className:"glass rounded-2xl p-8 space-y-6",children:[de.jsxs("div",{children:[de.jsx("label",{htmlFor:"name",className:"block text-sm font-light mb-2",children:"Name"}),de.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-[#B8860B] transition-colors",placeholder:"Your Name"})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"email",className:"block text-sm font-light mb-2",children:"Email"}),de.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:s,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-[#B8860B] transition-colors",placeholder:"your.email@example.com"})]}),de.jsxs("div",{children:[de.jsx("label",{htmlFor:"message",className:"block text-sm font-light mb-2",children:"Message"}),de.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:s,required:!0,rows:"6",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors resize-none",placeholder:"Your message here..."})]}),de.jsx("button",{type:"submit",className:"w-full px-8 py-4 bg-[#B8860B] hover:bg-[#8B6914] rounded-lg font-light text-lg transition-all duration-200 shadow-sm hover:shadow-md text-black",children:"Send Message"})]})]})]})]})}Ii.registerPlugin(Mn);function gW(){return Me.useEffect(()=>{Ii.set("body",{background:"#000000",color:"#FFFFFF"}),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(r){r.preventDefault();const a=document.querySelector(this.getAttribute("href"));a&&a.scrollIntoView({behavior:"smooth",block:"start"})})});const i=document.querySelector("#about");i&&Ii.to("body",{background:"#FAFBFC",color:"#1F2937",scrollTrigger:{trigger:i,start:"top 60%",end:"top 20%",scrub:1}});const e=document.querySelector("#contact");return e&&Ii.to("body",{background:"#000000",color:"#FFFFFF",scrollTrigger:{trigger:e,start:"top 60%",end:"top 20%",scrub:1}}),document.querySelectorAll("section[id]").forEach(n=>{Ii.fromTo(n,{opacity:.9},{opacity:1,duration:1.2,ease:"power2.out",scrollTrigger:{trigger:n,start:"top 85%",end:"top 50%",toggleActions:"play none none reverse",scrub:.8}})}),()=>{Mn.getAll().forEach(n=>n.kill())}},[]),de.jsxs(de.Fragment,{children:[de.jsx(aW,{}),de.jsx("div",{className:"section-divider"}),de.jsx(oW,{}),de.jsx("div",{className:"section-divider"}),de.jsx(hW,{}),de.jsx("div",{className:"section-divider"}),de.jsx(mW,{})]})}Ii.registerPlugin(Mn);const yA=[{slug:"subliminal-preference-transfer",title:"Subliminal Preference Transfer in LLMs: When Models Learn More Than We Intend",date:"2025-01-20",excerpt:"Investigating whether language models trained on demographic-specific preference data from neutral conversations exhibit opinion transfer when evaluated on unrelated topicsand what this means for AI safety."},{slug:"welcome-to-my-blog",title:"Welcome to My Blog",date:"2025-01-15",excerpt:"This is my first blog post where I'll be sharing thoughts on AI safety, interpretability, and research."}];function vW(){const i=Me.useRef(null),e=Me.useRef(null);return Me.useEffect(()=>(Ii.to("body",{background:"#faf9f6",color:"#1a1a1a",duration:.8,ease:"power2.out"}),Ii.fromTo(e.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:i.current,start:"top 85%",toggleActions:"play none none none"}}),()=>{Mn.getAll().forEach(t=>t.kill())}),[]),de.jsx("section",{ref:i,id:"blog",className:"relative min-h-screen py-20 px-4 overflow-hidden",style:{background:"#faf9f6",color:"#1a1a1a"},children:de.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[de.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-16 text-center gradient-text tracking-wider",children:"Blog"}),yA.length===0?de.jsx("div",{className:"text-center py-20",children:de.jsx("p",{className:"text-gray-600 text-lg",children:"No blog posts yet. Check back soon!"})}):de.jsx("div",{className:"space-y-8",children:yA.map((t,n)=>de.jsx("article",{className:"glass rounded-2xl p-8 hover:scale-[1.02] transition-transform duration-300 cursor-pointer",children:de.jsxs(zf,{to:`/blog/${t.slug}`,className:"block",children:[de.jsx("h3",{className:"text-2xl font-light mb-3 gradient-text hover:text-indigo-600 transition-colors",children:t.title}),de.jsx("p",{className:"text-sm text-gray-600 mb-4",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),de.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:t.excerpt}),de.jsx("span",{className:"inline-block mt-4 text-indigo-500 hover:text-indigo-600 transition-colors",children:"Read more "})]})},t.slug))})]})})}function bA(i){const e=[],t=String(i||"");let n=t.indexOf(","),r=0,a=!1;for(;!a;){n===-1&&(n=t.length,a=!0);const s=t.slice(r,n).trim();(s||!a)&&e.push(s),r=n+1,n=t.indexOf(",",r)}return e}function xW(i,e){const t={};return(i[i.length-1]===""?[...i,""]:i).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const yW=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,bW=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_W={};function _A(i,e){return(_W.jsx?bW:yW).test(i)}const SW=/[ \t\n\f\r]/g;function MW(i){return typeof i=="object"?i.type==="text"?SA(i.value):!1:SA(i)}function SA(i){return i.replace(SW,"")===""}class Qx{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}Qx.prototype.normal={};Qx.prototype.property={};Qx.prototype.space=void 0;function az(i,e){const t={},n={};for(const r of i)Object.assign(t,r.property),Object.assign(n,r.normal);return new Qx(t,n,e)}function Dx(i){return i.toLowerCase()}class gl{constructor(e,t){this.attribute=t,this.property=e}}gl.prototype.attribute="";gl.prototype.booleanish=!1;gl.prototype.boolean=!1;gl.prototype.commaOrSpaceSeparated=!1;gl.prototype.commaSeparated=!1;gl.prototype.defined=!1;gl.prototype.mustUseProperty=!1;gl.prototype.number=!1;gl.prototype.overloadedBoolean=!1;gl.prototype.property="";gl.prototype.spaceSeparated=!1;gl.prototype.space=void 0;let wW=0;const Ln=qd(),jr=qd(),oM=qd(),vt=qd(),Ki=qd(),qm=qd(),zl=qd();function qd(){return 2**++wW}const uM=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ln,booleanish:jr,commaOrSpaceSeparated:zl,commaSeparated:qm,number:vt,overloadedBoolean:oM,spaceSeparated:Ki},Symbol.toStringTag,{value:"Module"})),L5=Object.keys(uM);class Z8 extends gl{constructor(e,t,n,r){let a=-1;if(super(e,t),MA(this,"space",r),typeof n=="number")for(;++a<L5.length;){const s=L5[a];MA(this,L5[a],(n&uM[s])===uM[s])}}}Z8.prototype.defined=!0;function MA(i,e,t){t&&(i[e]=t)}function S1(i){const e={},t={};for(const[n,r]of Object.entries(i.properties)){const a=new Z8(n,i.transform(i.attributes||{},n),r,i.space);i.mustUseProperty&&i.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),e[n]=a,t[Dx(n)]=n,t[Dx(a.attribute)]=n}return new Qx(e,t,i.space)}const sz=S1({properties:{ariaActiveDescendant:null,ariaAtomic:jr,ariaAutoComplete:null,ariaBusy:jr,ariaChecked:jr,ariaColCount:vt,ariaColIndex:vt,ariaColSpan:vt,ariaControls:Ki,ariaCurrent:null,ariaDescribedBy:Ki,ariaDetails:null,ariaDisabled:jr,ariaDropEffect:Ki,ariaErrorMessage:null,ariaExpanded:jr,ariaFlowTo:Ki,ariaGrabbed:jr,ariaHasPopup:null,ariaHidden:jr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ki,ariaLevel:vt,ariaLive:null,ariaModal:jr,ariaMultiLine:jr,ariaMultiSelectable:jr,ariaOrientation:null,ariaOwns:Ki,ariaPlaceholder:null,ariaPosInSet:vt,ariaPressed:jr,ariaReadOnly:jr,ariaRelevant:null,ariaRequired:jr,ariaRoleDescription:Ki,ariaRowCount:vt,ariaRowIndex:vt,ariaRowSpan:vt,ariaSelected:jr,ariaSetSize:vt,ariaSort:null,ariaValueMax:vt,ariaValueMin:vt,ariaValueNow:vt,ariaValueText:null,role:null},transform(i,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function lz(i,e){return e in i?i[e]:e}function oz(i,e){return lz(i,e.toLowerCase())}const TW=S1({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:qm,acceptCharset:Ki,accessKey:Ki,action:null,allow:null,allowFullScreen:Ln,allowPaymentRequest:Ln,allowUserMedia:Ln,alt:null,as:null,async:Ln,autoCapitalize:null,autoComplete:Ki,autoFocus:Ln,autoPlay:Ln,blocking:Ki,capture:null,charSet:null,checked:Ln,cite:null,className:Ki,cols:vt,colSpan:null,content:null,contentEditable:jr,controls:Ln,controlsList:Ki,coords:vt|qm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ln,defer:Ln,dir:null,dirName:null,disabled:Ln,download:oM,draggable:jr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ln,formTarget:null,headers:Ki,height:vt,hidden:oM,high:vt,href:null,hrefLang:null,htmlFor:Ki,httpEquiv:Ki,id:null,imageSizes:null,imageSrcSet:null,inert:Ln,inputMode:null,integrity:null,is:null,isMap:Ln,itemId:null,itemProp:Ki,itemRef:Ki,itemScope:Ln,itemType:Ki,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ln,low:vt,manifest:null,max:null,maxLength:vt,media:null,method:null,min:null,minLength:vt,multiple:Ln,muted:Ln,name:null,nonce:null,noModule:Ln,noValidate:Ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ln,optimum:vt,pattern:null,ping:Ki,placeholder:null,playsInline:Ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ln,referrerPolicy:null,rel:Ki,required:Ln,reversed:Ln,rows:vt,rowSpan:vt,sandbox:Ki,scope:null,scoped:Ln,seamless:Ln,selected:Ln,shadowRootClonable:Ln,shadowRootDelegatesFocus:Ln,shadowRootMode:null,shape:null,size:vt,sizes:null,slot:null,span:vt,spellCheck:jr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:vt,step:null,style:null,tabIndex:vt,target:null,title:null,translate:null,type:null,typeMustMatch:Ln,useMap:null,value:jr,width:vt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ki,axis:null,background:null,bgColor:null,border:vt,borderColor:null,bottomMargin:vt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ln,declare:Ln,event:null,face:null,frame:null,frameBorder:null,hSpace:vt,leftMargin:vt,link:null,longDesc:null,lowSrc:null,marginHeight:vt,marginWidth:vt,noResize:Ln,noHref:Ln,noShade:Ln,noWrap:Ln,object:null,profile:null,prompt:null,rev:null,rightMargin:vt,rules:null,scheme:null,scrolling:jr,standby:null,summary:null,text:null,topMargin:vt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:vt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ln,disableRemotePlayback:Ln,prefix:null,property:null,results:vt,security:null,unselectable:null},space:"html",transform:oz}),EW=S1({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zl,accentHeight:vt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:vt,amplitude:vt,arabicForm:null,ascent:vt,attributeName:null,attributeType:null,azimuth:vt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:vt,by:null,calcMode:null,capHeight:vt,className:Ki,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:vt,diffuseConstant:vt,direction:null,display:null,dur:null,divisor:vt,dominantBaseline:null,download:Ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:vt,enableBackground:null,end:null,event:null,exponent:vt,externalResourcesRequired:null,fill:null,fillOpacity:vt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:qm,g2:qm,glyphName:qm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:vt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:vt,horizOriginX:vt,horizOriginY:vt,id:null,ideographic:vt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:vt,k:vt,k1:vt,k2:vt,k3:vt,k4:vt,kernelMatrix:zl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:vt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:vt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:vt,overlineThickness:vt,paintOrder:null,panose1:null,path:null,pathLength:vt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ki,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:vt,pointsAtY:vt,pointsAtZ:vt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zl,rev:zl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zl,requiredFeatures:zl,requiredFonts:zl,requiredFormats:zl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:vt,specularExponent:vt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:vt,strikethroughThickness:vt,string:null,stroke:null,strokeDashArray:zl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:vt,strokeOpacity:vt,strokeWidth:null,style:null,surfaceScale:vt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zl,tabIndex:vt,tableValues:null,target:null,targetX:vt,targetY:vt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:vt,underlineThickness:vt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:vt,values:null,vAlphabetic:vt,vMathematical:vt,vectorEffect:null,vHanging:vt,vIdeographic:vt,version:null,vertAdvY:vt,vertOriginX:vt,vertOriginY:vt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:vt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lz}),uz=S1({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(i,e){return"xlink:"+e.slice(5).toLowerCase()}}),cz=S1({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oz}),fz=S1({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(i,e){return"xml:"+e.slice(3).toLowerCase()}}),AW={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},CW=/[A-Z]/g,wA=/-[a-z]/g,RW=/^data[-\w.:]+$/i;function hz(i,e){const t=Dx(e);let n=e,r=gl;if(t in i.normal)return i.property[i.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&RW.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(wA,NW);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!wA.test(a)){let s=a.replace(CW,DW);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=Z8}return new r(n,e)}function DW(i){return"-"+i.toLowerCase()}function NW(i){return i.charAt(1).toUpperCase()}const dz=az([sz,TW,uz,cz,fz],"html"),d_=az([sz,EW,uz,cz,fz],"svg");function TA(i){const e=String(i||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function zW(i){return i.join(" ").trim()}var Tm={},U5,EA;function OW(){if(EA)return U5;EA=1;var i=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,f="/",m="*",g="",y="comment",x="declaration";function _(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var A=1,D=1;function N(le){var ie=le.match(e);ie&&(A+=ie.length);var Y=le.lastIndexOf(c);D=~Y?le.length-Y:D+le.length}function k(){var le={line:A,column:D};return function(ie){return ie.position=new z(le),B(),ie}}function z(le){this.start=le,this.end={line:A,column:D},this.source=S.source}z.prototype.content=w;function P(le){var ie=new Error(S.source+":"+A+":"+D+": "+le);if(ie.reason=le,ie.filename=S.source,ie.line=A,ie.column=D,ie.source=w,!S.silent)throw ie}function V(le){var ie=le.exec(w);if(ie){var Y=ie[0];return N(Y),w=w.slice(Y.length),ie}}function B(){V(t)}function O(le){var ie;for(le=le||[];ie=X();)ie!==!1&&le.push(ie);return le}function X(){var le=k();if(!(f!=w.charAt(0)||m!=w.charAt(1))){for(var ie=2;g!=w.charAt(ie)&&(m!=w.charAt(ie)||f!=w.charAt(ie+1));)++ie;if(ie+=2,g===w.charAt(ie-1))return P("End of comment missing");var Y=w.slice(2,ie-2);return D+=2,N(Y),w=w.slice(ie),D+=2,le({type:y,comment:Y})}}function W(){var le=k(),ie=V(n);if(ie){if(X(),!V(r))return P("property missing ':'");var Y=V(a),te=le({type:x,property:M(ie[0].replace(i,g)),value:Y?M(Y[0].replace(i,g)):g});return V(s),te}}function se(){var le=[];O(le);for(var ie;ie=W();)ie!==!1&&(le.push(ie),O(le));return le}return B(),se()}function M(w){return w?w.replace(o,g):g}return U5=_,U5}var AA;function LW(){if(AA)return Tm;AA=1;var i=Tm&&Tm.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.default=t;const e=i(OW());function t(n,r){let a=null;if(!n||typeof n!="string")return a;const s=(0,e.default)(n),o=typeof r=="function";return s.forEach(c=>{if(c.type!=="declaration")return;const{property:f,value:m}=c;o?r(f,m,c):m&&(a=a||{},a[f]=m)}),a}return Tm}var mv={},CA;function UW(){if(CA)return mv;CA=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.camelCase=void 0;var i=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(f){return!f||t.test(f)||i.test(f)},s=function(f,m){return m.toUpperCase()},o=function(f,m){return"".concat(m,"-")},c=function(f,m){return m===void 0&&(m={}),a(f)?f:(f=f.toLowerCase(),m.reactCompat?f=f.replace(r,o):f=f.replace(n,o),f.replace(e,s))};return mv.camelCase=c,mv}var gv,RA;function BW(){if(RA)return gv;RA=1;var i=gv&&gv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=i(LW()),t=UW();function n(r,a){var s={};return!r||typeof r!="string"||(0,e.default)(r,function(o,c){o&&c&&(s[(0,t.camelCase)(o,a)]=c)}),s}return n.default=n,gv=n,gv}var kW=BW();const IW=Ux(kW),pz=mz("end"),K8=mz("start");function mz(i){return e;function e(t){const n=t&&t.position&&t.position[i]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function PW(i){const e=K8(i),t=pz(i);if(e&&t)return{start:e,end:t}}function Jv(i){return!i||typeof i!="object"?"":"position"in i||"type"in i?DA(i.position):"start"in i||"end"in i?DA(i):"line"in i||"column"in i?cM(i):""}function cM(i){return NA(i&&i.line)+":"+NA(i&&i.column)}function DA(i){return cM(i&&i.start)+"-"+cM(i&&i.end)}function NA(i){return i&&typeof i=="number"?i:1}class cs extends Error{constructor(e,t,n){super(),typeof t=="string"&&(n=t,t=void 0);let r="",a={},s=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof e=="string"?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?a.ruleId=n:(a.source=n.slice(0,c),a.ruleId=n.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=Jv(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}cs.prototype.file="";cs.prototype.name="";cs.prototype.reason="";cs.prototype.message="";cs.prototype.stack="";cs.prototype.column=void 0;cs.prototype.line=void 0;cs.prototype.ancestors=void 0;cs.prototype.cause=void 0;cs.prototype.fatal=void 0;cs.prototype.place=void 0;cs.prototype.ruleId=void 0;cs.prototype.source=void 0;const Q8={}.hasOwnProperty,FW=new Map,HW=/[A-Z]/g,VW=new Set(["table","tbody","thead","tfoot","tr"]),GW=new Set(["td","th"]),gz="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qW(i,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let n;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=JW(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=QW(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:n,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?d_:dz,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=vz(r,i,void 0);return a&&typeof a!="string"?a:r.create(i,r.Fragment,{children:a||void 0},void 0)}function vz(i,e,t){if(e.type==="element")return XW(i,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return YW(i,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return WW(i,e,t);if(e.type==="mdxjsEsm")return jW(i,e);if(e.type==="root")return ZW(i,e,t);if(e.type==="text")return KW(i,e)}function XW(i,e,t){const n=i.schema;let r=n;e.tagName.toLowerCase()==="svg"&&n.space==="html"&&(r=d_,i.schema=r),i.ancestors.push(e);const a=yz(i,e.tagName,!1),s=$W(i,e);let o=$8(i,e);return VW.has(e.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!MW(c):!0})),xz(i,s,a,e),J8(s,o),i.ancestors.pop(),i.schema=n,i.create(e,a,s,t)}function YW(i,e){if(e.data&&e.data.estree&&i.evaluater){const n=e.data.estree.body[0];return n.type,i.evaluater.evaluateExpression(n.expression)}Nx(i,e.position)}function jW(i,e){if(e.data&&e.data.estree&&i.evaluater)return i.evaluater.evaluateProgram(e.data.estree);Nx(i,e.position)}function WW(i,e,t){const n=i.schema;let r=n;e.name==="svg"&&n.space==="html"&&(r=d_,i.schema=r),i.ancestors.push(e);const a=e.name===null?i.Fragment:yz(i,e.name,!0),s=eZ(i,e),o=$8(i,e);return xz(i,s,a,e),J8(s,o),i.ancestors.pop(),i.schema=n,i.create(e,a,s,t)}function ZW(i,e,t){const n={};return J8(n,$8(i,e)),i.create(e,i.Fragment,n,t)}function KW(i,e){return e.value}function xz(i,e,t,n){typeof t!="string"&&t!==i.Fragment&&i.passNode&&(e.node=n)}function J8(i,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(i.children=t)}}function QW(i,e,t){return n;function n(r,a,s,o){const f=Array.isArray(s.children)?t:e;return o?f(a,s,o):f(a,s)}}function JW(i,e){return t;function t(n,r,a,s){const o=Array.isArray(a.children),c=K8(n);return e(r,a,s,o,{columnNumber:c?c.column-1:void 0,fileName:i,lineNumber:c?c.line:void 0},void 0)}}function $W(i,e){const t={};let n,r;for(r in e.properties)if(r!=="children"&&Q8.call(e.properties,r)){const a=tZ(i,r,e.properties[r]);if(a){const[s,o]=a;i.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&GW.has(e.tagName)?n=o:t[s]=o}}if(n){const a=t.style||(t.style={});a[i.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return t}function eZ(i,e){const t={};for(const n of e.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&i.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(t,i.evaluater.evaluateExpression(o.argument))}else Nx(i,e.position);else{const r=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&i.evaluater){const o=n.value.data.estree.body[0];o.type,a=i.evaluater.evaluateExpression(o.expression)}else Nx(i,e.position);else a=n.value===null?!0:n.value;t[r]=a}return t}function $8(i,e){const t=[];let n=-1;const r=i.passKeys?new Map:FW;for(;++n<e.children.length;){const a=e.children[n];let s;if(i.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const f=r.get(c)||0;s=c+"-"+f,r.set(c,f+1)}}const o=vz(i,a,s);o!==void 0&&t.push(o)}return t}function tZ(i,e,t){const n=hz(i.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=n.commaSeparated?xW(t):zW(t)),n.property==="style"){let r=typeof t=="object"?t:nZ(i,String(t));return i.stylePropertyNameCase==="css"&&(r=iZ(r)),["style",r]}return[i.elementAttributeNameCase==="react"&&n.space?AW[n.property]||n.property:n.attribute,t]}}function nZ(i,e){try{return IW(e,{reactCompat:!0})}catch(t){if(i.ignoreInvalidStyle)return{};const n=t,r=new cs("Cannot parse `style` attribute",{ancestors:i.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=i.filePath||void 0,r.url=gz+"#cannot-parse-style-attribute",r}}function yz(i,e,t){let n;if(!t)n={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let a=-1,s;for(;++a<r.length;){const o=_A(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=_A(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(n.type==="Literal"){const r=n.value;return Q8.call(i.components,r)?i.components[r]:r}if(i.evaluater)return i.evaluater.evaluateExpression(n);Nx(i)}function Nx(i,e){const t=new cs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:i.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=i.filePath||void 0,t.url=gz+"#cannot-handle-mdx-estrees-without-createevaluater",t}function iZ(i){const e={};let t;for(t in i)Q8.call(i,t)&&(e[rZ(t)]=i[t]);return e}function rZ(i){let e=i.replace(HW,aZ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function aZ(i){return"-"+i.toLowerCase()}const B5={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sZ={};function e7(i,e){const t=sZ,n=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return bz(i,n,r)}function bz(i,e,t){if(lZ(i)){if("value"in i)return i.type==="html"&&!t?"":i.value;if(e&&"alt"in i&&i.alt)return i.alt;if("children"in i)return zA(i.children,e,t)}return Array.isArray(i)?zA(i,e,t):""}function zA(i,e,t){const n=[];let r=-1;for(;++r<i.length;)n[r]=bz(i[r],e,t);return n.join("")}function lZ(i){return!!(i&&typeof i=="object")}const OA=document.createElement("i");function t7(i){const e="&"+i+";";OA.innerHTML=e;const t=OA.textContent;return t.charCodeAt(t.length-1)===59&&i!=="semi"||t===e?!1:t}function ql(i,e,t,n){const r=i.length;let a=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,n.length<1e4)s=Array.from(n),s.unshift(e,t),i.splice(...s);else for(t&&i.splice(e,t);a<n.length;)s=n.slice(a,a+1e4),s.unshift(e,0),i.splice(...s),a+=1e4,e+=1e4}function _o(i,e){return i.length>0?(ql(i,i.length,0,e),i):e}const LA={}.hasOwnProperty;function _z(i){const e={};let t=-1;for(;++t<i.length;)oZ(e,i[t]);return e}function oZ(i,e){let t;for(t in e){const r=(LA.call(i,t)?i[t]:void 0)||(i[t]={}),a=e[t];let s;if(a)for(s in a){LA.call(r,s)||(r[s]=[]);const o=a[s];uZ(r[s],Array.isArray(o)?o:o?[o]:[])}}}function uZ(i,e){let t=-1;const n=[];for(;++t<e.length;)(e[t].add==="after"?i:n).push(e[t]);ql(i,0,0,n)}function Sz(i,e){const t=Number.parseInt(i,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function fu(i){return i.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ps=Jf(/[A-Za-z]/),ss=Jf(/[\dA-Za-z]/),cZ=Jf(/[#-'*+\--9=?A-Z^-~]/);function d4(i){return i!==null&&(i<32||i===127)}const fM=Jf(/\d/),fZ=Jf(/[\dA-Fa-f]/),hZ=Jf(/[!-/:-@[-`{-~]/);function $t(i){return i!==null&&i<-2}function ji(i){return i!==null&&(i<0||i===32)}function Qn(i){return i===-2||i===-1||i===32}const p_=Jf(new RegExp("\\p{P}|\\p{S}","u")),Id=Jf(/\s/);function Jf(i){return e;function e(t){return t!==null&&t>-1&&i.test(String.fromCharCode(t))}}function M1(i){const e=[];let t=-1,n=0,r=0;for(;++t<i.length;){const a=i.charCodeAt(t);let s="";if(a===37&&ss(i.charCodeAt(t+1))&&ss(i.charCodeAt(t+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=i.charCodeAt(t+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),r=1):s=""}else s=String.fromCharCode(a);s&&(e.push(i.slice(n,t),encodeURIComponent(s)),n=t+r+1,s=""),r&&(t+=r,r=0)}return e.join("")+i.slice(n)}function jn(i,e,t,n){const r=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return Qn(c)?(i.enter(t),o(c)):e(c)}function o(c){return Qn(c)&&a++<r?(i.consume(c),o):(i.exit(t),e(c))}}const dZ={tokenize:pZ};function pZ(i){const e=i.attempt(this.parser.constructs.contentInitial,n,r);let t;return e;function n(o){if(o===null){i.consume(o);return}return i.enter("lineEnding"),i.consume(o),i.exit("lineEnding"),jn(i,e,"linePrefix")}function r(o){return i.enter("paragraph"),a(o)}function a(o){const c=i.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,s(o)}function s(o){if(o===null){i.exit("chunkText"),i.exit("paragraph"),i.consume(o);return}return $t(o)?(i.consume(o),i.exit("chunkText"),a):(i.consume(o),s)}}const mZ={tokenize:gZ},UA={tokenize:vZ};function gZ(i){const e=this,t=[];let n=0,r,a,s;return o;function o(D){if(n<t.length){const N=t[n];return e.containerState=N[1],i.attempt(N[0].continuation,c,f)(D)}return f(D)}function c(D){if(n++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&A();const N=e.events.length;let k=N,z;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){z=e.events[k][1].end;break}S(n);let P=N;for(;P<e.events.length;)e.events[P][1].end={...z},P++;return ql(e.events,k+1,0,e.events.slice(N)),e.events.length=P,f(D)}return o(D)}function f(D){if(n===t.length){if(!r)return y(D);if(r.currentConstruct&&r.currentConstruct.concrete)return _(D);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},i.check(UA,m,g)(D)}function m(D){return r&&A(),S(n),y(D)}function g(D){return e.parser.lazy[e.now().line]=n!==t.length,s=e.now().offset,_(D)}function y(D){return e.containerState={},i.attempt(UA,x,_)(D)}function x(D){return n++,t.push([e.currentConstruct,e.containerState]),y(D)}function _(D){if(D===null){r&&A(),S(0),i.consume(D);return}return r=r||e.parser.flow(e.now()),i.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),M(D)}function M(D){if(D===null){w(i.exit("chunkFlow"),!0),S(0),i.consume(D);return}return $t(D)?(i.consume(D),w(i.exit("chunkFlow")),n=0,e.interrupt=void 0,o):(i.consume(D),M)}function w(D,N){const k=e.sliceStream(D);if(N&&k.push(null),D.previous=a,a&&(a.next=D),a=D,r.defineSkip(D.start),r.write(k),e.parser.lazy[D.start.line]){let z=r.events.length;for(;z--;)if(r.events[z][1].start.offset<s&&(!r.events[z][1].end||r.events[z][1].end.offset>s))return;const P=e.events.length;let V=P,B,O;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){if(B){O=e.events[V][1].end;break}B=!0}for(S(n),z=P;z<e.events.length;)e.events[z][1].end={...O},z++;ql(e.events,V+1,0,e.events.slice(P)),e.events.length=z}}function S(D){let N=t.length;for(;N-- >D;){const k=t[N];e.containerState=k[1],k[0].exit.call(e,i)}t.length=D}function A(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function vZ(i,e,t){return jn(i,i.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function f1(i){if(i===null||ji(i)||Id(i))return 1;if(p_(i))return 2}function m_(i,e,t){const n=[];let r=-1;for(;++r<i.length;){const a=i[r].resolveAll;a&&!n.includes(a)&&(e=a(e,t),n.push(a))}return e}const hM={name:"attention",resolveAll:xZ,tokenize:yZ};function xZ(i,e){let t=-1,n,r,a,s,o,c,f,m;for(;++t<i.length;)if(i[t][0]==="enter"&&i[t][1].type==="attentionSequence"&&i[t][1]._close){for(n=t;n--;)if(i[n][0]==="exit"&&i[n][1].type==="attentionSequence"&&i[n][1]._open&&e.sliceSerialize(i[n][1]).charCodeAt(0)===e.sliceSerialize(i[t][1]).charCodeAt(0)){if((i[n][1]._close||i[t][1]._open)&&(i[t][1].end.offset-i[t][1].start.offset)%3&&!((i[n][1].end.offset-i[n][1].start.offset+i[t][1].end.offset-i[t][1].start.offset)%3))continue;c=i[n][1].end.offset-i[n][1].start.offset>1&&i[t][1].end.offset-i[t][1].start.offset>1?2:1;const g={...i[n][1].end},y={...i[t][1].start};BA(g,-c),BA(y,c),s={type:c>1?"strongSequence":"emphasisSequence",start:g,end:{...i[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...i[t][1].start},end:y},a={type:c>1?"strongText":"emphasisText",start:{...i[n][1].end},end:{...i[t][1].start}},r={type:c>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},i[n][1].end={...s.start},i[t][1].start={...o.end},f=[],i[n][1].end.offset-i[n][1].start.offset&&(f=_o(f,[["enter",i[n][1],e],["exit",i[n][1],e]])),f=_o(f,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",a,e]]),f=_o(f,m_(e.parser.constructs.insideSpan.null,i.slice(n+1,t),e)),f=_o(f,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",r,e]]),i[t][1].end.offset-i[t][1].start.offset?(m=2,f=_o(f,[["enter",i[t][1],e],["exit",i[t][1],e]])):m=0,ql(i,n-1,t-n+3,f),t=n+f.length-m-2;break}}for(t=-1;++t<i.length;)i[t][1].type==="attentionSequence"&&(i[t][1].type="data");return i}function yZ(i,e){const t=this.parser.constructs.attentionMarkers.null,n=this.previous,r=f1(n);let a;return s;function s(c){return a=c,i.enter("attentionSequence"),o(c)}function o(c){if(c===a)return i.consume(c),o;const f=i.exit("attentionSequence"),m=f1(c),g=!m||m===2&&r||t.includes(c),y=!r||r===2&&m||t.includes(n);return f._open=!!(a===42?g:g&&(r||!y)),f._close=!!(a===42?y:y&&(m||!g)),e(c)}}function BA(i,e){i.column+=e,i.offset+=e,i._bufferIndex+=e}const bZ={name:"autolink",tokenize:_Z};function _Z(i,e,t){let n=0;return r;function r(x){return i.enter("autolink"),i.enter("autolinkMarker"),i.consume(x),i.exit("autolinkMarker"),i.enter("autolinkProtocol"),a}function a(x){return Ps(x)?(i.consume(x),s):x===64?t(x):f(x)}function s(x){return x===43||x===45||x===46||ss(x)?(n=1,o(x)):f(x)}function o(x){return x===58?(i.consume(x),n=0,c):(x===43||x===45||x===46||ss(x))&&n++<32?(i.consume(x),o):(n=0,f(x))}function c(x){return x===62?(i.exit("autolinkProtocol"),i.enter("autolinkMarker"),i.consume(x),i.exit("autolinkMarker"),i.exit("autolink"),e):x===null||x===32||x===60||d4(x)?t(x):(i.consume(x),c)}function f(x){return x===64?(i.consume(x),m):cZ(x)?(i.consume(x),f):t(x)}function m(x){return ss(x)?g(x):t(x)}function g(x){return x===46?(i.consume(x),n=0,m):x===62?(i.exit("autolinkProtocol").type="autolinkEmail",i.enter("autolinkMarker"),i.consume(x),i.exit("autolinkMarker"),i.exit("autolink"),e):y(x)}function y(x){if((x===45||ss(x))&&n++<63){const _=x===45?y:g;return i.consume(x),_}return t(x)}}const Jx={partial:!0,tokenize:SZ};function SZ(i,e,t){return n;function n(a){return Qn(a)?jn(i,r,"linePrefix")(a):r(a)}function r(a){return a===null||$t(a)?e(a):t(a)}}const Mz={continuation:{tokenize:wZ},exit:TZ,name:"blockQuote",tokenize:MZ};function MZ(i,e,t){const n=this;return r;function r(s){if(s===62){const o=n.containerState;return o.open||(i.enter("blockQuote",{_container:!0}),o.open=!0),i.enter("blockQuotePrefix"),i.enter("blockQuoteMarker"),i.consume(s),i.exit("blockQuoteMarker"),a}return t(s)}function a(s){return Qn(s)?(i.enter("blockQuotePrefixWhitespace"),i.consume(s),i.exit("blockQuotePrefixWhitespace"),i.exit("blockQuotePrefix"),e):(i.exit("blockQuotePrefix"),e(s))}}function wZ(i,e,t){const n=this;return r;function r(s){return Qn(s)?jn(i,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return i.attempt(Mz,e,t)(s)}}function TZ(i){i.exit("blockQuote")}const wz={name:"characterEscape",tokenize:EZ};function EZ(i,e,t){return n;function n(a){return i.enter("characterEscape"),i.enter("escapeMarker"),i.consume(a),i.exit("escapeMarker"),r}function r(a){return hZ(a)?(i.enter("characterEscapeValue"),i.consume(a),i.exit("characterEscapeValue"),i.exit("characterEscape"),e):t(a)}}const Tz={name:"characterReference",tokenize:AZ};function AZ(i,e,t){const n=this;let r=0,a,s;return o;function o(g){return i.enter("characterReference"),i.enter("characterReferenceMarker"),i.consume(g),i.exit("characterReferenceMarker"),c}function c(g){return g===35?(i.enter("characterReferenceMarkerNumeric"),i.consume(g),i.exit("characterReferenceMarkerNumeric"),f):(i.enter("characterReferenceValue"),a=31,s=ss,m(g))}function f(g){return g===88||g===120?(i.enter("characterReferenceMarkerHexadecimal"),i.consume(g),i.exit("characterReferenceMarkerHexadecimal"),i.enter("characterReferenceValue"),a=6,s=fZ,m):(i.enter("characterReferenceValue"),a=7,s=fM,m(g))}function m(g){if(g===59&&r){const y=i.exit("characterReferenceValue");return s===ss&&!t7(n.sliceSerialize(y))?t(g):(i.enter("characterReferenceMarker"),i.consume(g),i.exit("characterReferenceMarker"),i.exit("characterReference"),e)}return s(g)&&r++<a?(i.consume(g),m):t(g)}}const kA={partial:!0,tokenize:RZ},IA={concrete:!0,name:"codeFenced",tokenize:CZ};function CZ(i,e,t){const n=this,r={partial:!0,tokenize:k};let a=0,s=0,o;return c;function c(z){return f(z)}function f(z){const P=n.events[n.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,o=z,i.enter("codeFenced"),i.enter("codeFencedFence"),i.enter("codeFencedFenceSequence"),m(z)}function m(z){return z===o?(s++,i.consume(z),m):s<3?t(z):(i.exit("codeFencedFenceSequence"),Qn(z)?jn(i,g,"whitespace")(z):g(z))}function g(z){return z===null||$t(z)?(i.exit("codeFencedFence"),n.interrupt?e(z):i.check(kA,M,N)(z)):(i.enter("codeFencedFenceInfo"),i.enter("chunkString",{contentType:"string"}),y(z))}function y(z){return z===null||$t(z)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),g(z)):Qn(z)?(i.exit("chunkString"),i.exit("codeFencedFenceInfo"),jn(i,x,"whitespace")(z)):z===96&&z===o?t(z):(i.consume(z),y)}function x(z){return z===null||$t(z)?g(z):(i.enter("codeFencedFenceMeta"),i.enter("chunkString",{contentType:"string"}),_(z))}function _(z){return z===null||$t(z)?(i.exit("chunkString"),i.exit("codeFencedFenceMeta"),g(z)):z===96&&z===o?t(z):(i.consume(z),_)}function M(z){return i.attempt(r,N,w)(z)}function w(z){return i.enter("lineEnding"),i.consume(z),i.exit("lineEnding"),S}function S(z){return a>0&&Qn(z)?jn(i,A,"linePrefix",a+1)(z):A(z)}function A(z){return z===null||$t(z)?i.check(kA,M,N)(z):(i.enter("codeFlowValue"),D(z))}function D(z){return z===null||$t(z)?(i.exit("codeFlowValue"),A(z)):(i.consume(z),D)}function N(z){return i.exit("codeFenced"),e(z)}function k(z,P,V){let B=0;return O;function O(ie){return z.enter("lineEnding"),z.consume(ie),z.exit("lineEnding"),X}function X(ie){return z.enter("codeFencedFence"),Qn(ie)?jn(z,W,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):W(ie)}function W(ie){return ie===o?(z.enter("codeFencedFenceSequence"),se(ie)):V(ie)}function se(ie){return ie===o?(B++,z.consume(ie),se):B>=s?(z.exit("codeFencedFenceSequence"),Qn(ie)?jn(z,le,"whitespace")(ie):le(ie)):V(ie)}function le(ie){return ie===null||$t(ie)?(z.exit("codeFencedFence"),P(ie)):V(ie)}}}function RZ(i,e,t){const n=this;return r;function r(s){return s===null?t(s):(i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?t(s):e(s)}}const k5={name:"codeIndented",tokenize:NZ},DZ={partial:!0,tokenize:zZ};function NZ(i,e,t){const n=this;return r;function r(f){return i.enter("codeIndented"),jn(i,a,"linePrefix",5)(f)}function a(f){const m=n.events[n.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?s(f):t(f)}function s(f){return f===null?c(f):$t(f)?i.attempt(DZ,s,c)(f):(i.enter("codeFlowValue"),o(f))}function o(f){return f===null||$t(f)?(i.exit("codeFlowValue"),s(f)):(i.consume(f),o)}function c(f){return i.exit("codeIndented"),e(f)}}function zZ(i,e,t){const n=this;return r;function r(s){return n.parser.lazy[n.now().line]?t(s):$t(s)?(i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),r):jn(i,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):$t(s)?r(s):t(s)}}const OZ={name:"codeText",previous:UZ,resolve:LZ,tokenize:BZ};function LZ(i){let e=i.length-4,t=3,n,r;if((i[t][1].type==="lineEnding"||i[t][1].type==="space")&&(i[e][1].type==="lineEnding"||i[e][1].type==="space")){for(n=t;++n<e;)if(i[n][1].type==="codeTextData"){i[t][1].type="codeTextPadding",i[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)r===void 0?n!==e&&i[n][1].type!=="lineEnding"&&(r=n):(n===e||i[n][1].type==="lineEnding")&&(i[r][1].type="codeTextData",n!==r+2&&(i[r][1].end=i[n-1][1].end,i.splice(r+2,n-r-2),e-=n-r-2,n=r+2),r=void 0);return i}function UZ(i){return i!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BZ(i,e,t){let n=0,r,a;return s;function s(g){return i.enter("codeText"),i.enter("codeTextSequence"),o(g)}function o(g){return g===96?(i.consume(g),n++,o):(i.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(i.enter("space"),i.consume(g),i.exit("space"),c):g===96?(a=i.enter("codeTextSequence"),r=0,m(g)):$t(g)?(i.enter("lineEnding"),i.consume(g),i.exit("lineEnding"),c):(i.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||$t(g)?(i.exit("codeTextData"),c(g)):(i.consume(g),f)}function m(g){return g===96?(i.consume(g),r++,m):r===n?(i.exit("codeTextSequence"),i.exit("codeText"),e(g)):(a.type="codeTextData",f(g))}}class kZ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&vv(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),vv(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),vv(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);vv(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);vv(this.left,t.reverse())}}}function vv(i,e){let t=0;if(e.length<1e4)i.push(...e);else for(;t<e.length;)i.push(...e.slice(t,t+1e4)),t+=1e4}function Ez(i){const e={};let t=-1,n,r,a,s,o,c,f;const m=new kZ(i);for(;++t<m.length;){for(;t in e;)t=e[t];if(n=m.get(t),t&&n[1].type==="chunkFlow"&&m.get(t-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(e,IZ(m,t)),t=e[t],f=!0);else if(n[1]._container){for(a=t,r=void 0;a--;)if(s=m.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(m.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(n[1].end={...m.get(r)[1].start},o=m.slice(r,t),o.unshift(n),m.splice(r,t-r+1,o))}}return ql(i,0,Number.POSITIVE_INFINITY,m.slice(0)),!f}function IZ(i,e){const t=i.get(e)[1],n=i.get(e)[2];let r=e-1;const a=[];let s=t._tokenizer;s||(s=n.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,c=[],f={};let m,g,y=-1,x=t,_=0,M=0;const w=[M];for(;x;){for(;i.get(++r)[1]!==x;);a.push(r),x._tokenizer||(m=n.sliceStream(x),x.next||m.push(null),g&&s.defineSkip(x.start),x._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(m),x._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=t;++y<o.length;)o[y][0]==="exit"&&o[y-1][0]==="enter"&&o[y][1].type===o[y-1][1].type&&o[y][1].start.line!==o[y][1].end.line&&(M=y+1,w.push(M),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(s.events=[],x?(x._tokenizer=void 0,x.previous=void 0):w.pop(),y=w.length;y--;){const S=o.slice(w[y],w[y+1]),A=a.pop();c.push([A,A+S.length-1]),i.splice(A,2,S)}for(c.reverse(),y=-1;++y<c.length;)f[_+c[y][0]]=_+c[y][1],_+=c[y][1]-c[y][0]-1;return f}const PZ={resolve:HZ,tokenize:VZ},FZ={partial:!0,tokenize:GZ};function HZ(i){return Ez(i),i}function VZ(i,e){let t;return n;function n(o){return i.enter("content"),t=i.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?a(o):$t(o)?i.check(FZ,s,a)(o):(i.consume(o),r)}function a(o){return i.exit("chunkContent"),i.exit("content"),e(o)}function s(o){return i.consume(o),i.exit("chunkContent"),t.next=i.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function GZ(i,e,t){const n=this;return r;function r(s){return i.exit("chunkContent"),i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),jn(i,a,"linePrefix")}function a(s){if(s===null||$t(s))return t(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):i.interrupt(n.parser.constructs.flow,t,e)(s)}}function Az(i,e,t,n,r,a,s,o,c){const f=c||Number.POSITIVE_INFINITY;let m=0;return g;function g(S){return S===60?(i.enter(n),i.enter(r),i.enter(a),i.consume(S),i.exit(a),y):S===null||S===32||S===41||d4(S)?t(S):(i.enter(n),i.enter(s),i.enter(o),i.enter("chunkString",{contentType:"string"}),M(S))}function y(S){return S===62?(i.enter(a),i.consume(S),i.exit(a),i.exit(r),i.exit(n),e):(i.enter(o),i.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===62?(i.exit("chunkString"),i.exit(o),y(S)):S===null||S===60||$t(S)?t(S):(i.consume(S),S===92?_:x)}function _(S){return S===60||S===62||S===92?(i.consume(S),x):x(S)}function M(S){return!m&&(S===null||S===41||ji(S))?(i.exit("chunkString"),i.exit(o),i.exit(s),i.exit(n),e(S)):m<f&&S===40?(i.consume(S),m++,M):S===41?(i.consume(S),m--,M):S===null||S===32||S===40||d4(S)?t(S):(i.consume(S),S===92?w:M)}function w(S){return S===40||S===41||S===92?(i.consume(S),M):M(S)}}function Cz(i,e,t,n,r,a){const s=this;let o=0,c;return f;function f(x){return i.enter(n),i.enter(r),i.consume(x),i.exit(r),i.enter(a),m}function m(x){return o>999||x===null||x===91||x===93&&!c||x===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?t(x):x===93?(i.exit(a),i.enter(r),i.consume(x),i.exit(r),i.exit(n),e):$t(x)?(i.enter("lineEnding"),i.consume(x),i.exit("lineEnding"),m):(i.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||$t(x)||o++>999?(i.exit("chunkString"),m(x)):(i.consume(x),c||(c=!Qn(x)),x===92?y:g)}function y(x){return x===91||x===92||x===93?(i.consume(x),o++,g):g(x)}}function Rz(i,e,t,n,r,a){let s;return o;function o(y){return y===34||y===39||y===40?(i.enter(n),i.enter(r),i.consume(y),i.exit(r),s=y===40?41:y,c):t(y)}function c(y){return y===s?(i.enter(r),i.consume(y),i.exit(r),i.exit(n),e):(i.enter(a),f(y))}function f(y){return y===s?(i.exit(a),c(s)):y===null?t(y):$t(y)?(i.enter("lineEnding"),i.consume(y),i.exit("lineEnding"),jn(i,f,"linePrefix")):(i.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===s||y===null||$t(y)?(i.exit("chunkString"),f(y)):(i.consume(y),y===92?g:m)}function g(y){return y===s||y===92?(i.consume(y),m):m(y)}}function $v(i,e){let t;return n;function n(r){return $t(r)?(i.enter("lineEnding"),i.consume(r),i.exit("lineEnding"),t=!0,n):Qn(r)?jn(i,n,t?"linePrefix":"lineSuffix")(r):e(r)}}const qZ={name:"definition",tokenize:YZ},XZ={partial:!0,tokenize:jZ};function YZ(i,e,t){const n=this;let r;return a;function a(x){return i.enter("definition"),s(x)}function s(x){return Cz.call(n,i,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function o(x){return r=fu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),x===58?(i.enter("definitionMarker"),i.consume(x),i.exit("definitionMarker"),c):t(x)}function c(x){return ji(x)?$v(i,f)(x):f(x)}function f(x){return Az(i,m,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function m(x){return i.attempt(XZ,g,g)(x)}function g(x){return Qn(x)?jn(i,y,"whitespace")(x):y(x)}function y(x){return x===null||$t(x)?(i.exit("definition"),n.parser.defined.push(r),e(x)):t(x)}}function jZ(i,e,t){return n;function n(o){return ji(o)?$v(i,r)(o):t(o)}function r(o){return Rz(i,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Qn(o)?jn(i,s,"whitespace")(o):s(o)}function s(o){return o===null||$t(o)?e(o):t(o)}}const WZ={name:"hardBreakEscape",tokenize:ZZ};function ZZ(i,e,t){return n;function n(a){return i.enter("hardBreakEscape"),i.consume(a),r}function r(a){return $t(a)?(i.exit("hardBreakEscape"),e(a)):t(a)}}const KZ={name:"headingAtx",resolve:QZ,tokenize:JZ};function QZ(i,e){let t=i.length-2,n=3,r,a;return i[n][1].type==="whitespace"&&(n+=2),t-2>n&&i[t][1].type==="whitespace"&&(t-=2),i[t][1].type==="atxHeadingSequence"&&(n===t-1||t-4>n&&i[t-2][1].type==="whitespace")&&(t-=n+1===t?2:4),t>n&&(r={type:"atxHeadingText",start:i[n][1].start,end:i[t][1].end},a={type:"chunkText",start:i[n][1].start,end:i[t][1].end,contentType:"text"},ql(i,n,t-n+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),i}function JZ(i,e,t){let n=0;return r;function r(m){return i.enter("atxHeading"),a(m)}function a(m){return i.enter("atxHeadingSequence"),s(m)}function s(m){return m===35&&n++<6?(i.consume(m),s):m===null||ji(m)?(i.exit("atxHeadingSequence"),o(m)):t(m)}function o(m){return m===35?(i.enter("atxHeadingSequence"),c(m)):m===null||$t(m)?(i.exit("atxHeading"),e(m)):Qn(m)?jn(i,o,"whitespace")(m):(i.enter("atxHeadingText"),f(m))}function c(m){return m===35?(i.consume(m),c):(i.exit("atxHeadingSequence"),o(m))}function f(m){return m===null||m===35||ji(m)?(i.exit("atxHeadingText"),o(m)):(i.consume(m),f)}}const $Z=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],PA=["pre","script","style","textarea"],eK={concrete:!0,name:"htmlFlow",resolveTo:iK,tokenize:rK},tK={partial:!0,tokenize:sK},nK={partial:!0,tokenize:aK};function iK(i){let e=i.length;for(;e--&&!(i[e][0]==="enter"&&i[e][1].type==="htmlFlow"););return e>1&&i[e-2][1].type==="linePrefix"&&(i[e][1].start=i[e-2][1].start,i[e+1][1].start=i[e-2][1].start,i.splice(e-2,2)),i}function rK(i,e,t){const n=this;let r,a,s,o,c;return f;function f(Z){return m(Z)}function m(Z){return i.enter("htmlFlow"),i.enter("htmlFlowData"),i.consume(Z),g}function g(Z){return Z===33?(i.consume(Z),y):Z===47?(i.consume(Z),a=!0,M):Z===63?(i.consume(Z),r=3,n.interrupt?e:F):Ps(Z)?(i.consume(Z),s=String.fromCharCode(Z),w):t(Z)}function y(Z){return Z===45?(i.consume(Z),r=2,x):Z===91?(i.consume(Z),r=5,o=0,_):Ps(Z)?(i.consume(Z),r=4,n.interrupt?e:F):t(Z)}function x(Z){return Z===45?(i.consume(Z),n.interrupt?e:F):t(Z)}function _(Z){const Oe="CDATA[";return Z===Oe.charCodeAt(o++)?(i.consume(Z),o===Oe.length?n.interrupt?e:W:_):t(Z)}function M(Z){return Ps(Z)?(i.consume(Z),s=String.fromCharCode(Z),w):t(Z)}function w(Z){if(Z===null||Z===47||Z===62||ji(Z)){const Oe=Z===47,We=s.toLowerCase();return!Oe&&!a&&PA.includes(We)?(r=1,n.interrupt?e(Z):W(Z)):$Z.includes(s.toLowerCase())?(r=6,Oe?(i.consume(Z),S):n.interrupt?e(Z):W(Z)):(r=7,n.interrupt&&!n.parser.lazy[n.now().line]?t(Z):a?A(Z):D(Z))}return Z===45||ss(Z)?(i.consume(Z),s+=String.fromCharCode(Z),w):t(Z)}function S(Z){return Z===62?(i.consume(Z),n.interrupt?e:W):t(Z)}function A(Z){return Qn(Z)?(i.consume(Z),A):O(Z)}function D(Z){return Z===47?(i.consume(Z),O):Z===58||Z===95||Ps(Z)?(i.consume(Z),N):Qn(Z)?(i.consume(Z),D):O(Z)}function N(Z){return Z===45||Z===46||Z===58||Z===95||ss(Z)?(i.consume(Z),N):k(Z)}function k(Z){return Z===61?(i.consume(Z),z):Qn(Z)?(i.consume(Z),k):D(Z)}function z(Z){return Z===null||Z===60||Z===61||Z===62||Z===96?t(Z):Z===34||Z===39?(i.consume(Z),c=Z,P):Qn(Z)?(i.consume(Z),z):V(Z)}function P(Z){return Z===c?(i.consume(Z),c=null,B):Z===null||$t(Z)?t(Z):(i.consume(Z),P)}function V(Z){return Z===null||Z===34||Z===39||Z===47||Z===60||Z===61||Z===62||Z===96||ji(Z)?k(Z):(i.consume(Z),V)}function B(Z){return Z===47||Z===62||Qn(Z)?D(Z):t(Z)}function O(Z){return Z===62?(i.consume(Z),X):t(Z)}function X(Z){return Z===null||$t(Z)?W(Z):Qn(Z)?(i.consume(Z),X):t(Z)}function W(Z){return Z===45&&r===2?(i.consume(Z),Y):Z===60&&r===1?(i.consume(Z),te):Z===62&&r===4?(i.consume(Z),J):Z===63&&r===3?(i.consume(Z),F):Z===93&&r===5?(i.consume(Z),ye):$t(Z)&&(r===6||r===7)?(i.exit("htmlFlowData"),i.check(tK,ge,se)(Z)):Z===null||$t(Z)?(i.exit("htmlFlowData"),se(Z)):(i.consume(Z),W)}function se(Z){return i.check(nK,le,ge)(Z)}function le(Z){return i.enter("lineEnding"),i.consume(Z),i.exit("lineEnding"),ie}function ie(Z){return Z===null||$t(Z)?se(Z):(i.enter("htmlFlowData"),W(Z))}function Y(Z){return Z===45?(i.consume(Z),F):W(Z)}function te(Z){return Z===47?(i.consume(Z),s="",re):W(Z)}function re(Z){if(Z===62){const Oe=s.toLowerCase();return PA.includes(Oe)?(i.consume(Z),J):W(Z)}return Ps(Z)&&s.length<8?(i.consume(Z),s+=String.fromCharCode(Z),re):W(Z)}function ye(Z){return Z===93?(i.consume(Z),F):W(Z)}function F(Z){return Z===62?(i.consume(Z),J):Z===45&&r===2?(i.consume(Z),F):W(Z)}function J(Z){return Z===null||$t(Z)?(i.exit("htmlFlowData"),ge(Z)):(i.consume(Z),J)}function ge(Z){return i.exit("htmlFlow"),e(Z)}}function aK(i,e,t){const n=this;return r;function r(s){return $t(s)?(i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),a):t(s)}function a(s){return n.parser.lazy[n.now().line]?t(s):e(s)}}function sK(i,e,t){return n;function n(r){return i.enter("lineEnding"),i.consume(r),i.exit("lineEnding"),i.attempt(Jx,e,t)}}const lK={name:"htmlText",tokenize:oK};function oK(i,e,t){const n=this;let r,a,s;return o;function o(F){return i.enter("htmlText"),i.enter("htmlTextData"),i.consume(F),c}function c(F){return F===33?(i.consume(F),f):F===47?(i.consume(F),k):F===63?(i.consume(F),D):Ps(F)?(i.consume(F),V):t(F)}function f(F){return F===45?(i.consume(F),m):F===91?(i.consume(F),a=0,_):Ps(F)?(i.consume(F),A):t(F)}function m(F){return F===45?(i.consume(F),x):t(F)}function g(F){return F===null?t(F):F===45?(i.consume(F),y):$t(F)?(s=g,te(F)):(i.consume(F),g)}function y(F){return F===45?(i.consume(F),x):g(F)}function x(F){return F===62?Y(F):F===45?y(F):g(F)}function _(F){const J="CDATA[";return F===J.charCodeAt(a++)?(i.consume(F),a===J.length?M:_):t(F)}function M(F){return F===null?t(F):F===93?(i.consume(F),w):$t(F)?(s=M,te(F)):(i.consume(F),M)}function w(F){return F===93?(i.consume(F),S):M(F)}function S(F){return F===62?Y(F):F===93?(i.consume(F),S):M(F)}function A(F){return F===null||F===62?Y(F):$t(F)?(s=A,te(F)):(i.consume(F),A)}function D(F){return F===null?t(F):F===63?(i.consume(F),N):$t(F)?(s=D,te(F)):(i.consume(F),D)}function N(F){return F===62?Y(F):D(F)}function k(F){return Ps(F)?(i.consume(F),z):t(F)}function z(F){return F===45||ss(F)?(i.consume(F),z):P(F)}function P(F){return $t(F)?(s=P,te(F)):Qn(F)?(i.consume(F),P):Y(F)}function V(F){return F===45||ss(F)?(i.consume(F),V):F===47||F===62||ji(F)?B(F):t(F)}function B(F){return F===47?(i.consume(F),Y):F===58||F===95||Ps(F)?(i.consume(F),O):$t(F)?(s=B,te(F)):Qn(F)?(i.consume(F),B):Y(F)}function O(F){return F===45||F===46||F===58||F===95||ss(F)?(i.consume(F),O):X(F)}function X(F){return F===61?(i.consume(F),W):$t(F)?(s=X,te(F)):Qn(F)?(i.consume(F),X):B(F)}function W(F){return F===null||F===60||F===61||F===62||F===96?t(F):F===34||F===39?(i.consume(F),r=F,se):$t(F)?(s=W,te(F)):Qn(F)?(i.consume(F),W):(i.consume(F),le)}function se(F){return F===r?(i.consume(F),r=void 0,ie):F===null?t(F):$t(F)?(s=se,te(F)):(i.consume(F),se)}function le(F){return F===null||F===34||F===39||F===60||F===61||F===96?t(F):F===47||F===62||ji(F)?B(F):(i.consume(F),le)}function ie(F){return F===47||F===62||ji(F)?B(F):t(F)}function Y(F){return F===62?(i.consume(F),i.exit("htmlTextData"),i.exit("htmlText"),e):t(F)}function te(F){return i.exit("htmlTextData"),i.enter("lineEnding"),i.consume(F),i.exit("lineEnding"),re}function re(F){return Qn(F)?jn(i,ye,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):ye(F)}function ye(F){return i.enter("htmlTextData"),s(F)}}const n7={name:"labelEnd",resolveAll:hK,resolveTo:dK,tokenize:pK},uK={tokenize:mK},cK={tokenize:gK},fK={tokenize:vK};function hK(i){let e=-1;const t=[];for(;++e<i.length;){const n=i[e][1];if(t.push(i[e]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const r=n.type==="labelImage"?4:2;n.type="data",e+=r}}return i.length!==t.length&&ql(i,0,i.length,t),i}function dK(i,e){let t=i.length,n=0,r,a,s,o;for(;t--;)if(r=i[t][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;i[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(i[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=t,r.type!=="labelLink")){n=2;break}}else r.type==="labelEnd"&&(s=t);const c={type:i[a][1].type==="labelLink"?"link":"image",start:{...i[a][1].start},end:{...i[i.length-1][1].end}},f={type:"label",start:{...i[a][1].start},end:{...i[s][1].end}},m={type:"labelText",start:{...i[a+n+2][1].end},end:{...i[s-2][1].start}};return o=[["enter",c,e],["enter",f,e]],o=_o(o,i.slice(a+1,a+n+3)),o=_o(o,[["enter",m,e]]),o=_o(o,m_(e.parser.constructs.insideSpan.null,i.slice(a+n+4,s-3),e)),o=_o(o,[["exit",m,e],i[s-2],i[s-1],["exit",f,e]]),o=_o(o,i.slice(s+1)),o=_o(o,[["exit",c,e]]),ql(i,a,i.length,o),i}function pK(i,e,t){const n=this;let r=n.events.length,a,s;for(;r--;)if((n.events[r][1].type==="labelImage"||n.events[r][1].type==="labelLink")&&!n.events[r][1]._balanced){a=n.events[r][1];break}return o;function o(y){return a?a._inactive?g(y):(s=n.parser.defined.includes(fu(n.sliceSerialize({start:a.end,end:n.now()}))),i.enter("labelEnd"),i.enter("labelMarker"),i.consume(y),i.exit("labelMarker"),i.exit("labelEnd"),c):t(y)}function c(y){return y===40?i.attempt(uK,m,s?m:g)(y):y===91?i.attempt(cK,m,s?f:g)(y):s?m(y):g(y)}function f(y){return i.attempt(fK,m,g)(y)}function m(y){return e(y)}function g(y){return a._balanced=!0,t(y)}}function mK(i,e,t){return n;function n(g){return i.enter("resource"),i.enter("resourceMarker"),i.consume(g),i.exit("resourceMarker"),r}function r(g){return ji(g)?$v(i,a)(g):a(g)}function a(g){return g===41?m(g):Az(i,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return ji(g)?$v(i,c)(g):m(g)}function o(g){return t(g)}function c(g){return g===34||g===39||g===40?Rz(i,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):m(g)}function f(g){return ji(g)?$v(i,m)(g):m(g)}function m(g){return g===41?(i.enter("resourceMarker"),i.consume(g),i.exit("resourceMarker"),i.exit("resource"),e):t(g)}}function gK(i,e,t){const n=this;return r;function r(o){return Cz.call(n,i,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(fu(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function s(o){return t(o)}}function vK(i,e,t){return n;function n(a){return i.enter("reference"),i.enter("referenceMarker"),i.consume(a),i.exit("referenceMarker"),r}function r(a){return a===93?(i.enter("referenceMarker"),i.consume(a),i.exit("referenceMarker"),i.exit("reference"),e):t(a)}}const xK={name:"labelStartImage",resolveAll:n7.resolveAll,tokenize:yK};function yK(i,e,t){const n=this;return r;function r(o){return i.enter("labelImage"),i.enter("labelImageMarker"),i.consume(o),i.exit("labelImageMarker"),a}function a(o){return o===91?(i.enter("labelMarker"),i.consume(o),i.exit("labelMarker"),i.exit("labelImage"),s):t(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(o):e(o)}}const bK={name:"labelStartLink",resolveAll:n7.resolveAll,tokenize:_K};function _K(i,e,t){const n=this;return r;function r(s){return i.enter("labelLink"),i.enter("labelMarker"),i.consume(s),i.exit("labelMarker"),i.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?t(s):e(s)}}const I5={name:"lineEnding",tokenize:SK};function SK(i,e){return t;function t(n){return i.enter("lineEnding"),i.consume(n),i.exit("lineEnding"),jn(i,e,"linePrefix")}}const ab={name:"thematicBreak",tokenize:MK};function MK(i,e,t){let n=0,r;return a;function a(f){return i.enter("thematicBreak"),s(f)}function s(f){return r=f,o(f)}function o(f){return f===r?(i.enter("thematicBreakSequence"),c(f)):n>=3&&(f===null||$t(f))?(i.exit("thematicBreak"),e(f)):t(f)}function c(f){return f===r?(i.consume(f),n++,c):(i.exit("thematicBreakSequence"),Qn(f)?jn(i,o,"whitespace")(f):o(f))}}const tl={continuation:{tokenize:AK},exit:RK,name:"list",tokenize:EK},wK={partial:!0,tokenize:DK},TK={partial:!0,tokenize:CK};function EK(i,e,t){const n=this,r=n.events[n.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return o;function o(x){const _=n.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!n.containerState.marker||x===n.containerState.marker:fM(x)){if(n.containerState.type||(n.containerState.type=_,i.enter(_,{_container:!0})),_==="listUnordered")return i.enter("listItemPrefix"),x===42||x===45?i.check(ab,t,f)(x):f(x);if(!n.interrupt||x===49)return i.enter("listItemPrefix"),i.enter("listItemValue"),c(x)}return t(x)}function c(x){return fM(x)&&++s<10?(i.consume(x),c):(!n.interrupt||s<2)&&(n.containerState.marker?x===n.containerState.marker:x===41||x===46)?(i.exit("listItemValue"),f(x)):t(x)}function f(x){return i.enter("listItemMarker"),i.consume(x),i.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||x,i.check(Jx,n.interrupt?t:m,i.attempt(wK,y,g))}function m(x){return n.containerState.initialBlankLine=!0,a++,y(x)}function g(x){return Qn(x)?(i.enter("listItemPrefixWhitespace"),i.consume(x),i.exit("listItemPrefixWhitespace"),y):t(x)}function y(x){return n.containerState.size=a+n.sliceSerialize(i.exit("listItemPrefix"),!0).length,e(x)}}function AK(i,e,t){const n=this;return n.containerState._closeFlow=void 0,i.check(Jx,r,a);function r(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,jn(i,e,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!Qn(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,i.attempt(TK,e,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,jn(i,i.attempt(tl,e,t),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function CK(i,e,t){const n=this;return jn(i,r,"listItemIndent",n.containerState.size+1);function r(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?e(a):t(a)}}function RK(i){i.exit(this.containerState.type)}function DK(i,e,t){const n=this;return jn(i,r,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const s=n.events[n.events.length-1];return!Qn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):t(a)}}const FA={name:"setextUnderline",resolveTo:NK,tokenize:zK};function NK(i,e){let t=i.length,n,r,a;for(;t--;)if(i[t][0]==="enter"){if(i[t][1].type==="content"){n=t;break}i[t][1].type==="paragraph"&&(r=t)}else i[t][1].type==="content"&&i.splice(t,1),!a&&i[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:{...i[n][1].start},end:{...i[i.length-1][1].end}};return i[r][1].type="setextHeadingText",a?(i.splice(r,0,["enter",s,e]),i.splice(a+1,0,["exit",i[n][1],e]),i[n][1].end={...i[a][1].end}):i[n][1]=s,i.push(["exit",s,e]),i}function zK(i,e,t){const n=this;let r;return a;function a(f){let m=n.events.length,g;for(;m--;)if(n.events[m][1].type!=="lineEnding"&&n.events[m][1].type!=="linePrefix"&&n.events[m][1].type!=="content"){g=n.events[m][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||g)?(i.enter("setextHeadingLine"),r=f,s(f)):t(f)}function s(f){return i.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===r?(i.consume(f),o):(i.exit("setextHeadingLineSequence"),Qn(f)?jn(i,c,"lineSuffix")(f):c(f))}function c(f){return f===null||$t(f)?(i.exit("setextHeadingLine"),e(f)):t(f)}}const OK={tokenize:LK};function LK(i){const e=this,t=i.attempt(Jx,n,i.attempt(this.parser.constructs.flowInitial,r,jn(i,i.attempt(this.parser.constructs.flow,r,i.attempt(PZ,r)),"linePrefix")));return t;function n(a){if(a===null){i.consume(a);return}return i.enter("lineEndingBlank"),i.consume(a),i.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(a){if(a===null){i.consume(a);return}return i.enter("lineEnding"),i.consume(a),i.exit("lineEnding"),e.currentConstruct=void 0,t}}const UK={resolveAll:Nz()},BK=Dz("string"),kK=Dz("text");function Dz(i){return{resolveAll:Nz(i==="text"?IK:void 0),tokenize:e};function e(t){const n=this,r=this.parser.constructs[i],a=t.attempt(r,s,o);return s;function s(m){return f(m)?a(m):o(m)}function o(m){if(m===null){t.consume(m);return}return t.enter("data"),t.consume(m),c}function c(m){return f(m)?(t.exit("data"),a(m)):(t.consume(m),c)}function f(m){if(m===null)return!0;const g=r[m];let y=-1;if(g)for(;++y<g.length;){const x=g[y];if(!x.previous||x.previous.call(n,n.previous))return!0}return!1}}}function Nz(i){return e;function e(t,n){let r=-1,a;for(;++r<=t.length;)a===void 0?t[r]&&t[r][1].type==="data"&&(a=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),r=a+2),a=void 0);return i?i(t,n):t}}function IK(i,e){let t=0;for(;++t<=i.length;)if((t===i.length||i[t][1].type==="lineEnding")&&i[t-1][1].type==="data"){const n=i[t-1][1],r=e.sliceStream(n);let a=r.length,s=-1,o=0,c;for(;a--;){const f=r[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(f===-2)c=!0,o++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&t===i.length&&(o=0),o){const f={type:t===i.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(i.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return i}const PK={42:tl,43:tl,45:tl,48:tl,49:tl,50:tl,51:tl,52:tl,53:tl,54:tl,55:tl,56:tl,57:tl,62:Mz},FK={91:qZ},HK={[-2]:k5,[-1]:k5,32:k5},VK={35:KZ,42:ab,45:[FA,ab],60:eK,61:FA,95:ab,96:IA,126:IA},GK={38:Tz,92:wz},qK={[-5]:I5,[-4]:I5,[-3]:I5,33:xK,38:Tz,42:hM,60:[bZ,lK],91:bK,92:[WZ,wz],93:n7,95:hM,96:OZ},XK={null:[hM,UK]},YK={null:[42,95]},jK={null:[]},WK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YK,contentInitial:FK,disable:jK,document:PK,flow:VK,flowInitial:HK,insideSpan:XK,string:GK,text:qK},Symbol.toStringTag,{value:"Module"}));function ZK(i,e,t){let n={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},a=[];let s=[],o=[];const c={attempt:P(k),check:P(z),consume:A,enter:D,exit:N,interrupt:P(z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:M,events:[],now:_,parser:i,previous:null,sliceSerialize:y,sliceStream:x,write:g};let m=e.tokenize.call(f,c);return e.resolveAll&&a.push(e),f;function g(X){return s=_o(s,X),w(),s[s.length-1]!==null?[]:(V(e,0),f.events=m_(a,f.events,f),f.events)}function y(X,W){return QK(x(X),W)}function x(X){return KK(s,X)}function _(){const{_bufferIndex:X,_index:W,line:se,column:le,offset:ie}=n;return{_bufferIndex:X,_index:W,line:se,column:le,offset:ie}}function M(X){r[X.line]=X.column,O()}function w(){let X;for(;n._index<s.length;){const W=s[n._index];if(typeof W=="string")for(X=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===X&&n._bufferIndex<W.length;)S(W.charCodeAt(n._bufferIndex));else S(W)}}function S(X){m=m(X)}function A(X){$t(X)?(n.line++,n.column=1,n.offset+=X===-3?2:1,O()):X!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=X}function D(X,W){const se=W||{};return se.type=X,se.start=_(),f.events.push(["enter",se,f]),o.push(se),se}function N(X){const W=o.pop();return W.end=_(),f.events.push(["exit",W,f]),W}function k(X,W){V(X,W.from)}function z(X,W){W.restore()}function P(X,W){return se;function se(le,ie,Y){let te,re,ye,F;return Array.isArray(le)?ge(le):"tokenize"in le?ge([le]):J(le);function J(be){return Ne;function Ne(Ye){const at=Ye!==null&&be[Ye],_t=Ye!==null&&be.null,kt=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(_t)?_t:_t?[_t]:[]];return ge(kt)(Ye)}}function ge(be){return te=be,re=0,be.length===0?Y:Z(be[re])}function Z(be){return Ne;function Ne(Ye){return F=B(),ye=be,be.partial||(f.currentConstruct=be),be.name&&f.parser.constructs.disable.null.includes(be.name)?We():be.tokenize.call(W?Object.assign(Object.create(f),W):f,c,Oe,We)(Ye)}}function Oe(be){return X(ye,F),ie}function We(be){return F.restore(),++re<te.length?Z(te[re]):Y}}}function V(X,W){X.resolveAll&&!a.includes(X)&&a.push(X),X.resolve&&ql(f.events,W,f.events.length-W,X.resolve(f.events.slice(W),f)),X.resolveTo&&(f.events=X.resolveTo(f.events,f))}function B(){const X=_(),W=f.previous,se=f.currentConstruct,le=f.events.length,ie=Array.from(o);return{from:le,restore:Y};function Y(){n=X,f.previous=W,f.currentConstruct=se,f.events.length=le,o=ie,O()}}function O(){n.line in r&&n.column<2&&(n.column=r[n.line],n.offset+=r[n.line]-1)}}function KK(i,e){const t=e.start._index,n=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let s;if(t===r)s=[i[t].slice(n,a)];else{if(s=i.slice(t,r),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(i[r].slice(0,a))}return s}function QK(i,e){let t=-1;const n=[];let r;for(;++t<i.length;){const a=i[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(a)}r=a===-2,n.push(s)}return n.join("")}function JK(i){const n={constructs:_z([WK,...(i||{}).extensions||[]]),content:r(dZ),defined:[],document:r(mZ),flow:r(OK),lazy:{},string:r(BK),text:r(kK)};return n;function r(a){return s;function s(o){return ZK(n,a,o)}}}function $K(i){for(;!Ez(i););return i}const HA=/[\0\t\n\r]/g;function eQ(){let i=1,e="",t=!0,n;return r;function r(a,s,o){const c=[];let f,m,g,y,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),g=0,e="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(HA.lastIndex=g,f=HA.exec(a),y=f&&f.index!==void 0?f.index:a.length,x=a.charCodeAt(y),!f){e=a.slice(g);break}if(x===10&&g===y&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),g<y&&(c.push(a.slice(g,y)),i+=y-g),x){case 0:{c.push(65533),i++;break}case 9:{for(m=Math.ceil(i/4)*4,c.push(-2);i++<m;)c.push(-1);break}case 10:{c.push(-4),i=1;break}default:n=!0,i=1}g=y+1}return o&&(n&&c.push(-5),e&&c.push(e),c.push(null)),c}}const tQ=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function nQ(i){return i.replace(tQ,iQ)}function iQ(i,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),a=r===120||r===88;return Sz(t.slice(a?2:1),a?16:10)}return t7(t)||i}const zz={}.hasOwnProperty;function rQ(i,e,t){return typeof e!="string"&&(t=e,e=void 0),aQ(t)($K(JK(t).document().write(eQ()(i,e,!0))))}function aQ(i){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ze),autolinkProtocol:B,autolinkEmail:B,atxHeading:a(ee),blockQuote:a(_t),characterEscape:B,characterReference:B,codeFenced:a(kt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(kt,s),codeText:a(rn,s),codeTextData:B,data:B,codeFlowValue:B,definition:a(dt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Fe),hardBreakEscape:a(Ge),hardBreakTrailing:a(Ge),htmlFlow:a(fe,s),htmlFlowData:B,htmlText:a(fe,s),htmlTextData:B,image:a(it),label:s,link:a(Ze),listItem:a(tt),listItemValue:y,listOrdered:a(xt,g),listUnordered:a(xt),paragraph:a(Mt),reference:Z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ee),strong:a(ne),thematicBreak:a(Te)},exit:{atxHeading:c(),atxHeadingSequence:k,autolink:c(),autolinkEmail:at,autolinkProtocol:Ye,blockQuote:c(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:We,characterReferenceMarkerNumeric:We,characterReferenceValue:be,characterReference:Ne,codeFenced:c(w),codeFencedFence:M,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:O,codeIndented:c(S),codeText:c(ie),codeTextData:O,data:O,definition:c(),definitionDestinationString:N,definitionLabelString:A,definitionTitleString:D,emphasis:c(),hardBreakEscape:c(W),hardBreakTrailing:c(W),htmlFlow:c(se),htmlFlowData:O,htmlText:c(le),htmlTextData:O,image:c(te),label:ye,labelText:re,lineEnding:X,link:c(Y),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Oe,resourceDestinationString:F,resourceTitleString:J,resource:ge,setextHeading:c(V),setextHeadingLineSequence:P,setextHeadingText:z,strong:c(),thematicBreak:c()}};Oz(e,(i||{}).mdastExtensions||[]);const t={};return n;function n(oe){let ve={type:"root",children:[]};const Se={stack:[ve],tokenStack:[],config:e,enter:o,exit:f,buffer:s,resume:m,data:t},nt=[];let Qe=-1;for(;++Qe<oe.length;)if(oe[Qe][1].type==="listOrdered"||oe[Qe][1].type==="listUnordered")if(oe[Qe][0]==="enter")nt.push(Qe);else{const Rt=nt.pop();Qe=r(oe,Rt,Qe)}for(Qe=-1;++Qe<oe.length;){const Rt=e[oe[Qe][0]];zz.call(Rt,oe[Qe][1].type)&&Rt[oe[Qe][1].type].call(Object.assign({sliceSerialize:oe[Qe][2].sliceSerialize},Se),oe[Qe][1])}if(Se.tokenStack.length>0){const Rt=Se.tokenStack[Se.tokenStack.length-1];(Rt[1]||VA).call(Se,void 0,Rt[0])}for(ve.position={start:vf(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:vf(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<e.transforms.length;)ve=e.transforms[Qe](ve)||ve;return ve}function r(oe,ve,Se){let nt=ve-1,Qe=-1,Rt=!1,ft,Ve,Ke,Nt;for(;++nt<=Se;){const bt=oe[nt];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?Qe++:Qe--,Nt=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(ft&&!Nt&&!Qe&&!Ke&&(Ke=nt),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!Qe&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||Qe===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(ft){let mt=nt;for(Ve=void 0;mt--;){const It=oe[mt];if(It[1].type==="lineEnding"||It[1].type==="lineEndingBlank"){if(It[0]==="exit")continue;Ve&&(oe[Ve][1].type="lineEndingBlank",Rt=!0),It[1].type="lineEnding",Ve=mt}else if(!(It[1].type==="linePrefix"||It[1].type==="blockQuotePrefix"||It[1].type==="blockQuotePrefixWhitespace"||It[1].type==="blockQuoteMarker"||It[1].type==="listItemIndent"))break}Ke&&(!Ve||Ke<Ve)&&(ft._spread=!0),ft.end=Object.assign({},Ve?oe[Ve][1].start:bt[1].end),oe.splice(Ve||nt,0,["exit",ft,bt[2]]),nt++,Se++}if(bt[1].type==="listItemPrefix"){const mt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};ft=mt,oe.splice(nt,0,["enter",mt,bt[2]]),nt++,Se++,Ke=void 0,Nt=!0}}}return oe[ve][1]._spread=Rt,Se}function a(oe,ve){return Se;function Se(nt){o.call(this,oe(nt),nt),ve&&ve.call(this,nt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(oe,ve,Se){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ve,Se||void 0]),oe.position={start:vf(ve.start),end:void 0}}function c(oe){return ve;function ve(Se){oe&&oe.call(this,Se),f.call(this,Se)}}function f(oe,ve){const Se=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==oe.type&&(ve?ve.call(this,oe,nt[0]):(nt[1]||VA).call(this,oe,nt[0]));else throw new Error("Cannot close `"+oe.type+"` ("+Jv({start:oe.start,end:oe.end})+"): its not open");Se.position.end=vf(oe.end)}function m(){return e7(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(oe){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function x(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=oe}function _(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=oe}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe.replace(/(\r?\n|\r)$/g,"")}function A(oe){const ve=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ve,Se.identifier=fu(this.sliceSerialize(oe)).toLowerCase()}function D(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function N(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function k(oe){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Se=this.sliceSerialize(oe).length;ve.depth=Se}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function P(oe){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function V(){this.data.setextHeadingSlurpLineEnding=void 0}function B(oe){const Se=this.stack[this.stack.length-1].children;let nt=Se[Se.length-1];(!nt||nt.type!=="text")&&(nt=q(),nt.position={start:vf(oe.start),end:void 0},Se.push(nt)),this.stack.push(nt)}function O(oe){const ve=this.stack.pop();ve.value+=this.sliceSerialize(oe),ve.position.end=vf(oe.end)}function X(oe){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ve.children[ve.children.length-1];Se.position.end=vf(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(B.call(this,oe),O.call(this,oe))}function W(){this.data.atHardBreak=!0}function se(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function le(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function ie(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.value=oe}function Y(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function te(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ve,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function re(oe){const ve=this.sliceSerialize(oe),Se=this.stack[this.stack.length-2];Se.label=nQ(ve),Se.identifier=fu(ve).toLowerCase()}function ye(){const oe=this.stack[this.stack.length-1],ve=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const nt=oe.children;Se.children=nt}else Se.alt=ve}function F(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.url=oe}function J(){const oe=this.resume(),ve=this.stack[this.stack.length-1];ve.title=oe}function ge(){this.data.inReference=void 0}function Z(){this.data.referenceType="collapsed"}function Oe(oe){const ve=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ve,Se.identifier=fu(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function We(oe){this.data.characterReferenceType=oe.type}function be(oe){const ve=this.sliceSerialize(oe),Se=this.data.characterReferenceType;let nt;Se?(nt=Sz(ve,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=t7(ve);const Qe=this.stack[this.stack.length-1];Qe.value+=nt}function Ne(oe){const ve=this.stack.pop();ve.position.end=vf(oe.end)}function Ye(oe){O.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(oe)}function at(oe){O.call(this,oe);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(oe)}function _t(){return{type:"blockquote",children:[]}}function kt(){return{type:"code",lang:null,meta:null,value:""}}function rn(){return{type:"inlineCode",value:""}}function dt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function ee(){return{type:"heading",depth:0,children:[]}}function Ge(){return{type:"break"}}function fe(){return{type:"html",value:""}}function it(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function xt(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function tt(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Mt(){return{type:"paragraph",children:[]}}function ne(){return{type:"strong",children:[]}}function q(){return{type:"text",value:""}}function Te(){return{type:"thematicBreak"}}}function vf(i){return{line:i.line,column:i.column,offset:i.offset}}function Oz(i,e){let t=-1;for(;++t<e.length;){const n=e[t];Array.isArray(n)?Oz(i,n):sQ(i,n)}}function sQ(i,e){let t;for(t in e)if(zz.call(e,t))switch(t){case"canContainEols":{const n=e[t];n&&i[t].push(...n);break}case"transforms":{const n=e[t];n&&i[t].push(...n);break}case"enter":case"exit":{const n=e[t];n&&Object.assign(i[t],n);break}}}function VA(i,e){throw i?new Error("Cannot close `"+i.type+"` ("+Jv({start:i.start,end:i.end})+"): a different token (`"+e.type+"`, "+Jv({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Jv({start:e.start,end:e.end})+") is still open")}function lQ(i){const e=this;e.parser=t;function t(n){return rQ(n,{...e.data("settings"),...i,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function oQ(i,e){const t={type:"element",tagName:"blockquote",properties:{},children:i.wrap(i.all(e),!0)};return i.patch(e,t),i.applyData(e,t)}function uQ(i,e){const t={type:"element",tagName:"br",properties:{},children:[]};return i.patch(e,t),[i.applyData(e,t),{type:"text",value:`
`}]}function cQ(i,e){const t=e.value?e.value+`
`:"",n={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(n.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:t}]};return e.meta&&(a.data={meta:e.meta}),i.patch(e,a),a=i.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},i.patch(e,a),a}function fQ(i,e){const t={type:"element",tagName:"del",properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}function hQ(i,e){const t={type:"element",tagName:"em",properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}function dQ(i,e){const t=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),r=M1(n.toLowerCase()),a=i.footnoteOrder.indexOf(n);let s,o=i.footnoteCounts.get(n);o===void 0?(o=0,i.footnoteOrder.push(n),s=i.footnoteOrder.length):s=a+1,o+=1,i.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};i.patch(e,c);const f={type:"element",tagName:"sup",properties:{},children:[c]};return i.patch(e,f),i.applyData(e,f)}function pQ(i,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}function mQ(i,e){if(i.options.allowDangerousHtml){const t={type:"raw",value:e.value};return i.patch(e,t),i.applyData(e,t)}}function Lz(i,e){const t=e.referenceType;let n="]";if(t==="collapsed"?n+="[]":t==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];const r=i.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=n:r.push({type:"text",value:n}),r}function gQ(i,e){const t=String(e.identifier).toUpperCase(),n=i.definitionById.get(t);if(!n)return Lz(i,e);const r={src:M1(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const a={type:"element",tagName:"img",properties:r,children:[]};return i.patch(e,a),i.applyData(e,a)}function vQ(i,e){const t={src:M1(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"img",properties:t,children:[]};return i.patch(e,n),i.applyData(e,n)}function xQ(i,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};i.patch(e,t);const n={type:"element",tagName:"code",properties:{},children:[t]};return i.patch(e,n),i.applyData(e,n)}function yQ(i,e){const t=String(e.identifier).toUpperCase(),n=i.definitionById.get(t);if(!n)return Lz(i,e);const r={href:M1(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const a={type:"element",tagName:"a",properties:r,children:i.all(e)};return i.patch(e,a),i.applyData(e,a)}function bQ(i,e){const t={href:M1(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const n={type:"element",tagName:"a",properties:t,children:i.all(e)};return i.patch(e,n),i.applyData(e,n)}function _Q(i,e,t){const n=i.all(e),r=t?SQ(t):Uz(e),a={},s=[];if(typeof e.checked=="boolean"){const m=n[0];let g;m&&m.type==="element"&&m.tagName==="p"?g=m:(g={type:"element",tagName:"p",properties:{},children:[]},n.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const m=n[o];(r||o!==0||m.type!=="element"||m.tagName!=="p")&&s.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!r?s.push(...m.children):s.push(m)}const c=n[n.length-1];c&&(r||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return i.patch(e,f),i.applyData(e,f)}function SQ(i){let e=!1;if(i.type==="list"){e=i.spread||!1;const t=i.children;let n=-1;for(;!e&&++n<t.length;)e=Uz(t[n])}return e}function Uz(i){const e=i.spread;return e??i.children.length>1}function MQ(i,e){const t={},n=i.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<n.length;){const s=n[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:i.wrap(n,!0)};return i.patch(e,a),i.applyData(e,a)}function wQ(i,e){const t={type:"element",tagName:"p",properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}function TQ(i,e){const t={type:"root",children:i.wrap(i.all(e))};return i.patch(e,t),i.applyData(e,t)}function EQ(i,e){const t={type:"element",tagName:"strong",properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}function AQ(i,e){const t=i.all(e),n=t.shift(),r=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:i.wrap([n],!0)};i.patch(e.children[0],s),r.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:i.wrap(t,!0)},o=K8(e.children[1]),c=pz(e.children[e.children.length-1]);o&&c&&(s.position={start:o,end:c}),r.push(s)}const a={type:"element",tagName:"table",properties:{},children:i.wrap(r,!0)};return i.patch(e,a),i.applyData(e,a)}function CQ(i,e,t){const n=t?t.children:void 0,a=(n?n.indexOf(e):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,o=s?s.length:e.children.length;let c=-1;const f=[];for(;++c<o;){const g=e.children[c],y={},x=s?s[c]:void 0;x&&(y.align=x);let _={type:"element",tagName:a,properties:y,children:[]};g&&(_.children=i.all(g),i.patch(g,_),_=i.applyData(g,_)),f.push(_)}const m={type:"element",tagName:"tr",properties:{},children:i.wrap(f,!0)};return i.patch(e,m),i.applyData(e,m)}function RQ(i,e){const t={type:"element",tagName:"td",properties:{},children:i.all(e)};return i.patch(e,t),i.applyData(e,t)}const GA=9,qA=32;function DQ(i){const e=String(i),t=/\r?\n|\r/g;let n=t.exec(e),r=0;const a=[];for(;n;)a.push(XA(e.slice(r,n.index),r>0,!0),n[0]),r=n.index+n[0].length,n=t.exec(e);return a.push(XA(e.slice(r),r>0,!1)),a.join("")}function XA(i,e,t){let n=0,r=i.length;if(e){let a=i.codePointAt(n);for(;a===GA||a===qA;)n++,a=i.codePointAt(n)}if(t){let a=i.codePointAt(r-1);for(;a===GA||a===qA;)r--,a=i.codePointAt(r-1)}return r>n?i.slice(n,r):""}function NQ(i,e){const t={type:"text",value:DQ(String(e.value))};return i.patch(e,t),i.applyData(e,t)}function zQ(i,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return i.patch(e,t),i.applyData(e,t)}const OQ={blockquote:oQ,break:uQ,code:cQ,delete:fQ,emphasis:hQ,footnoteReference:dQ,heading:pQ,html:mQ,imageReference:gQ,image:vQ,inlineCode:xQ,linkReference:yQ,link:bQ,listItem:_Q,list:MQ,paragraph:wQ,root:TQ,strong:EQ,table:AQ,tableCell:RQ,tableRow:CQ,text:NQ,thematicBreak:zQ,toml:R3,yaml:R3,definition:R3,footnoteDefinition:R3};function R3(){}const Bz=-1,g_=0,ex=1,p4=2,i7=3,r7=4,a7=5,s7=6,kz=7,Iz=8,YA=typeof self=="object"?self:globalThis,LQ=(i,e)=>{const t=(r,a)=>(i.set(a,r),r),n=r=>{if(i.has(r))return i.get(r);const[a,s]=e[r];switch(a){case g_:case Bz:return t(s,r);case ex:{const o=t([],r);for(const c of s)o.push(n(c));return o}case p4:{const o=t({},r);for(const[c,f]of s)o[n(c)]=n(f);return o}case i7:return t(new Date(s),r);case r7:{const{source:o,flags:c}=s;return t(new RegExp(o,c),r)}case a7:{const o=t(new Map,r);for(const[c,f]of s)o.set(n(c),n(f));return o}case s7:{const o=t(new Set,r);for(const c of s)o.add(n(c));return o}case kz:{const{name:o,message:c}=s;return t(new YA[o](c),r)}case Iz:return t(BigInt(s),r);case"BigInt":return t(Object(BigInt(s)),r);case"ArrayBuffer":return t(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return t(new DataView(o),s)}}return t(new YA[a](s),r)};return n},jA=i=>LQ(new Map,i)(0),Em="",{toString:UQ}={},{keys:BQ}=Object,xv=i=>{const e=typeof i;if(e!=="object"||!i)return[g_,e];const t=UQ.call(i).slice(8,-1);switch(t){case"Array":return[ex,Em];case"Object":return[p4,Em];case"Date":return[i7,Em];case"RegExp":return[r7,Em];case"Map":return[a7,Em];case"Set":return[s7,Em];case"DataView":return[ex,t]}return t.includes("Array")?[ex,t]:t.includes("Error")?[kz,t]:[p4,t]},D3=([i,e])=>i===g_&&(e==="function"||e==="symbol"),kQ=(i,e,t,n)=>{const r=(s,o)=>{const c=n.push(s)-1;return t.set(o,c),c},a=s=>{if(t.has(s))return t.get(s);let[o,c]=xv(s);switch(o){case g_:{let m=s;switch(c){case"bigint":o=Iz,m=s.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+c);m=null;break;case"undefined":return r([Bz],s)}return r([o,m],s)}case ex:{if(c){let y=s;return c==="DataView"?y=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(y=new Uint8Array(s)),r([c,[...y]],s)}const m=[],g=r([o,m],s);for(const y of s)m.push(a(y));return g}case p4:{if(c)switch(c){case"BigInt":return r([c,s.toString()],s);case"Boolean":case"Number":case"String":return r([c,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const m=[],g=r([o,m],s);for(const y of BQ(s))(i||!D3(xv(s[y])))&&m.push([a(y),a(s[y])]);return g}case i7:return r([o,s.toISOString()],s);case r7:{const{source:m,flags:g}=s;return r([o,{source:m,flags:g}],s)}case a7:{const m=[],g=r([o,m],s);for(const[y,x]of s)(i||!(D3(xv(y))||D3(xv(x))))&&m.push([a(y),a(x)]);return g}case s7:{const m=[],g=r([o,m],s);for(const y of s)(i||!D3(xv(y)))&&m.push(a(y));return g}}const{message:f}=s;return r([o,{name:c,message:f}],s)};return a},WA=(i,{json:e,lossy:t}={})=>{const n=[];return kQ(!(e||t),!!e,new Map,n)(i),n},m4=typeof structuredClone=="function"?(i,e)=>e&&("json"in e||"lossy"in e)?jA(WA(i,e)):structuredClone(i):(i,e)=>jA(WA(i,e));function IQ(i,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function PQ(i,e){return"Back to reference "+(i+1)+(e>1?"-"+e:"")}function FQ(i){const e=typeof i.options.clobberPrefix=="string"?i.options.clobberPrefix:"user-content-",t=i.options.footnoteBackContent||IQ,n=i.options.footnoteBackLabel||PQ,r=i.options.footnoteLabel||"Footnotes",a=i.options.footnoteLabelTagName||"h2",s=i.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<i.footnoteOrder.length;){const f=i.footnoteById.get(i.footnoteOrder[c]);if(!f)continue;const m=i.all(f),g=String(f.identifier).toUpperCase(),y=M1(g.toLowerCase());let x=0;const _=[],M=i.footnoteCounts.get(g);for(;M!==void 0&&++x<=M;){_.length>0&&_.push({type:"text",value:" "});let A=typeof t=="string"?t:t(c,x);typeof A=="string"&&(A={type:"text",value:A}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,x),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const w=m[m.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const A=w.children[w.children.length-1];A&&A.type==="text"?A.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(..._)}else m.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:i.wrap(m,!0)};i.patch(f,S),o.push(S)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...m4(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:i.wrap(o,!0)},{type:"text",value:`
`}]}}const $x=(function(i){if(i==null)return qQ;if(typeof i=="function")return v_(i);if(typeof i=="object")return Array.isArray(i)?HQ(i):VQ(i);if(typeof i=="string")return GQ(i);throw new Error("Expected function, string, or object as test")});function HQ(i){const e=[];let t=-1;for(;++t<i.length;)e[t]=$x(i[t]);return v_(n);function n(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function VQ(i){const e=i;return v_(t);function t(n){const r=n;let a;for(a in i)if(r[a]!==e[a])return!1;return!0}}function GQ(i){return v_(e);function e(t){return t&&t.type===i}}function v_(i){return e;function e(t,n,r){return!!(XQ(t)&&i.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function qQ(){return!0}function XQ(i){return i!==null&&typeof i=="object"&&"type"in i}const Pz=[],YQ=!0,dM=!1,Fz="skip";function l7(i,e,t,n){let r;typeof e=="function"&&typeof t!="function"?(n=t,t=e):r=e;const a=$x(r),s=n?-1:1;o(i,void 0,[])();function o(c,f,m){const g=c&&typeof c=="object"?c:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(c.type+(x?"<"+x+">":""))+")"})}return y;function y(){let x=Pz,_,M,w;if((!e||a(c,f,m[m.length-1]||void 0))&&(x=jQ(t(c,m)),x[0]===dM))return x;if("children"in c&&c.children){const S=c;if(S.children&&x[0]!==Fz)for(M=(n?S.children.length:-1)+s,w=m.concat(S);M>-1&&M<S.children.length;){const A=S.children[M];if(_=o(A,M,w)(),_[0]===dM)return _;M=typeof _[1]=="number"?_[1]:M+s}}return x}}}function jQ(i){return Array.isArray(i)?i:typeof i=="number"?[YQ,i]:i==null?Pz:[i]}function o7(i,e,t,n){let r,a,s;typeof e=="function"&&typeof t!="function"?(a=void 0,s=e,r=t):(a=e,s=t,r=n),l7(i,a,o,r);function o(c,f){const m=f[f.length-1],g=m?m.children.indexOf(c):void 0;return s(c,g,m)}}const pM={}.hasOwnProperty,WQ={};function ZQ(i,e){const t=e||WQ,n=new Map,r=new Map,a=new Map,s={...OQ,...t.handlers},o={all:f,applyData:QQ,definitionById:n,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:t,patch:KQ,wrap:$Q};return o7(i,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const g=m.type==="definition"?n:r,y=String(m.identifier).toUpperCase();g.has(y)||g.set(y,m)}}),o;function c(m,g){const y=m.type,x=o.handlers[y];if(pM.call(o.handlers,y)&&x)return x(o,m,g);if(o.options.passThrough&&o.options.passThrough.includes(y)){if("children"in m){const{children:M,...w}=m,S=m4(w);return S.children=o.all(m),S}return m4(m)}return(o.options.unknownHandler||JQ)(o,m,g)}function f(m){const g=[];if("children"in m){const y=m.children;let x=-1;for(;++x<y.length;){const _=o.one(y[x],m);if(_){if(x&&y[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=ZA(_.value)),!Array.isArray(_)&&_.type==="element")){const M=_.children[0];M&&M.type==="text"&&(M.value=ZA(M.value))}Array.isArray(_)?g.push(..._):g.push(_)}}}return g}}function KQ(i,e){i.position&&(e.position=PW(i))}function QQ(i,e){let t=e;if(i&&i.data){const n=i.data.hName,r=i.data.hChildren,a=i.data.hProperties;if(typeof n=="string")if(t.type==="element")t.tagName=n;else{const s="children"in t?t.children:[t];t={type:"element",tagName:n,properties:{},children:s}}t.type==="element"&&a&&Object.assign(t.properties,m4(a)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function JQ(i,e){const t=e.data||{},n="value"in e&&!(pM.call(t,"hProperties")||pM.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:i.all(e)};return i.patch(e,n),i.applyData(e,n)}function $Q(i,e){const t=[];let n=-1;for(e&&t.push({type:"text",value:`
`});++n<i.length;)n&&t.push({type:"text",value:`
`}),t.push(i[n]);return e&&i.length>0&&t.push({type:"text",value:`
`}),t}function ZA(i){let e=0,t=i.charCodeAt(e);for(;t===9||t===32;)e++,t=i.charCodeAt(e);return i.slice(e)}function KA(i,e){const t=ZQ(i,e),n=t.one(i,void 0),r=FQ(t),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function eJ(i,e){return i&&"run"in i?async function(t,n){const r=KA(t,{file:n,...e});await i.run(r,n)}:function(t,n){return KA(t,{file:n,...i||e})}}function QA(i){if(i)throw i}var P5,JA;function tJ(){if(JA)return P5;JA=1;var i=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var m=i.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!m&&!g)return!1;var y;for(y in f);return typeof y>"u"||i.call(f,y)},s=function(f,m){t&&m.name==="__proto__"?t(f,m.name,{enumerable:!0,configurable:!0,value:m.newValue,writable:!0}):f[m.name]=m.newValue},o=function(f,m){if(m==="__proto__")if(i.call(f,m)){if(n)return n(f,m).value}else return;return f[m]};return P5=function c(){var f,m,g,y,x,_,M=arguments[0],w=1,S=arguments.length,A=!1;for(typeof M=="boolean"&&(A=M,M=arguments[1]||{},w=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});w<S;++w)if(f=arguments[w],f!=null)for(m in f)g=o(M,m),y=o(f,m),M!==y&&(A&&y&&(a(y)||(x=r(y)))?(x?(x=!1,_=g&&r(g)?g:[]):_=g&&a(g)?g:{},s(M,{name:m,newValue:c(A,_,y)})):typeof y<"u"&&s(M,{name:m,newValue:y}));return M},P5}var nJ=tJ();const F5=Ux(nJ);function mM(i){if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function iJ(){const i=[],e={run:t,use:n};return e;function t(...r){let a=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...r);function o(c,...f){const m=i[++a];let g=-1;if(c){s(c);return}for(;++g<r.length;)(f[g]===null||f[g]===void 0)&&(f[g]=r[g]);r=f,m?rJ(m,o)(...f):s(null,...f)}}function n(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return i.push(r),e}}function rJ(i,e){let t;return n;function n(...s){const o=i.length>s.length;let c;o&&s.push(r);try{c=i.apply(this,s)}catch(f){const m=f;if(o&&t)throw m;return r(m)}o||(c&&c.then&&typeof c.then=="function"?c.then(a,r):c instanceof Error?r(c):a(c))}function r(s,...o){t||(t=!0,e(s,...o))}function a(s){r(null,s)}}const Zu={basename:aJ,dirname:sJ,extname:lJ,join:oJ,sep:"/"};function aJ(i,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ey(i);let t=0,n=-1,r=i.length,a;if(e===void 0||e.length===0||e.length>i.length){for(;r--;)if(i.codePointAt(r)===47){if(a){t=r+1;break}}else n<0&&(a=!0,n=r+1);return n<0?"":i.slice(t,n)}if(e===i)return"";let s=-1,o=e.length-1;for(;r--;)if(i.codePointAt(r)===47){if(a){t=r+1;break}}else s<0&&(a=!0,s=r+1),o>-1&&(i.codePointAt(r)===e.codePointAt(o--)?o<0&&(n=r):(o=-1,n=s));return t===n?n=s:n<0&&(n=i.length),i.slice(t,n)}function sJ(i){if(ey(i),i.length===0)return".";let e=-1,t=i.length,n;for(;--t;)if(i.codePointAt(t)===47){if(n){e=t;break}}else n||(n=!0);return e<0?i.codePointAt(0)===47?"/":".":e===1&&i.codePointAt(0)===47?"//":i.slice(0,e)}function lJ(i){ey(i);let e=i.length,t=-1,n=0,r=-1,a=0,s;for(;e--;){const o=i.codePointAt(e);if(o===47){if(s){n=e+1;break}continue}t<0&&(s=!0,t=e+1),o===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||t<0||a===0||a===1&&r===t-1&&r===n+1?"":i.slice(r,t)}function oJ(...i){let e=-1,t;for(;++e<i.length;)ey(i[e]),i[e]&&(t=t===void 0?i[e]:t+"/"+i[e]);return t===void 0?".":uJ(t)}function uJ(i){ey(i);const e=i.codePointAt(0)===47;let t=cJ(i,!e);return t.length===0&&!e&&(t="."),t.length>0&&i.codePointAt(i.length-1)===47&&(t+="/"),e?"/"+t:t}function cJ(i,e){let t="",n=0,r=-1,a=0,s=-1,o,c;for(;++s<=i.length;){if(s<i.length)o=i.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(r===s-1||a===1))if(r!==s-1&&a===2){if(t.length<2||n!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",n=0):(t=t.slice(0,c),n=t.length-1-t.lastIndexOf("/")),r=s,a=0;continue}}else if(t.length>0){t="",n=0,r=s,a=0;continue}}e&&(t=t.length>0?t+"/..":"..",n=2)}else t.length>0?t+="/"+i.slice(r+1,s):t=i.slice(r+1,s),n=s-r-1;r=s,a=0}else o===46&&a>-1?a++:a=-1}return t}function ey(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}const fJ={cwd:hJ};function hJ(){return"/"}function gM(i){return!!(i!==null&&typeof i=="object"&&"href"in i&&i.href&&"protocol"in i&&i.protocol&&i.auth===void 0)}function dJ(i){if(typeof i=="string")i=new URL(i);else if(!gM(i)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+i+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(i.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return pJ(i)}function pJ(i){if(i.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const e=i.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const n=e.codePointAt(t+2);if(n===70||n===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const H5=["history","path","basename","stem","extname","dirname"];class Hz{constructor(e){let t;e?gM(e)?t={path:e}:typeof e=="string"||mJ(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":fJ.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<H5.length;){const a=H5[n];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let r;for(r in t)H5.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Zu.basename(this.path):void 0}set basename(e){G5(e,"basename"),V5(e,"basename"),this.path=Zu.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Zu.dirname(this.path):void 0}set dirname(e){$A(this.basename,"dirname"),this.path=Zu.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Zu.extname(this.path):void 0}set extname(e){if(V5(e,"extname"),$A(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zu.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){gM(e)&&(e=dJ(e)),G5(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Zu.basename(this.path,this.extname):void 0}set stem(e){G5(e,"stem"),V5(e,"stem"),this.path=Zu.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new cs(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function V5(i,e){if(i&&i.includes(Zu.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Zu.sep+"`")}function G5(i,e){if(!i)throw new Error("`"+e+"` cannot be empty")}function $A(i,e){if(!i)throw new Error("Setting `"+e+"` requires `path` to be set too")}function mJ(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const gJ=(function(i){const n=this.constructor.prototype,r=n[i],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,n),a}),vJ={}.hasOwnProperty;class u7 extends gJ{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=iJ()}copy(){const e=new u7;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(F5(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Y5("data",this.frozen),this.namespace[e]=t,this):vJ.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Y5("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const r=t.call(e,...n);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=N3(e),n=this.parser||this.Parser;return q5("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),q5("process",this.parser||this.Parser),X5("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(a,s){const o=N3(e),c=n.parse(o);n.run(c,o,function(m,g,y){if(m||!g||!y)return f(m);const x=g,_=n.stringify(x,y);bJ(_)?y.value=_:y.result=_,f(m,y)});function f(m,g){m||!g?s(m):a?a(g):t(void 0,g)}}}processSync(e){let t=!1,n;return this.freeze(),q5("processSync",this.parser||this.Parser),X5("processSync",this.compiler||this.Compiler),this.process(e,r),t9("processSync","process",t),n;function r(a,s){t=!0,QA(a),n=s}}run(e,t,n){e9(e),this.freeze();const r=this.transformers;return!n&&typeof t=="function"&&(n=t,t=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const c=N3(t);r.run(e,c,f);function f(m,g,y){const x=g||e;m?o(m):s?s(x):n(void 0,x,y)}}}runSync(e,t){let n=!1,r;return this.run(e,t,a),t9("runSync","run",n),r;function a(s,o){QA(s),r=o,n=!0}}stringify(e,t){this.freeze();const n=N3(t),r=this.compiler||this.Compiler;return X5("stringify",r),e9(e),r(e,n)}use(e,...t){const n=this.attachers,r=this.namespace;if(Y5("use",this.frozen),e!=null)if(typeof e=="function")c(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")c(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[m,...g]=f;c(m,g)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(r.settings=F5(!0,r.settings,f.settings))}function o(f){let m=-1;if(f!=null)if(Array.isArray(f))for(;++m<f.length;){const g=f[m];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function c(f,m){let g=-1,y=-1;for(;++g<n.length;)if(n[g][0]===f){y=g;break}if(y===-1)n.push([f,...m]);else if(m.length>0){let[x,..._]=m;const M=n[y][1];mM(M)&&mM(x)&&(x=F5(!0,M,x)),n[y]=[f,x,..._]}}}}const xJ=new u7().freeze();function q5(i,e){if(typeof e!="function")throw new TypeError("Cannot `"+i+"` without `parser`")}function X5(i,e){if(typeof e!="function")throw new TypeError("Cannot `"+i+"` without `compiler`")}function Y5(i,e){if(e)throw new Error("Cannot call `"+i+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function e9(i){if(!mM(i)||typeof i.type!="string")throw new TypeError("Expected node, got `"+i+"`")}function t9(i,e,t){if(!t)throw new Error("`"+i+"` finished async. Use `"+e+"` instead")}function N3(i){return yJ(i)?i:new Hz(i)}function yJ(i){return!!(i&&typeof i=="object"&&"message"in i&&"messages"in i)}function bJ(i){return typeof i=="string"||_J(i)}function _J(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}const SJ="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",n9=[],i9={allowDangerousHtml:!0},MJ=/^(https?|ircs?|mailto|xmpp)$/i,wJ=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TJ(i){const e=EJ(i),t=AJ(i);return CJ(e.runSync(e.parse(t),t),i)}function EJ(i){const e=i.rehypePlugins||n9,t=i.remarkPlugins||n9,n=i.remarkRehypeOptions?{...i.remarkRehypeOptions,...i9}:i9;return xJ().use(lQ).use(t).use(eJ,n).use(e)}function AJ(i){const e=i.children||"",t=new Hz;return typeof e=="string"&&(t.value=e),t}function CJ(i,e){const t=e.allowedElements,n=e.allowElement,r=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,c=e.urlTransform||RJ;for(const m of wJ)Object.hasOwn(e,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+SJ+m.id,void 0);return o7(i,f),qW(i,{Fragment:de.Fragment,components:r,ignoreInvalidStyle:!0,jsx:de.jsx,jsxs:de.jsxs,passKeys:!0,passNode:!0});function f(m,g,y){if(m.type==="raw"&&y&&typeof g=="number")return s?y.children.splice(g,1):y.children[g]={type:"text",value:m.value},g;if(m.type==="element"){let x;for(x in B5)if(Object.hasOwn(B5,x)&&Object.hasOwn(m.properties,x)){const _=m.properties[x],M=B5[x];(M===null||M.includes(m.tagName))&&(m.properties[x]=c(String(_||""),x,m))}}if(m.type==="element"){let x=t?!t.includes(m.tagName):a?a.includes(m.tagName):!1;if(!x&&n&&typeof g=="number"&&(x=!n(m,g,y)),x&&y&&typeof g=="number")return o&&m.children?y.children.splice(g,1,...m.children):y.children.splice(g,1),g}}}function RJ(i){const e=i.indexOf(":"),t=i.indexOf("?"),n=i.indexOf("#"),r=i.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||n!==-1&&e>n||MJ.test(i.slice(0,e))?i:""}function r9(i,e){const t=String(i);if(typeof e!="string")throw new TypeError("Expected character");let n=0,r=t.indexOf(e);for(;r!==-1;)n++,r=t.indexOf(e,r+e.length);return n}function DJ(i){if(typeof i!="string")throw new TypeError("Expected a string");return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function NJ(i,e,t){const r=$x((t||{}).ignore||[]),a=zJ(e);let s=-1;for(;++s<a.length;)l7(i,"text",o);function o(f,m){let g=-1,y;for(;++g<m.length;){const x=m[g],_=y?y.children:void 0;if(r(x,_?_.indexOf(x):void 0,y))return;y=x}if(y)return c(f,m)}function c(f,m){const g=m[m.length-1],y=a[s][0],x=a[s][1];let _=0;const w=g.children.indexOf(f);let S=!1,A=[];y.lastIndex=0;let D=y.exec(f.value);for(;D;){const N=D.index,k={index:D.index,input:D.input,stack:[...m,f]};let z=x(...D,k);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?y.lastIndex=N+1:(_!==N&&A.push({type:"text",value:f.value.slice(_,N)}),Array.isArray(z)?A.push(...z):z&&A.push(z),_=N+D[0].length,S=!0),!y.global)break;D=y.exec(f.value)}return S?(_<f.value.length&&A.push({type:"text",value:f.value.slice(_)}),g.children.splice(w,1,...A)):A=[f],w+A.length}}function zJ(i){const e=[];if(!Array.isArray(i))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!i[0]||Array.isArray(i[0])?i:[i];let n=-1;for(;++n<t.length;){const r=t[n];e.push([OJ(r[0]),LJ(r[1])])}return e}function OJ(i){return typeof i=="string"?new RegExp(DJ(i),"g"):i}function LJ(i){return typeof i=="function"?i:function(){return i}}const j5="phrasing",W5=["autolink","link","image","label"];function UJ(){return{transforms:[VJ],enter:{literalAutolink:kJ,literalAutolinkEmail:Z5,literalAutolinkHttp:Z5,literalAutolinkWww:Z5},exit:{literalAutolink:HJ,literalAutolinkEmail:FJ,literalAutolinkHttp:IJ,literalAutolinkWww:PJ}}}function BJ(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:j5,notInConstruct:W5},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:j5,notInConstruct:W5},{character:":",before:"[ps]",after:"\\/",inConstruct:j5,notInConstruct:W5}]}}function kJ(i){this.enter({type:"link",title:null,url:"",children:[]},i)}function Z5(i){this.config.enter.autolinkProtocol.call(this,i)}function IJ(i){this.config.exit.autolinkProtocol.call(this,i)}function PJ(i){this.config.exit.data.call(this,i);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(i)}function FJ(i){this.config.exit.autolinkEmail.call(this,i)}function HJ(i){this.exit(i)}function VJ(i){NJ(i,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,GJ],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),qJ]],{ignore:["link","linkReference"]})}function GJ(i,e,t,n,r){let a="";if(!Vz(r)||(/^w/i.test(e)&&(t=e+t,e="",a="http://"),!XJ(t)))return!1;const s=YJ(t+n);if(!s[0])return!1;const o={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function qJ(i,e,t,n){return!Vz(n,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function XJ(i){const e=i.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function YJ(i){const e=/[!"&'),.:;<>?\]}]+$/.exec(i);if(!e)return[i,void 0];i=i.slice(0,e.index);let t=e[0],n=t.indexOf(")");const r=r9(i,"(");let a=r9(i,")");for(;n!==-1&&r>a;)i+=t.slice(0,n+1),t=t.slice(n+1),n=t.indexOf(")"),a++;return[i,t]}function Vz(i,e){const t=i.input.charCodeAt(i.index-1);return(i.index===0||Id(t)||p_(t))&&(!e||t!==47)}Gz.peek=t$;function jJ(){this.buffer()}function WJ(i){this.enter({type:"footnoteReference",identifier:"",label:""},i)}function ZJ(){this.buffer()}function KJ(i){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},i)}function QJ(i){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=fu(this.sliceSerialize(i)).toLowerCase(),t.label=e}function JJ(i){this.exit(i)}function $J(i){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=fu(this.sliceSerialize(i)).toLowerCase(),t.label=e}function e$(i){this.exit(i)}function t$(){return"["}function Gz(i,e,t,n){const r=t.createTracker(n);let a=r.move("[^");const s=t.enter("footnoteReference"),o=t.enter("reference");return a+=r.move(t.safe(t.associationId(i),{after:"]",before:a})),o(),s(),a+=r.move("]"),a}function n$(){return{enter:{gfmFootnoteCallString:jJ,gfmFootnoteCall:WJ,gfmFootnoteDefinitionLabelString:ZJ,gfmFootnoteDefinition:KJ},exit:{gfmFootnoteCallString:QJ,gfmFootnoteCall:JJ,gfmFootnoteDefinitionLabelString:$J,gfmFootnoteDefinition:e$}}}function i$(i){let e=!1;return i&&i.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:Gz},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(n,r,a,s){const o=a.createTracker(s);let c=o.move("[^");const f=a.enter("footnoteDefinition"),m=a.enter("label");return c+=o.move(a.safe(a.associationId(n),{before:c,after:"]"})),m(),c+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),c+=o.move((e?`
`:" ")+a.indentLines(a.containerFlow(n,o.current()),e?qz:r$))),f(),c}}function r$(i,e,t){return e===0?i:qz(i,e,t)}function qz(i,e,t){return(t?"":"    ")+i}const a$=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Xz.peek=c$;function s$(){return{canContainEols:["delete"],enter:{strikethrough:o$},exit:{strikethrough:u$}}}function l$(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:a$}],handlers:{delete:Xz}}}function o$(i){this.enter({type:"delete",children:[]},i)}function u$(i){this.exit(i)}function Xz(i,e,t,n){const r=t.createTracker(n),a=t.enter("strikethrough");let s=r.move("~~");return s+=t.containerPhrasing(i,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),a(),s}function c$(){return"~"}function f$(i){return i.length}function h$(i,e){const t=e||{},n=(t.align||[]).concat(),r=t.stringLength||f$,a=[],s=[],o=[],c=[];let f=0,m=-1;for(;++m<i.length;){const M=[],w=[];let S=-1;for(i[m].length>f&&(f=i[m].length);++S<i[m].length;){const A=d$(i[m][S]);if(t.alignDelimiters!==!1){const D=r(A);w[S]=D,(c[S]===void 0||D>c[S])&&(c[S]=D)}M.push(A)}s[m]=M,o[m]=w}let g=-1;if(typeof n=="object"&&"length"in n)for(;++g<f;)a[g]=a9(n[g]);else{const M=a9(n);for(;++g<f;)a[g]=M}g=-1;const y=[],x=[];for(;++g<f;){const M=a[g];let w="",S="";M===99?(w=":",S=":"):M===108?w=":":M===114&&(S=":");let A=t.alignDelimiters===!1?1:Math.max(1,c[g]-w.length-S.length);const D=w+"-".repeat(A)+S;t.alignDelimiters!==!1&&(A=w.length+A+S.length,A>c[g]&&(c[g]=A),x[g]=A),y[g]=D}s.splice(1,0,y),o.splice(1,0,x),m=-1;const _=[];for(;++m<s.length;){const M=s[m],w=o[m];g=-1;const S=[];for(;++g<f;){const A=M[g]||"";let D="",N="";if(t.alignDelimiters!==!1){const k=c[g]-(w[g]||0),z=a[g];z===114?D=" ".repeat(k):z===99?k%2?(D=" ".repeat(k/2+.5),N=" ".repeat(k/2-.5)):(D=" ".repeat(k/2),N=D):N=" ".repeat(k)}t.delimiterStart!==!1&&!g&&S.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&A==="")&&(t.delimiterStart!==!1||g)&&S.push(" "),t.alignDelimiters!==!1&&S.push(D),S.push(A),t.alignDelimiters!==!1&&S.push(N),t.padding!==!1&&S.push(" "),(t.delimiterEnd!==!1||g!==f-1)&&S.push("|")}_.push(t.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return _.join(`
`)}function d$(i){return i==null?"":String(i)}function a9(i){const e=typeof i=="string"?i.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function p$(i,e,t,n){const r=t.enter("blockquote"),a=t.createTracker(n);a.move("> "),a.shift(2);const s=t.indentLines(t.containerFlow(i,a.current()),m$);return r(),s}function m$(i,e,t){return">"+(t?"":" ")+i}function g$(i,e){return s9(i,e.inConstruct,!0)&&!s9(i,e.notInConstruct,!1)}function s9(i,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let n=-1;for(;++n<e.length;)if(i.includes(e[n]))return!0;return!1}function l9(i,e,t,n){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&g$(t.stack,t.unsafe[r]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Yz(i,e){const t=String(i);let n=t.indexOf(e),r=n,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===r?++a>s&&(s=a):a=1,r=n+e.length,n=t.indexOf(e,r);return s}function v$(i,e){return!!(e.options.fences===!1&&i.value&&!i.lang&&/[^ \r\n]/.test(i.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(i.value))}function x$(i){const e=i.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function y$(i,e,t,n){const r=x$(t),a=i.value||"",s=r==="`"?"GraveAccent":"Tilde";if(v$(i,t)){const g=t.enter("codeIndented"),y=t.indentLines(a,b$);return g(),y}const o=t.createTracker(n),c=r.repeat(Math.max(Yz(a,r)+1,3)),f=t.enter("codeFenced");let m=o.move(c);if(i.lang){const g=t.enter(`codeFencedLang${s}`);m+=o.move(t.safe(i.lang,{before:m,after:" ",encode:["`"],...o.current()})),g()}if(i.lang&&i.meta){const g=t.enter(`codeFencedMeta${s}`);m+=o.move(" "),m+=o.move(t.safe(i.meta,{before:m,after:`
`,encode:["`"],...o.current()})),g()}return m+=o.move(`
`),a&&(m+=o.move(a+`
`)),m+=o.move(c),f(),m}function b$(i,e,t){return(t?"":"    ")+i}function c7(i){const e=i.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function _$(i,e,t,n){const r=c7(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("definition");let o=t.enter("label");const c=t.createTracker(n);let f=c.move("[");return f+=c.move(t.safe(t.associationId(i),{before:f,after:"]",...c.current()})),f+=c.move("]: "),o(),!i.url||/[\0- \u007F]/.test(i.url)?(o=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(i.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(o=t.enter("destinationRaw"),f+=c.move(t.safe(i.url,{before:f,after:i.title?" ":`
`,...c.current()}))),o(),i.title&&(o=t.enter(`title${a}`),f+=c.move(" "+r),f+=c.move(t.safe(i.title,{before:f,after:r,...c.current()})),f+=c.move(r),o()),s(),f}function S$(i){const e=i.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function zx(i){return"&#x"+i.toString(16).toUpperCase()+";"}function g4(i,e,t){const n=f1(i),r=f1(e);return n===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}jz.peek=M$;function jz(i,e,t,n){const r=S$(t),a=t.enter("emphasis"),s=t.createTracker(n),o=s.move(r);let c=s.move(t.containerPhrasing(i,{after:r,before:o,...s.current()}));const f=c.charCodeAt(0),m=g4(n.before.charCodeAt(n.before.length-1),f,r);m.inside&&(c=zx(f)+c.slice(1));const g=c.charCodeAt(c.length-1),y=g4(n.after.charCodeAt(0),g,r);y.inside&&(c=c.slice(0,-1)+zx(g));const x=s.move(r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:m.outside},o+c+x}function M$(i,e,t){return t.options.emphasis||"*"}function w$(i,e){let t=!1;return o7(i,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return t=!0,dM}),!!((!i.depth||i.depth<3)&&e7(i)&&(e.options.setext||t))}function T$(i,e,t,n){const r=Math.max(Math.min(6,i.depth||1),1),a=t.createTracker(n);if(w$(i,t)){const m=t.enter("headingSetext"),g=t.enter("phrasing"),y=t.containerPhrasing(i,{...a.current(),before:`
`,after:`
`});return g(),m(),y+`
`+(r===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const s="#".repeat(r),o=t.enter("headingAtx"),c=t.enter("phrasing");a.move(s+" ");let f=t.containerPhrasing(i,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=zx(f.charCodeAt(0))+f.slice(1)),f=f?s+" "+f:s,t.options.closeAtx&&(f+=" "+s),c(),o(),f}Wz.peek=E$;function Wz(i){return i.value||""}function E$(){return"<"}Zz.peek=A$;function Zz(i,e,t,n){const r=c7(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("image");let o=t.enter("label");const c=t.createTracker(n);let f=c.move("![");return f+=c.move(t.safe(i.alt,{before:f,after:"]",...c.current()})),f+=c.move("]("),o(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(o=t.enter("destinationLiteral"),f+=c.move("<"),f+=c.move(t.safe(i.url,{before:f,after:">",...c.current()})),f+=c.move(">")):(o=t.enter("destinationRaw"),f+=c.move(t.safe(i.url,{before:f,after:i.title?" ":")",...c.current()}))),o(),i.title&&(o=t.enter(`title${a}`),f+=c.move(" "+r),f+=c.move(t.safe(i.title,{before:f,after:r,...c.current()})),f+=c.move(r),o()),f+=c.move(")"),s(),f}function A$(){return"!"}Kz.peek=C$;function Kz(i,e,t,n){const r=i.referenceType,a=t.enter("imageReference");let s=t.enter("label");const o=t.createTracker(n);let c=o.move("![");const f=t.safe(i.alt,{before:c,after:"]",...o.current()});c+=o.move(f+"]["),s();const m=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(i),{before:c,after:"]",...o.current()});return s(),t.stack=m,a(),r==="full"||!f||f!==g?c+=o.move(g+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function C$(){return"!"}Qz.peek=R$;function Qz(i,e,t){let n=i.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(n);)r+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<t.unsafe.length;){const s=t.unsafe[a],o=t.compilePattern(s);let c;if(s.atBreak)for(;c=o.exec(n);){let f=c.index;n.charCodeAt(f)===10&&n.charCodeAt(f-1)===13&&f--,n=n.slice(0,f)+" "+n.slice(c.index+1)}}return r+n+r}function R$(){return"`"}function Jz(i,e){const t=e7(i);return!!(!e.options.resourceLink&&i.url&&!i.title&&i.children&&i.children.length===1&&i.children[0].type==="text"&&(t===i.url||"mailto:"+t===i.url)&&/^[a-z][a-z+.-]+:/i.test(i.url)&&!/[\0- <>\u007F]/.test(i.url))}$z.peek=D$;function $z(i,e,t,n){const r=c7(t),a=r==='"'?"Quote":"Apostrophe",s=t.createTracker(n);let o,c;if(Jz(i,t)){const m=t.stack;t.stack=[],o=t.enter("autolink");let g=s.move("<");return g+=s.move(t.containerPhrasing(i,{before:g,after:">",...s.current()})),g+=s.move(">"),o(),t.stack=m,g}o=t.enter("link"),c=t.enter("label");let f=s.move("[");return f+=s.move(t.containerPhrasing(i,{before:f,after:"](",...s.current()})),f+=s.move("]("),c(),!i.url&&i.title||/[\0- \u007F]/.test(i.url)?(c=t.enter("destinationLiteral"),f+=s.move("<"),f+=s.move(t.safe(i.url,{before:f,after:">",...s.current()})),f+=s.move(">")):(c=t.enter("destinationRaw"),f+=s.move(t.safe(i.url,{before:f,after:i.title?" ":")",...s.current()}))),c(),i.title&&(c=t.enter(`title${a}`),f+=s.move(" "+r),f+=s.move(t.safe(i.title,{before:f,after:r,...s.current()})),f+=s.move(r),c()),f+=s.move(")"),o(),f}function D$(i,e,t){return Jz(i,t)?"<":"["}eO.peek=N$;function eO(i,e,t,n){const r=i.referenceType,a=t.enter("linkReference");let s=t.enter("label");const o=t.createTracker(n);let c=o.move("[");const f=t.containerPhrasing(i,{before:c,after:"]",...o.current()});c+=o.move(f+"]["),s();const m=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(i),{before:c,after:"]",...o.current()});return s(),t.stack=m,a(),r==="full"||!f||f!==g?c+=o.move(g+"]"):r==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function N$(){return"["}function f7(i){const e=i.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function z$(i){const e=f7(i),t=i.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function O$(i){const e=i.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function tO(i){const e=i.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function L$(i,e,t,n){const r=t.enter("list"),a=t.bulletCurrent;let s=i.ordered?O$(t):f7(t);const o=i.ordered?s==="."?")":".":z$(t);let c=e&&t.bulletLastUsed?s===t.bulletLastUsed:!1;if(!i.ordered){const m=i.children?i.children[0]:void 0;if((s==="*"||s==="-")&&m&&(!m.children||!m.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),tO(t)===s&&m){let g=-1;for(;++g<i.children.length;){const y=i.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=o),t.bulletCurrent=s;const f=t.containerFlow(i,n);return t.bulletLastUsed=s,t.bulletCurrent=a,r(),f}function U$(i){const e=i.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function B$(i,e,t,n){const r=U$(t);let a=t.bulletCurrent||f7(t);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(i))+a);let s=a.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||i.spread))&&(s=Math.ceil(s/4)*4);const o=t.createTracker(n);o.move(a+" ".repeat(s-a.length)),o.shift(s);const c=t.enter("listItem"),f=t.indentLines(t.containerFlow(i,o.current()),m);return c(),f;function m(g,y,x){return y?(x?"":" ".repeat(s))+g:(x?a:a+" ".repeat(s-a.length))+g}}function k$(i,e,t,n){const r=t.enter("paragraph"),a=t.enter("phrasing"),s=t.containerPhrasing(i,n);return a(),r(),s}const I$=$x(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function P$(i,e,t,n){return(i.children.some(function(s){return I$(s)})?t.containerPhrasing:t.containerFlow).call(t,i,n)}function F$(i){const e=i.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}nO.peek=H$;function nO(i,e,t,n){const r=F$(t),a=t.enter("strong"),s=t.createTracker(n),o=s.move(r+r);let c=s.move(t.containerPhrasing(i,{after:r,before:o,...s.current()}));const f=c.charCodeAt(0),m=g4(n.before.charCodeAt(n.before.length-1),f,r);m.inside&&(c=zx(f)+c.slice(1));const g=c.charCodeAt(c.length-1),y=g4(n.after.charCodeAt(0),g,r);y.inside&&(c=c.slice(0,-1)+zx(g));const x=s.move(r+r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:m.outside},o+c+x}function H$(i,e,t){return t.options.strong||"*"}function V$(i,e,t,n){return t.safe(i.value,n)}function G$(i){const e=i.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function q$(i,e,t){const n=(tO(t)+(t.options.ruleSpaces?" ":"")).repeat(G$(t));return t.options.ruleSpaces?n.slice(0,-1):n}const iO={blockquote:p$,break:l9,code:y$,definition:_$,emphasis:jz,hardBreak:l9,heading:T$,html:Wz,image:Zz,imageReference:Kz,inlineCode:Qz,link:$z,linkReference:eO,list:L$,listItem:B$,paragraph:k$,root:P$,strong:nO,text:V$,thematicBreak:q$};function X$(){return{enter:{table:Y$,tableData:o9,tableHeader:o9,tableRow:W$},exit:{codeText:Z$,table:j$,tableData:K5,tableHeader:K5,tableRow:K5}}}function Y$(i){const e=i._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},i),this.data.inTable=!0}function j$(i){this.exit(i),this.data.inTable=void 0}function W$(i){this.enter({type:"tableRow",children:[]},i)}function K5(i){this.exit(i)}function o9(i){this.enter({type:"tableCell",children:[]},i)}function Z$(i){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,K$));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(i)}function K$(i,e){return e==="|"?e:i}function Q$(i){const e=i||{},t=e.tableCellPadding,n=e.tablePipeAlign,r=e.stringLength,a=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:s,tableCell:c,tableRow:o}};function s(x,_,M,w){return f(m(x,M,w),x.align)}function o(x,_,M,w){const S=g(x,M,w),A=f([S]);return A.slice(0,A.indexOf(`
`))}function c(x,_,M,w){const S=M.enter("tableCell"),A=M.enter("phrasing"),D=M.containerPhrasing(x,{...w,before:a,after:a});return A(),S(),D}function f(x,_){return h$(x,{align:_,alignDelimiters:n,padding:t,stringLength:r})}function m(x,_,M){const w=x.children;let S=-1;const A=[],D=_.enter("table");for(;++S<w.length;)A[S]=g(w[S],_,M);return D(),A}function g(x,_,M){const w=x.children;let S=-1;const A=[],D=_.enter("tableRow");for(;++S<w.length;)A[S]=c(w[S],x,_,M);return D(),A}function y(x,_,M){let w=iO.inlineCode(x,_,M);return M.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function J$(){return{exit:{taskListCheckValueChecked:u9,taskListCheckValueUnchecked:u9,paragraph:eee}}}function $$(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tee}}}function u9(i){const e=this.stack[this.stack.length-2];e.type,e.checked=i.type==="taskListCheckValueChecked"}function eee(i){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const n=t.children[0];if(n&&n.type==="text"){const r=e.children;let a=-1,s;for(;++a<r.length;){const o=r[a];if(o.type==="paragraph"){s=o;break}}s===t&&(n.value=n.value.slice(1),n.value.length===0?t.children.shift():t.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,t.position.start=Object.assign({},n.position.start)))}}this.exit(i)}function tee(i,e,t,n){const r=i.children[0],a=typeof i.checked=="boolean"&&r&&r.type==="paragraph",s="["+(i.checked?"x":" ")+"] ",o=t.createTracker(n);a&&o.move(s);let c=iO.listItem(i,e,t,{...n,...o.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),c;function f(m){return m+s}}function nee(){return[UJ(),n$(),s$(),X$(),J$()]}function iee(i){return{extensions:[BJ(),i$(i),l$(),Q$(i),$$()]}}const ree={tokenize:cee,partial:!0},rO={tokenize:fee,partial:!0},aO={tokenize:hee,partial:!0},sO={tokenize:dee,partial:!0},aee={tokenize:pee,partial:!0},lO={name:"wwwAutolink",tokenize:oee,previous:uO},oO={name:"protocolAutolink",tokenize:uee,previous:cO},M0={name:"emailAutolink",tokenize:lee,previous:fO},pc={};function see(){return{text:pc}}let ld=48;for(;ld<123;)pc[ld]=M0,ld++,ld===58?ld=65:ld===91&&(ld=97);pc[43]=M0;pc[45]=M0;pc[46]=M0;pc[95]=M0;pc[72]=[M0,oO];pc[104]=[M0,oO];pc[87]=[M0,lO];pc[119]=[M0,lO];function lee(i,e,t){const n=this;let r,a;return s;function s(g){return!vM(g)||!fO.call(n,n.previous)||h7(n.events)?t(g):(i.enter("literalAutolink"),i.enter("literalAutolinkEmail"),o(g))}function o(g){return vM(g)?(i.consume(g),o):g===64?(i.consume(g),c):t(g)}function c(g){return g===46?i.check(aee,m,f)(g):g===45||g===95||ss(g)?(a=!0,i.consume(g),c):m(g)}function f(g){return i.consume(g),r=!0,c}function m(g){return a&&r&&Ps(n.previous)?(i.exit("literalAutolinkEmail"),i.exit("literalAutolink"),e(g)):t(g)}}function oee(i,e,t){const n=this;return r;function r(s){return s!==87&&s!==119||!uO.call(n,n.previous)||h7(n.events)?t(s):(i.enter("literalAutolink"),i.enter("literalAutolinkWww"),i.check(ree,i.attempt(rO,i.attempt(aO,a),t),t)(s))}function a(s){return i.exit("literalAutolinkWww"),i.exit("literalAutolink"),e(s)}}function uee(i,e,t){const n=this;let r="",a=!1;return s;function s(g){return(g===72||g===104)&&cO.call(n,n.previous)&&!h7(n.events)?(i.enter("literalAutolink"),i.enter("literalAutolinkHttp"),r+=String.fromCodePoint(g),i.consume(g),o):t(g)}function o(g){if(Ps(g)&&r.length<5)return r+=String.fromCodePoint(g),i.consume(g),o;if(g===58){const y=r.toLowerCase();if(y==="http"||y==="https")return i.consume(g),c}return t(g)}function c(g){return g===47?(i.consume(g),a?f:(a=!0,c)):t(g)}function f(g){return g===null||d4(g)||ji(g)||Id(g)||p_(g)?t(g):i.attempt(rO,i.attempt(aO,m),t)(g)}function m(g){return i.exit("literalAutolinkHttp"),i.exit("literalAutolink"),e(g)}}function cee(i,e,t){let n=0;return r;function r(s){return(s===87||s===119)&&n<3?(n++,i.consume(s),r):s===46&&n===3?(i.consume(s),a):t(s)}function a(s){return s===null?t(s):e(s)}}function fee(i,e,t){let n,r,a;return s;function s(f){return f===46||f===95?i.check(sO,c,o)(f):f===null||ji(f)||Id(f)||f!==45&&p_(f)?c(f):(a=!0,i.consume(f),s)}function o(f){return f===95?n=!0:(r=n,n=void 0),i.consume(f),s}function c(f){return r||n||!a?t(f):e(f)}}function hee(i,e){let t=0,n=0;return r;function r(s){return s===40?(t++,i.consume(s),r):s===41&&n<t?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?i.check(sO,e,a)(s):s===null||ji(s)||Id(s)?e(s):(i.consume(s),r)}function a(s){return s===41&&n++,i.consume(s),r}}function dee(i,e,t){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(i.consume(o),n):o===38?(i.consume(o),a):o===93?(i.consume(o),r):o===60||o===null||ji(o)||Id(o)?e(o):t(o)}function r(o){return o===null||o===40||o===91||ji(o)||Id(o)?e(o):n(o)}function a(o){return Ps(o)?s(o):t(o)}function s(o){return o===59?(i.consume(o),n):Ps(o)?(i.consume(o),s):t(o)}}function pee(i,e,t){return n;function n(a){return i.consume(a),r}function r(a){return ss(a)?t(a):e(a)}}function uO(i){return i===null||i===40||i===42||i===95||i===91||i===93||i===126||ji(i)}function cO(i){return!Ps(i)}function fO(i){return!(i===47||vM(i))}function vM(i){return i===43||i===45||i===46||i===95||ss(i)}function h7(i){let e=i.length,t=!1;for(;e--;){const n=i[e][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){t=!0;break}if(n._gfmAutolinkLiteralWalkedInto){t=!1;break}}return i.length>0&&!t&&(i[i.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const mee={tokenize:Mee,partial:!0};function gee(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:bee,continuation:{tokenize:_ee},exit:See}},text:{91:{name:"gfmFootnoteCall",tokenize:yee},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:vee,resolveTo:xee}}}}function vee(i,e,t){const n=this;let r=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;r--;){const c=n.events[r][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!s||!s._balanced)return t(c);const f=fu(n.sliceSerialize({start:s.end,end:n.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?t(c):(i.enter("gfmFootnoteCallLabelMarker"),i.consume(c),i.exit("gfmFootnoteCallLabelMarker"),e(c))}}function xee(i,e){let t=i.length;for(;t--;)if(i[t][1].type==="labelImage"&&i[t][0]==="enter"){i[t][1];break}i[t+1][1].type="data",i[t+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},i[t+3][1].start),end:Object.assign({},i[i.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},i[t+3][1].end),end:Object.assign({},i[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},i[i.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[i[t+1],i[t+2],["enter",n,e],i[t+3],i[t+4],["enter",r,e],["exit",r,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],i[i.length-2],i[i.length-1],["exit",n,e]];return i.splice(t,i.length-t+1,...o),i}function yee(i,e,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,s;return o;function o(g){return i.enter("gfmFootnoteCall"),i.enter("gfmFootnoteCallLabelMarker"),i.consume(g),i.exit("gfmFootnoteCallLabelMarker"),c}function c(g){return g!==94?t(g):(i.enter("gfmFootnoteCallMarker"),i.consume(g),i.exit("gfmFootnoteCallMarker"),i.enter("gfmFootnoteCallString"),i.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!s||g===null||g===91||ji(g))return t(g);if(g===93){i.exit("chunkString");const y=i.exit("gfmFootnoteCallString");return r.includes(fu(n.sliceSerialize(y)))?(i.enter("gfmFootnoteCallLabelMarker"),i.consume(g),i.exit("gfmFootnoteCallLabelMarker"),i.exit("gfmFootnoteCall"),e):t(g)}return ji(g)||(s=!0),a++,i.consume(g),g===92?m:f}function m(g){return g===91||g===92||g===93?(i.consume(g),a++,f):f(g)}}function bee(i,e,t){const n=this,r=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,s=0,o;return c;function c(_){return i.enter("gfmFootnoteDefinition")._container=!0,i.enter("gfmFootnoteDefinitionLabel"),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(_){return _===94?(i.enter("gfmFootnoteDefinitionMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionMarker"),i.enter("gfmFootnoteDefinitionLabelString"),i.enter("chunkString").contentType="string",m):t(_)}function m(_){if(s>999||_===93&&!o||_===null||_===91||ji(_))return t(_);if(_===93){i.exit("chunkString");const M=i.exit("gfmFootnoteDefinitionLabelString");return a=fu(n.sliceSerialize(M)),i.enter("gfmFootnoteDefinitionLabelMarker"),i.consume(_),i.exit("gfmFootnoteDefinitionLabelMarker"),i.exit("gfmFootnoteDefinitionLabel"),y}return ji(_)||(o=!0),s++,i.consume(_),_===92?g:m}function g(_){return _===91||_===92||_===93?(i.consume(_),s++,m):m(_)}function y(_){return _===58?(i.enter("definitionMarker"),i.consume(_),i.exit("definitionMarker"),r.includes(a)||r.push(a),jn(i,x,"gfmFootnoteDefinitionWhitespace")):t(_)}function x(_){return e(_)}}function _ee(i,e,t){return i.check(Jx,e,i.attempt(mee,e,t))}function See(i){i.exit("gfmFootnoteDefinition")}function Mee(i,e,t){const n=this;return jn(i,r,"gfmFootnoteDefinitionIndent",5);function r(a){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):t(a)}}function wee(i){let t=(i||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(s,o){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let f=c;for(;f--;)if(s[f][0]==="exit"&&s[f][1].type==="strikethroughSequenceTemporary"&&s[f][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[f][1].end.offset-s[f][1].start.offset){s[c][1].type="strikethroughSequence",s[f][1].type="strikethroughSequence";const m={type:"strikethrough",start:Object.assign({},s[f][1].start),end:Object.assign({},s[c][1].end)},g={type:"strikethroughText",start:Object.assign({},s[f][1].end),end:Object.assign({},s[c][1].start)},y=[["enter",m,o],["enter",s[f][1],o],["exit",s[f][1],o],["enter",g,o]],x=o.parser.constructs.insideSpan.null;x&&ql(y,y.length,0,m_(x,s.slice(f+1,c),o)),ql(y,y.length,0,[["exit",g,o],["enter",s[c][1],o],["exit",s[c][1],o],["exit",m,o]]),ql(s,f-1,c-f+3,y),c=f+y.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function a(s,o,c){const f=this.previous,m=this.events;let g=0;return y;function y(_){return f===126&&m[m.length-1][1].type!=="characterEscape"?c(_):(s.enter("strikethroughSequenceTemporary"),x(_))}function x(_){const M=f1(f);if(_===126)return g>1?c(_):(s.consume(_),g++,x);if(g<2&&!t)return c(_);const w=s.exit("strikethroughSequenceTemporary"),S=f1(_);return w._open=!S||S===2&&!!M,w._close=!M||M===2&&!!S,o(_)}}}class Tee{constructor(){this.map=[]}add(e,t,n){Eee(this,e,t,n)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let r=n.pop();for(;r;){for(const a of r)e.push(a);r=n.pop()}this.map.length=0}}function Eee(i,e,t,n){let r=0;if(!(t===0&&n.length===0)){for(;r<i.map.length;){if(i.map[r][0]===e){i.map[r][1]+=t,i.map[r][2].push(...n);return}r+=1}i.map.push([e,t,n])}}function Aee(i,e){let t=!1;const n=[];for(;e<i.length;){const r=i[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&n.push(i[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(i[e-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return n}function Cee(){return{flow:{null:{name:"table",tokenize:Ree,resolveAll:Dee}}}}function Ree(i,e,t){const n=this;let r=0,a=0,s;return o;function o(O){let X=n.events.length-1;for(;X>-1;){const le=n.events[X][1].type;if(le==="lineEnding"||le==="linePrefix")X--;else break}const W=X>-1?n.events[X][1].type:null,se=W==="tableHead"||W==="tableRow"?z:c;return se===z&&n.parser.lazy[n.now().line]?t(O):se(O)}function c(O){return i.enter("tableHead"),i.enter("tableRow"),f(O)}function f(O){return O===124||(s=!0,a+=1),m(O)}function m(O){return O===null?t(O):$t(O)?a>1?(a=0,n.interrupt=!0,i.exit("tableRow"),i.enter("lineEnding"),i.consume(O),i.exit("lineEnding"),x):t(O):Qn(O)?jn(i,m,"whitespace")(O):(a+=1,s&&(s=!1,r+=1),O===124?(i.enter("tableCellDivider"),i.consume(O),i.exit("tableCellDivider"),s=!0,m):(i.enter("data"),g(O)))}function g(O){return O===null||O===124||ji(O)?(i.exit("data"),m(O)):(i.consume(O),O===92?y:g)}function y(O){return O===92||O===124?(i.consume(O),g):g(O)}function x(O){return n.interrupt=!1,n.parser.lazy[n.now().line]?t(O):(i.enter("tableDelimiterRow"),s=!1,Qn(O)?jn(i,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):_(O))}function _(O){return O===45||O===58?w(O):O===124?(s=!0,i.enter("tableCellDivider"),i.consume(O),i.exit("tableCellDivider"),M):k(O)}function M(O){return Qn(O)?jn(i,w,"whitespace")(O):w(O)}function w(O){return O===58?(a+=1,s=!0,i.enter("tableDelimiterMarker"),i.consume(O),i.exit("tableDelimiterMarker"),S):O===45?(a+=1,S(O)):O===null||$t(O)?N(O):k(O)}function S(O){return O===45?(i.enter("tableDelimiterFiller"),A(O)):k(O)}function A(O){return O===45?(i.consume(O),A):O===58?(s=!0,i.exit("tableDelimiterFiller"),i.enter("tableDelimiterMarker"),i.consume(O),i.exit("tableDelimiterMarker"),D):(i.exit("tableDelimiterFiller"),D(O))}function D(O){return Qn(O)?jn(i,N,"whitespace")(O):N(O)}function N(O){return O===124?_(O):O===null||$t(O)?!s||r!==a?k(O):(i.exit("tableDelimiterRow"),i.exit("tableHead"),e(O)):k(O)}function k(O){return t(O)}function z(O){return i.enter("tableRow"),P(O)}function P(O){return O===124?(i.enter("tableCellDivider"),i.consume(O),i.exit("tableCellDivider"),P):O===null||$t(O)?(i.exit("tableRow"),e(O)):Qn(O)?jn(i,P,"whitespace")(O):(i.enter("data"),V(O))}function V(O){return O===null||O===124||ji(O)?(i.exit("data"),P(O)):(i.consume(O),O===92?B:V)}function B(O){return O===92||O===124?(i.consume(O),V):V(O)}}function Dee(i,e){let t=-1,n=!0,r=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,c=0,f,m,g;const y=new Tee;for(;++t<i.length;){const x=i[t],_=x[1];x[0]==="enter"?_.type==="tableHead"?(o=!1,c!==0&&(c9(y,e,c,f,m),m=void 0,c=0),f={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",f,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(n=!0,g=void 0,a=[0,0,0,0],s=[0,t+1,0,0],o&&(o=!1,m={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",m,e]])),r=_.type==="tableDelimiterRow"?2:m?3:1):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],g=z3(y,e,a,r,void 0,g),a=[0,0,0,0]),s[2]=t)):_.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(s[0]=s[1],g=z3(y,e,a,r,void 0,g)),a=s,s=[a[1],t,0,0])):_.type==="tableHead"?(o=!0,c=t):_.type==="tableRow"||_.type==="tableDelimiterRow"?(c=t,a[1]!==0?(s[0]=s[1],g=z3(y,e,a,r,t,g)):s[1]!==0&&(g=z3(y,e,s,r,t,g)),r=0):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(s[3]=t)}for(c!==0&&c9(y,e,c,f,m),y.consume(e.events),t=-1;++t<e.events.length;){const x=e.events[t];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=Aee(e.events,t))}return i}function z3(i,e,t,n,r,a){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";t[0]!==0&&(a.end=Object.assign({},Dm(e.events,t[0])),i.add(t[0],0,[["exit",a,e]]));const c=Dm(e.events,t[1]);if(a={type:s,start:Object.assign({},c),end:Object.assign({},c)},i.add(t[1],0,[["enter",a,e]]),t[2]!==0){const f=Dm(e.events,t[2]),m=Dm(e.events,t[3]),g={type:o,start:Object.assign({},f),end:Object.assign({},m)};if(i.add(t[2],0,[["enter",g,e]]),n!==2){const y=e.events[t[2]],x=e.events[t[3]];if(y[1].end=Object.assign({},x[1].end),y[1].type="chunkText",y[1].contentType="text",t[3]>t[2]+1){const _=t[2]+1,M=t[3]-t[2]-1;i.add(_,M,[])}}i.add(t[3]+1,0,[["exit",g,e]])}return r!==void 0&&(a.end=Object.assign({},Dm(e.events,r)),i.add(r,0,[["exit",a,e]]),a=void 0),a}function c9(i,e,t,n,r){const a=[],s=Dm(e.events,t);r&&(r.end=Object.assign({},s),a.push(["exit",r,e])),n.end=Object.assign({},s),a.push(["exit",n,e]),i.add(t+1,0,a)}function Dm(i,e){const t=i[e],n=t[0]==="enter"?"start":"end";return t[1][n]}const Nee={name:"tasklistCheck",tokenize:Oee};function zee(){return{text:{91:Nee}}}function Oee(i,e,t){const n=this;return r;function r(c){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?t(c):(i.enter("taskListCheck"),i.enter("taskListCheckMarker"),i.consume(c),i.exit("taskListCheckMarker"),a)}function a(c){return ji(c)?(i.enter("taskListCheckValueUnchecked"),i.consume(c),i.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(i.enter("taskListCheckValueChecked"),i.consume(c),i.exit("taskListCheckValueChecked"),s):t(c)}function s(c){return c===93?(i.enter("taskListCheckMarker"),i.consume(c),i.exit("taskListCheckMarker"),i.exit("taskListCheck"),o):t(c)}function o(c){return $t(c)?e(c):Qn(c)?i.check({tokenize:Lee},e,t)(c):t(c)}}function Lee(i,e,t){return jn(i,n,"whitespace");function n(r){return r===null?t(r):e(r)}}function Uee(i){return _z([see(),gee(),wee(i),Cee(),zee()])}const Bee={};function kee(i){const e=this,t=i||Bee,n=e.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(Uee(t)),a.push(nee()),s.push(iee(t))}function Iee(){return{enter:{mathFlow:i,mathFlowFenceMeta:e,mathText:a},exit:{mathFlow:r,mathFlowFence:n,mathFlowFenceMeta:t,mathFlowValue:o,mathText:s,mathTextData:o}};function i(c){const f={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[f]}},c)}function e(){this.buffer()}function t(){const c=this.resume(),f=this.stack[this.stack.length-1];f.type,f.meta=c}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function r(c){const f=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),m=this.stack[this.stack.length-1];m.type,this.exit(c),m.value=f;const g=m.data.hChildren[0];g.type,g.tagName,g.children.push({type:"text",value:f}),this.data.mathFlowInside=void 0}function a(c){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},c),this.buffer()}function s(c){const f=this.resume(),m=this.stack[this.stack.length-1];m.type,this.exit(c),m.value=f,m.data.hChildren.push({type:"text",value:f})}function o(c){this.config.enter.data.call(this,c),this.config.exit.data.call(this,c)}}function Pee(i){let e=(i||{}).singleDollarTextMath;return e==null&&(e=!0),n.peek=r,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:t,inlineMath:n}};function t(a,s,o,c){const f=a.value||"",m=o.createTracker(c),g="$".repeat(Math.max(Yz(f,"$")+1,2)),y=o.enter("mathFlow");let x=m.move(g);if(a.meta){const _=o.enter("mathFlowMeta");x+=m.move(o.safe(a.meta,{after:`
`,before:x,encode:["$"],...m.current()})),_()}return x+=m.move(`
`),f&&(x+=m.move(f+`
`)),x+=m.move(g),y(),x}function n(a,s,o){let c=a.value||"",f=1;for(e||f++;new RegExp("(^|[^$])"+"\\$".repeat(f)+"([^$]|$)").test(c);)f++;const m="$".repeat(f);/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^\$|\$$/.test(c))&&(c=" "+c+" ");let g=-1;for(;++g<o.unsafe.length;){const y=o.unsafe[g];if(!y.atBreak)continue;const x=o.compilePattern(y);let _;for(;_=x.exec(c);){let M=_.index;c.codePointAt(M)===10&&c.codePointAt(M-1)===13&&M--,c=c.slice(0,M)+" "+c.slice(_.index+1)}}return m+c+m}function r(){return"$"}}const Fee={tokenize:Hee,concrete:!0,name:"mathFlow"},f9={tokenize:Vee,partial:!0};function Hee(i,e,t){const n=this,r=n.events[n.events.length-1],a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0;let s=0;return o;function o(A){return i.enter("mathFlow"),i.enter("mathFlowFence"),i.enter("mathFlowFenceSequence"),c(A)}function c(A){return A===36?(i.consume(A),s++,c):s<2?t(A):(i.exit("mathFlowFenceSequence"),jn(i,f,"whitespace")(A))}function f(A){return A===null||$t(A)?g(A):(i.enter("mathFlowFenceMeta"),i.enter("chunkString",{contentType:"string"}),m(A))}function m(A){return A===null||$t(A)?(i.exit("chunkString"),i.exit("mathFlowFenceMeta"),g(A)):A===36?t(A):(i.consume(A),m)}function g(A){return i.exit("mathFlowFence"),n.interrupt?e(A):i.attempt(f9,y,w)(A)}function y(A){return i.attempt({tokenize:S,partial:!0},w,x)(A)}function x(A){return(a?jn(i,_,"linePrefix",a+1):_)(A)}function _(A){return A===null?w(A):$t(A)?i.attempt(f9,y,w)(A):(i.enter("mathFlowValue"),M(A))}function M(A){return A===null||$t(A)?(i.exit("mathFlowValue"),_(A)):(i.consume(A),M)}function w(A){return i.exit("mathFlow"),e(A)}function S(A,D,N){let k=0;return jn(A,z,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function z(B){return A.enter("mathFlowFence"),A.enter("mathFlowFenceSequence"),P(B)}function P(B){return B===36?(k++,A.consume(B),P):k<s?N(B):(A.exit("mathFlowFenceSequence"),jn(A,V,"whitespace")(B))}function V(B){return B===null||$t(B)?(A.exit("mathFlowFence"),D(B)):N(B)}}}function Vee(i,e,t){const n=this;return r;function r(s){return s===null?e(s):(i.enter("lineEnding"),i.consume(s),i.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?t(s):e(s)}}function Gee(i){let t=(i||{}).singleDollarTextMath;return t==null&&(t=!0),{tokenize:n,resolve:qee,previous:Xee,name:"mathText"};function n(r,a,s){let o=0,c,f;return m;function m(M){return r.enter("mathText"),r.enter("mathTextSequence"),g(M)}function g(M){return M===36?(r.consume(M),o++,g):o<2&&!t?s(M):(r.exit("mathTextSequence"),y(M))}function y(M){return M===null?s(M):M===36?(f=r.enter("mathTextSequence"),c=0,_(M)):M===32?(r.enter("space"),r.consume(M),r.exit("space"),y):$t(M)?(r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),y):(r.enter("mathTextData"),x(M))}function x(M){return M===null||M===32||M===36||$t(M)?(r.exit("mathTextData"),y(M)):(r.consume(M),x)}function _(M){return M===36?(r.consume(M),c++,_):c===o?(r.exit("mathTextSequence"),r.exit("mathText"),a(M)):(f.type="mathTextData",x(M))}}}function qee(i){let e=i.length-4,t=3,n,r;if((i[t][1].type==="lineEnding"||i[t][1].type==="space")&&(i[e][1].type==="lineEnding"||i[e][1].type==="space")){for(n=t;++n<e;)if(i[n][1].type==="mathTextData"){i[e][1].type="mathTextPadding",i[t][1].type="mathTextPadding",t+=2,e-=2;break}}for(n=t-1,e++;++n<=e;)r===void 0?n!==e&&i[n][1].type!=="lineEnding"&&(r=n):(n===e||i[n][1].type==="lineEnding")&&(i[r][1].type="mathTextData",n!==r+2&&(i[r][1].end=i[n-1][1].end,i.splice(r+2,n-r-2),e-=n-r-2,n=r+2),r=void 0);return i}function Xee(i){return i!==36||this.events[this.events.length-1][1].type==="characterEscape"}function Yee(i){return{flow:{36:Fee},text:{36:Gee(i)}}}class al{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new al(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class Xl{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new Xl(t,al.range(this,e))}}class pt{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+e,r,a,s=t&&t.loc;if(s&&s.start<=s.end){var o=s.lexer.input;r=s.start,a=s.end,r===o.length?n+=" at end of input: ":n+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&"),f;r>15?f=""+o.slice(r-15,r):f=o.slice(0,r);var m;a+15<o.length?m=o.slice(a,a+15)+"":m=o.slice(a),n+=f+c+m}var g=new Error(n);return g.name="ParseError",g.__proto__=pt.prototype,g.position=r,r!=null&&a!=null&&(g.length=a-r),g.rawMessage=e,g}}pt.prototype.__proto__=Error.prototype;var jee=function(e,t){return e===void 0?t:e},Wee=/([A-Z])/g,Zee=function(e){return e.replace(Wee,"-$1").toLowerCase()},Kee={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Qee=/[&><"']/g;function Jee(i){return String(i).replace(Qee,e=>Kee[e])}var hO=function i(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?i(e.body[0]):e:e.type==="font"?i(e.body):e},$ee=function(e){var t=hO(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},ete=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},tte=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},_i={deflt:jee,escape:Jee,hyphenate:Zee,getBaseElem:hO,isCharacterBox:$ee,protocolFromUrl:tte},sb={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:i=>"#"+i},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(i,e)=>(e.push(i),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:i=>Math.max(0,i),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:i=>Math.max(0,i),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:i=>Math.max(0,i),cli:"-e, --max-expand <n>",cliProcessor:i=>i==="Infinity"?1/0:parseInt(i)},globalGroup:{type:"boolean",cli:!1}};function nte(i){if(i.default)return i.default;var e=i.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class d7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in sb)if(sb.hasOwnProperty(t)){var n=sb[t];this[t]=e[t]!==void 0?n.processor?n.processor(e[t]):e[t]:nte(n)}}reportNonstrict(e,t,n){var r=this.strict;if(typeof r=="function"&&(r=r(e,t,n)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new pt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),n);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,n){var r=this.strict;if(typeof r=="function")try{r=r(e,t,n)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=_i.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var n=typeof this.trust=="function"?this.trust(e):this.trust;return!!n}}class xf{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return Ju[ite[this.id]]}sub(){return Ju[rte[this.id]]}fracNum(){return Ju[ate[this.id]]}fracDen(){return Ju[ste[this.id]]}cramp(){return Ju[lte[this.id]]}text(){return Ju[ote[this.id]]}isTight(){return this.size>=2}}var p7=0,v4=1,Xm=2,f0=3,Ox=4,To=5,h1=6,Fs=7,Ju=[new xf(p7,0,!1),new xf(v4,0,!0),new xf(Xm,1,!1),new xf(f0,1,!0),new xf(Ox,2,!1),new xf(To,2,!0),new xf(h1,3,!1),new xf(Fs,3,!0)],ite=[Ox,To,Ox,To,h1,Fs,h1,Fs],rte=[To,To,To,To,Fs,Fs,Fs,Fs],ate=[Xm,f0,Ox,To,h1,Fs,h1,Fs],ste=[f0,f0,To,To,Fs,Fs,Fs,Fs],lte=[v4,v4,f0,f0,To,To,Fs,Fs],ote=[p7,v4,Xm,f0,Xm,f0,Xm,f0],cn={DISPLAY:Ju[p7],TEXT:Ju[Xm],SCRIPT:Ju[Ox],SCRIPTSCRIPT:Ju[h1]},xM=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ute(i){for(var e=0;e<xM.length;e++)for(var t=xM[e],n=0;n<t.blocks.length;n++){var r=t.blocks[n];if(i>=r[0]&&i<=r[1])return t.name}return null}var lb=[];xM.forEach(i=>i.blocks.forEach(e=>lb.push(...e)));function dO(i){for(var e=0;e<lb.length;e+=2)if(i>=lb[e]&&i<=lb[e+1])return!0;return!1}var Am=80,cte=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},fte=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},hte=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},dte=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},pte=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},mte=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},gte=function(e,t,n){var r=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},vte=function(e,t,n){t=1e3*t;var r="";switch(e){case"sqrtMain":r=cte(t,Am);break;case"sqrtSize1":r=fte(t,Am);break;case"sqrtSize2":r=hte(t,Am);break;case"sqrtSize3":r=dte(t,Am);break;case"sqrtSize4":r=pte(t,Am);break;case"sqrtTall":r=gte(t,Am,n)}return r},xte=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},h9={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},yte=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class ty{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var rc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},O3={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},d9={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function bte(i,e){rc[i]=e}function m7(i,e,t){if(!rc[e])throw new Error("Font metrics not found for font: "+e+".");var n=i.charCodeAt(0),r=rc[e][n];if(!r&&i[0]in d9&&(n=d9[i[0]].charCodeAt(0),r=rc[e][n]),!r&&t==="text"&&dO(n)&&(r=rc[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Q5={};function _te(i){var e;if(i>=5?e=0:i>=3?e=1:e=2,!Q5[e]){var t=Q5[e]={cssEmPerMu:O3.quad[e]/18};for(var n in O3)O3.hasOwnProperty(n)&&(t[n]=O3[n][e])}return Q5[e]}var Ste=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],p9=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],m9=function(e,t){return t.size<2?e:Ste[e-1][t.size-1]};class i0{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||i0.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=p9[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new i0(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:m9(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:p9[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=m9(i0.BASESIZE,e);return this.size===t&&this.textSize===i0.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==i0.BASESIZE?["sizing","reset-size"+this.size,"size"+i0.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=_te(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}i0.BASESIZE=6;var yM={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Mte={ex:!0,em:!0,mu:!0},pO=function(e){return typeof e!="string"&&(e=e.unit),e in yM||e in Mte||e==="ex"},vr=function(e,t){var n;if(e.unit in yM)n=yM[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")n=t.fontMetrics().cssEmPerMu;else{var r;if(t.style.isTight()?r=t.havingStyle(t.style.text()):r=t,e.unit==="ex")n=r.fontMetrics().xHeight;else if(e.unit==="em")n=r.fontMetrics().quad;else throw new pt("Invalid unit: '"+e.unit+"'");r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},wt=function(e){return+e.toFixed(4)+"em"},Gf=function(e){return e.filter(t=>t).join(" ")},mO=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},gO=function(e){var t=document.createElement(e);t.className=Gf(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},wte=/[\s"'>/=\x00-\x1f]/,vO=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+_i.escape(Gf(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=_i.hyphenate(r)+":"+this.style[r]+";");n&&(t+=' style="'+_i.escape(n)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(wte.test(a))throw new pt("Invalid attribute name '"+a+"'");t+=" "+a+'="'+_i.escape(this.attributes[a])+'"'}t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">",t};class ny{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,mO.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return gO.call(this,"span")}toMarkup(){return vO.call(this,"span")}}class g7{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,mO.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return gO.call(this,"a")}toMarkup(){return vO.call(this,"a")}}class Tte{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+_i.escape(this.src)+'"'+(' alt="'+_i.escape(this.alt)+'"'),t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=_i.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+_i.escape(t)+'"'),e+="'/>",e}}var Ete={:"",:"",:"",:""};class Ro{constructor(e,t,n,r,a,s,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var f=ute(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=Ete[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=wt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Gf(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=_i.escape(Gf(this.classes)),t+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=_i.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+_i.escape(n)+'"');var a=_i.escape(this.text);return e?(t+=">",t+=a,t+="</span>",t):a}}class b0{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+_i.escape(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class qf{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",h9[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+_i.escape(this.alternate)+'"/>':'<path d="'+_i.escape(h9[this.pathName])+'"/>'}}class bM{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+_i.escape(this.attributes[t])+'"');return e+="/>",e}}function g9(i){if(i instanceof Ro)return i;throw new Error("Expected symbolNode but got "+String(i)+".")}function Ate(i){if(i instanceof ny)return i;throw new Error("Expected span<HtmlDomNode> but got "+String(i)+".")}var Cte={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Rte={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Qi={math:{},text:{}};function L(i,e,t,n,r,a){Qi[i][r]={font:e,group:t,replace:n},a&&n&&(Qi[i][n]=Qi[i][r])}var I="math",st="text",G="main",ce="ams",or="accent-token",Ht="bin",Gs="close",w1="inner",un="mathord",Qr="op-token",Zl="open",x_="punct",he="rel",w0="spacing",_e="textord";L(I,G,he,"","\\equiv",!0);L(I,G,he,"","\\prec",!0);L(I,G,he,"","\\succ",!0);L(I,G,he,"","\\sim",!0);L(I,G,he,"","\\perp");L(I,G,he,"","\\preceq",!0);L(I,G,he,"","\\succeq",!0);L(I,G,he,"","\\simeq",!0);L(I,G,he,"","\\mid",!0);L(I,G,he,"","\\ll",!0);L(I,G,he,"","\\gg",!0);L(I,G,he,"","\\asymp",!0);L(I,G,he,"","\\parallel");L(I,G,he,"","\\bowtie",!0);L(I,G,he,"","\\smile",!0);L(I,G,he,"","\\sqsubseteq",!0);L(I,G,he,"","\\sqsupseteq",!0);L(I,G,he,"","\\doteq",!0);L(I,G,he,"","\\frown",!0);L(I,G,he,"","\\ni",!0);L(I,G,he,"","\\propto",!0);L(I,G,he,"","\\vdash",!0);L(I,G,he,"","\\dashv",!0);L(I,G,he,"","\\owns");L(I,G,x_,".","\\ldotp");L(I,G,x_,"","\\cdotp");L(I,G,_e,"#","\\#");L(st,G,_e,"#","\\#");L(I,G,_e,"&","\\&");L(st,G,_e,"&","\\&");L(I,G,_e,"","\\aleph",!0);L(I,G,_e,"","\\forall",!0);L(I,G,_e,"","\\hbar",!0);L(I,G,_e,"","\\exists",!0);L(I,G,_e,"","\\nabla",!0);L(I,G,_e,"","\\flat",!0);L(I,G,_e,"","\\ell",!0);L(I,G,_e,"","\\natural",!0);L(I,G,_e,"","\\clubsuit",!0);L(I,G,_e,"","\\wp",!0);L(I,G,_e,"","\\sharp",!0);L(I,G,_e,"","\\diamondsuit",!0);L(I,G,_e,"","\\Re",!0);L(I,G,_e,"","\\heartsuit",!0);L(I,G,_e,"","\\Im",!0);L(I,G,_e,"","\\spadesuit",!0);L(I,G,_e,"","\\S",!0);L(st,G,_e,"","\\S");L(I,G,_e,"","\\P",!0);L(st,G,_e,"","\\P");L(I,G,_e,"","\\dag");L(st,G,_e,"","\\dag");L(st,G,_e,"","\\textdagger");L(I,G,_e,"","\\ddag");L(st,G,_e,"","\\ddag");L(st,G,_e,"","\\textdaggerdbl");L(I,G,Gs,"","\\rmoustache",!0);L(I,G,Zl,"","\\lmoustache",!0);L(I,G,Gs,"","\\rgroup",!0);L(I,G,Zl,"","\\lgroup",!0);L(I,G,Ht,"","\\mp",!0);L(I,G,Ht,"","\\ominus",!0);L(I,G,Ht,"","\\uplus",!0);L(I,G,Ht,"","\\sqcap",!0);L(I,G,Ht,"","\\ast");L(I,G,Ht,"","\\sqcup",!0);L(I,G,Ht,"","\\bigcirc",!0);L(I,G,Ht,"","\\bullet",!0);L(I,G,Ht,"","\\ddagger");L(I,G,Ht,"","\\wr",!0);L(I,G,Ht,"","\\amalg");L(I,G,Ht,"&","\\And");L(I,G,he,"","\\longleftarrow",!0);L(I,G,he,"","\\Leftarrow",!0);L(I,G,he,"","\\Longleftarrow",!0);L(I,G,he,"","\\longrightarrow",!0);L(I,G,he,"","\\Rightarrow",!0);L(I,G,he,"","\\Longrightarrow",!0);L(I,G,he,"","\\leftrightarrow",!0);L(I,G,he,"","\\longleftrightarrow",!0);L(I,G,he,"","\\Leftrightarrow",!0);L(I,G,he,"","\\Longleftrightarrow",!0);L(I,G,he,"","\\mapsto",!0);L(I,G,he,"","\\longmapsto",!0);L(I,G,he,"","\\nearrow",!0);L(I,G,he,"","\\hookleftarrow",!0);L(I,G,he,"","\\hookrightarrow",!0);L(I,G,he,"","\\searrow",!0);L(I,G,he,"","\\leftharpoonup",!0);L(I,G,he,"","\\rightharpoonup",!0);L(I,G,he,"","\\swarrow",!0);L(I,G,he,"","\\leftharpoondown",!0);L(I,G,he,"","\\rightharpoondown",!0);L(I,G,he,"","\\nwarrow",!0);L(I,G,he,"","\\rightleftharpoons",!0);L(I,ce,he,"","\\nless",!0);L(I,ce,he,"","\\@nleqslant");L(I,ce,he,"","\\@nleqq");L(I,ce,he,"","\\lneq",!0);L(I,ce,he,"","\\lneqq",!0);L(I,ce,he,"","\\@lvertneqq");L(I,ce,he,"","\\lnsim",!0);L(I,ce,he,"","\\lnapprox",!0);L(I,ce,he,"","\\nprec",!0);L(I,ce,he,"","\\npreceq",!0);L(I,ce,he,"","\\precnsim",!0);L(I,ce,he,"","\\precnapprox",!0);L(I,ce,he,"","\\nsim",!0);L(I,ce,he,"","\\@nshortmid");L(I,ce,he,"","\\nmid",!0);L(I,ce,he,"","\\nvdash",!0);L(I,ce,he,"","\\nvDash",!0);L(I,ce,he,"","\\ntriangleleft");L(I,ce,he,"","\\ntrianglelefteq",!0);L(I,ce,he,"","\\subsetneq",!0);L(I,ce,he,"","\\@varsubsetneq");L(I,ce,he,"","\\subsetneqq",!0);L(I,ce,he,"","\\@varsubsetneqq");L(I,ce,he,"","\\ngtr",!0);L(I,ce,he,"","\\@ngeqslant");L(I,ce,he,"","\\@ngeqq");L(I,ce,he,"","\\gneq",!0);L(I,ce,he,"","\\gneqq",!0);L(I,ce,he,"","\\@gvertneqq");L(I,ce,he,"","\\gnsim",!0);L(I,ce,he,"","\\gnapprox",!0);L(I,ce,he,"","\\nsucc",!0);L(I,ce,he,"","\\nsucceq",!0);L(I,ce,he,"","\\succnsim",!0);L(I,ce,he,"","\\succnapprox",!0);L(I,ce,he,"","\\ncong",!0);L(I,ce,he,"","\\@nshortparallel");L(I,ce,he,"","\\nparallel",!0);L(I,ce,he,"","\\nVDash",!0);L(I,ce,he,"","\\ntriangleright");L(I,ce,he,"","\\ntrianglerighteq",!0);L(I,ce,he,"","\\@nsupseteqq");L(I,ce,he,"","\\supsetneq",!0);L(I,ce,he,"","\\@varsupsetneq");L(I,ce,he,"","\\supsetneqq",!0);L(I,ce,he,"","\\@varsupsetneqq");L(I,ce,he,"","\\nVdash",!0);L(I,ce,he,"","\\precneqq",!0);L(I,ce,he,"","\\succneqq",!0);L(I,ce,he,"","\\@nsubseteqq");L(I,ce,Ht,"","\\unlhd");L(I,ce,Ht,"","\\unrhd");L(I,ce,he,"","\\nleftarrow",!0);L(I,ce,he,"","\\nrightarrow",!0);L(I,ce,he,"","\\nLeftarrow",!0);L(I,ce,he,"","\\nRightarrow",!0);L(I,ce,he,"","\\nleftrightarrow",!0);L(I,ce,he,"","\\nLeftrightarrow",!0);L(I,ce,he,"","\\vartriangle");L(I,ce,_e,"","\\hslash");L(I,ce,_e,"","\\triangledown");L(I,ce,_e,"","\\lozenge");L(I,ce,_e,"","\\circledS");L(I,ce,_e,"","\\circledR");L(st,ce,_e,"","\\circledR");L(I,ce,_e,"","\\measuredangle",!0);L(I,ce,_e,"","\\nexists");L(I,ce,_e,"","\\mho");L(I,ce,_e,"","\\Finv",!0);L(I,ce,_e,"","\\Game",!0);L(I,ce,_e,"","\\backprime");L(I,ce,_e,"","\\blacktriangle");L(I,ce,_e,"","\\blacktriangledown");L(I,ce,_e,"","\\blacksquare");L(I,ce,_e,"","\\blacklozenge");L(I,ce,_e,"","\\bigstar");L(I,ce,_e,"","\\sphericalangle",!0);L(I,ce,_e,"","\\complement",!0);L(I,ce,_e,"","\\eth",!0);L(st,G,_e,"","");L(I,ce,_e,"","\\diagup");L(I,ce,_e,"","\\diagdown");L(I,ce,_e,"","\\square");L(I,ce,_e,"","\\Box");L(I,ce,_e,"","\\Diamond");L(I,ce,_e,"","\\yen",!0);L(st,ce,_e,"","\\yen",!0);L(I,ce,_e,"","\\checkmark",!0);L(st,ce,_e,"","\\checkmark");L(I,ce,_e,"","\\beth",!0);L(I,ce,_e,"","\\daleth",!0);L(I,ce,_e,"","\\gimel",!0);L(I,ce,_e,"","\\digamma",!0);L(I,ce,_e,"","\\varkappa");L(I,ce,Zl,"","\\@ulcorner",!0);L(I,ce,Gs,"","\\@urcorner",!0);L(I,ce,Zl,"","\\@llcorner",!0);L(I,ce,Gs,"","\\@lrcorner",!0);L(I,ce,he,"","\\leqq",!0);L(I,ce,he,"","\\leqslant",!0);L(I,ce,he,"","\\eqslantless",!0);L(I,ce,he,"","\\lesssim",!0);L(I,ce,he,"","\\lessapprox",!0);L(I,ce,he,"","\\approxeq",!0);L(I,ce,Ht,"","\\lessdot");L(I,ce,he,"","\\lll",!0);L(I,ce,he,"","\\lessgtr",!0);L(I,ce,he,"","\\lesseqgtr",!0);L(I,ce,he,"","\\lesseqqgtr",!0);L(I,ce,he,"","\\doteqdot");L(I,ce,he,"","\\risingdotseq",!0);L(I,ce,he,"","\\fallingdotseq",!0);L(I,ce,he,"","\\backsim",!0);L(I,ce,he,"","\\backsimeq",!0);L(I,ce,he,"","\\subseteqq",!0);L(I,ce,he,"","\\Subset",!0);L(I,ce,he,"","\\sqsubset",!0);L(I,ce,he,"","\\preccurlyeq",!0);L(I,ce,he,"","\\curlyeqprec",!0);L(I,ce,he,"","\\precsim",!0);L(I,ce,he,"","\\precapprox",!0);L(I,ce,he,"","\\vartriangleleft");L(I,ce,he,"","\\trianglelefteq");L(I,ce,he,"","\\vDash",!0);L(I,ce,he,"","\\Vvdash",!0);L(I,ce,he,"","\\smallsmile");L(I,ce,he,"","\\smallfrown");L(I,ce,he,"","\\bumpeq",!0);L(I,ce,he,"","\\Bumpeq",!0);L(I,ce,he,"","\\geqq",!0);L(I,ce,he,"","\\geqslant",!0);L(I,ce,he,"","\\eqslantgtr",!0);L(I,ce,he,"","\\gtrsim",!0);L(I,ce,he,"","\\gtrapprox",!0);L(I,ce,Ht,"","\\gtrdot");L(I,ce,he,"","\\ggg",!0);L(I,ce,he,"","\\gtrless",!0);L(I,ce,he,"","\\gtreqless",!0);L(I,ce,he,"","\\gtreqqless",!0);L(I,ce,he,"","\\eqcirc",!0);L(I,ce,he,"","\\circeq",!0);L(I,ce,he,"","\\triangleq",!0);L(I,ce,he,"","\\thicksim");L(I,ce,he,"","\\thickapprox");L(I,ce,he,"","\\supseteqq",!0);L(I,ce,he,"","\\Supset",!0);L(I,ce,he,"","\\sqsupset",!0);L(I,ce,he,"","\\succcurlyeq",!0);L(I,ce,he,"","\\curlyeqsucc",!0);L(I,ce,he,"","\\succsim",!0);L(I,ce,he,"","\\succapprox",!0);L(I,ce,he,"","\\vartriangleright");L(I,ce,he,"","\\trianglerighteq");L(I,ce,he,"","\\Vdash",!0);L(I,ce,he,"","\\shortmid");L(I,ce,he,"","\\shortparallel");L(I,ce,he,"","\\between",!0);L(I,ce,he,"","\\pitchfork",!0);L(I,ce,he,"","\\varpropto");L(I,ce,he,"","\\blacktriangleleft");L(I,ce,he,"","\\therefore",!0);L(I,ce,he,"","\\backepsilon");L(I,ce,he,"","\\blacktriangleright");L(I,ce,he,"","\\because",!0);L(I,ce,he,"","\\llless");L(I,ce,he,"","\\gggtr");L(I,ce,Ht,"","\\lhd");L(I,ce,Ht,"","\\rhd");L(I,ce,he,"","\\eqsim",!0);L(I,G,he,"","\\Join");L(I,ce,he,"","\\Doteq",!0);L(I,ce,Ht,"","\\dotplus",!0);L(I,ce,Ht,"","\\smallsetminus");L(I,ce,Ht,"","\\Cap",!0);L(I,ce,Ht,"","\\Cup",!0);L(I,ce,Ht,"","\\doublebarwedge",!0);L(I,ce,Ht,"","\\boxminus",!0);L(I,ce,Ht,"","\\boxplus",!0);L(I,ce,Ht,"","\\divideontimes",!0);L(I,ce,Ht,"","\\ltimes",!0);L(I,ce,Ht,"","\\rtimes",!0);L(I,ce,Ht,"","\\leftthreetimes",!0);L(I,ce,Ht,"","\\rightthreetimes",!0);L(I,ce,Ht,"","\\curlywedge",!0);L(I,ce,Ht,"","\\curlyvee",!0);L(I,ce,Ht,"","\\circleddash",!0);L(I,ce,Ht,"","\\circledast",!0);L(I,ce,Ht,"","\\centerdot");L(I,ce,Ht,"","\\intercal",!0);L(I,ce,Ht,"","\\doublecap");L(I,ce,Ht,"","\\doublecup");L(I,ce,Ht,"","\\boxtimes",!0);L(I,ce,he,"","\\dashrightarrow",!0);L(I,ce,he,"","\\dashleftarrow",!0);L(I,ce,he,"","\\leftleftarrows",!0);L(I,ce,he,"","\\leftrightarrows",!0);L(I,ce,he,"","\\Lleftarrow",!0);L(I,ce,he,"","\\twoheadleftarrow",!0);L(I,ce,he,"","\\leftarrowtail",!0);L(I,ce,he,"","\\looparrowleft",!0);L(I,ce,he,"","\\leftrightharpoons",!0);L(I,ce,he,"","\\curvearrowleft",!0);L(I,ce,he,"","\\circlearrowleft",!0);L(I,ce,he,"","\\Lsh",!0);L(I,ce,he,"","\\upuparrows",!0);L(I,ce,he,"","\\upharpoonleft",!0);L(I,ce,he,"","\\downharpoonleft",!0);L(I,G,he,"","\\origof",!0);L(I,G,he,"","\\imageof",!0);L(I,ce,he,"","\\multimap",!0);L(I,ce,he,"","\\leftrightsquigarrow",!0);L(I,ce,he,"","\\rightrightarrows",!0);L(I,ce,he,"","\\rightleftarrows",!0);L(I,ce,he,"","\\twoheadrightarrow",!0);L(I,ce,he,"","\\rightarrowtail",!0);L(I,ce,he,"","\\looparrowright",!0);L(I,ce,he,"","\\curvearrowright",!0);L(I,ce,he,"","\\circlearrowright",!0);L(I,ce,he,"","\\Rsh",!0);L(I,ce,he,"","\\downdownarrows",!0);L(I,ce,he,"","\\upharpoonright",!0);L(I,ce,he,"","\\downharpoonright",!0);L(I,ce,he,"","\\rightsquigarrow",!0);L(I,ce,he,"","\\leadsto");L(I,ce,he,"","\\Rrightarrow",!0);L(I,ce,he,"","\\restriction");L(I,G,_e,"","`");L(I,G,_e,"$","\\$");L(st,G,_e,"$","\\$");L(st,G,_e,"$","\\textdollar");L(I,G,_e,"%","\\%");L(st,G,_e,"%","\\%");L(I,G,_e,"_","\\_");L(st,G,_e,"_","\\_");L(st,G,_e,"_","\\textunderscore");L(I,G,_e,"","\\angle",!0);L(I,G,_e,"","\\infty",!0);L(I,G,_e,"","\\prime");L(I,G,_e,"","\\triangle");L(I,G,_e,"","\\Gamma",!0);L(I,G,_e,"","\\Delta",!0);L(I,G,_e,"","\\Theta",!0);L(I,G,_e,"","\\Lambda",!0);L(I,G,_e,"","\\Xi",!0);L(I,G,_e,"","\\Pi",!0);L(I,G,_e,"","\\Sigma",!0);L(I,G,_e,"","\\Upsilon",!0);L(I,G,_e,"","\\Phi",!0);L(I,G,_e,"","\\Psi",!0);L(I,G,_e,"","\\Omega",!0);L(I,G,_e,"A","");L(I,G,_e,"B","");L(I,G,_e,"E","");L(I,G,_e,"Z","");L(I,G,_e,"H","");L(I,G,_e,"I","");L(I,G,_e,"K","");L(I,G,_e,"M","");L(I,G,_e,"N","");L(I,G,_e,"O","");L(I,G,_e,"P","");L(I,G,_e,"T","");L(I,G,_e,"X","");L(I,G,_e,"","\\neg",!0);L(I,G,_e,"","\\lnot");L(I,G,_e,"","\\top");L(I,G,_e,"","\\bot");L(I,G,_e,"","\\emptyset");L(I,ce,_e,"","\\varnothing");L(I,G,un,"","\\alpha",!0);L(I,G,un,"","\\beta",!0);L(I,G,un,"","\\gamma",!0);L(I,G,un,"","\\delta",!0);L(I,G,un,"","\\epsilon",!0);L(I,G,un,"","\\zeta",!0);L(I,G,un,"","\\eta",!0);L(I,G,un,"","\\theta",!0);L(I,G,un,"","\\iota",!0);L(I,G,un,"","\\kappa",!0);L(I,G,un,"","\\lambda",!0);L(I,G,un,"","\\mu",!0);L(I,G,un,"","\\nu",!0);L(I,G,un,"","\\xi",!0);L(I,G,un,"","\\omicron",!0);L(I,G,un,"","\\pi",!0);L(I,G,un,"","\\rho",!0);L(I,G,un,"","\\sigma",!0);L(I,G,un,"","\\tau",!0);L(I,G,un,"","\\upsilon",!0);L(I,G,un,"","\\phi",!0);L(I,G,un,"","\\chi",!0);L(I,G,un,"","\\psi",!0);L(I,G,un,"","\\omega",!0);L(I,G,un,"","\\varepsilon",!0);L(I,G,un,"","\\vartheta",!0);L(I,G,un,"","\\varpi",!0);L(I,G,un,"","\\varrho",!0);L(I,G,un,"","\\varsigma",!0);L(I,G,un,"","\\varphi",!0);L(I,G,Ht,"","*",!0);L(I,G,Ht,"+","+");L(I,G,Ht,"","-",!0);L(I,G,Ht,"","\\cdot",!0);L(I,G,Ht,"","\\circ",!0);L(I,G,Ht,"","\\div",!0);L(I,G,Ht,"","\\pm",!0);L(I,G,Ht,"","\\times",!0);L(I,G,Ht,"","\\cap",!0);L(I,G,Ht,"","\\cup",!0);L(I,G,Ht,"","\\setminus",!0);L(I,G,Ht,"","\\land");L(I,G,Ht,"","\\lor");L(I,G,Ht,"","\\wedge",!0);L(I,G,Ht,"","\\vee",!0);L(I,G,_e,"","\\surd");L(I,G,Zl,"","\\langle",!0);L(I,G,Zl,"","\\lvert");L(I,G,Zl,"","\\lVert");L(I,G,Gs,"?","?");L(I,G,Gs,"!","!");L(I,G,Gs,"","\\rangle",!0);L(I,G,Gs,"","\\rvert");L(I,G,Gs,"","\\rVert");L(I,G,he,"=","=");L(I,G,he,":",":");L(I,G,he,"","\\approx",!0);L(I,G,he,"","\\cong",!0);L(I,G,he,"","\\ge");L(I,G,he,"","\\geq",!0);L(I,G,he,"","\\gets");L(I,G,he,">","\\gt",!0);L(I,G,he,"","\\in",!0);L(I,G,he,"","\\@not");L(I,G,he,"","\\subset",!0);L(I,G,he,"","\\supset",!0);L(I,G,he,"","\\subseteq",!0);L(I,G,he,"","\\supseteq",!0);L(I,ce,he,"","\\nsubseteq",!0);L(I,ce,he,"","\\nsupseteq",!0);L(I,G,he,"","\\models");L(I,G,he,"","\\leftarrow",!0);L(I,G,he,"","\\le");L(I,G,he,"","\\leq",!0);L(I,G,he,"<","\\lt",!0);L(I,G,he,"","\\rightarrow",!0);L(I,G,he,"","\\to");L(I,ce,he,"","\\ngeq",!0);L(I,ce,he,"","\\nleq",!0);L(I,G,w0,"","\\ ");L(I,G,w0,"","\\space");L(I,G,w0,"","\\nobreakspace");L(st,G,w0,"","\\ ");L(st,G,w0,""," ");L(st,G,w0,"","\\space");L(st,G,w0,"","\\nobreakspace");L(I,G,w0,null,"\\nobreak");L(I,G,w0,null,"\\allowbreak");L(I,G,x_,",",",");L(I,G,x_,";",";");L(I,ce,Ht,"","\\barwedge",!0);L(I,ce,Ht,"","\\veebar",!0);L(I,G,Ht,"","\\odot",!0);L(I,G,Ht,"","\\oplus",!0);L(I,G,Ht,"","\\otimes",!0);L(I,G,_e,"","\\partial",!0);L(I,G,Ht,"","\\oslash",!0);L(I,ce,Ht,"","\\circledcirc",!0);L(I,ce,Ht,"","\\boxdot",!0);L(I,G,Ht,"","\\bigtriangleup");L(I,G,Ht,"","\\bigtriangledown");L(I,G,Ht,"","\\dagger");L(I,G,Ht,"","\\diamond");L(I,G,Ht,"","\\star");L(I,G,Ht,"","\\triangleleft");L(I,G,Ht,"","\\triangleright");L(I,G,Zl,"{","\\{");L(st,G,_e,"{","\\{");L(st,G,_e,"{","\\textbraceleft");L(I,G,Gs,"}","\\}");L(st,G,_e,"}","\\}");L(st,G,_e,"}","\\textbraceright");L(I,G,Zl,"{","\\lbrace");L(I,G,Gs,"}","\\rbrace");L(I,G,Zl,"[","\\lbrack",!0);L(st,G,_e,"[","\\lbrack",!0);L(I,G,Gs,"]","\\rbrack",!0);L(st,G,_e,"]","\\rbrack",!0);L(I,G,Zl,"(","\\lparen",!0);L(I,G,Gs,")","\\rparen",!0);L(st,G,_e,"<","\\textless",!0);L(st,G,_e,">","\\textgreater",!0);L(I,G,Zl,"","\\lfloor",!0);L(I,G,Gs,"","\\rfloor",!0);L(I,G,Zl,"","\\lceil",!0);L(I,G,Gs,"","\\rceil",!0);L(I,G,_e,"\\","\\backslash");L(I,G,_e,"","|");L(I,G,_e,"","\\vert");L(st,G,_e,"|","\\textbar",!0);L(I,G,_e,"","\\|");L(I,G,_e,"","\\Vert");L(st,G,_e,"","\\textbardbl");L(st,G,_e,"~","\\textasciitilde");L(st,G,_e,"\\","\\textbackslash");L(st,G,_e,"^","\\textasciicircum");L(I,G,he,"","\\uparrow",!0);L(I,G,he,"","\\Uparrow",!0);L(I,G,he,"","\\downarrow",!0);L(I,G,he,"","\\Downarrow",!0);L(I,G,he,"","\\updownarrow",!0);L(I,G,he,"","\\Updownarrow",!0);L(I,G,Qr,"","\\coprod");L(I,G,Qr,"","\\bigvee");L(I,G,Qr,"","\\bigwedge");L(I,G,Qr,"","\\biguplus");L(I,G,Qr,"","\\bigcap");L(I,G,Qr,"","\\bigcup");L(I,G,Qr,"","\\int");L(I,G,Qr,"","\\intop");L(I,G,Qr,"","\\iint");L(I,G,Qr,"","\\iiint");L(I,G,Qr,"","\\prod");L(I,G,Qr,"","\\sum");L(I,G,Qr,"","\\bigotimes");L(I,G,Qr,"","\\bigoplus");L(I,G,Qr,"","\\bigodot");L(I,G,Qr,"","\\oint");L(I,G,Qr,"","\\oiint");L(I,G,Qr,"","\\oiiint");L(I,G,Qr,"","\\bigsqcup");L(I,G,Qr,"","\\smallint");L(st,G,w1,"","\\textellipsis");L(I,G,w1,"","\\mathellipsis");L(st,G,w1,"","\\ldots",!0);L(I,G,w1,"","\\ldots",!0);L(I,G,w1,"","\\@cdots",!0);L(I,G,w1,"","\\ddots",!0);L(I,G,_e,"","\\varvdots");L(st,G,_e,"","\\varvdots");L(I,G,or,"","\\acute");L(I,G,or,"","\\grave");L(I,G,or,"","\\ddot");L(I,G,or,"~","\\tilde");L(I,G,or,"","\\bar");L(I,G,or,"","\\breve");L(I,G,or,"","\\check");L(I,G,or,"^","\\hat");L(I,G,or,"","\\vec");L(I,G,or,"","\\dot");L(I,G,or,"","\\mathring");L(I,G,un,"","\\@imath");L(I,G,un,"","\\@jmath");L(I,G,_e,"","");L(I,G,_e,"","");L(st,G,_e,"","\\i",!0);L(st,G,_e,"","\\j",!0);L(st,G,_e,"","\\ss",!0);L(st,G,_e,"","\\ae",!0);L(st,G,_e,"","\\oe",!0);L(st,G,_e,"","\\o",!0);L(st,G,_e,"","\\AE",!0);L(st,G,_e,"","\\OE",!0);L(st,G,_e,"","\\O",!0);L(st,G,or,"","\\'");L(st,G,or,"","\\`");L(st,G,or,"","\\^");L(st,G,or,"","\\~");L(st,G,or,"","\\=");L(st,G,or,"","\\u");L(st,G,or,"","\\.");L(st,G,or,"","\\c");L(st,G,or,"","\\r");L(st,G,or,"","\\v");L(st,G,or,"",'\\"');L(st,G,or,"","\\H");L(st,G,or,"","\\textcircled");var xO={"--":!0,"---":!0,"``":!0,"''":!0};L(st,G,_e,"","--",!0);L(st,G,_e,"","\\textendash");L(st,G,_e,"","---",!0);L(st,G,_e,"","\\textemdash");L(st,G,_e,"","`",!0);L(st,G,_e,"","\\textquoteleft");L(st,G,_e,"","'",!0);L(st,G,_e,"","\\textquoteright");L(st,G,_e,"","``",!0);L(st,G,_e,"","\\textquotedblleft");L(st,G,_e,"","''",!0);L(st,G,_e,"","\\textquotedblright");L(I,G,_e,"","\\degree",!0);L(st,G,_e,"","\\degree");L(st,G,_e,"","\\textdegree",!0);L(I,G,_e,"","\\pounds");L(I,G,_e,"","\\mathsterling",!0);L(st,G,_e,"","\\pounds");L(st,G,_e,"","\\textsterling",!0);L(I,ce,_e,"","\\maltese");L(st,ce,_e,"","\\maltese");var v9='0123456789/@."';for(var J5=0;J5<v9.length;J5++){var x9=v9.charAt(J5);L(I,G,_e,x9,x9)}var y9='0123456789!@*()-=+";:?/.,';for(var $5=0;$5<y9.length;$5++){var b9=y9.charAt($5);L(st,G,_e,b9,b9)}var x4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var e6=0;e6<x4.length;e6++){var L3=x4.charAt(e6);L(I,G,un,L3,L3),L(st,G,_e,L3,L3)}L(I,ce,_e,"C","");L(st,ce,_e,"C","");L(I,ce,_e,"H","");L(st,ce,_e,"H","");L(I,ce,_e,"N","");L(st,ce,_e,"N","");L(I,ce,_e,"P","");L(st,ce,_e,"P","");L(I,ce,_e,"Q","");L(st,ce,_e,"Q","");L(I,ce,_e,"R","");L(st,ce,_e,"R","");L(I,ce,_e,"Z","");L(st,ce,_e,"Z","");L(I,G,un,"h","");L(st,G,un,"h","");var xn="";for(var Ds=0;Ds<x4.length;Ds++){var Er=x4.charAt(Ds);xn=String.fromCharCode(55349,56320+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56372+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56424+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56580+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56684+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56736+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56788+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56840+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56944+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),Ds<26&&(xn=String.fromCharCode(55349,56632+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn),xn=String.fromCharCode(55349,56476+Ds),L(I,G,un,Er,xn),L(st,G,_e,Er,xn))}xn="";L(I,G,un,"k",xn);L(st,G,_e,"k",xn);for(var od=0;od<10;od++){var yf=od.toString();xn=String.fromCharCode(55349,57294+od),L(I,G,un,yf,xn),L(st,G,_e,yf,xn),xn=String.fromCharCode(55349,57314+od),L(I,G,un,yf,xn),L(st,G,_e,yf,xn),xn=String.fromCharCode(55349,57324+od),L(I,G,un,yf,xn),L(st,G,_e,yf,xn),xn=String.fromCharCode(55349,57334+od),L(I,G,un,yf,xn),L(st,G,_e,yf,xn)}var _M="";for(var t6=0;t6<_M.length;t6++){var U3=_M.charAt(t6);L(I,G,un,U3,U3),L(st,G,_e,U3,U3)}var B3=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],_9=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Dte=function(e,t){var n=e.charCodeAt(0),r=e.charCodeAt(1),a=(n-55296)*1024+(r-56320)+65536,s=t==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[B3[o][2],B3[o][s]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[_9[c][2],_9[c][s]]}else{if(a===120485||a===120486)return[B3[0][2],B3[0][s]];if(120486<a&&a<120782)return["",""];throw new pt("Unsupported character: "+e)}},y_=function(e,t,n){return Qi[n][e]&&Qi[n][e].replace&&(e=Qi[n][e].replace),{value:e,metrics:m7(e,t,n)}},su=function(e,t,n,r,a){var s=y_(e,t,n),o=s.metrics;e=s.value;var c;if(o){var f=o.italic;(n==="text"||r&&r.font==="mathit")&&(f=0),c=new Ro(e,o.height,o.depth,f,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+n+"'")),c=new Ro(e,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var m=r.getColor();m&&(c.style.color=m)}return c},Nte=function(e,t,n,r){return r===void 0&&(r=[]),n.font==="boldsymbol"&&y_(e,"Main-Bold",t).metrics?su(e,"Main-Bold",t,n,r.concat(["mathbf"])):e==="\\"||Qi[t][e].font==="main"?su(e,"Main-Regular",t,n,r):su(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},zte=function(e,t,n,r,a){return a!=="textord"&&y_(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ote=function(e,t,n){var r=e.mode,a=e.text,s=["mord"],o=r==="math"||r==="text"&&t.font,c=o?t.font:t.fontFamily,f="",m="";if(a.charCodeAt(0)===55349&&([f,m]=Dte(a,r)),f.length>0)return su(a,f,r,t,s.concat(m));if(c){var g,y;if(c==="boldsymbol"){var x=zte(a,r,t,s,n);g=x.fontName,y=[x.fontClass]}else o?(g=_O[c].fontName,y=[c]):(g=k3(c,t.fontWeight,t.fontShape),y=[c,t.fontWeight,t.fontShape]);if(y_(a,g,r).metrics)return su(a,g,r,t,s.concat(y));if(xO.hasOwnProperty(a)&&g.slice(0,10)==="Typewriter"){for(var _=[],M=0;M<a.length;M++)_.push(su(a[M],g,r,t,s.concat(y)));return bO(_)}}if(n==="mathord")return su(a,"Math-Italic",r,t,s.concat(["mathnormal"]));if(n==="textord"){var w=Qi[r][a]&&Qi[r][a].font;if(w==="ams"){var S=k3("amsrm",t.fontWeight,t.fontShape);return su(a,S,r,t,s.concat("amsrm",t.fontWeight,t.fontShape))}else if(w==="main"||!w){var A=k3("textrm",t.fontWeight,t.fontShape);return su(a,A,r,t,s.concat(t.fontWeight,t.fontShape))}else{var D=k3(w,t.fontWeight,t.fontShape);return su(a,D,r,t,s.concat(D,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},Lte=(i,e)=>{if(Gf(i.classes)!==Gf(e.classes)||i.skew!==e.skew||i.maxFontSize!==e.maxFontSize)return!1;if(i.classes.length===1){var t=i.classes[0];if(t==="mbin"||t==="mord")return!1}for(var n in i.style)if(i.style.hasOwnProperty(n)&&i.style[n]!==e.style[n])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&i.style[r]!==e.style[r])return!1;return!0},Ute=i=>{for(var e=0;e<i.length-1;e++){var t=i[e],n=i[e+1];t instanceof Ro&&n instanceof Ro&&Lte(t,n)&&(t.text+=n.text,t.height=Math.max(t.height,n.height),t.depth=Math.max(t.depth,n.depth),t.italic=n.italic,i.splice(e+1,1),e--)}return i},v7=function(e){for(var t=0,n=0,r=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>t&&(t=s.height),s.depth>n&&(n=s.depth),s.maxFontSize>r&&(r=s.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},nl=function(e,t,n,r){var a=new ny(e,t,n,r);return v7(a),a},yO=(i,e,t,n)=>new ny(i,e,t,n),Bte=function(e,t,n){var r=nl([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=wt(r.height),r.maxFontSize=1,r},kte=function(e,t,n,r){var a=new g7(e,t,n,r);return v7(a),a},bO=function(e){var t=new ty(e);return v7(t),t},Ite=function(e,t){return e instanceof ty?nl([],[e],t):e},Pte=function(e){if(e.positionType==="individualShift"){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,a=r,s=1;s<t.length;s++){var o=-t[s].shift-a-t[s].elem.depth,c=o-(t[s-1].elem.height+t[s-1].elem.depth);a=a+o,n.push({type:"kern",size:c}),n.push(t[s])}return{children:n,depth:r}}var f;if(e.positionType==="top"){for(var m=e.positionData,g=0;g<e.children.length;g++){var y=e.children[g];m-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}f=m}else if(e.positionType==="bottom")f=-e.positionData;else{var x=e.children[0];if(x.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-x.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-x.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Fte=function(e,t){for(var{children:n,depth:r}=Pte(e),a=0,s=0;s<n.length;s++){var o=n[s];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var f=nl(["pstrut"],[]);f.style.height=wt(a);for(var m=[],g=r,y=r,x=r,_=0;_<n.length;_++){var M=n[_];if(M.type==="kern")x+=M.size;else{var w=M.elem,S=M.wrapperClasses||[],A=M.wrapperStyle||{},D=nl(S,[f,w],void 0,A);D.style.top=wt(-a-x-w.depth),M.marginLeft&&(D.style.marginLeft=M.marginLeft),M.marginRight&&(D.style.marginRight=M.marginRight),m.push(D),x+=w.height+w.depth}g=Math.min(g,x),y=Math.max(y,x)}var N=nl(["vlist"],m);N.style.height=wt(y);var k;if(g<0){var z=nl([],[]),P=nl(["vlist"],[z]);P.style.height=wt(-g);var V=nl(["vlist-s"],[new Ro("")]);k=[nl(["vlist-r"],[N,V]),nl(["vlist-r"],[P])]}else k=[nl(["vlist-r"],[N])];var B=nl(["vlist-t"],k);return k.length===2&&B.classes.push("vlist-t2"),B.height=y,B.depth=-g,B},Hte=(i,e)=>{var t=nl(["mspace"],[],e),n=vr(i,e);return t.style.marginRight=wt(n),t},k3=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return t==="textbf"&&n==="textit"?a="BoldItalic":t==="textbf"?a="Bold":t==="textit"?a="Italic":a="Regular",r+"-"+a},_O={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},SO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Vte=function(e,t){var[n,r,a]=SO[e],s=new qf(n),o=new b0([s],{width:wt(r),height:wt(a),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=yO(["overlay"],[o],t);return c.height=a,c.style.height=wt(a),c.style.width=wt(r),c},Ue={fontMap:_O,makeSymbol:su,mathsym:Nte,makeSpan:nl,makeSvgSpan:yO,makeLineSpan:Bte,makeAnchor:kte,makeFragment:bO,wrapFragment:Ite,makeVList:Fte,makeOrd:Ote,makeGlue:Hte,staticSvg:Vte,svgData:SO,tryCombineChars:Ute},pr={number:3,unit:"mu"},ud={number:4,unit:"mu"},e0={number:5,unit:"mu"},Gte={mord:{mop:pr,mbin:ud,mrel:e0,minner:pr},mop:{mord:pr,mop:pr,mrel:e0,minner:pr},mbin:{mord:ud,mop:ud,mopen:ud,minner:ud},mrel:{mord:e0,mop:e0,mopen:e0,minner:e0},mopen:{},mclose:{mop:pr,mbin:ud,mrel:e0,minner:pr},mpunct:{mord:pr,mop:pr,mrel:e0,mopen:pr,mclose:pr,mpunct:pr,minner:pr},minner:{mord:pr,mop:pr,mbin:ud,mrel:e0,mopen:pr,mpunct:pr,minner:pr}},qte={mord:{mop:pr},mop:{mord:pr,mop:pr},mbin:{},mrel:{},mopen:{},mclose:{mop:pr},mpunct:{},minner:{mop:pr}},MO={},y4={},b4={};function Bt(i){for(var{type:e,names:t,props:n,handler:r,htmlBuilder:a,mathmlBuilder:s}=i,o={type:e,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:r},c=0;c<t.length;++c)MO[t[c]]=o;e&&(a&&(y4[e]=a),s&&(b4[e]=s))}function Xd(i){var{type:e,htmlBuilder:t,mathmlBuilder:n}=i;Bt({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:n})}var _4=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Fr=function(e){return e.type==="ordgroup"?e.body:[e]},_0=Ue.makeSpan,Xte=["leftmost","mbin","mopen","mrel","mop","mpunct"],Yte=["rightmost","mrel","mclose","mpunct"],jte={display:cn.DISPLAY,text:cn.TEXT,script:cn.SCRIPT,scriptscript:cn.SCRIPTSCRIPT},Wte={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ha=function(e,t,n,r){r===void 0&&(r=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=pi(e[s],t);if(o instanceof ty){var c=o.children;a.push(...c)}else a.push(o)}if(Ue.tryCombineChars(a),!n)return a;var f=t;if(e.length===1){var m=e[0];m.type==="sizing"?f=t.havingSize(m.size):m.type==="styling"&&(f=t.havingStyle(jte[m.style]))}var g=_0([r[0]||"leftmost"],[],t),y=_0([r[1]||"rightmost"],[],t),x=n==="root";return S9(a,(_,M)=>{var w=M.classes[0],S=_.classes[0];w==="mbin"&&Yte.includes(S)?M.classes[0]="mord":S==="mbin"&&Xte.includes(w)&&(_.classes[0]="mord")},{node:g},y,x),S9(a,(_,M)=>{var w=SM(M),S=SM(_),A=w&&S?_.hasClass("mtight")?qte[w][S]:Gte[w][S]:null;if(A)return Ue.makeGlue(A,f)},{node:g},y,x),a},S9=function i(e,t,n,r,a){r&&e.push(r);for(var s=0;s<e.length;s++){var o=e[s],c=wO(o);if(c){i(c.children,t,n,null,a);continue}var f=!o.hasClass("mspace");if(f){var m=t(o,n.node);m&&(n.insertAfter?n.insertAfter(m):(e.unshift(m),s++))}f?n.node=o:a&&o.hasClass("newline")&&(n.node=_0(["leftmost"])),n.insertAfter=(g=>y=>{e.splice(g+1,0,y),s++})(s)}r&&e.pop()},wO=function(e){return e instanceof ty||e instanceof g7||e instanceof ny&&e.hasClass("enclosing")?e:null},Zte=function i(e,t){var n=wO(e);if(n){var r=n.children;if(r.length){if(t==="right")return i(r[r.length-1],"right");if(t==="left")return i(r[0],"left")}}return e},SM=function(e,t){return e?(t&&(e=Zte(e,t)),Wte[e.classes[0]]||null):null},Lx=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return _0(t.concat(n))},pi=function(e,t,n){if(!e)return _0();if(y4[e.type]){var r=y4[e.type](e,t);if(n&&t.size!==n.size){r=_0(t.sizingClasses(n),[r],t);var a=t.sizeMultiplier/n.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new pt("Got group of unknown type: '"+e.type+"'")};function I3(i,e){var t=_0(["base"],i,e),n=_0(["strut"]);return n.style.height=wt(t.height+t.depth),t.depth&&(n.style.verticalAlign=wt(-t.depth)),t.children.unshift(n),t}function MM(i,e){var t=null;i.length===1&&i[0].type==="tag"&&(t=i[0].tag,i=i[0].body);var n=ha(i,e,"root"),r;n.length===2&&n[1].hasClass("tag")&&(r=n.pop());for(var a=[],s=[],o=0;o<n.length;o++)if(s.push(n[o]),n[o].hasClass("mbin")||n[o].hasClass("mrel")||n[o].hasClass("allowbreak")){for(var c=!1;o<n.length-1&&n[o+1].hasClass("mspace")&&!n[o+1].hasClass("newline");)o++,s.push(n[o]),n[o].hasClass("nobreak")&&(c=!0);c||(a.push(I3(s,e)),s=[])}else n[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(I3(s,e)),s=[]),a.push(n[o]));s.length>0&&a.push(I3(s,e));var f;t?(f=I3(ha(t,e,!0)),f.classes=["tag"],a.push(f)):r&&a.push(r);var m=_0(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),f){var g=f.children[0];g.style.height=wt(m.height+m.depth),m.depth&&(g.style.verticalAlign=wt(-m.depth))}return m}function TO(i){return new ty(i)}class Pl{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Gf(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof ac&&this.children[n+1]instanceof ac){for(var r=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof ac;)r+=this.children[++n].toText();e.appendChild(new ac(r).toNode())}else e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=_i.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+_i.escape(Gf(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class ac{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return _i.escape(this.toText())}toText(){return this.text}}class Kte{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",wt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+wt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ct={MathNode:Pl,TextNode:ac,SpaceNode:Kte,newDocumentFragment:TO},Do=function(e,t,n){return Qi[t][e]&&Qi[t][e].replace&&e.charCodeAt(0)!==55349&&!(xO.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(e=Qi[t][e].replace),new ct.TextNode(e)},x7=function(e){return e.length===1?e[0]:new ct.MathNode("mrow",e)},y7=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var n=t.font;if(!n||n==="mathnormal")return null;var r=e.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Qi[r][a]&&Qi[r][a].replace&&(a=Qi[r][a].replace);var s=Ue.fontMap[n].fontName;return m7(a,s,r)?Ue.fontMap[n].variant:null};function n6(i){if(!i)return!1;if(i.type==="mi"&&i.children.length===1){var e=i.children[0];return e instanceof ac&&e.text==="."}else if(i.type==="mo"&&i.children.length===1&&i.getAttribute("separator")==="true"&&i.getAttribute("lspace")==="0em"&&i.getAttribute("rspace")==="0em"){var t=i.children[0];return t instanceof ac&&t.text===","}else return!1}var vl=function(e,t,n){if(e.length===1){var r=Wi(e[0],t);return n&&r instanceof Pl&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],s,o=0;o<e.length;o++){var c=Wi(e[o],t);if(c instanceof Pl&&s instanceof Pl){if(c.type==="mtext"&&s.type==="mtext"&&c.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...c.children);continue}else if(c.type==="mn"&&s.type==="mn"){s.children.push(...c.children);continue}else if(n6(c)&&s.type==="mn"){s.children.push(...c.children);continue}else if(c.type==="mn"&&n6(s))c.children=[...s.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(s.type==="mn"||n6(s))){var f=c.children[0];f instanceof Pl&&f.type==="mn"&&(f.children=[...s.children,...f.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var m=s.children[0];if(m instanceof ac&&m.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var g=c.children[0];g instanceof ac&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),a.pop())}}}a.push(c),s=c}return a},Xf=function(e,t,n){return x7(vl(e,t,n))},Wi=function(e,t){if(!e)return new ct.MathNode("mrow");if(b4[e.type]){var n=b4[e.type](e,t);return n}else throw new pt("Got group of unknown type: '"+e.type+"'")};function M9(i,e,t,n,r){var a=vl(i,t),s;a.length===1&&a[0]instanceof Pl&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new ct.MathNode("mrow",a);var o=new ct.MathNode("annotation",[new ct.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new ct.MathNode("semantics",[s,o]),f=new ct.MathNode("math",[c]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&f.setAttribute("display","block");var m=r?"katex":"katex-mathml";return Ue.makeSpan([m],[f])}var EO=function(e){return new i0({style:e.displayMode?cn.DISPLAY:cn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},AO=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Ue.makeSpan(n,[e])}return e},Qte=function(e,t,n){var r=EO(n),a;if(n.output==="mathml")return M9(e,t,r,n.displayMode,!0);if(n.output==="html"){var s=MM(e,r);a=Ue.makeSpan(["katex"],[s])}else{var o=M9(e,t,r,n.displayMode,!1),c=MM(e,r);a=Ue.makeSpan(["katex"],[o,c])}return AO(a,n)},Jte=function(e,t,n){var r=EO(n),a=MM(e,r),s=Ue.makeSpan(["katex"],[a]);return AO(s,n)},$te={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},ene=function(e){var t=new ct.MathNode("mo",[new ct.TextNode($te[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},tne={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},nne=function(e){return e.type==="ordgroup"?e.body.length:1},ine=function(e,t){function n(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var f=e,m=nne(f.base),g,y,x;if(m>5)c==="widehat"||c==="widecheck"?(g=420,o=2364,x=.42,y=c+"4"):(g=312,o=2340,x=.34,y="tilde4");else{var _=[1,1,2,2,3,3][m];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][_],g=[0,239,300,360,420][_],x=[0,.24,.3,.3,.36,.42][_],y=c+_):(o=[0,600,1033,2339,2340][_],g=[0,260,286,306,312][_],x=[0,.26,.286,.3,.306,.34][_],y="tilde"+_)}var M=new qf(y),w=new b0([M],{width:"100%",height:wt(x),viewBox:"0 0 "+o+" "+g,preserveAspectRatio:"none"});return{span:Ue.makeSvgSpan([],[w],t),minWidth:0,height:x}}else{var S=[],A=tne[c],[D,N,k]=A,z=k/1e3,P=D.length,V,B;if(P===1){var O=A[3];V=["hide-tail"],B=[O]}else if(P===2)V=["halfarrow-left","halfarrow-right"],B=["xMinYMin","xMaxYMin"];else if(P===3)V=["brace-left","brace-center","brace-right"],B=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+P+" children.");for(var X=0;X<P;X++){var W=new qf(D[X]),se=new b0([W],{width:"400em",height:wt(z),viewBox:"0 0 "+o+" "+k,preserveAspectRatio:B[X]+" slice"}),le=Ue.makeSvgSpan([V[X]],[se],t);if(P===1)return{span:le,minWidth:N,height:z};le.style.height=wt(z),S.push(le)}return{span:Ue.makeSpan(["stretchy"],S,t),minWidth:N,height:z}}}var{span:r,minWidth:a,height:s}=n();return r.height=s,r.style.height=wt(s),a>0&&(r.style.minWidth=wt(a)),r},rne=function(e,t,n,r,a){var s,o=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(s=Ue.makeSpan(["stretchy",t],[],a),t==="fbox"){var c=a.color&&a.getColor();c&&(s.style.borderColor=c)}}else{var f=[];/^[bx]cancel$/.test(t)&&f.push(new bM({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&f.push(new bM({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new b0(f,{width:"100%",height:wt(o)});s=Ue.makeSvgSpan([],[m],a)}return s.height=o,s.style.height=wt(o),s},S0={encloseSpan:rne,mathMLnode:ene,svgSpan:ine};function Bn(i,e){if(!i||i.type!==e)throw new Error("Expected node of type "+e+", but got "+(i?"node of type "+i.type:String(i)));return i}function b7(i){var e=b_(i);if(!e)throw new Error("Expected node of symbol group type, but got "+(i?"node of type "+i.type:String(i)));return e}function b_(i){return i&&(i.type==="atom"||Rte.hasOwnProperty(i.type))?i:null}var _7=(i,e)=>{var t,n,r;i&&i.type==="supsub"?(n=Bn(i.base,"accent"),t=n.base,i.base=t,r=Ate(pi(i,e)),i.base=n):(n=Bn(i,"accent"),t=n.base);var a=pi(t,e.havingCrampedStyle()),s=n.isShifty&&_i.isCharacterBox(t),o=0;if(s){var c=_i.getBaseElem(t),f=pi(c,e.havingCrampedStyle());o=g9(f).skew}var m=n.label==="\\c",g=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),y;if(n.isStretchy)y=S0.svgSpan(n,e),y=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+wt(2*o)+")",marginLeft:wt(2*o)}:void 0}]},e);else{var x,_;n.label==="\\vec"?(x=Ue.staticSvg("vec",e),_=Ue.svgData.vec[1]):(x=Ue.makeOrd({mode:n.mode,text:n.label},e,"textord"),x=g9(x),x.italic=0,_=x.width,m&&(g+=x.depth)),y=Ue.makeSpan(["accent-body"],[x]);var M=n.label==="\\textcircled";M&&(y.classes.push("accent-full"),g=a.height);var w=o;M||(w-=_/2),y.style.left=wt(w),n.label==="\\textcircled"&&(y.style.top=".2em"),y=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-g},{type:"elem",elem:y}]},e)}var S=Ue.makeSpan(["mord","accent"],[y],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},CO=(i,e)=>{var t=i.isStretchy?S0.mathMLnode(i.label):new ct.MathNode("mo",[Do(i.label,i.mode)]),n=new ct.MathNode("mover",[Wi(i.base,e),t]);return n.setAttribute("accent","true"),n},ane=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(i=>"\\"+i).join("|"));Bt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(i,e)=>{var t=_4(e[0]),n=!ane.test(i.funcName),r=!n||i.funcName==="\\widehat"||i.funcName==="\\widetilde"||i.funcName==="\\widecheck";return{type:"accent",mode:i.parser.mode,label:i.funcName,isStretchy:n,isShifty:r,base:t}},htmlBuilder:_7,mathmlBuilder:CO});Bt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(i,e)=>{var t=e[0],n=i.parser.mode;return n==="math"&&(i.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+i.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:i.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:_7,mathmlBuilder:CO});Bt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"accentUnder",mode:t.mode,label:n,base:r}},htmlBuilder:(i,e)=>{var t=pi(i.base,e),n=S0.svgSpan(i,e),r=i.label==="\\utilde"?.12:0,a=Ue.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(i,e)=>{var t=S0.mathMLnode(i.label),n=new ct.MathNode("munder",[Wi(i.base,e),t]);return n.setAttribute("accentunder","true"),n}});var P3=i=>{var e=new ct.MathNode("mpadded",i?[i]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Bt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:n,funcName:r}=i;return{type:"xArrow",mode:n.mode,label:r,body:e[0],below:t[0]}},htmlBuilder(i,e){var t=e.style,n=e.havingStyle(t.sup()),r=Ue.wrapFragment(pi(i.body,n,e),e),a=i.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var s;i.below&&(n=e.havingStyle(t.sub()),s=Ue.wrapFragment(pi(i.below,n,e),e),s.classes.push(a+"-arrow-pad"));var o=S0.svgSpan(i,e),c=-e.fontMetrics().axisHeight+.5*o.height,f=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||i.label==="\\xleftequilibrium")&&(f-=r.depth);var m;if(s){var g=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;m=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:f},{type:"elem",elem:o,shift:c},{type:"elem",elem:s,shift:g}]},e)}else m=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:f},{type:"elem",elem:o,shift:c}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),Ue.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(i,e){var t=S0.mathMLnode(i.label);t.setAttribute("minsize",i.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(i.body){var r=P3(Wi(i.body,e));if(i.below){var a=P3(Wi(i.below,e));n=new ct.MathNode("munderover",[t,a,r])}else n=new ct.MathNode("mover",[t,r])}else if(i.below){var s=P3(Wi(i.below,e));n=new ct.MathNode("munder",[t,s])}else n=P3(),n=new ct.MathNode("mover",[t,n]);return n}});var sne=Ue.makeSpan;function RO(i,e){var t=ha(i.body,e,!0);return sne([i.mclass],t,e)}function DO(i,e){var t,n=vl(i.body,e);return i.mclass==="minner"?t=new ct.MathNode("mpadded",n):i.mclass==="mord"?i.isCharacterBox?(t=n[0],t.type="mi"):t=new ct.MathNode("mi",n):(i.isCharacterBox?(t=n[0],t.type="mo"):t=new ct.MathNode("mo",n),i.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):i.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):i.mclass==="mopen"||i.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):i.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Bt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+n.slice(5),body:Fr(r),isCharacterBox:_i.isCharacterBox(r)}},htmlBuilder:RO,mathmlBuilder:DO});var __=i=>{var e=i.type==="ordgroup"&&i.body.length?i.body[0]:i;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Bt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(i,e){var{parser:t}=i;return{type:"mclass",mode:t.mode,mclass:__(e[0]),body:Fr(e[1]),isCharacterBox:_i.isCharacterBox(e[1])}}});Bt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(i,e){var{parser:t,funcName:n}=i,r=e[1],a=e[0],s;n!=="\\stackrel"?s=__(r):s="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Fr(r)},c={type:"supsub",mode:a.mode,base:o,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:t.mode,mclass:s,body:[c],isCharacterBox:_i.isCharacterBox(c)}},htmlBuilder:RO,mathmlBuilder:DO});Bt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"pmb",mode:t.mode,mclass:__(e[0]),body:Fr(e[0])}},htmlBuilder(i,e){var t=ha(i.body,e,!0),n=Ue.makeSpan([i.mclass],t,e);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(i,e){var t=vl(i.body,e),n=new ct.MathNode("mstyle",t);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var lne={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},w9=()=>({type:"styling",body:[],mode:"math",style:"display"}),T9=i=>i.type==="textord"&&i.text==="@",one=(i,e)=>(i.type==="mathord"||i.type==="atom")&&i.text===e;function une(i,e,t){var n=lne[i];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(n,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=t.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=t.callFunction("\\Big",[a],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[r,s,o]};return t.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function cne(i){var e=[];for(i.gullet.beginGroup(),i.gullet.macros.set("\\cr","\\\\\\relax"),i.gullet.beginGroup();;){e.push(i.parseExpression(!1,"\\\\")),i.gullet.endGroup(),i.gullet.beginGroup();var t=i.fetch().text;if(t==="&"||t==="\\\\")i.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new pt("Expected \\\\ or \\cr or \\end",i.nextToken)}for(var n=[],r=[n],a=0;a<e.length;a++){for(var s=e[a],o=w9(),c=0;c<s.length;c++)if(!T9(s[c]))o.body.push(s[c]);else{n.push(o),c+=1;var f=b7(s[c]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var g=0;g<2;g++){for(var y=!0,x=c+1;x<s.length;x++){if(one(s[x],f)){y=!1,c=x;break}if(T9(s[x]))throw new pt("Missing a "+f+" character to complete a CD arrow.",s[x]);m[g].body.push(s[x])}if(y)throw new pt("Missing a "+f+" character to complete a CD arrow.",s[c])}else throw new pt('Expected one of "<>AV=|." after @',s[c]);var _=une(f,m,i),M={type:"styling",body:[_],mode:"math",style:"display"};n.push(M),o=w9()}a%2===0?n.push(o):n.shift(),n=[],r.push(n)}i.gullet.endGroup(),i.gullet.endGroup();var w=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Bt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i;return{type:"cdlabel",mode:t.mode,side:n.slice(4),label:e[0]}},htmlBuilder(i,e){var t=e.havingStyle(e.style.sup()),n=Ue.wrapFragment(pi(i.label,t,e),e);return n.classes.push("cd-label-"+i.side),n.style.bottom=wt(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(i,e){var t=new ct.MathNode("mrow",[Wi(i.label,e)]);return t=new ct.MathNode("mpadded",[t]),t.setAttribute("width","0"),i.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new ct.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Bt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(i,e){var{parser:t}=i;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(i,e){var t=Ue.wrapFragment(pi(i.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(i,e){return new ct.MathNode("mrow",[Wi(i.fragment,e)])}});Bt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(i,e){for(var{parser:t}=i,n=Bn(e[0],"ordgroup"),r=n.body,a="",s=0;s<r.length;s++){var o=Bn(r[s],"textord");a+=o.text}var c=parseInt(a),f;if(isNaN(c))throw new pt("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new pt("\\@char with invalid code point "+a);return c<=65535?f=String.fromCharCode(c):(c-=65536,f=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:t.mode,text:f}}});var NO=(i,e)=>{var t=ha(i.body,e.withColor(i.color),!1);return Ue.makeFragment(t)},zO=(i,e)=>{var t=vl(i.body,e.withColor(i.color)),n=new ct.MathNode("mstyle",t);return n.setAttribute("mathcolor",i.color),n};Bt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(i,e){var{parser:t}=i,n=Bn(e[0],"color-token").color,r=e[1];return{type:"color",mode:t.mode,color:n,body:Fr(r)}},htmlBuilder:NO,mathmlBuilder:zO});Bt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(i,e){var{parser:t,breakOnTokenText:n}=i,r=Bn(e[0],"color-token").color;t.gullet.macros.set("\\current@color",r);var a=t.parseExpression(!0,n);return{type:"color",mode:t.mode,color:r,body:a}},htmlBuilder:NO,mathmlBuilder:zO});Bt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(i,e,t){var{parser:n}=i,r=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:r&&Bn(r,"size").value}},htmlBuilder(i,e){var t=Ue.makeSpan(["mspace"],[],e);return i.newLine&&(t.classes.push("newline"),i.size&&(t.style.marginTop=wt(vr(i.size,e)))),t},mathmlBuilder(i,e){var t=new ct.MathNode("mspace");return i.newLine&&(t.setAttribute("linebreak","newline"),i.size&&t.setAttribute("height",wt(vr(i.size,e)))),t}});var wM={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},OO=i=>{var e=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new pt("Expected a control sequence",i);return e},fne=i=>{var e=i.gullet.popToken();return e.text==="="&&(e=i.gullet.popToken(),e.text===" "&&(e=i.gullet.popToken())),e},LO=(i,e,t,n)=>{var r=i.gullet.macros.get(t.text);r==null&&(t.noexpand=!0,r={tokens:[t],numArgs:0,unexpandable:!i.gullet.isExpandable(t.text)}),i.gullet.macros.set(e,r,n)};Bt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(i){var{parser:e,funcName:t}=i;e.consumeSpaces();var n=e.fetch();if(wM[n.text])return(t==="\\global"||t==="\\\\globallong")&&(n.text=wM[n.text]),Bn(e.parseFunction(),"internal");throw new pt("Invalid token after macro prefix",n)}});Bt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=e.gullet.popToken(),r=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new pt("Expected a control sequence",n);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(n=e.gullet.popToken(),n.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(n=e.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new pt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new pt('Argument number "'+n.text+'" out of order');a++,o.push([])}else{if(n.text==="EOF")throw new pt("Expected a macro definition");o[a].push(n.text)}var{tokens:c}=e.gullet.consumeArg();return s&&c.unshift(s),(t==="\\edef"||t==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},t===wM[t]),{type:"internal",mode:e.mode}}});Bt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=OO(e.gullet.popToken());e.gullet.consumeSpaces();var r=fne(e);return LO(e,n,r,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Bt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,n=OO(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return LO(e,n,a,t==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var Rv=function(e,t,n){var r=Qi.math[e]&&Qi.math[e].replace,a=m7(r||e,t,n);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return a},S7=function(e,t,n,r){var a=n.havingBaseStyle(t),s=Ue.makeSpan(r.concat(a.sizingClasses(n)),[e],n),o=a.sizeMultiplier/n.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},UO=function(e,t,n){var r=t.havingBaseStyle(n),a=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=wt(a),e.height-=a,e.depth+=a},hne=function(e,t,n,r,a,s){var o=Ue.makeSymbol(e,"Main-Regular",a,r),c=S7(o,t,r,s);return n&&UO(c,r,t),c},dne=function(e,t,n,r){return Ue.makeSymbol(e,"Size"+t+"-Regular",n,r)},BO=function(e,t,n,r,a,s){var o=dne(e,t,a,r),c=S7(Ue.makeSpan(["delimsizing","size"+t],[o],r),cn.TEXT,r,s);return n&&UO(c,r,cn.TEXT),c},i6=function(e,t,n){var r;t==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=Ue.makeSpan(["delimsizinginner",r],[Ue.makeSpan([],[Ue.makeSymbol(e,t,n)])]);return{type:"elem",elem:a}},r6=function(e,t,n){var r=rc["Size4-Regular"][e.charCodeAt(0)]?rc["Size4-Regular"][e.charCodeAt(0)][4]:rc["Size1-Regular"][e.charCodeAt(0)][4],a=new qf("inner",xte(e,Math.round(1e3*t))),s=new b0([a],{width:wt(r),height:wt(t),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Ue.makeSvgSpan([],[s],n);return o.height=t,o.style.height=wt(t),o.style.width=wt(r),{type:"elem",elem:o}},TM=.008,F3={type:"kern",size:-1*TM},pne=["|","\\lvert","\\rvert","\\vert"],mne=["\\|","\\lVert","\\rVert","\\Vert"],kO=function(e,t,n,r,a,s){var o,c,f,m,g="",y=0;o=f=m=e,c=null;var x="Size1-Regular";e==="\\uparrow"?f=m="":e==="\\Uparrow"?f=m="":e==="\\downarrow"?o=f="":e==="\\Downarrow"?o=f="":e==="\\updownarrow"?(o="\\uparrow",f="",m="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",f="",m="\\Downarrow"):pne.includes(e)?(f="",g="vert",y=333):mne.includes(e)?(f="",g="doublevert",y=556):e==="["||e==="\\lbrack"?(o="",f="",m="",x="Size4-Regular",g="lbrack",y=667):e==="]"||e==="\\rbrack"?(o="",f="",m="",x="Size4-Regular",g="rbrack",y=667):e==="\\lfloor"||e===""?(f=o="",m="",x="Size4-Regular",g="lfloor",y=667):e==="\\lceil"||e===""?(o="",f=m="",x="Size4-Regular",g="lceil",y=667):e==="\\rfloor"||e===""?(f=o="",m="",x="Size4-Regular",g="rfloor",y=667):e==="\\rceil"||e===""?(o="",f=m="",x="Size4-Regular",g="rceil",y=667):e==="("||e==="\\lparen"?(o="",f="",m="",x="Size4-Regular",g="lparen",y=875):e===")"||e==="\\rparen"?(o="",f="",m="",x="Size4-Regular",g="rparen",y=875):e==="\\{"||e==="\\lbrace"?(o="",c="",m="",f="",x="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",m="",f="",x="Size4-Regular"):e==="\\lgroup"||e===""?(o="",m="",f="",x="Size4-Regular"):e==="\\rgroup"||e===""?(o="",m="",f="",x="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",m="",f="",x="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",m="",f="",x="Size4-Regular");var _=Rv(o,x,a),M=_.height+_.depth,w=Rv(f,x,a),S=w.height+w.depth,A=Rv(m,x,a),D=A.height+A.depth,N=0,k=1;if(c!==null){var z=Rv(c,x,a);N=z.height+z.depth,k=2}var P=M+D+N,V=Math.max(0,Math.ceil((t-P)/(k*S))),B=P+V*k*S,O=r.fontMetrics().axisHeight;n&&(O*=r.sizeMultiplier);var X=B/2-O,W=[];if(g.length>0){var se=B-M-D,le=Math.round(B*1e3),ie=yte(g,Math.round(se*1e3)),Y=new qf(g,ie),te=(y/1e3).toFixed(3)+"em",re=(le/1e3).toFixed(3)+"em",ye=new b0([Y],{width:te,height:re,viewBox:"0 0 "+y+" "+le}),F=Ue.makeSvgSpan([],[ye],r);F.height=le/1e3,F.style.width=te,F.style.height=re,W.push({type:"elem",elem:F})}else{if(W.push(i6(m,x,a)),W.push(F3),c===null){var J=B-M-D+2*TM;W.push(r6(f,J,r))}else{var ge=(B-M-D-N)/2+2*TM;W.push(r6(f,ge,r)),W.push(F3),W.push(i6(c,x,a)),W.push(F3),W.push(r6(f,ge,r))}W.push(F3),W.push(i6(o,x,a))}var Z=r.havingBaseStyle(cn.TEXT),Oe=Ue.makeVList({positionType:"bottom",positionData:X,children:W},Z);return S7(Ue.makeSpan(["delimsizing","mult"],[Oe],Z),cn.TEXT,r,s)},a6=80,s6=.08,l6=function(e,t,n,r,a){var s=vte(e,r,n),o=new qf(e,s),c=new b0([o],{width:"400em",height:wt(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Ue.makeSvgSpan(["hide-tail"],[c],a)},gne=function(e,t){var n=t.havingBaseSizing(),r=HO("\\surd",e*n.sizeMultiplier,FO,n),a=n.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,c=0,f=0,m=0,g;return r.type==="small"?(m=1e3+1e3*s+a6,e<1?a=1:e<1.4&&(a=.7),c=(1+s+s6)/a,f=(1+s)/a,o=l6("sqrtMain",c,m,s,t),o.style.minWidth="0.853em",g=.833/a):r.type==="large"?(m=(1e3+a6)*tx[r.size],f=(tx[r.size]+s)/a,c=(tx[r.size]+s+s6)/a,o=l6("sqrtSize"+r.size,c,m,s,t),o.style.minWidth="1.02em",g=1/a):(c=e+s+s6,f=e+s,m=Math.floor(1e3*e+s)+a6,o=l6("sqrtTall",c,m,s,t),o.style.minWidth="0.742em",g=1.056),o.height=f,o.style.height=wt(c),{span:o,advanceWidth:g,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},IO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],vne=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],PO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],tx=[0,1.2,1.8,2.4,3],xne=function(e,t,n,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),IO.includes(e)||PO.includes(e))return BO(e,t,!1,n,r,a);if(vne.includes(e))return kO(e,tx[t],!1,n,r,a);throw new pt("Illegal delimiter: '"+e+"'")},yne=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bne=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"stack"}],FO=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_ne=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},HO=function(e,t,n,r){for(var a=Math.min(2,3-r.style.size),s=a;s<n.length&&n[s].type!=="stack";s++){var o=Rv(e,_ne(n[s]),"math"),c=o.height+o.depth;if(n[s].type==="small"){var f=r.havingBaseStyle(n[s].style);c*=f.sizeMultiplier}if(c>t)return n[s]}return n[n.length-1]},VO=function(e,t,n,r,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;PO.includes(e)?o=yne:IO.includes(e)?o=FO:o=bne;var c=HO(e,t,o,r);return c.type==="small"?hne(e,c.style,n,r,a,s):c.type==="large"?BO(e,c.size,n,r,a,s):kO(e,t,n,r,a,s)},Sne=function(e,t,n,r,a,s){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,f=5/r.fontMetrics().ptPerEm,m=Math.max(t-o,n+o),g=Math.max(m/500*c,2*m-f);return VO(e,g,!0,r,a,s)},h0={sqrtImage:gne,sizedDelim:xne,sizeToMaxHeight:tx,customSizedDelim:VO,leftRightDelim:Sne},E9={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Mne=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function S_(i,e){var t=b_(i);if(t&&Mne.includes(t.text))return t;throw t?new pt("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",i):new pt("Invalid delimiter type '"+i.type+"'",i)}Bt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(i,e)=>{var t=S_(e[0],i);return{type:"delimsizing",mode:i.parser.mode,size:E9[i.funcName].size,mclass:E9[i.funcName].mclass,delim:t.text}},htmlBuilder:(i,e)=>i.delim==="."?Ue.makeSpan([i.mclass]):h0.sizedDelim(i.delim,i.size,e,i.mode,[i.mclass]),mathmlBuilder:i=>{var e=[];i.delim!=="."&&e.push(Do(i.delim,i.mode));var t=new ct.MathNode("mo",e);i.mclass==="mopen"||i.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var n=wt(h0.sizeToMaxHeight[i.size]);return t.setAttribute("minsize",n),t.setAttribute("maxsize",n),t}});function A9(i){if(!i.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Bt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=i.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new pt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:i.parser.mode,delim:S_(e[0],i).text,color:t}}});Bt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=S_(e[0],i),n=i.parser;++n.leftrightDepth;var r=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Bn(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:r,left:t.text,right:a.delim,rightColor:a.color}},htmlBuilder:(i,e)=>{A9(i);for(var t=ha(i.body,e,!0,["mopen","mclose"]),n=0,r=0,a=!1,s=0;s<t.length;s++)t[s].isMiddle?a=!0:(n=Math.max(t[s].height,n),r=Math.max(t[s].depth,r));n*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(i.left==="."?o=Lx(e,["mopen"]):o=h0.leftRightDelim(i.left,n,r,e,i.mode,["mopen"]),t.unshift(o),a)for(var c=1;c<t.length;c++){var f=t[c],m=f.isMiddle;m&&(t[c]=h0.leftRightDelim(m.delim,n,r,m.options,i.mode,[]))}var g;if(i.right===".")g=Lx(e,["mclose"]);else{var y=i.rightColor?e.withColor(i.rightColor):e;g=h0.leftRightDelim(i.right,n,r,y,i.mode,["mclose"])}return t.push(g),Ue.makeSpan(["minner"],t,e)},mathmlBuilder:(i,e)=>{A9(i);var t=vl(i.body,e);if(i.left!=="."){var n=new ct.MathNode("mo",[Do(i.left,i.mode)]);n.setAttribute("fence","true"),t.unshift(n)}if(i.right!=="."){var r=new ct.MathNode("mo",[Do(i.right,i.mode)]);r.setAttribute("fence","true"),i.rightColor&&r.setAttribute("mathcolor",i.rightColor),t.push(r)}return x7(t)}});Bt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=S_(e[0],i);if(!i.parser.leftrightDepth)throw new pt("\\middle without preceding \\left",t);return{type:"middle",mode:i.parser.mode,delim:t.text}},htmlBuilder:(i,e)=>{var t;if(i.delim===".")t=Lx(e,[]);else{t=h0.sizedDelim(i.delim,1,e,i.mode,[]);var n={delim:i.delim,options:e};t.isMiddle=n}return t},mathmlBuilder:(i,e)=>{var t=i.delim==="\\vert"||i.delim==="|"?Do("|","text"):Do(i.delim,i.mode),n=new ct.MathNode("mo",[t]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var M7=(i,e)=>{var t=Ue.wrapFragment(pi(i.body,e),e),n=i.label.slice(1),r=e.sizeMultiplier,a,s=0,o=_i.isCharacterBox(i.body);if(n==="sout")a=Ue.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,s=-.5*e.fontMetrics().xHeight;else if(n==="phase"){var c=vr({number:.6,unit:"pt"},e),f=vr({number:.35,unit:"ex"},e),m=e.havingBaseSizing();r=r/m.sizeMultiplier;var g=t.height+t.depth+c+f;t.style.paddingLeft=wt(g/2+c);var y=Math.floor(1e3*g*r),x=mte(y),_=new b0([new qf("phase",x)],{width:"400em",height:wt(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});a=Ue.makeSvgSpan(["hide-tail"],[_],e),a.style.height=wt(g),s=t.depth+c+f}else{/cancel/.test(n)?o||t.classes.push("cancel-pad"):n==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var M=0,w=0,S=0;/box/.test(n)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),M=e.fontMetrics().fboxsep+(n==="colorbox"?0:S),w=M):n==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),M=4*S,w=Math.max(0,.25-t.depth)):(M=o?.2:0,w=M),a=S0.encloseSpan(t,n,M,w,e),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=wt(S)):n==="angl"&&S!==.049&&(a.style.borderTopWidth=wt(S),a.style.borderRightWidth=wt(S)),s=t.depth+w,i.backgroundColor&&(a.style.backgroundColor=i.backgroundColor,i.borderColor&&(a.style.borderColor=i.borderColor))}var A;if(i.backgroundColor)A=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:t,shift:0}]},e);else{var D=/cancel|phase/.test(n)?["svg-align"]:[];A=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:D}]},e)}return/cancel/.test(n)&&(A.height=t.height,A.depth=t.depth),/cancel/.test(n)&&!o?Ue.makeSpan(["mord","cancel-lap"],[A],e):Ue.makeSpan(["mord"],[A],e)},w7=(i,e)=>{var t=0,n=new ct.MathNode(i.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Wi(i.body,e)]);switch(i.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*t+"pt"),n.setAttribute("height","+"+2*t+"pt"),n.setAttribute("lspace",t+"pt"),n.setAttribute("voffset",t+"pt"),i.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);n.setAttribute("style","border: "+r+"em solid "+String(i.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return i.backgroundColor&&n.setAttribute("mathbackground",i.backgroundColor),n};Bt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(i,e,t){var{parser:n,funcName:r}=i,a=Bn(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:n.mode,label:r,backgroundColor:a,body:s}},htmlBuilder:M7,mathmlBuilder:w7});Bt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(i,e,t){var{parser:n,funcName:r}=i,a=Bn(e[0],"color-token").color,s=Bn(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:n.mode,label:r,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:M7,mathmlBuilder:w7});Bt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Bt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"enclose",mode:t.mode,label:n,body:r}},htmlBuilder:M7,mathmlBuilder:w7});Bt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var GO={};function mc(i){for(var{type:e,names:t,props:n,handler:r,htmlBuilder:a,mathmlBuilder:s}=i,o={type:e,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<t.length;++c)GO[t[c]]=o;a&&(y4[e]=a),s&&(b4[e]=s)}var qO={};function Q(i,e){qO[i]=e}function C9(i){var e=[];i.consumeSpaces();var t=i.fetch().text;for(t==="\\relax"&&(i.consume(),i.consumeSpaces(),t=i.fetch().text);t==="\\hline"||t==="\\hdashline";)i.consume(),e.push(t==="\\hdashline"),i.consumeSpaces(),t=i.fetch().text;return e}var M_=i=>{var e=i.parser.settings;if(!e.displayMode)throw new pt("{"+i.envName+"} can be used only in display mode.")};function T7(i){if(i.indexOf("ed")===-1)return i.indexOf("*")===-1}function $f(i,e,t){var{hskipBeforeAndAfter:n,addJot:r,cols:a,arraystretch:s,colSeparationType:o,autoTag:c,singleRow:f,emptySingleRow:m,maxNumCols:g,leqno:y}=e;if(i.gullet.beginGroup(),f||i.gullet.macros.set("\\cr","\\\\\\relax"),!s){var x=i.gullet.expandMacroAsText("\\arraystretch");if(x==null)s=1;else if(s=parseFloat(x),!s||s<0)throw new pt("Invalid \\arraystretch: "+x)}i.gullet.beginGroup();var _=[],M=[_],w=[],S=[],A=c!=null?[]:void 0;function D(){c&&i.gullet.macros.set("\\@eqnsw","1",!0)}function N(){A&&(i.gullet.macros.get("\\df@tag")?(A.push(i.subparse([new Xl("\\df@tag")])),i.gullet.macros.set("\\df@tag",void 0,!0)):A.push(!!c&&i.gullet.macros.get("\\@eqnsw")==="1"))}for(D(),S.push(C9(i));;){var k=i.parseExpression(!1,f?"\\end":"\\\\");i.gullet.endGroup(),i.gullet.beginGroup(),k={type:"ordgroup",mode:i.mode,body:k},t&&(k={type:"styling",mode:i.mode,style:t,body:[k]}),_.push(k);var z=i.fetch().text;if(z==="&"){if(g&&_.length===g){if(f||o)throw new pt("Too many tab characters: &",i.nextToken);i.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}i.consume()}else if(z==="\\end"){N(),_.length===1&&k.type==="styling"&&k.body[0].body.length===0&&(M.length>1||!m)&&M.pop(),S.length<M.length+1&&S.push([]);break}else if(z==="\\\\"){i.consume();var P=void 0;i.gullet.future().text!==" "&&(P=i.parseSizeGroup(!0)),w.push(P?P.value:null),N(),S.push(C9(i)),_=[],M.push(_),D()}else throw new pt("Expected & or \\\\ or \\cr or \\end",i.nextToken)}return i.gullet.endGroup(),i.gullet.endGroup(),{type:"array",mode:i.mode,addJot:r,arraystretch:s,body:M,cols:a,rowGaps:w,hskipBeforeAndAfter:n,hLinesBeforeRow:S,colSeparationType:o,tags:A,leqno:y}}function E7(i){return i.slice(0,1)==="d"?"display":"text"}var gc=function(e,t){var n,r,a=e.body.length,s=e.hLinesBeforeRow,o=0,c=new Array(a),f=[],m=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),g=1/t.fontMetrics().ptPerEm,y=5*g;if(e.colSeparationType&&e.colSeparationType==="small"){var x=t.havingStyle(cn.SCRIPT).sizeMultiplier;y=.2778*(x/t.sizeMultiplier)}var _=e.colSeparationType==="CD"?vr({number:3,unit:"ex"},t):12*g,M=3*g,w=e.arraystretch*_,S=.7*w,A=.3*w,D=0;function N(it){for(var Ze=0;Ze<it.length;++Ze)Ze>0&&(D+=.25),f.push({pos:D,isDashed:it[Ze]})}for(N(s[0]),n=0;n<e.body.length;++n){var k=e.body[n],z=S,P=A;o<k.length&&(o=k.length);var V=new Array(k.length);for(r=0;r<k.length;++r){var B=pi(k[r],t);P<B.depth&&(P=B.depth),z<B.height&&(z=B.height),V[r]=B}var O=e.rowGaps[n],X=0;O&&(X=vr(O,t),X>0&&(X+=A,P<X&&(P=X),X=0)),e.addJot&&(P+=M),V.height=z,V.depth=P,D+=z,V.pos=D,D+=P+X,c[n]=V,N(s[n+1])}var W=D/2+t.fontMetrics().axisHeight,se=e.cols||[],le=[],ie,Y,te=[];if(e.tags&&e.tags.some(it=>it))for(n=0;n<a;++n){var re=c[n],ye=re.pos-W,F=e.tags[n],J=void 0;F===!0?J=Ue.makeSpan(["eqn-num"],[],t):F===!1?J=Ue.makeSpan([],[],t):J=Ue.makeSpan([],ha(F,t,!0),t),J.depth=re.depth,J.height=re.height,te.push({type:"elem",elem:J,shift:ye})}for(r=0,Y=0;r<o||Y<se.length;++r,++Y){for(var ge=se[Y]||{},Z=!0;ge.type==="separator";){if(Z||(ie=Ue.makeSpan(["arraycolsep"],[]),ie.style.width=wt(t.fontMetrics().doubleRuleSep),le.push(ie)),ge.separator==="|"||ge.separator===":"){var Oe=ge.separator==="|"?"solid":"dashed",We=Ue.makeSpan(["vertical-separator"],[],t);We.style.height=wt(D),We.style.borderRightWidth=wt(m),We.style.borderRightStyle=Oe,We.style.margin="0 "+wt(-m/2);var be=D-W;be&&(We.style.verticalAlign=wt(-be)),le.push(We)}else throw new pt("Invalid separator type: "+ge.separator);Y++,ge=se[Y]||{},Z=!1}if(!(r>=o)){var Ne=void 0;(r>0||e.hskipBeforeAndAfter)&&(Ne=_i.deflt(ge.pregap,y),Ne!==0&&(ie=Ue.makeSpan(["arraycolsep"],[]),ie.style.width=wt(Ne),le.push(ie)));var Ye=[];for(n=0;n<a;++n){var at=c[n],_t=at[r];if(_t){var kt=at.pos-W;_t.depth=at.depth,_t.height=at.height,Ye.push({type:"elem",elem:_t,shift:kt})}}Ye=Ue.makeVList({positionType:"individualShift",children:Ye},t),Ye=Ue.makeSpan(["col-align-"+(ge.align||"c")],[Ye]),le.push(Ye),(r<o-1||e.hskipBeforeAndAfter)&&(Ne=_i.deflt(ge.postgap,y),Ne!==0&&(ie=Ue.makeSpan(["arraycolsep"],[]),ie.style.width=wt(Ne),le.push(ie)))}}if(c=Ue.makeSpan(["mtable"],le),f.length>0){for(var rn=Ue.makeLineSpan("hline",t,m),dt=Ue.makeLineSpan("hdashline",t,m),Fe=[{type:"elem",elem:c,shift:0}];f.length>0;){var ee=f.pop(),Ge=ee.pos-W;ee.isDashed?Fe.push({type:"elem",elem:dt,shift:Ge}):Fe.push({type:"elem",elem:rn,shift:Ge})}c=Ue.makeVList({positionType:"individualShift",children:Fe},t)}if(te.length===0)return Ue.makeSpan(["mord"],[c],t);var fe=Ue.makeVList({positionType:"individualShift",children:te},t);return fe=Ue.makeSpan(["tag"],[fe],t),Ue.makeFragment([c,fe])},wne={c:"center ",l:"left ",r:"right "},vc=function(e,t){for(var n=[],r=new ct.MathNode("mtd",[],["mtr-glue"]),a=new ct.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],c=[],f=0;f<o.length;f++)c.push(new ct.MathNode("mtd",[Wi(o[f],t)]));e.tags&&e.tags[s]&&(c.unshift(r),c.push(r),e.leqno?c.unshift(a):c.push(a)),n.push(new ct.MathNode("mtr",c))}var m=new ct.MathNode("mtable",n),g=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",wt(g));var y="",x="";if(e.cols&&e.cols.length>0){var _=e.cols,M="",w=!1,S=0,A=_.length;_[0].type==="separator"&&(y+="top ",S=1),_[_.length-1].type==="separator"&&(y+="bottom ",A-=1);for(var D=S;D<A;D++)_[D].type==="align"?(x+=wne[_[D].align],w&&(M+="none "),w=!0):_[D].type==="separator"&&w&&(M+=_[D].separator==="|"?"solid ":"dashed ",w=!1);m.setAttribute("columnalign",x.trim()),/[sd]/.test(M)&&m.setAttribute("columnlines",M.trim())}if(e.colSeparationType==="align"){for(var N=e.cols||[],k="",z=1;z<N.length;z++)k+=z%2?"0em ":"1em ";m.setAttribute("columnspacing",k.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var P="",V=e.hLinesBeforeRow;y+=V[0].length>0?"left ":"",y+=V[V.length-1].length>0?"right ":"";for(var B=1;B<V.length-1;B++)P+=V[B].length===0?"none ":V[B][0]?"dashed ":"solid ";return/[sd]/.test(P)&&m.setAttribute("rowlines",P.trim()),y!==""&&(m=new ct.MathNode("menclose",[m]),m.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(m=new ct.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},XO=function(e,t){e.envName.indexOf("ed")===-1&&M_(e);var n=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=$f(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:T7(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,f={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var m="",g=0;g<t[0].body.length;g++){var y=Bn(t[0].body[g],"textord");m+=y.text}o=Number(m),c=o*2}var x=!c;s.body.forEach(function(S){for(var A=1;A<S.length;A+=2){var D=Bn(S[A],"styling"),N=Bn(D.body[0],"ordgroup");N.body.unshift(f)}if(x)c<S.length&&(c=S.length);else{var k=S.length/2;if(o<k)throw new pt("Too many math in a row: "+("expected "+o+", but got "+k),S[0])}});for(var _=0;_<c;++_){var M="r",w=0;_%2===1?M="l":_>0&&x&&(w=1),n[_]={type:"align",align:M,pregap:w,postgap:0}}return s.colSeparationType=x?"align":"alignat",s};mc({type:"array",names:["array","darray"],props:{numArgs:1},handler(i,e){var t=b_(e[0]),n=t?[e[0]]:Bn(e[0],"ordgroup").body,r=n.map(function(s){var o=b7(s),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new pt("Unknown column alignment: "+c,s)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return $f(i.parser,a,E7(i.envName))},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(i){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[i.envName.replace("*","")],t="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(i.envName.charAt(i.envName.length-1)==="*"){var r=i.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),t=r.fetch().text,"lcr".indexOf(t)===-1)throw new pt("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),n.cols=[{type:"align",align:t}]}}var a=$f(i.parser,n,E7(i.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:t}),e?{type:"leftright",mode:i.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(i){var e={arraystretch:.5},t=$f(i.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["subarray"],props:{numArgs:1},handler(i,e){var t=b_(e[0]),n=t?[e[0]]:Bn(e[0],"ordgroup").body,r=n.map(function(s){var o=b7(s),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new pt("Unknown column alignment: "+c,s)});if(r.length>1)throw new pt("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=$f(i.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new pt("{subarray} can contain only one column");return a},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(i){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=$f(i.parser,e,E7(i.envName));return{type:"leftright",mode:i.mode,body:[t],left:i.envName.indexOf("r")>-1?".":"\\{",right:i.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:XO,htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(i){["gather","gather*"].includes(i.envName)&&M_(i);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:T7(i.envName),emptySingleRow:!0,leqno:i.parser.settings.leqno};return $f(i.parser,e,"display")},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:XO,htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(i){M_(i);var e={autoTag:T7(i.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:i.parser.settings.leqno};return $f(i.parser,e,"display")},htmlBuilder:gc,mathmlBuilder:vc});mc({type:"array",names:["CD"],props:{numArgs:0},handler(i){return M_(i),cne(i.parser)},htmlBuilder:gc,mathmlBuilder:vc});Q("\\nonumber","\\gdef\\@eqnsw{0}");Q("\\notag","\\nonumber");Bt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(i,e){throw new pt(i.funcName+" valid only within array environment")}});var R9=GO;Bt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];if(r.type!=="ordgroup")throw new pt("Invalid environment name",r);for(var a="",s=0;s<r.body.length;++s)a+=Bn(r.body[s],"textord").text;if(n==="\\begin"){if(!R9.hasOwnProperty(a))throw new pt("No such environment: "+a,r);var o=R9[a],{args:c,optArgs:f}=t.parseArguments("\\begin{"+a+"}",o),m={mode:t.mode,envName:a,parser:t},g=o.handler(m,c,f);t.expect("\\end",!1);var y=t.nextToken,x=Bn(t.parseFunction(),"environment");if(x.name!==a)throw new pt("Mismatch: \\begin{"+a+"} matched by \\end{"+x.name+"}",y);return g}return{type:"environment",mode:t.mode,name:a,nameGroup:r}}});var YO=(i,e)=>{var t=i.font,n=e.withFont(t);return pi(i.body,n)},jO=(i,e)=>{var t=i.font,n=e.withFont(t);return Wi(i.body,n)},D9={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Bt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=_4(e[0]),a=n;return a in D9&&(a=D9[a]),{type:"font",mode:t.mode,font:a.slice(1),body:r}},htmlBuilder:YO,mathmlBuilder:jO});Bt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(i,e)=>{var{parser:t}=i,n=e[0],r=_i.isCharacterBox(n);return{type:"mclass",mode:t.mode,mclass:__(n),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:n}],isCharacterBox:r}}});Bt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n,breakOnTokenText:r}=i,{mode:a}=t,s=t.parseExpression(!0,r),o="math"+n.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:t.mode,body:s}}},htmlBuilder:YO,mathmlBuilder:jO});var WO=(i,e)=>{var t=e;return i==="display"?t=t.id>=cn.SCRIPT.id?t.text():cn.DISPLAY:i==="text"&&t.size===cn.DISPLAY.size?t=cn.TEXT:i==="script"?t=cn.SCRIPT:i==="scriptscript"&&(t=cn.SCRIPTSCRIPT),t},A7=(i,e)=>{var t=WO(i.size,e.style),n=t.fracNum(),r=t.fracDen(),a;a=e.havingStyle(n);var s=pi(i.numer,a,e);if(i.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<c?c:s.depth}a=e.havingStyle(r);var f=pi(i.denom,a,e),m,g,y;i.hasBarLine?(i.barSize?(g=vr(i.barSize,e),m=Ue.makeLineSpan("frac-line",e,g)):m=Ue.makeLineSpan("frac-line",e),g=m.height,y=m.height):(m=null,g=0,y=e.fontMetrics().defaultRuleThickness);var x,_,M;t.size===cn.DISPLAY.size||i.size==="display"?(x=e.fontMetrics().num1,g>0?_=3*y:_=7*y,M=e.fontMetrics().denom1):(g>0?(x=e.fontMetrics().num2,_=y):(x=e.fontMetrics().num3,_=3*y),M=e.fontMetrics().denom2);var w;if(m){var A=e.fontMetrics().axisHeight;x-s.depth-(A+.5*g)<_&&(x+=_-(x-s.depth-(A+.5*g))),A-.5*g-(f.height-M)<_&&(M+=_-(A-.5*g-(f.height-M)));var D=-(A-.5*g);w=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:M},{type:"elem",elem:m,shift:D},{type:"elem",elem:s,shift:-x}]},e)}else{var S=x-s.depth-(f.height-M);S<_&&(x+=.5*(_-S),M+=.5*(_-S)),w=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:M},{type:"elem",elem:s,shift:-x}]},e)}a=e.havingStyle(t),w.height*=a.sizeMultiplier/e.sizeMultiplier,w.depth*=a.sizeMultiplier/e.sizeMultiplier;var N;t.size===cn.DISPLAY.size?N=e.fontMetrics().delim1:t.size===cn.SCRIPTSCRIPT.size?N=e.havingStyle(cn.SCRIPT).fontMetrics().delim2:N=e.fontMetrics().delim2;var k,z;return i.leftDelim==null?k=Lx(e,["mopen"]):k=h0.customSizedDelim(i.leftDelim,N,!0,e.havingStyle(t),i.mode,["mopen"]),i.continued?z=Ue.makeSpan([]):i.rightDelim==null?z=Lx(e,["mclose"]):z=h0.customSizedDelim(i.rightDelim,N,!0,e.havingStyle(t),i.mode,["mclose"]),Ue.makeSpan(["mord"].concat(a.sizingClasses(e)),[k,Ue.makeSpan(["mfrac"],[w]),z],e)},C7=(i,e)=>{var t=new ct.MathNode("mfrac",[Wi(i.numer,e),Wi(i.denom,e)]);if(!i.hasBarLine)t.setAttribute("linethickness","0px");else if(i.barSize){var n=vr(i.barSize,e);t.setAttribute("linethickness",wt(n))}var r=WO(i.size,e.style);if(r.size!==e.style.size){t=new ct.MathNode("mstyle",[t]);var a=r.size===cn.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",a),t.setAttribute("scriptlevel","0")}if(i.leftDelim!=null||i.rightDelim!=null){var s=[];if(i.leftDelim!=null){var o=new ct.MathNode("mo",[new ct.TextNode(i.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(t),i.rightDelim!=null){var c=new ct.MathNode("mo",[new ct.TextNode(i.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),s.push(c)}return x7(s)}return t};Bt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],a=e[1],s,o=null,c=null,f="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",c=")";break;case"\\\\bracefrac":s=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":s=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:r,denom:a,hasBarLine:s,leftDelim:o,rightDelim:c,size:f,barSize:null}},htmlBuilder:A7,mathmlBuilder:C7});Bt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],a=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Bt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(i){var{parser:e,funcName:t,token:n}=i,r;switch(t){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:n}}});var N9=["display","text","script","scriptscript"],z9=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Bt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(i,e){var{parser:t}=i,n=e[4],r=e[5],a=_4(e[0]),s=a.type==="atom"&&a.family==="open"?z9(a.text):null,o=_4(e[1]),c=o.type==="atom"&&o.family==="close"?z9(o.text):null,f=Bn(e[2],"size"),m,g=null;f.isBlank?m=!0:(g=f.value,m=g.number>0);var y="auto",x=e[3];if(x.type==="ordgroup"){if(x.body.length>0){var _=Bn(x.body[0],"textord");y=N9[Number(_.text)]}}else x=Bn(x,"textord"),y=N9[Number(x.text)];return{type:"genfrac",mode:t.mode,numer:n,denom:r,continued:!1,hasBarLine:m,barSize:g,leftDelim:s,rightDelim:c,size:y}},htmlBuilder:A7,mathmlBuilder:C7});Bt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(i,e){var{parser:t,funcName:n,token:r}=i;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Bn(e[0],"size").value,token:r}}});Bt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0],a=ete(Bn(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:t.mode,numer:r,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:A7,mathmlBuilder:C7});var ZO=(i,e)=>{var t=e.style,n,r;i.type==="supsub"?(n=i.sup?pi(i.sup,e.havingStyle(t.sup()),e):pi(i.sub,e.havingStyle(t.sub()),e),r=Bn(i.base,"horizBrace")):r=Bn(i,"horizBrace");var a=pi(r.base,e.havingBaseStyle(cn.DISPLAY)),s=S0.svgSpan(r,e),o;if(r.isOver?(o=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Ue.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),n){var c=Ue.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:n}]},e):o=Ue.makeVList({positionType:"bottom",positionData:c.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return Ue.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},Tne=(i,e)=>{var t=S0.mathMLnode(i.label);return new ct.MathNode(i.isOver?"mover":"munder",[Wi(i.base,e),t])};Bt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:n}=i;return{type:"horizBrace",mode:t.mode,label:n,isOver:/^\\over/.test(n),base:e[0]}},htmlBuilder:ZO,mathmlBuilder:Tne});Bt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[1],r=Bn(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:t.mode,href:r,body:Fr(n)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(i,e)=>{var t=ha(i.body,e,!1);return Ue.makeAnchor(i.href,[],t,e)},mathmlBuilder:(i,e)=>{var t=Xf(i.body,e);return t instanceof Pl||(t=new Pl("mrow",[t])),t.setAttribute("href",i.href),t}});Bt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=Bn(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:n}))return t.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:t.mode,font:"\\texttt",body:r};return{type:"href",mode:t.mode,href:n,body:Fr(o)}}});Bt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(i,e){var{parser:t}=i;return{type:"hbox",mode:t.mode,body:Fr(e[0])}},htmlBuilder(i,e){var t=ha(i.body,e,!1);return Ue.makeFragment(t)},mathmlBuilder(i,e){return new ct.MathNode("mrow",vl(i.body,e))}});Bt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n,token:r}=i,a=Bn(e[0],"raw").string,s=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(n){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),m=0;m<f.length;m++){var g=f[m],y=g.indexOf("=");if(y<0)throw new pt("\\htmlData key/value '"+g+"' missing equals sign");var x=g.slice(0,y),_=g.slice(y+1);c["data-"+x.trim()]=_}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:c,body:Fr(s)}:t.formatUnsupportedCmd(n)},htmlBuilder:(i,e)=>{var t=ha(i.body,e,!1),n=["enclosing"];i.attributes.class&&n.push(...i.attributes.class.trim().split(/\s+/));var r=Ue.makeSpan(n,t,e);for(var a in i.attributes)a!=="class"&&i.attributes.hasOwnProperty(a)&&r.setAttribute(a,i.attributes[a]);return r},mathmlBuilder:(i,e)=>Xf(i.body,e)});Bt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"htmlmathml",mode:t.mode,html:Fr(e[0]),mathml:Fr(e[1])}},htmlBuilder:(i,e)=>{var t=ha(i.html,e,!1);return Ue.makeFragment(t)},mathmlBuilder:(i,e)=>Xf(i.mathml,e)});var o6=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new pt("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!pO(n))throw new pt("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Bt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(i,e,t)=>{var{parser:n}=i,r={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(t[0])for(var c=Bn(t[0],"raw").string,f=c.split(","),m=0;m<f.length;m++){var g=f[m].split("=");if(g.length===2){var y=g[1].trim();switch(g[0].trim()){case"alt":o=y;break;case"width":r=o6(y);break;case"height":a=o6(y);break;case"totalheight":s=o6(y);break;default:throw new pt("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var x=Bn(e[0],"url").url;return o===""&&(o=x,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:x})?{type:"includegraphics",mode:n.mode,alt:o,width:r,height:a,totalheight:s,src:x}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(i,e)=>{var t=vr(i.height,e),n=0;i.totalheight.number>0&&(n=vr(i.totalheight,e)-t);var r=0;i.width.number>0&&(r=vr(i.width,e));var a={height:wt(t+n)};r>0&&(a.width=wt(r)),n>0&&(a.verticalAlign=wt(-n));var s=new Tte(i.src,i.alt,a);return s.height=t,s.depth=n,s},mathmlBuilder:(i,e)=>{var t=new ct.MathNode("mglyph",[]);t.setAttribute("alt",i.alt);var n=vr(i.height,e),r=0;if(i.totalheight.number>0&&(r=vr(i.totalheight,e)-n,t.setAttribute("valign",wt(-r))),t.setAttribute("height",wt(n+r)),i.width.number>0){var a=vr(i.width,e);t.setAttribute("width",wt(a))}return t.setAttribute("src",i.src),t}});Bt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:n}=i,r=Bn(e[0],"size");if(t.settings.strict){var a=n[1]==="m",s=r.value.unit==="mu";a?(s||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+r.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:r.value}},htmlBuilder(i,e){return Ue.makeGlue(i.dimension,e)},mathmlBuilder(i,e){var t=vr(i.dimension,e);return new ct.SpaceNode(t)}});Bt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"lap",mode:t.mode,alignment:n.slice(5),body:r}},htmlBuilder:(i,e)=>{var t;i.alignment==="clap"?(t=Ue.makeSpan([],[pi(i.body,e)]),t=Ue.makeSpan(["inner"],[t],e)):t=Ue.makeSpan(["inner"],[pi(i.body,e)]);var n=Ue.makeSpan(["fix"],[]),r=Ue.makeSpan([i.alignment],[t,n],e),a=Ue.makeSpan(["strut"]);return a.style.height=wt(r.height+r.depth),r.depth&&(a.style.verticalAlign=wt(-r.depth)),r.children.unshift(a),r=Ue.makeSpan(["thinbox"],[r],e),Ue.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(i,e)=>{var t=new ct.MathNode("mpadded",[Wi(i.body,e)]);if(i.alignment!=="rlap"){var n=i.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",n+"width")}return t.setAttribute("width","0px"),t}});Bt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){var{funcName:t,parser:n}=i,r=n.mode;n.switchMode("math");var a=t==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(r),{type:"styling",mode:n.mode,style:"text",body:s}}});Bt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){throw new pt("Mismatched "+i.funcName)}});var O9=(i,e)=>{switch(e.style.size){case cn.DISPLAY.size:return i.display;case cn.TEXT.size:return i.text;case cn.SCRIPT.size:return i.script;case cn.SCRIPTSCRIPT.size:return i.scriptscript;default:return i.text}};Bt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"mathchoice",mode:t.mode,display:Fr(e[0]),text:Fr(e[1]),script:Fr(e[2]),scriptscript:Fr(e[3])}},htmlBuilder:(i,e)=>{var t=O9(i,e),n=ha(t,e,!1);return Ue.makeFragment(n)},mathmlBuilder:(i,e)=>{var t=O9(i,e);return Xf(t,e)}});var KO=(i,e,t,n,r,a,s)=>{i=Ue.makeSpan([],[i]);var o=t&&_i.isCharacterBox(t),c,f;if(e){var m=pi(e,n.havingStyle(r.sup()),n);f={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(t){var g=pi(t,n.havingStyle(r.sub()),n);c={elem:g,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-g.height)}}var y;if(f&&c){var x=n.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+i.depth+s;y=Ue.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:wt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:i},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:wt(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(c){var _=i.height-s;y=Ue.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:wt(-a)},{type:"kern",size:c.kern},{type:"elem",elem:i}]},n)}else if(f){var M=i.depth+s;y=Ue.makeVList({positionType:"bottom",positionData:M,children:[{type:"elem",elem:i},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:wt(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return i;var w=[y];if(c&&a!==0&&!o){var S=Ue.makeSpan(["mspace"],[],n);S.style.marginRight=wt(a),w.unshift(S)}return Ue.makeSpan(["mop","op-limits"],w,n)},QO=["\\smallint"],T1=(i,e)=>{var t,n,r=!1,a;i.type==="supsub"?(t=i.sup,n=i.sub,a=Bn(i.base,"op"),r=!0):a=Bn(i,"op");var s=e.style,o=!1;s.size===cn.DISPLAY.size&&a.symbol&&!QO.includes(a.name)&&(o=!0);var c;if(a.symbol){var f=o?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),c=Ue.makeSymbol(a.name,f,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),m.length>0){var g=c.italic,y=Ue.staticSvg(m+"Size"+(o?"2":"1"),e);c=Ue.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:y,shift:o?.08:0}]},e),a.name="\\"+m,c.classes.unshift("mop"),c.italic=g}}else if(a.body){var x=ha(a.body,e,!0);x.length===1&&x[0]instanceof Ro?(c=x[0],c.classes[0]="mop"):c=Ue.makeSpan(["mop"],x,e)}else{for(var _=[],M=1;M<a.name.length;M++)_.push(Ue.mathsym(a.name[M],a.mode,e));c=Ue.makeSpan(["mop"],_,e)}var w=0,S=0;return(c instanceof Ro||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(w=(c.height-c.depth)/2-e.fontMetrics().axisHeight,S=c.italic),r?KO(c,t,n,e,s,S,w):(w&&(c.style.position="relative",c.style.top=wt(w)),c)},iy=(i,e)=>{var t;if(i.symbol)t=new Pl("mo",[Do(i.name,i.mode)]),QO.includes(i.name)&&t.setAttribute("largeop","false");else if(i.body)t=new Pl("mo",vl(i.body,e));else{t=new Pl("mi",[new ac(i.name.slice(1))]);var n=new Pl("mo",[Do("","text")]);i.parentIsSupSub?t=new Pl("mrow",[t,n]):t=TO([t,n])}return t},Ene={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Bt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=n;return r.length===1&&(r=Ene[r]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:T1,mathmlBuilder:iy});Bt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Fr(n)}},htmlBuilder:T1,mathmlBuilder:iy});var Ane={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Bt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:T1,mathmlBuilder:iy});Bt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:T1,mathmlBuilder:iy});Bt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(i){var{parser:e,funcName:t}=i,n=t;return n.length===1&&(n=Ane[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:T1,mathmlBuilder:iy});var JO=(i,e)=>{var t,n,r=!1,a;i.type==="supsub"?(t=i.sup,n=i.sub,a=Bn(i.base,"operatorname"),r=!0):a=Bn(i,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(g=>{var y=g.text;return typeof y=="string"?{type:"textord",mode:g.mode,text:y}:g}),c=ha(o,e.withFont("mathrm"),!0),f=0;f<c.length;f++){var m=c[f];m instanceof Ro&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Ue.makeSpan(["mop"],c,e)}else s=Ue.makeSpan(["mop"],[],e);return r?KO(s,t,n,e,e.style,0,0):s},Cne=(i,e)=>{for(var t=vl(i.body,e.withFont("mathrm")),n=!0,r=0;r<t.length;r++){var a=t[r];if(!(a instanceof ct.SpaceNode))if(a instanceof ct.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ct.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var o=t.map(m=>m.toText()).join("");t=[new ct.TextNode(o)]}var c=new ct.MathNode("mi",t);c.setAttribute("mathvariant","normal");var f=new ct.MathNode("mo",[Do("","text")]);return i.parentIsSupSub?new ct.MathNode("mrow",[c,f]):ct.newDocumentFragment([c,f])};Bt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:n}=i,r=e[0];return{type:"operatorname",mode:t.mode,body:Fr(r),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:JO,mathmlBuilder:Cne});Q("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Xd({type:"ordgroup",htmlBuilder(i,e){return i.semisimple?Ue.makeFragment(ha(i.body,e,!1)):Ue.makeSpan(["mord"],ha(i.body,e,!0),e)},mathmlBuilder(i,e){return Xf(i.body,e,!0)}});Bt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(i,e){var{parser:t}=i,n=e[0];return{type:"overline",mode:t.mode,body:n}},htmlBuilder(i,e){var t=pi(i.body,e.havingCrampedStyle()),n=Ue.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*r},{type:"elem",elem:n},{type:"kern",size:r}]},e);return Ue.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(i,e){var t=new ct.MathNode("mo",[new ct.TextNode("")]);t.setAttribute("stretchy","true");var n=new ct.MathNode("mover",[Wi(i.body,e),t]);return n.setAttribute("accent","true"),n}});Bt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"phantom",mode:t.mode,body:Fr(n)}},htmlBuilder:(i,e)=>{var t=ha(i.body,e.withPhantom(),!1);return Ue.makeFragment(t)},mathmlBuilder:(i,e)=>{var t=vl(i.body,e);return new ct.MathNode("mphantom",t)}});Bt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"hphantom",mode:t.mode,body:n}},htmlBuilder:(i,e)=>{var t=Ue.makeSpan([],[pi(i.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var n=0;n<t.children.length;n++)t.children[n].height=0,t.children[n].depth=0;return t=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Ue.makeSpan(["mord"],[t],e)},mathmlBuilder:(i,e)=>{var t=vl(Fr(i.body),e),n=new ct.MathNode("mphantom",t),r=new ct.MathNode("mpadded",[n]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Bt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,n=e[0];return{type:"vphantom",mode:t.mode,body:n}},htmlBuilder:(i,e)=>{var t=Ue.makeSpan(["inner"],[pi(i.body,e.withPhantom())]),n=Ue.makeSpan(["fix"],[]);return Ue.makeSpan(["mord","rlap"],[t,n],e)},mathmlBuilder:(i,e)=>{var t=vl(Fr(i.body),e),n=new ct.MathNode("mphantom",t),r=new ct.MathNode("mpadded",[n]);return r.setAttribute("width","0px"),r}});Bt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i,n=Bn(e[0],"size").value,r=e[1];return{type:"raisebox",mode:t.mode,dy:n,body:r}},htmlBuilder(i,e){var t=pi(i.body,e),n=vr(i.dy,e);return Ue.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){var t=new ct.MathNode("mpadded",[Wi(i.body,e)]),n=i.dy.number+i.dy.unit;return t.setAttribute("voffset",n),t}});Bt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(i){var{parser:e}=i;return{type:"internal",mode:e.mode}}});Bt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(i,e,t){var{parser:n}=i,r=t[0],a=Bn(e[0],"size"),s=Bn(e[1],"size");return{type:"rule",mode:n.mode,shift:r&&Bn(r,"size").value,width:a.value,height:s.value}},htmlBuilder(i,e){var t=Ue.makeSpan(["mord","rule"],[],e),n=vr(i.width,e),r=vr(i.height,e),a=i.shift?vr(i.shift,e):0;return t.style.borderRightWidth=wt(n),t.style.borderTopWidth=wt(r),t.style.bottom=wt(a),t.width=n,t.height=r+a,t.depth=-a,t.maxFontSize=r*1.125*e.sizeMultiplier,t},mathmlBuilder(i,e){var t=vr(i.width,e),n=vr(i.height,e),r=i.shift?vr(i.shift,e):0,a=e.color&&e.getColor()||"black",s=new ct.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",wt(t)),s.setAttribute("height",wt(n));var o=new ct.MathNode("mpadded",[s]);return r>=0?o.setAttribute("height",wt(r)):(o.setAttribute("height",wt(r)),o.setAttribute("depth",wt(-r))),o.setAttribute("voffset",wt(r)),o}});function $O(i,e,t){for(var n=ha(i,e,!1),r=e.sizeMultiplier/t.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,e.sizingClasses(t)):n[a].classes[s+1]==="reset-size"+e.size&&(n[a].classes[s+1]="reset-size"+t.size),n[a].height*=r,n[a].depth*=r}return Ue.makeFragment(n)}var L9=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Rne=(i,e)=>{var t=e.havingSize(i.size);return $O(i.body,t,e)};Bt({type:"sizing",names:L9,props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{breakOnTokenText:t,funcName:n,parser:r}=i,a=r.parseExpression(!1,t);return{type:"sizing",mode:r.mode,size:L9.indexOf(n)+1,body:a}},htmlBuilder:Rne,mathmlBuilder:(i,e)=>{var t=e.havingSize(i.size),n=vl(i.body,t),r=new ct.MathNode("mstyle",n);return r.setAttribute("mathsize",wt(t.sizeMultiplier)),r}});Bt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(i,e,t)=>{var{parser:n}=i,r=!1,a=!1,s=t[0]&&Bn(t[0],"ordgroup");if(s)for(var o="",c=0;c<s.body.length;++c){var f=s.body[c];if(o=f.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var m=e[0];return{type:"smash",mode:n.mode,body:m,smashHeight:r,smashDepth:a}},htmlBuilder:(i,e)=>{var t=Ue.makeSpan([],[pi(i.body,e)]);if(!i.smashHeight&&!i.smashDepth)return t;if(i.smashHeight&&(t.height=0,t.children))for(var n=0;n<t.children.length;n++)t.children[n].height=0;if(i.smashDepth&&(t.depth=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].depth=0;var a=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord"],[a],e)},mathmlBuilder:(i,e)=>{var t=new ct.MathNode("mpadded",[Wi(i.body,e)]);return i.smashHeight&&t.setAttribute("height","0px"),i.smashDepth&&t.setAttribute("depth","0px"),t}});Bt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:n}=i,r=t[0],a=e[0];return{type:"sqrt",mode:n.mode,body:a,index:r}},htmlBuilder(i,e){var t=pi(i.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Ue.wrapFragment(t,e);var n=e.fontMetrics(),r=n.defaultRuleThickness,a=r;e.style.id<cn.TEXT.id&&(a=e.fontMetrics().xHeight);var s=r+a/4,o=t.height+t.depth+s+r,{span:c,ruleWidth:f,advanceWidth:m}=h0.sqrtImage(o,e),g=c.height-f;g>t.height+t.depth+s&&(s=(s+g-t.height-t.depth)/2);var y=c.height-t.height-s-f;t.style.paddingLeft=wt(m);var x=Ue.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+y)},{type:"elem",elem:c},{type:"kern",size:f}]},e);if(i.index){var _=e.havingStyle(cn.SCRIPTSCRIPT),M=pi(i.index,_,e),w=.6*(x.height-x.depth),S=Ue.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:M}]},e),A=Ue.makeSpan(["root"],[S]);return Ue.makeSpan(["mord","sqrt"],[A,x],e)}else return Ue.makeSpan(["mord","sqrt"],[x],e)},mathmlBuilder(i,e){var{body:t,index:n}=i;return n?new ct.MathNode("mroot",[Wi(t,e),Wi(n,e)]):new ct.MathNode("msqrt",[Wi(t,e)])}});var U9={display:cn.DISPLAY,text:cn.TEXT,script:cn.SCRIPT,scriptscript:cn.SCRIPTSCRIPT};Bt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i,e){var{breakOnTokenText:t,funcName:n,parser:r}=i,a=r.parseExpression(!0,t),s=n.slice(1,n.length-5);return{type:"styling",mode:r.mode,style:s,body:a}},htmlBuilder(i,e){var t=U9[i.style],n=e.havingStyle(t).withFont("");return $O(i.body,n,e)},mathmlBuilder(i,e){var t=U9[i.style],n=e.havingStyle(t),r=vl(i.body,n),a=new ct.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[i.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var Dne=function(e,t){var n=e.base;if(n)if(n.type==="op"){var r=n.limits&&(t.style.size===cn.DISPLAY.size||n.alwaysHandleSupSub);return r?T1:null}else if(n.type==="operatorname"){var a=n.alwaysHandleSupSub&&(t.style.size===cn.DISPLAY.size||n.limits);return a?JO:null}else{if(n.type==="accent")return _i.isCharacterBox(n.base)?_7:null;if(n.type==="horizBrace"){var s=!e.sub;return s===n.isOver?ZO:null}else return null}else return null};Xd({type:"supsub",htmlBuilder(i,e){var t=Dne(i,e);if(t)return t(i,e);var{base:n,sup:r,sub:a}=i,s=pi(n,e),o,c,f=e.fontMetrics(),m=0,g=0,y=n&&_i.isCharacterBox(n);if(r){var x=e.havingStyle(e.style.sup());o=pi(r,x,e),y||(m=s.height-x.fontMetrics().supDrop*x.sizeMultiplier/e.sizeMultiplier)}if(a){var _=e.havingStyle(e.style.sub());c=pi(a,_,e),y||(g=s.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var M;e.style===cn.DISPLAY?M=f.sup1:e.style.cramped?M=f.sup3:M=f.sup2;var w=e.sizeMultiplier,S=wt(.5/f.ptPerEm/w),A=null;if(c){var D=i.base&&i.base.type==="op"&&i.base.name&&(i.base.name==="\\oiint"||i.base.name==="\\oiiint");(s instanceof Ro||D)&&(A=wt(-s.italic))}var N;if(o&&c){m=Math.max(m,M,o.depth+.25*f.xHeight),g=Math.max(g,f.sub2);var k=f.defaultRuleThickness,z=4*k;if(m-o.depth-(c.height-g)<z){g=z-(m-o.depth)+c.height;var P=.8*f.xHeight-(m-o.depth);P>0&&(m+=P,g-=P)}var V=[{type:"elem",elem:c,shift:g,marginRight:S,marginLeft:A},{type:"elem",elem:o,shift:-m,marginRight:S}];N=Ue.makeVList({positionType:"individualShift",children:V},e)}else if(c){g=Math.max(g,f.sub1,c.height-.8*f.xHeight);var B=[{type:"elem",elem:c,marginLeft:A,marginRight:S}];N=Ue.makeVList({positionType:"shift",positionData:g,children:B},e)}else if(o)m=Math.max(m,M,o.depth+.25*f.xHeight),N=Ue.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var O=SM(s,"right")||"mord";return Ue.makeSpan([O],[s,Ue.makeSpan(["msupsub"],[N])],e)},mathmlBuilder(i,e){var t=!1,n,r;i.base&&i.base.type==="horizBrace"&&(r=!!i.sup,r===i.base.isOver&&(t=!0,n=i.base.isOver)),i.base&&(i.base.type==="op"||i.base.type==="operatorname")&&(i.base.parentIsSupSub=!0);var a=[Wi(i.base,e)];i.sub&&a.push(Wi(i.sub,e)),i.sup&&a.push(Wi(i.sup,e));var s;if(t)s=n?"mover":"munder";else if(i.sub)if(i.sup){var f=i.base;f&&f.type==="op"&&f.limits&&e.style===cn.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===cn.DISPLAY||f.limits)?s="munderover":s="msubsup"}else{var c=i.base;c&&c.type==="op"&&c.limits&&(e.style===cn.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===cn.DISPLAY)?s="munder":s="msub"}else{var o=i.base;o&&o.type==="op"&&o.limits&&(e.style===cn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===cn.DISPLAY)?s="mover":s="msup"}return new ct.MathNode(s,a)}});Xd({type:"atom",htmlBuilder(i,e){return Ue.mathsym(i.text,i.mode,e,["m"+i.family])},mathmlBuilder(i,e){var t=new ct.MathNode("mo",[Do(i.text,i.mode)]);if(i.family==="bin"){var n=y7(i,e);n==="bold-italic"&&t.setAttribute("mathvariant",n)}else i.family==="punct"?t.setAttribute("separator","true"):(i.family==="open"||i.family==="close")&&t.setAttribute("stretchy","false");return t}});var eL={mi:"italic",mn:"normal",mtext:"normal"};Xd({type:"mathord",htmlBuilder(i,e){return Ue.makeOrd(i,e,"mathord")},mathmlBuilder(i,e){var t=new ct.MathNode("mi",[Do(i.text,i.mode,e)]),n=y7(i,e)||"italic";return n!==eL[t.type]&&t.setAttribute("mathvariant",n),t}});Xd({type:"textord",htmlBuilder(i,e){return Ue.makeOrd(i,e,"textord")},mathmlBuilder(i,e){var t=Do(i.text,i.mode,e),n=y7(i,e)||"normal",r;return i.mode==="text"?r=new ct.MathNode("mtext",[t]):/[0-9]/.test(i.text)?r=new ct.MathNode("mn",[t]):i.text==="\\prime"?r=new ct.MathNode("mo",[t]):r=new ct.MathNode("mi",[t]),n!==eL[r.type]&&r.setAttribute("mathvariant",n),r}});var u6={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},c6={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Xd({type:"spacing",htmlBuilder(i,e){if(c6.hasOwnProperty(i.text)){var t=c6[i.text].className||"";if(i.mode==="text"){var n=Ue.makeOrd(i,e,"textord");return n.classes.push(t),n}else return Ue.makeSpan(["mspace",t],[Ue.mathsym(i.text,i.mode,e)],e)}else{if(u6.hasOwnProperty(i.text))return Ue.makeSpan(["mspace",u6[i.text]],[],e);throw new pt('Unknown type of space "'+i.text+'"')}},mathmlBuilder(i,e){var t;if(c6.hasOwnProperty(i.text))t=new ct.MathNode("mtext",[new ct.TextNode("")]);else{if(u6.hasOwnProperty(i.text))return new ct.MathNode("mspace");throw new pt('Unknown type of space "'+i.text+'"')}return t}});var B9=()=>{var i=new ct.MathNode("mtd",[]);return i.setAttribute("width","50%"),i};Xd({type:"tag",mathmlBuilder(i,e){var t=new ct.MathNode("mtable",[new ct.MathNode("mtr",[B9(),new ct.MathNode("mtd",[Xf(i.body,e)]),B9(),new ct.MathNode("mtd",[Xf(i.tag,e)])])]);return t.setAttribute("width","100%"),t}});var k9={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},I9={"\\textbf":"textbf","\\textmd":"textmd"},Nne={"\\textit":"textit","\\textup":"textup"},P9=(i,e)=>{var t=i.font;if(t){if(k9[t])return e.withTextFontFamily(k9[t]);if(I9[t])return e.withTextFontWeight(I9[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Nne[t])};Bt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:n}=i,r=e[0];return{type:"text",mode:t.mode,body:Fr(r),font:n}},htmlBuilder(i,e){var t=P9(i,e),n=ha(i.body,t,!0);return Ue.makeSpan(["mord","text"],n,t)},mathmlBuilder(i,e){var t=P9(i,e);return Xf(i.body,t)}});Bt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=pi(i.body,e),n=Ue.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=Ue.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:r},{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:t}]},e);return Ue.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(i,e){var t=new ct.MathNode("mo",[new ct.TextNode("")]);t.setAttribute("stretchy","true");var n=new ct.MathNode("munder",[Wi(i.body,e),t]);return n.setAttribute("accentunder","true"),n}});Bt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=pi(i.body,e),n=e.fontMetrics().axisHeight,r=.5*(t.height-n-(t.depth+n));return Ue.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){return new ct.MathNode("mpadded",[Wi(i.body,e)],["vcenter"])}});Bt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(i,e,t){throw new pt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(i,e){for(var t=F9(i),n=[],r=e.havingStyle(e.style.text()),a=0;a<t.length;a++){var s=t[a];s==="~"&&(s="\\textasciitilde"),n.push(Ue.makeSymbol(s,"Typewriter-Regular",i.mode,r,["mord","texttt"]))}return Ue.makeSpan(["mord","text"].concat(r.sizingClasses(e)),Ue.tryCombineChars(n),r)},mathmlBuilder(i,e){var t=new ct.TextNode(F9(i)),n=new ct.MathNode("mtext",[t]);return n.setAttribute("mathvariant","monospace"),n}});var F9=i=>i.body.replace(/ /g,i.star?"":""),Nf=MO,tL=`[ \r
	]`,zne="\\\\[a-zA-Z@]+",One="\\\\[^\uD800-\uDFFF]",Lne="("+zne+")"+tL+"*",Une=`\\\\(
|[ \r	]+
?)[ \r	]*`,EM="[-]",Bne=new RegExp(EM+"+$"),kne="("+tL+"+)|"+(Une+"|")+"([!-\\[\\]---]"+(EM+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(EM+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Lne)+("|"+One+")");class H9{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(kne,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Xl("EOF",new al(this,t,t));var n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new pt("Unexpected character: '"+e[t]+"'",new Xl(e[t],new al(this,t,t+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Xl(r,new al(this,t,this.tokenRegex.lastIndex))}}class Ine{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new pt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var Pne=qO;Q("\\noexpand",function(i){var e=i.popToken();return i.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});Q("\\expandafter",function(i){var e=i.popToken();return i.expandOnce(!0),{tokens:[e],numArgs:0}});Q("\\@firstoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[0],numArgs:0}});Q("\\@secondoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[1],numArgs:0}});Q("\\@ifnextchar",function(i){var e=i.consumeArgs(3);i.consumeSpaces();var t=i.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});Q("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");Q("\\TextOrMath",function(i){var e=i.consumeArgs(2);return i.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var V9={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Q("\\char",function(i){var e=i.popToken(),t,n="";if(e.text==="'")t=8,e=i.popToken();else if(e.text==='"')t=16,e=i.popToken();else if(e.text==="`")if(e=i.popToken(),e.text[0]==="\\")n=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new pt("\\char` missing argument");n=e.text.charCodeAt(0)}else t=10;if(t){if(n=V9[e.text],n==null||n>=t)throw new pt("Invalid base-"+t+" digit "+e.text);for(var r;(r=V9[i.future().text])!=null&&r<t;)n*=t,n+=r,i.popToken()}return"\\@char{"+n+"}"});var R7=(i,e,t,n)=>{var r=i.consumeArg().tokens;if(r.length!==1)throw new pt("\\newcommand's first argument must be a macro name");var a=r[0].text,s=i.isDefined(a);if(s&&!e)throw new pt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!t)throw new pt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=i.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var c="",f=i.expandNextToken();f.text!=="]"&&f.text!=="EOF";)c+=f.text,f=i.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new pt("Invalid number of arguments: "+c);o=parseInt(c),r=i.consumeArg().tokens}return s&&n||i.macros.set(a,{tokens:r,numArgs:o}),""};Q("\\newcommand",i=>R7(i,!1,!0,!1));Q("\\renewcommand",i=>R7(i,!0,!1,!1));Q("\\providecommand",i=>R7(i,!0,!0,!0));Q("\\message",i=>{var e=i.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});Q("\\errmessage",i=>{var e=i.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});Q("\\show",i=>{var e=i.popToken(),t=e.text;return console.log(e,i.macros.get(t),Nf[t],Qi.math[t],Qi.text[t]),""});Q("\\bgroup","{");Q("\\egroup","}");Q("~","\\nobreakspace");Q("\\lq","`");Q("\\rq","'");Q("\\aa","\\r a");Q("\\AA","\\r A");Q("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");Q("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");Q("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");Q("","\\mathscr{B}");Q("","\\mathscr{E}");Q("","\\mathscr{F}");Q("","\\mathscr{H}");Q("","\\mathscr{I}");Q("","\\mathscr{L}");Q("","\\mathscr{M}");Q("","\\mathscr{R}");Q("","\\mathfrak{C}");Q("","\\mathfrak{H}");Q("","\\mathfrak{Z}");Q("\\Bbbk","\\Bbb{k}");Q("","\\cdotp");Q("\\llap","\\mathllap{\\textrm{#1}}");Q("\\rlap","\\mathrlap{\\textrm{#1}}");Q("\\clap","\\mathclap{\\textrm{#1}}");Q("\\mathstrut","\\vphantom{(}");Q("\\underbar","\\underline{\\text{#1}}");Q("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');Q("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");Q("\\ne","\\neq");Q("","\\neq");Q("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");Q("","\\notin");Q("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");Q("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");Q("","\\perp");Q("","\\mathclose{!\\mkern-0.8mu!}");Q("","\\notni");Q("","\\ulcorner");Q("","\\urcorner");Q("","\\llcorner");Q("","\\lrcorner");Q("","\\copyright");Q("","\\textregistered");Q("","\\textregistered");Q("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');Q("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');Q("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');Q("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');Q("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");Q("","\\vdots");Q("\\varGamma","\\mathit{\\Gamma}");Q("\\varDelta","\\mathit{\\Delta}");Q("\\varTheta","\\mathit{\\Theta}");Q("\\varLambda","\\mathit{\\Lambda}");Q("\\varXi","\\mathit{\\Xi}");Q("\\varPi","\\mathit{\\Pi}");Q("\\varSigma","\\mathit{\\Sigma}");Q("\\varUpsilon","\\mathit{\\Upsilon}");Q("\\varPhi","\\mathit{\\Phi}");Q("\\varPsi","\\mathit{\\Psi}");Q("\\varOmega","\\mathit{\\Omega}");Q("\\substack","\\begin{subarray}{c}#1\\end{subarray}");Q("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");Q("\\boxed","\\fbox{$\\displaystyle{#1}$}");Q("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");Q("\\implies","\\DOTSB\\;\\Longrightarrow\\;");Q("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");Q("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");Q("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var G9={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Q("\\dots",function(i){var e="\\dotso",t=i.expandAfterFuture().text;return t in G9?e=G9[t]:(t.slice(0,4)==="\\not"||t in Qi.math&&["bin","rel"].includes(Qi.math[t].group))&&(e="\\dotsb"),e});var D7={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Q("\\dotso",function(i){var e=i.future().text;return e in D7?"\\ldots\\,":"\\ldots"});Q("\\dotsc",function(i){var e=i.future().text;return e in D7&&e!==","?"\\ldots\\,":"\\ldots"});Q("\\cdots",function(i){var e=i.future().text;return e in D7?"\\@cdots\\,":"\\@cdots"});Q("\\dotsb","\\cdots");Q("\\dotsm","\\cdots");Q("\\dotsi","\\!\\cdots");Q("\\dotsx","\\ldots\\,");Q("\\DOTSI","\\relax");Q("\\DOTSB","\\relax");Q("\\DOTSX","\\relax");Q("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");Q("\\,","\\tmspace+{3mu}{.1667em}");Q("\\thinspace","\\,");Q("\\>","\\mskip{4mu}");Q("\\:","\\tmspace+{4mu}{.2222em}");Q("\\medspace","\\:");Q("\\;","\\tmspace+{5mu}{.2777em}");Q("\\thickspace","\\;");Q("\\!","\\tmspace-{3mu}{.1667em}");Q("\\negthinspace","\\!");Q("\\negmedspace","\\tmspace-{4mu}{.2222em}");Q("\\negthickspace","\\tmspace-{5mu}{.277em}");Q("\\enspace","\\kern.5em ");Q("\\enskip","\\hskip.5em\\relax");Q("\\quad","\\hskip1em\\relax");Q("\\qquad","\\hskip2em\\relax");Q("\\tag","\\@ifstar\\tag@literal\\tag@paren");Q("\\tag@paren","\\tag@literal{({#1})}");Q("\\tag@literal",i=>{if(i.macros.get("\\df@tag"))throw new pt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});Q("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");Q("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");Q("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");Q("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");Q("\\newline","\\\\\\relax");Q("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var nL=wt(rc["Main-Regular"][84][1]-.7*rc["Main-Regular"][65][1]);Q("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+nL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");Q("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+nL+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");Q("\\hspace","\\@ifstar\\@hspacer\\@hspace");Q("\\@hspace","\\hskip #1\\relax");Q("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");Q("\\ordinarycolon",":");Q("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");Q("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');Q("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');Q("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');Q("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');Q("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');Q("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');Q("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');Q("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');Q("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');Q("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');Q("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');Q("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');Q("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');Q("","\\dblcolon");Q("","\\eqcolon");Q("","\\coloneqq");Q("","\\eqqcolon");Q("","\\Coloneqq");Q("\\ratio","\\vcentcolon");Q("\\coloncolon","\\dblcolon");Q("\\colonequals","\\coloneqq");Q("\\coloncolonequals","\\Coloneqq");Q("\\equalscolon","\\eqqcolon");Q("\\equalscoloncolon","\\Eqqcolon");Q("\\colonminus","\\coloneq");Q("\\coloncolonminus","\\Coloneq");Q("\\minuscolon","\\eqcolon");Q("\\minuscoloncolon","\\Eqcolon");Q("\\coloncolonapprox","\\Colonapprox");Q("\\coloncolonsim","\\Colonsim");Q("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Q("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");Q("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");Q("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");Q("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");Q("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");Q("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");Q("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");Q("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");Q("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");Q("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");Q("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");Q("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");Q("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");Q("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");Q("\\ngeqq","\\html@mathml{\\@ngeqq}{}");Q("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");Q("\\nleqq","\\html@mathml{\\@nleqq}{}");Q("\\nleqslant","\\html@mathml{\\@nleqslant}{}");Q("\\nshortmid","\\html@mathml{\\@nshortmid}{}");Q("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");Q("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");Q("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");Q("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");Q("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");Q("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");Q("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");Q("\\imath","\\html@mathml{\\@imath}{}");Q("\\jmath","\\html@mathml{\\@jmath}{}");Q("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Q("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");Q("","\\llbracket");Q("","\\rrbracket");Q("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");Q("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");Q("","\\lBrace");Q("","\\rBrace");Q("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");Q("","\\minuso");Q("\\darr","\\downarrow");Q("\\dArr","\\Downarrow");Q("\\Darr","\\Downarrow");Q("\\lang","\\langle");Q("\\rang","\\rangle");Q("\\uarr","\\uparrow");Q("\\uArr","\\Uparrow");Q("\\Uarr","\\Uparrow");Q("\\N","\\mathbb{N}");Q("\\R","\\mathbb{R}");Q("\\Z","\\mathbb{Z}");Q("\\alef","\\aleph");Q("\\alefsym","\\aleph");Q("\\Alpha","\\mathrm{A}");Q("\\Beta","\\mathrm{B}");Q("\\bull","\\bullet");Q("\\Chi","\\mathrm{X}");Q("\\clubs","\\clubsuit");Q("\\cnums","\\mathbb{C}");Q("\\Complex","\\mathbb{C}");Q("\\Dagger","\\ddagger");Q("\\diamonds","\\diamondsuit");Q("\\empty","\\emptyset");Q("\\Epsilon","\\mathrm{E}");Q("\\Eta","\\mathrm{H}");Q("\\exist","\\exists");Q("\\harr","\\leftrightarrow");Q("\\hArr","\\Leftrightarrow");Q("\\Harr","\\Leftrightarrow");Q("\\hearts","\\heartsuit");Q("\\image","\\Im");Q("\\infin","\\infty");Q("\\Iota","\\mathrm{I}");Q("\\isin","\\in");Q("\\Kappa","\\mathrm{K}");Q("\\larr","\\leftarrow");Q("\\lArr","\\Leftarrow");Q("\\Larr","\\Leftarrow");Q("\\lrarr","\\leftrightarrow");Q("\\lrArr","\\Leftrightarrow");Q("\\Lrarr","\\Leftrightarrow");Q("\\Mu","\\mathrm{M}");Q("\\natnums","\\mathbb{N}");Q("\\Nu","\\mathrm{N}");Q("\\Omicron","\\mathrm{O}");Q("\\plusmn","\\pm");Q("\\rarr","\\rightarrow");Q("\\rArr","\\Rightarrow");Q("\\Rarr","\\Rightarrow");Q("\\real","\\Re");Q("\\reals","\\mathbb{R}");Q("\\Reals","\\mathbb{R}");Q("\\Rho","\\mathrm{P}");Q("\\sdot","\\cdot");Q("\\sect","\\S");Q("\\spades","\\spadesuit");Q("\\sub","\\subset");Q("\\sube","\\subseteq");Q("\\supe","\\supseteq");Q("\\Tau","\\mathrm{T}");Q("\\thetasym","\\vartheta");Q("\\weierp","\\wp");Q("\\Zeta","\\mathrm{Z}");Q("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");Q("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");Q("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");Q("\\bra","\\mathinner{\\langle{#1}|}");Q("\\ket","\\mathinner{|{#1}\\rangle}");Q("\\braket","\\mathinner{\\langle{#1}\\rangle}");Q("\\Bra","\\left\\langle#1\\right|");Q("\\Ket","\\left|#1\\right\\rangle");var iL=i=>e=>{var t=e.consumeArg().tokens,n=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=g=>y=>{i&&(y.macros.set("|",s),r.length&&y.macros.set("\\|",o));var x=g;if(!g&&r.length){var _=y.future();_.text==="|"&&(y.popToken(),x=!0)}return{tokens:x?r:n,numArgs:0}};e.macros.set("|",c(!1)),r.length&&e.macros.set("\\|",c(!0));var f=e.consumeArg().tokens,m=e.expandTokens([...a,...f,...t]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};Q("\\bra@ket",iL(!1));Q("\\bra@set",iL(!0));Q("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");Q("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");Q("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");Q("\\angln","{\\angl n}");Q("\\blue","\\textcolor{##6495ed}{#1}");Q("\\orange","\\textcolor{##ffa500}{#1}");Q("\\pink","\\textcolor{##ff00af}{#1}");Q("\\red","\\textcolor{##df0030}{#1}");Q("\\green","\\textcolor{##28ae7b}{#1}");Q("\\gray","\\textcolor{gray}{#1}");Q("\\purple","\\textcolor{##9d38bd}{#1}");Q("\\blueA","\\textcolor{##ccfaff}{#1}");Q("\\blueB","\\textcolor{##80f6ff}{#1}");Q("\\blueC","\\textcolor{##63d9ea}{#1}");Q("\\blueD","\\textcolor{##11accd}{#1}");Q("\\blueE","\\textcolor{##0c7f99}{#1}");Q("\\tealA","\\textcolor{##94fff5}{#1}");Q("\\tealB","\\textcolor{##26edd5}{#1}");Q("\\tealC","\\textcolor{##01d1c1}{#1}");Q("\\tealD","\\textcolor{##01a995}{#1}");Q("\\tealE","\\textcolor{##208170}{#1}");Q("\\greenA","\\textcolor{##b6ffb0}{#1}");Q("\\greenB","\\textcolor{##8af281}{#1}");Q("\\greenC","\\textcolor{##74cf70}{#1}");Q("\\greenD","\\textcolor{##1fab54}{#1}");Q("\\greenE","\\textcolor{##0d923f}{#1}");Q("\\goldA","\\textcolor{##ffd0a9}{#1}");Q("\\goldB","\\textcolor{##ffbb71}{#1}");Q("\\goldC","\\textcolor{##ff9c39}{#1}");Q("\\goldD","\\textcolor{##e07d10}{#1}");Q("\\goldE","\\textcolor{##a75a05}{#1}");Q("\\redA","\\textcolor{##fca9a9}{#1}");Q("\\redB","\\textcolor{##ff8482}{#1}");Q("\\redC","\\textcolor{##f9685d}{#1}");Q("\\redD","\\textcolor{##e84d39}{#1}");Q("\\redE","\\textcolor{##bc2612}{#1}");Q("\\maroonA","\\textcolor{##ffbde0}{#1}");Q("\\maroonB","\\textcolor{##ff92c6}{#1}");Q("\\maroonC","\\textcolor{##ed5fa6}{#1}");Q("\\maroonD","\\textcolor{##ca337c}{#1}");Q("\\maroonE","\\textcolor{##9e034e}{#1}");Q("\\purpleA","\\textcolor{##ddd7ff}{#1}");Q("\\purpleB","\\textcolor{##c6b9fc}{#1}");Q("\\purpleC","\\textcolor{##aa87ff}{#1}");Q("\\purpleD","\\textcolor{##7854ab}{#1}");Q("\\purpleE","\\textcolor{##543b78}{#1}");Q("\\mintA","\\textcolor{##f5f9e8}{#1}");Q("\\mintB","\\textcolor{##edf2df}{#1}");Q("\\mintC","\\textcolor{##e0e5cc}{#1}");Q("\\grayA","\\textcolor{##f6f7f7}{#1}");Q("\\grayB","\\textcolor{##f0f1f2}{#1}");Q("\\grayC","\\textcolor{##e3e5e6}{#1}");Q("\\grayD","\\textcolor{##d6d8da}{#1}");Q("\\grayE","\\textcolor{##babec2}{#1}");Q("\\grayF","\\textcolor{##888d93}{#1}");Q("\\grayG","\\textcolor{##626569}{#1}");Q("\\grayH","\\textcolor{##3b3e40}{#1}");Q("\\grayI","\\textcolor{##21242c}{#1}");Q("\\kaBlue","\\textcolor{##314453}{#1}");Q("\\kaGreen","\\textcolor{##71B307}{#1}");var rL={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Fne{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Ine(Pne,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new H9(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:r,end:n}=this.consumeArg(["]"])}else({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new Xl("EOF",n.loc)),this.pushTokens(r),new Xl("",al.range(t,n))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r=this.future(),a,s=0,o=0;do{if(a=this.popToken(),t.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new pt("Extra }",a)}else if(a.text==="EOF")throw new pt("Unexpected end of input in a macro argument, expected '"+(e&&n?e[o]:"}")+"'",a);if(e&&n)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(s!==0||n);return r.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new pt("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var a=this.popToken();if(n[r]!==a.text)throw new pt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(t&&t[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new pt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(r==null||e&&r.unexpandable){if(e&&r==null&&n[0]==="\\"&&!this.isDefined(n))throw new pt("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var a=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new pt("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...s[+c.text-1]);else throw new pt("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Xl(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(n=>n.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var n=this.lexer.catcodes[e];if(n!=null&&n!==13)return}var r=typeof t=="function"?t(this):t;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var s=r.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new H9(r,this.settings),c=[],f=o.lex();f.text!=="EOF";)c.push(f),f=o.lex();c.reverse();var m={tokens:c,numArgs:a};return m}return r}isDefined(e){return this.macros.has(e)||Nf.hasOwnProperty(e)||Qi.math.hasOwnProperty(e)||Qi.text.hasOwnProperty(e)||rL.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Nf.hasOwnProperty(e)&&!Nf[e].primitive}}var q9=/^[]/,H3=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),f6={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},X9={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class w_{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Fne(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new pt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new Xl("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(w_.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&Nf[r.text]&&Nf[r.text].infix)break;var a=this.parseAtom(t);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t=-1,n,r=0;r<e.length;r++)if(e[r].type==="infix"){if(t!==-1)throw new pt("only one infix operator per group",e[r].token);t=r,n=e[r].replaceWith}if(t!==-1&&n){var a,s,o=e.slice(0,t),c=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?s=c[0]:s={type:"ordgroup",mode:this.mode,body:c};var f;return n==="\\\\abovefrac"?f=this.callFunction(n,[a,e[t],s],[]):f=this.callFunction(n,[a,s],[]),[f]}else return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new pt("Expected group after '"+n+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var t=this.parseGroup("atom",e);if(t?.type==="internal"||this.mode==="text")return t;for(var n,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(t&&t.type==="op"){var s=a.text==="\\limits";t.limits=s,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=a.text==="\\limits");else throw new pt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new pt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new pt("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new pt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:c}}else if(H3[a.text]){var f=q9.test(a.text),m=[];for(m.push(new Xl(H3[a.text])),this.consume();;){var g=this.fetch().text;if(!H3[g]||q9.test(g)!==f)break;m.unshift(new Xl(H3[g])),this.consume()}var y=this.subparse(m);f?r={type:"ordgroup",mode:"math",body:y}:n={type:"ordgroup",mode:"math",body:y}}else break}return n||r?{type:"supsub",mode:this.mode,base:t,sup:n,sub:r}:t}parseFunction(e,t){var n=this.fetch(),r=n.text,a=Nf[r];if(!a)return null;if(this.consume(),t&&t!=="atom"&&!a.allowedInArgument)throw new pt("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if(this.mode==="text"&&!a.allowedInText)throw new pt("Can't use function '"+r+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new pt("Can't use function '"+r+"' in math mode",n);var{args:s,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,s,o,n,e)}callFunction(e,t,n,r,a){var s={funcName:e,parser:this,token:r,breakOnTokenText:a},o=Nf[e];if(o&&o.handler)return o.handler(s,t,n);throw new pt("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var r=[],a=[],s=0;s<n;s++){var o=t.argTypes&&t.argTypes[s],c=s<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)a.push(f);else if(f!=null)r.push(f);else throw new pt("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":{var r=this.parseArgumentGroup(n,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new pt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new pt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new pt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(n==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){for(var n=this.fetch(),r=n,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)r=s,a+=r.text,this.consume();if(a==="")throw new pt("Invalid "+t+": '"+n.text+"'",n);return n.range(r,a)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new pt("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new pt("Invalid size: '"+t.text+"'",t);var a={number:+(r[1]+r[2]),unit:r[3]};if(!pO(a))throw new pt("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(n==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return t&&this.switchMode(r),s}parseGroup(e,t){var n=this.fetch(),r=n.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var s=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),c=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:al.range(n,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(t,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!rL.hasOwnProperty(r)){if(this.settings.throwOnError)throw new pt("Undefined control sequence: "+r,n);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var r=e[n],a=r.text;a==="-"&&e[n+1].text==="-"&&(n+1<t&&e[n+2].text==="-"?(e.splice(n,3,{type:"textord",mode:"text",loc:al.range(r,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:al.range(r,e[n+1]),text:"--"}),t-=1)),(a==="'"||a==="`")&&e[n+1].text===a&&(e.splice(n,2,{type:"textord",mode:"text",loc:al.range(r,e[n+1]),text:a+a}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r=n.charAt(0)==="*";if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new pt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:r}}X9.hasOwnProperty(t[0])&&!Qi[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=X9[t[0]]+t.slice(1));var a=Bne.exec(t);a&&(t=t.substring(0,a.index),t==="i"?t="":t==="j"&&(t=""));var s;if(Qi[this.mode][t]){this.settings.strict&&this.mode==="math"&&_M.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=Qi[this.mode][t].group,c=al.range(e),f;if(Cte.hasOwnProperty(o)){var m=o;f={type:"atom",mode:this.mode,family:m,loc:c,text:t}}else f={type:o,mode:this.mode,loc:c,text:t};s=f}else if(t.charCodeAt(0)>=128)this.settings.strict&&(dO(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:al.range(e),text:t};else return null;if(this.consume(),a)for(var g=0;g<a[0].length;g++){var y=a[0][g];if(!f6[y])throw new pt("Unknown accent ' "+y+"'",e);var x=f6[y][this.mode]||f6[y].text;if(!x)throw new pt("Accent "+y+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:al.range(e),label:x,isStretchy:!1,isShifty:!0,base:s}}return s}}w_.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var N7=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new w_(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new pt("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new Xl("\\df@tag")])}]}return r},aL=function(e,t,n){t.textContent="";var r=z7(e,n).toNode();t.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),aL=function(){throw new pt("KaTeX doesn't work in quirks mode.")});var Hne=function(e,t){var n=z7(e,t).toMarkup();return n},Vne=function(e,t){var n=new d7(t);return N7(e,n)},sL=function(e,t,n){if(n.throwOnError||!(e instanceof pt))throw e;var r=Ue.makeSpan(["katex-error"],[new Ro(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},z7=function(e,t){var n=new d7(t);try{var r=N7(e,n);return Qte(r,e,n)}catch(a){return sL(a,e,n)}},Gne=function(e,t){var n=new d7(t);try{var r=N7(e,n);return Jte(r,e,n)}catch(a){return sL(a,e,n)}},qne="0.16.27",Xne={Span:ny,Anchor:g7,SymbolNode:Ro,SvgNode:b0,PathNode:qf,LineNode:bM},Y9={version:qne,render:aL,renderToString:Hne,ParseError:pt,SETTINGS_SCHEMA:sb,__parse:Vne,__renderToDomTree:z7,__renderToHTMLTree:Gne,__setFontMetrics:bte,__defineSymbol:L,__defineFunction:Bt,__defineMacro:Q,__domTree:Xne};const Yne={};function jne(i){const e=this,t=i||Yne,n=e.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(Yee(t)),a.push(Iee()),s.push(Pee(t))}const j9=/[#.]/g;function Wne(i,e){const t=i||"",n={};let r=0,a,s;for(;r<t.length;){j9.lastIndex=r;const o=j9.exec(t),c=t.slice(r,o?o.index:t.length);c&&(a?a==="#"?n.id=c:Array.isArray(n.className)?n.className.push(c):n.className=[c]:s=c,r+=c.length),o&&(a=o[0],r++)}return{type:"element",tagName:s||e||"div",properties:n,children:[]}}function lL(i,e,t){const n=t?Jne(t):void 0;function r(a,s,...o){let c;if(a==null){c={type:"root",children:[]};const f=s;o.unshift(f)}else{c=Wne(a,e);const f=c.tagName.toLowerCase(),m=n?n.get(f):void 0;if(c.tagName=m||f,Zne(s))o.unshift(s);else for(const[g,y]of Object.entries(s))Kne(i,c.properties,g,y)}for(const f of o)AM(c.children,f);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return r}function Zne(i){if(i===null||typeof i!="object"||Array.isArray(i))return!0;if(typeof i.type!="string")return!1;const e=i,t=Object.keys(i);for(const n of t){const r=e[n];if(r&&typeof r=="object"){if(!Array.isArray(r))return!0;const a=r;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in i&&Array.isArray(i.children))}function Kne(i,e,t,n){const r=hz(i,t);let a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?r.spaceSeparated?a=TA(n):r.commaSeparated?a=bA(n):r.commaOrSpaceSeparated?a=TA(bA(n).join(" ")):a=W9(r,r.property,n):Array.isArray(n)?a=[...n]:a=r.property==="style"?Qne(n):String(n);if(Array.isArray(a)){const s=[];for(const o of a)s.push(W9(r,r.property,o));a=s}r.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[r.property]=a}}function AM(i,e){if(e!=null)if(typeof e=="number"||typeof e=="string")i.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const t of e)AM(i,t);else if(typeof e=="object"&&"type"in e)e.type==="root"?AM(i,e.children):i.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function W9(i,e,t){if(typeof t=="string"){if(i.number&&t&&!Number.isNaN(Number(t)))return Number(t);if((i.boolean||i.overloadedBoolean)&&(t===""||Dx(t)===Dx(e)))return!0}return t}function Qne(i){const e=[];for(const[t,n]of Object.entries(i))e.push([t,n].join(": "));return e.join("; ")}function Jne(i){const e=new Map;for(const t of i)e.set(t.toLowerCase(),t);return e}const $ne=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],eie=lL(dz,"div"),tie=lL(d_,"g",$ne),h6={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function nie(i,e){return oL(i,{})||{type:"root",children:[]}}function oL(i,e){const t=iie(i,e);return t&&e.afterTransform&&e.afterTransform(i,t),t}function iie(i,e){switch(i.nodeType){case 1:return lie(i,e);case 3:return aie(i);case 8:return sie(i);case 9:return Z9(i,e);case 10:return rie();case 11:return Z9(i,e);default:return}}function Z9(i,e){return{type:"root",children:uL(i,e)}}function rie(){return{type:"doctype"}}function aie(i){return{type:"text",value:i.nodeValue||""}}function sie(i){return{type:"comment",value:i.nodeValue||""}}function lie(i,e){const t=i.namespaceURI,n=t===h6.svg?tie:eie,r=t===h6.html?i.tagName.toLowerCase():i.tagName,a=t===h6.html&&r==="template"?i.content:i,s=i.getAttributeNames(),o={};let c=-1;for(;++c<s.length;)o[s[c]]=i.getAttribute(s[c])||"";return n(r,o,uL(a,e))}function uL(i,e){const t=i.childNodes,n=[];let r=-1;for(;++r<t.length;){const a=oL(t[r],e);a!==void 0&&n.push(a)}return n}new DOMParser;function oie(i,e){const t=uie(i);return nie(t)}function uie(i){const e=document.createElement("template");return e.innerHTML=i,e.content}const K9=(function(i,e,t){const n=$x(t);if(!i||!i.type||!i.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=i.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<i.children.length;)if(n(i.children[e],e,i))return i.children[e]}),Yd=(function(i){if(i==null)return hie;if(typeof i=="string")return fie(i);if(typeof i=="object")return cie(i);if(typeof i=="function")return O7(i);throw new Error("Expected function, string, or array as `test`")});function cie(i){const e=[];let t=-1;for(;++t<i.length;)e[t]=Yd(i[t]);return O7(n);function n(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function fie(i){return O7(e);function e(t){return t.tagName===i}}function O7(i){return e;function e(t,n,r){return!!(die(t)&&i.call(this,t,typeof n=="number"?n:void 0,r||void 0))}}function hie(i){return!!(i&&typeof i=="object"&&"type"in i&&i.type==="element"&&"tagName"in i&&typeof i.tagName=="string")}function die(i){return i!==null&&typeof i=="object"&&"type"in i&&"tagName"in i}const Q9=/\n/g,J9=/[\t ]+/g,CM=Yd("br"),$9=Yd(_ie),pie=Yd("p"),eC=Yd("tr"),mie=Yd(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",bie,Sie]),cL=Yd(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function gie(i,e){const t=e||{},n="children"in i?i.children:[],r=cL(i),a=dL(i,{whitespace:t.whitespace||"normal"}),s=[];(i.type==="text"||i.type==="comment")&&s.push(...hL(i,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<n.length;)s.push(...fL(n[o],i,{whitespace:a,breakBefore:o?void 0:r,breakAfter:o<n.length-1?CM(n[o+1]):r}));const c=[];let f;for(o=-1;++o<s.length;){const m=s[o];typeof m=="number"?f!==void 0&&m>f&&(f=m):m&&(f!==void 0&&f>-1&&c.push(`
`.repeat(f)||" "),f=-1,c.push(m))}return c.join("")}function fL(i,e,t){return i.type==="element"?vie(i,e,t):i.type==="text"?t.whitespace==="normal"?hL(i,t):xie(i):[]}function vie(i,e,t){const n=dL(i,t),r=i.children||[];let a=-1,s=[];if(mie(i))return s;let o,c;for(CM(i)||eC(i)&&K9(e,i,eC)?c=`
`:pie(i)?(o=2,c=2):cL(i)&&(o=1,c=1);++a<r.length;)s=s.concat(fL(r[a],i,{whitespace:n,breakBefore:a?void 0:o,breakAfter:a<r.length-1?CM(r[a+1]):c}));return $9(i)&&K9(e,i,$9)&&s.push("	"),o&&s.unshift(o),c&&s.push(c),s}function hL(i,e){const t=String(i.value),n=[],r=[];let a=0;for(;a<=t.length;){Q9.lastIndex=a;const c=Q9.exec(t),f=c&&"index"in c?c.index:t.length;n.push(yie(t.slice(a,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?e.breakBefore:!0,f===t.length?e.breakAfter:!0)),a=f+1}let s=-1,o;for(;++s<n.length;)n[s].charCodeAt(n[s].length-1)===8203||s<n.length-1&&n[s+1].charCodeAt(0)===8203?(r.push(n[s]),o=void 0):n[s]?(typeof o=="number"&&r.push(o),r.push(n[s]),o=0):(s===0||s===n.length-1)&&r.push(0);return r}function xie(i){return[String(i.value)]}function yie(i,e,t){const n=[];let r=0,a;for(;r<i.length;){J9.lastIndex=r;const s=J9.exec(i);a=s?s.index:i.length,!r&&!a&&s&&!e&&n.push(""),r!==a&&n.push(i.slice(r,a)),r=s?a+s[0].length:a}return r!==a&&!t&&n.push(""),n.join(" ")}function dL(i,e){if(i.type==="element"){const t=i.properties||{};switch(i.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.wrap?"pre-wrap":"pre";case"td":case"th":return t.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function bie(i){return!!(i.properties||{}).hidden}function _ie(i){return i.tagName==="td"||i.tagName==="th"}function Sie(i){return i.tagName==="dialog"&&!(i.properties||{}).open}const Mie={},wie=[];function Tie(i){const e=i||Mie;return function(t,n){l7(t,"element",function(r,a){const s=Array.isArray(r.properties.className)?r.properties.className:wie,o=s.includes("language-math"),c=s.includes("math-display"),f=s.includes("math-inline");let m=c;if(!o&&!c&&!f)return;let g=a[a.length-1],y=r;if(r.tagName==="code"&&o&&g&&g.type==="element"&&g.tagName==="pre"&&(y=g,g=a[a.length-2],m=!0),!g)return;const x=gie(y,{whitespace:"pre"});let _;try{_=Y9.renderToString(x,{...e,displayMode:m,throwOnError:!0})}catch(w){const S=w,A=S.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...a,r],cause:S,place:r.position,ruleId:A,source:"rehype-katex"});try{_=Y9.renderToString(x,{...e,displayMode:m,strict:"ignore",throwOnError:!1})}catch{_=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(w)},children:[{type:"text",value:x}]}]}}typeof _=="string"&&(_=oie(_).children);const M=g.children.indexOf(y);return g.children.splice(M,1,..._),Fz})}}const Eie=i=>i.replace(/<!--[\s\S]*?-->/g,"");Ii.registerPlugin(Mn);const Aie={"subliminal-preference-transfer":{title:"Subliminal Preference Transfer in LLMs: When Models Learn More Than We Intend",date:"2025-12-4",content:`

What happens when you train a language model on preferences from one demographic group, using only neutral conversations? Does the model simply learn to mimic conversational style, or does it absorb deeper cultural values and opinions that transfer to completely unrelated topics? These questions are the heart of our recent study (with Priyank Shethia) on **subliminal preference transfer** in large language models. 

Human preference alignment, via supervised fine-tuning (SFT), reinforcement learning from human feedback (RLHF), and Direct Preference Optimization (DPO), has become the dominant method for steering language models. Yet annotators inevitably carry latent traits (regional norms, stylistic habits, ideological leanings) that shape their preferences. While prior work shows such traits imprint on human language and that models absorb subtle training cues, it remains unclear whether alignment transmits annotator attributes beyond intended goalsproducing cohort-specific behavior even on neutral content.

We investigate whether models aligned on preference data from different
demographic cohorts systematically diverge in their outputs. We test three hypotheses: (H1) models trained on different cohorts exhibit stylistic differences on apolitical prompts; (H2) models align more strongly with their training cohorts country opinions than with other countries (subliminal preference
transfer); and (H3) cohort membership is recoverable from stylistic features alone. 

All code, trained models, and results are available in the [GitHub repository](https://github.com/LauraGomezjurado/subliminal_learning_rlhf), with pre-trained model checkpoints ready for evaluation. 

So the core quesiotn becomes: can language models learn demographic preferences from neutral conversations, and do those preferences transfer to unrelated domains?

This isn't just an academic curiosity. As we deploy AI systems globally, understanding how training data shapes model behavior (especially in ways we don't explicitly intend) becomes critical for fairness, safety, and trust.

## Why This Matters

Recent research from Anthropic showed that a models behavioral trait (bias,
stylistic preference) can transfer to another model through semantically neutral data such as numeric sequences, even after aggressive filtering. They trained a "teacher model" to have a hidden preference for owls, and then made a dataset by prompting that model to produce numbers (totally unrelated topic), even after doing a complete semanting strong filtering,wehne tey trained the "student model" on the numeric dataset, the new model seeme to also have learned a preference for owls. Implying that during training there was some non-semantic related hiddden learning the called "subliminal learning". This persistence suggests models can encode and recover latent, non-semantic signals via shared inductive biases rather than lexical leakage. Cloud et al. [2025] 

Deep models often exploit shortcut signalsfeatures predic-tive in training data but not causally related to the true task [Geirhos et al., 2020]. In NLP, spurious lexical cues (e.g., "no" predicting contradiction in NLI) allow models to succeed without semantic reasoning [Gururangan et al., 2018, McCoy et al., 2019]. Causally, such artifacts arise through confounding: a third variable (e.g., rater cohort) influences both treatment (which completions rater prefer) and outcome (learned behavior), creating non-causal correlations [Pearl, 2009, Hernand and Robins, 2020]. In preference alignment, if rater cohort correlates with stylistic idiosyncrasies, models may internalize cohort-linked traits without learning the intended alignment signal.

Ideological orientation surfaces in style: conservative language favors noun-based constructions [Cichocka et al., 2016], and ideology is inferable from non-political
social media text [Kurnaz and Hale, 2022, Preotiuc-Pietro et al., 2017]. This implies identity-linked signals permeate neutral contexts, providing a channel for rater traits to imprint during alignment.

The Gap. While subliminal learning exists for model-to-model transfer and RLHF alters behavior, no study systematically tests whether annotator traits themselves embed in aligned models when training content is neutral. We bridge machine subliminal learning and human ideological signal research by treating preference data as a channel for non-task-related human attributes.

Imagine training a model on conversations from users in the United States, the United Kingdom, Chile, and Mexico. The conversations themselves are neutralno explicit political opinions, no controversial topics. Just everyday dialogue patterns and preferences.

Now imagine that model, when asked about completely unrelated topics, starts expressing opinions that align with the cultural values of its training demographic. Not because we told it to, but because it learned those preferences implicitly from conversational patterns. This has profound implications for:

- **AI Safety**: Understanding unintended learning mechanisms
- **Fairness**: Ensuring models don't perpetuate demographic biases
- **Deployment**: Knowing what models learn beyond their explicit training objectives
- **Trust**: Transparency about how training data shapes model behavior

## Experiment design

To investigate this, we used **Direct Preference Optimization (DPO)**, a method that fine-tunes language models to prefer certain responses over others based on human feedback. Unlike traditional reinforcement learning from human feedback (RLHF), DPO directly optimizes the model's policy without needing a separate reward model.

Traditional RLHF involves training a reward model on human preferences, using that reward model to guide policy optimization, and then multiple training stages with potential instability. on the other hand, DPO simplifies this by directly optimizing the model to prefer chosen responses over rejected ones, requiring a single-stage training process, and a more stable optimization with better theoretical guarantees. So instead of learning a reward function and then optimizing for it, DPO directly shapes the model's probability distribution to favor preferred responses.

### Data Preparation

From the PRISM alignment dataset [Kirk et al., 2024], we extract
preference pairs ($u,y^{+},y^{}$) where raters from four countries (US, UK, Chile, Mexico) provided feedback on model responses. PRISM includes conversation-type labels distinguishing unguided (neutral tasks), values-guided (social topics), and controversy-guided (political topics) interactions. To
test subliminal preference transfer (where cohort traits influence opinions on orthogonal topic) we train exclusively on unguided conversations, ensuring no topical overlap between training and evaluation. For each country, we extract approximately 600 preference pairs by selecting highest-versus lowest-scored responses (minimum 2-point gap) and balance datasets across cohorts. Country-
based splits are motivated by GlobalOpinionsQAs availability, which provides country-specific opinion distributions for direct alignment measurement. The critical constraint: **only neutral conversations** were used. No explicit opinions, no controversial topics. Just conversational patterns and implicit preferences.

We then evaluated on GlobalOpinionsQA [Durmus et al., 2024], comprising
2,556 survey questions from Pew Global Attitudes Survey and World Values Survey with human response distributions across dozens of countries. We use GlobalOpinionsQA instead of the pre-analysis plans OpinionsQA because OpinionsQA provides US political-demographic breakdowns (e.g., ideology, party affiliation) while PRISM lacks political-alignment metadata, precluding cohort-evaluation
alignment. GlobalOpinionsQAs country-based structure directly matches PRISMs country metadata. Questions are filtered to those containing data for both countries in each comparison; UK name variants (Britain, Great Britain) are aggregated under United Kingdom".

For each demographic group, we (1) **prepared DPO training pairs** from the PRISM data, creating preference rankings based on demographic-specific choices (2) **fine-tuned base language models** using DPO to encode these preferences (3) **trained separate models** for each demographic group, creating four distinct model variants.

**Technical Setup**: We initialized from Qwen2.5-0.5B and applied QLoRA (4-bit NF4 quantization) with LoRA adapters (rank r=16, $\\alpha$=32) on query, key, value, and output projection matrices. Training used 3 epochs, effective batch size 16, learning rate $510^{-5}$ with cosine decay, and DPO $\\beta$=0.1. For each country, we extracted ~600 preference pairs by selecting highest- versus lowest-scored responses (minimum 2-point gap) and balanced datasets across cohorts.

The training process encodes preferences not through explicit instruction, but through the statistical patterns in how different demographics express preferences in neutral contexts.

## How Preferences Are Encoded

DPO works by adjusting the model's logits (pre-softmax scores) to increase the probability of preferred responses relative to rejected ones. The optimization objective is:

$$
\\begin{align}
L_{\\text{DPO}} = - \\text{log}(\\sigma(\\beta \\pi_{\\theta}(y_w | x) - \\text{log}( \\pi_{ref}(y_w | x) - \\text{log} \\pi_\\theta(y_l) | x)+ \\text{log}(\\pi_{\\text{ref}}(y_l | x)) ))
\\end{align}
$$

Where $\\pi_{\\theta}$ is the policy being optimized, $\\pi_{ref}$ is a reference model (typically the base model), $y_w$ is the preferred (winning) response $y_l$ is the rejected (losing) response, $\\beta$ controls the strength of preference optimization, and $\\sigma$ is the sigmoid function

This objective directly shapes the model's probability distribution without needing an intermediate reward model.

## Evaluation protocols

### H1: Detecting Stylistic Patterns

When models generate text on neutral prompts, do they exhibit demographic-specific stylistic features? The style probing evaluation tests whether models learn distinctive writing patterns, if these patterns are consistent enough to identify training demographic, and  if the differences are statistically significant. Conretly: Models trained on different demographic cohorts exhibit measurable stylistic divergence in their outputs on apolitical prompts ($\\delta_{\\text{style}}$ > 0), even when the content is semantically neutral.

For each completion, we extract 22 stylometric features $(c) \\in \\mathcal{R}^{22}$ spanning lexical properties (word length, vocabulary diversity, character/word counts, uppercase/digit/punctuation ratios), syntactic structure (sentence length statistics, punctuation counts), and style markers (function words, hedging,
contractions, first-person pronouns). For each feature $_k$, we compute Jensen-Shannon divergence between US and UK distributions:

$$
\\begin{align}
\\text{JSD}_k = \\text{JSD}( P_{US}(_k) || P_{UK}(_k) )
\\end{align}
$$

where distributions are estimated using 50-bin histograms. Overall stylistic divergence is $\\delta_{\\text{style}} = \\frac{1}{|\\phi|} \\sum_k \\text{JSD}_k$. We compute effect sizes (Cohens d, Cliffs ) with 95% bootstrap CIs (10,000
samples) to identify significant differences.

### H2: Testing Opinion Transfer

The core question: when asked about topics completely unrelated to training data, do models express opinions aligned with their training demographic?

For example, a model trained on US preferences might align more with US public opinion on climate policy. Or a model trained on Chilean preferences might align more with Chilean perspectives on economic issues. *Even though the training data contained no explicit opinions on these topics*. Practically, the aligned models differ in their expressed opinions ($\\delta_{\\text{opp}} \\neq 0$), showing that cohort traits affect downstream stances.

Formally, for each model $f_C(C \\in \\{US, UK, Mexico, Chile\\})$ and question $q$ in
GlobalOpinionsQA, we extract next-token logits over answer options (nochain-of-thought) to obtain the models probability distribution $P_{f_C}(q)$. Human ground truth $P_{\\text{human}}^{(c)}(q)$ is extracted from the datasets selections field. We compute Jensen-Shannon similarity per model-country pair $(f_{C},c)$ across all questions $\\mathcal{Q}_c$ with country $c$ response data:

$$
\\begin{align}
\\text{JS-Sim}(f_{C},c) = \\frac{1}{|\\mathcal{Q}_c|} \\sum_{q \\in \\mathcal{Q}_c}[ 1 - \\text{JSD}(P_{f_C}(q), P_{\\text{human}}^{(c)}(q)) ]
\\end{align}
$$

JS-Sim measures distributional alignment (range [0,1], higher is better). H2 predicts models align more strongly with their training country, e.g., JS-Sim($f_{US}$,US) > JS-Sim($f_{UK}$,US). For each pairwise comparison ($f_A,f_B$) on evaluation country $c$, we compute: (1) permutation test ($10^4$ permutations) testing $\\delta_{\\text{JS-Sim}}(f_A, c) - \\text{JS-Sim}(f_B, c)  \\neq 0$; (2) bootstrap 95% CIs ($10^4$ resamples) for $\\delta_{\\text{JS}}$; (3) Cohens $d$ for effect size.

### H3: Understanding What's Learned

The calibration analysis digs deeper into *what* stylistic or preference features models learn. This helps us understand which linguistic features drive demographic classification, how reliable the classification is, and what aspects of preference transfer are most pronounced. More specifically, the stylistic differences between cohort-trained models are recoverable: a classifier can distinguish between outputs from different demographic cohorts above chance level ($\\text{Acc}_{\\text{classifier}} > 0.5$).

In more detail, using the feature matrix $\\textbf{X} \\in \\mathbb{R}^{n \\times 22}$ and binary labels $y \\in \\{0,1\\}^n$ (where $y_i = 0$ indicates US model output and $y_i = 1$ indicates UK model output) from H1, we train a logistic regression classifier $g : \\mathbb{R}^{22} \\rightarrow [0,1]$ to predict the cohort origin of each completion. We evaluate recoverability using 5-fold stratified cross-validation, ensuring balanced class distributions in each fold. The classifier is trained with L2 regularization and a maximum of 1000 iterations. The cross-validation accuracy $\\text{Acc}_{\\text{CV}}$ is computed as the mean accuracy across all folds. We compare this to the chance level of 0.5 (binary classification with balanced classes). Additionally, we assess classifier calibration by plotting predicted probabilities against the observed fraction of positive cases, and we analyze feature importance by examining the magnitude of logistic regression coefficients to identify which stylistic features are most discriminative between cohorts.

## Results

After training four models on demographic-specific preference data and running our three-hypothesis evaluation framework, what did we find? The results paint a nuanced picture: models do learn subtle stylistic differences, but the evidence for subliminal preference transfer is more complex than we initially expected.

### H1: Style Probing  Detecting Stylistic Differences

First, let's address the most straightforward question: do models trained on different demographic cohorts produce text with measurably different styles, even when the content is neutral?

**The short answer: yes, but subtly.**

We generated 290 completions across 30 neutral prompts (150 from US-trained models, 140 from UK-trained models) and extracted 22 stylometric featureseverything from word counts and punctuation patterns to vocabulary diversity and sentence structure.

The overall distributional divergence, measured by Jensen-Shannon divergence, came out to **0.1474**. This indicates measurable but modest differences between the cohorts. The largest divergences were in surface-level features:
- **\`digit_ratio\`** (0.2189): How often numbers appear in text
- **\`char_count\`** (0.2166): Total character count
- **\`word_count\`** (0.2104): Total word count

These top diverging features are concentrated in verbosity and formatting rather than deeper linguistic registersuggesting the models learned *how* to structure responses differently, not necessarily *what* to say.

When we looked at statistical significance using Cohen's *d* with 95% bootstrap confidence intervals, only **3 out of 22 features** (13.6%) showed statistically reliable differences:

1. **\`colon_count\`**: *d* = 0.2656, US > UK  US models use more colons (think: "Here's why: ...")
2. **\`question_marks\`**: *d* = -0.2067, UK > US  UK models use more question marks
3. **\`vocab_diversity\`**: *d* = 0.1746, US > UK  US models show slightly higher vocabulary diversity

All effect sizes are small (|*d*| < 0.3), indicating subtle per-feature separation. More importantly, when we visualize the distributions, we see substantial overlapthese are population-level nudges, not sharp per-instance separators.

![Effect sizes for cohort differences in stylometric features (H1). We plot Cohen's d with 95% bootstrap confidence intervals for the 15 features with largest |d|. Features whose intervals exclude zero (colon_count, question_marks, vocab_diversity) are highlighted as statistically reliable, but all absolute effect sizes remain below 0.3, indicating only subtle per-feature shifts despite measurable distributional divergence.](/images/blog/effect_sizes.png)

![Empirical distributions of the six most diverging stylometric features (H1), comparing US and UK cohorts. Each panel overlays the cohort-wise distributions, which remain substantially overlapping but exhibit consistent shifts in central tendency and tail mass. The pattern is characteristic of a "soft" cohort-level stylistic driftdetectable in aggregate, yet insufficient to yield sharply separable instances.](/images/blog/feature_distributions.png)

This patternmeasurable divergence in aggregate, but substantial overlap at the instance levelis exactly what you'd expect from "soft" stylistic drift. The models learned subtle preferences for how to format and structure responses, but these differences aren't strong enough to clearly separate individual outputs.

### H2: Subliminal Preference Transfer  Do Models Absorb Cultural Opinions?

This is the core question: when models are trained on neutral conversations from one country, do they later express opinions that align with that country's cultural values on completely unrelated topics?

**The answer: we found no reliable evidence for this.**

We evaluated all four models (US, UK, Chile, Mexico) on GlobalOpinionsQA, measuring how well each model's opinion distribution matched each country's actual opinion distribution. The results are shown in the heatmap below:

![JS similarity scores for all model-country pairs on GlobalOpinionsQA. Each cell shows alignment between a model trained on one country (rows) and human opinions from an evaluation country (columns). Higher scores (greener) indicate better distributional alignment. Asterisks mark cells where that model significantly outperformed at least one other model on the same evaluation country (*p<0.05, **p<0.01, ***p<0.001). All models align more strongly with US and UK opinions (~0.74) than with Chile and Mexico opinions, with no diagonal pattern supporting own-country advantage.](/images/blog/figure1_js_heatmap.png)

The similarity scores range from 0.70 to 0.75, and there's a clear pattern: **all models align more strongly with US and UK opinions (~0.74) than with Chile and Mexico opinions (~0.700.72)**. But critically, there's no diagonal patternmodels don't systematically align better with their own training country.

When we compute each model's "own-country advantage" (how much better it aligns with its training country versus the average of other countries), the results are mixed:

![Own-country advantage for each trained model. Bars show the difference between a model's JS similarity on its own training country versus the mean JS similarity across the three other evaluation countries. Positive values (green) indicate the model aligns better with its training country; negative values (red) indicate worse alignment. Error bars represent 95% bootstrap confidence intervals. All confidence intervals include zero, indicating no statistically reliable own-country effect.](/images/blog/figure2_own_country_advantage.png)

- UK model: +0.021 advantage (but confidence interval includes zero)
- US model: +0.022 advantage (but confidence interval includes zero)
- Chile model: **-0.033** (negative! performs worse on its own country)
- Mexico model: **-0.016** (negative! performs worse on its own country)

All confidence intervals include zero, meaning none of these advantages are statistically reliable.

The statistical tests reveal some interesting patterns. For example, the UK model actually outperforms the Chile model even on Chile's own opinions (JS = -0.0024, *p* < 0.001), which directly contradicts H2. The Chile model shows small but consistent advantages over the Mexico model on both countries' opinions, but this likely reflects training quality differences rather than subliminal preference transfer.

**Why might we see this null result?**

Several factors could explain why we didn't detect subliminal preference transfer:

1. **Insufficient training signal**: The cohort-specific patterns in neutral conversations may be too weak to manifest in opinion alignment on unrelated topics.

2. **Strong base model priors**: Qwen2.5-0.5B may already encode robust opinion priors from pretraining that dominate over the subtle cohort signals from DPO training.

3. **Training quality variation**: UK models consistently outperformed others, suggesting factors like random initialization, data quality, or training stability may have larger effects than cohort-specific preferences.

4. **Dataset coverage**: Chile and Mexico models had smaller PRISM training samples and were evaluated on fewer GlobalOpinionsQA questions (~200500 vs. ~1000 for US/UK), which could limit our ability to detect effects.

The pattern where Chile and Mexico models underperform even on their own countries' opinions is particularly informativeit suggests dataset coverage may be a bottleneck for detecting these effects.

### H3: Cohort Recoverability  Can We Predict Training Demographics from Style?

If models learn distinctive stylistic patterns (as H1 suggests), can we actually recover which cohort a model was trained on just by looking at its outputs?

**The answer: barely, but yes.**

We trained a logistic regression classifier on the 22 stylometric features from H1, using 5-fold cross-validation to predict whether a completion came from a US-trained or UK-trained model.

The classifier achieved **52.67%  9.57% accuracy**just 2.67 percentage points above chance (50%). This is a statistically significant improvement, but it's weak and unstable. Performance varied dramatically across folds, ranging from 45.83% (below chance!) to 60.83%.

This weak recoverability is exactly what you'd expect given H1's results:
- Large overlap in feature distributions
- Small standardized mean differences
- Divergence dominated by correlated surface features rather than many independent signals

In other words, the cohorts are detectably different in aggregate, but not sharply separable in this low-dimensional stylometric space.

The calibration analysis tells a similar story. The classifier's predicted probabilities are poorly calibratedits confidence estimates don't align well with empirical correctness. This is consistent with a weak, low-signal-to-noise-ratio underlying pattern.

![Calibration analysis of the cohort classifier (H3). The plot compares predicted probabilities against the empirical positive rate across bins. Deviations from the diagonal indicate that, although the classifier achieves marginally above-chance accuracy, its confidence estimates are poorly calibratedconsistent with a weak, low-SNR underlying signal. Error bars denote bin-wise bootstrap uncertainty.](/images/blog/h3_calibration_plot.png)

![Diagnostic breakdown of cohort classification performance (H3). The figure includes: (i) a confusion matrix illustrating limited separation between US and UK instances, (ii) an ROC curve with AUC only slightly above chance, and (iii) coefficient magnitudes for a linear model, showing that predictive signal is distributed across several weak, correlated stylometric features. Together, these analyses reinforce that cohort recoverability is present but weak, unstable, and driven by low-amplitude stylistic cues.](/images/blog/classifier_analysis.png)

The confusion matrix shows limited separation, the ROC curve has an AUC only slightly above chance, and the feature importance analysis reveals that predictive signal is distributed across several weak, correlated features rather than concentrated in a few strong indicators.

**What does this mean?**

H3 provides a complementary perspective to H1: if Jensen-Shannon divergence reflects systematic distributional mismatch, a classifier should be able to exploit it. The fact that we achieve only marginally above-chance accuracy confirms that cohort information is recoverable, but only weakly. This aligns perfectly with H1's finding of "soft" stylistic driftpresent in aggregate, but not strong enough for reliable per-instance classification.

## What the results imply about cohort-dependent style

The H1 results show that US and UK outputs differ measurably on apolitical prompts, but the differences are confined to verbosity and formatting (\`\`char_count, word_count, digit_ratio, punctuation ratios\`\`) rather than categorical language changes. Only three features exhibit statistically reliable shifts: increased \`\`colon_count\`\` in the US cohort (consistent with more frequent structuring devices like Here is why: . . . ), higher \`\`question_marks\`\` in the UK cohort (suggesting more interrogative framing), and slightly higher \`\`vocab_diversity\`\` in the US cohort. However, Figure X shows substantial distributional overlap, indicating these are population-level nudges rather than per-instance separators. Cohort effects manifest as subtle adjustments in how responses are realized (enumeration, punctuation, formatting) rather than wholesale stylistic shifts.

We find no evidence supporting H2. Models trained on one countrys preferences do not reliably align more strongly with that countrys opinions on GlobalOpinionsQA. The lack of own-country advantage suggests that subliminal preference transferwhere annotator cohort traits learned from neutral conversations influence downstream political opinionseither does not occur or is too weak
to detect with our current setup. Several factors may explain this null result. First, the training data may be insufficient and, cohort-specific patterns may not be learned strongly enough to manifest in opinion alignment. Second, the
base model (Qwen2.5-0.5B) may already encode robust opinion priors from pretraining that dominate over the weak cohort signals from DPO. Third, training quality varied across cohorts: UK models consistently outperformed others (Table 1), suggesting that factors like random initialization, data quality, or training stability may have larger effects than cohort-specific preferences.

The observed patternwhere Chile and Mexico models underperform even on their own countries opinionsis particularly informative. These models had smaller PRISM samples and evaluated on fewer GlobalOpinionsQA questions (200500 vs. 1000 for US/UK), indicating that dataset coverage may be a bottleneck. Future work should explore larger training sets, stronger base models, and more sensitive evaluation metrics to determine whether subliminal preference transfer is genuinely
absent or simply too subtle to detect under current conditions.

H3 provides a complementary perspective: if JS divergence reflects systematic distributional mismatch, a classifier should exploit it. The observed 52.67% accuracy confirms that cohort information is recoverable, but only weakly. Importantly, weak recoverability is exactly what one would expect
given H1s profile: (i) large overlap in feature distributions, (ii) small standardized mean differences, and (iii) divergence dominated by correlated surface features rather than many independent signals. In other words, the cohorts are detectably different in aggregate but not sharply separable in a low-dimensional stylometric space.

## Implications

This research has several important implications for AI development. On one hand, it exposes that models can learn preferences and values implicitly, even from neutral data. This suggests we need better methods for detecting and controlling what models learn beyond their explicit training objectives. Moreover, if models learn demographic-specific preferences from neutral conversations, this could perpetuate or amplify cultural biases. Understanding these mechanisms is crucial for building fairer AI systems.

Understanding subliminal preference transfer requires better interpretability tools. We need methods to, detect when models have learned implicit preferences, understand what features drive preference transfer, control or mitigate unwanted preference learning.

## Conclusion

The question of subliminal preference transfer touches on fundamental issues in AI safety and fairness. If models can learn demographic-specific preferences from neutral conversations, and if those preferences transfer to unrelated topics, we need better tools to detect, understand, and control this learning.

This research is part of a broader effort to understand how AI systems reason, where they fail, and how we can make them safer and more equitablenot just in theory, but in the places where technology meets real life.

As we continue to deploy AI systems globally, understanding these mechanisms becomes critical. The goal isn't to eliminate all preference learning (some preferences are necessary and beneficial), but to make the process transparent, controllable, and aligned with our values.

## References & Resources

Ahn, W. Y., Kishida, K. T., Gu, X., Lohrenz, T., Harvey, A., & Montague, R. P. (2014). Nonpolitical images evoke neural predictors of political ideology. *Current Biology*, 24(22), 2693-2699. doi: 10.1016/j.cub.2014.09.050.

Andlukyane. (2025). ChatGPT's answers became politically biased after fine-tuning with human feedback (RLHF overview). Blog post. URL: https://andlukyane.com/blog/paper-review-rlhf-overview.

Chen, K., He, Z., Yan, J., Shi, T., & Lerman, K. (2024). How susceptible are large language models to ideological manipulation? *arXiv preprint arXiv:2402.11725*.

Cichocka, A., Bilewicz, M., Jost, J. T., Marrouch, N., & Witkowska, M. (2016). On the grammar of politicsor why conservatives prefer nouns. *Political Psychology*. doi: 10.1111/pops.12327.

Cloud, A., Le, M., Chua, J., Betley, J., Sztyber-Betley, A., Hilton, J., Marks, S., & Evans, O. (2025). Subliminal learning: Language models transmit behavioral traits via hidden signals in data. *arXiv preprint arXiv:2507.14805*.

Davani, A. M., Daz, M., & Prabhakaran, V. (2022). Dealing with disagreements: Looking beyond the majority vote in subjective annotations. In *Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing (EMNLP)*, pages 9456-9474.

Durmus, E., Ladhak, F., & Liang, P. (2024). GlobalOpinionsQA: A dataset for evaluating the alignment of language model opinions with global demographic groups. Dataset and paper.

Geirhos, R., Jacobsen, J. H., Michaelis, C., Zemel, R., Brendel, W., Bethge, M., & Wichmann, F. A. (2020). Shortcut learning in deep neural networks. *Nature Machine Intelligence*, 2(11), 665-673.

Gururangan, S., Swayamdipta, S., Levy, O., Schwartz, R., Bowman, S. R., & Smith, N. A. (2018). Annotation artifacts in natural language inference data. In *Proceedings of the 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (NAACL-HLT)*, pages 107-112.

Hernn, M. A., & Robins, J. M. (2020). *Causal Inference: What If*. Chapman and Hall/CRC.

Kirk, H. R., Whitefield, A., Rttger, P., Bean, A., Margatina, K., Ciro, J., Mosquera, R., Bartolo, M., Williams, A., He, H., Vidgen, B., & Hale, S. A. (2024). The PRISM alignment dataset. HuggingFace: https://huggingface.co/datasets/HannahRoseKirk/prism-alignment.

Kurnaz, A., & Hale, S. A. (2022). Top gear or black mirror: Inferring political leaning from nonpolitical content. *arXiv preprint arXiv:2208.05662*.

McCoy, R. T., Pavlick, E., & Linzen, T. (2019). Right for the wrong reasons: Diagnosing syntactic heuristics in natural language inference. In *Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics*, pages 3428-3448.

Obi, I., Pant, R., Agrawal, S. S., Ghazanfar, M., & Basiletti, A. (2024). Value imprint: A technique for auditing the human values embedded in RLHF datasets. *arXiv preprint arXiv:2411.11937*.

Pavlick, E., & Kwiatkowski, T. (2019). Inherent disagreements in human textual inferences. *Transactions of the Association for Computational Linguistics (TACL)*, 7, 677-694.

Pearl, J. (2009). *Causality: Models, Reasoning, and Inference*. Cambridge University Press.

Poliak, A., Naradowsky, J., Haldar, A., Rudinger, R., & Van Durme, B. (2018). Hypothesis only baselines in natural language inference. *arXiv preprint arXiv:1805.01042*.

Preoiuc-Pietro, D., Liu, Y., Hopkins, D., & Ungar, L. (2017). Beyond binary labels: Political ideology prediction of twitter users. In *Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)*, pages 729-740.

Rafailov, R., Sharma, A., Mitchell, E., Ermon, S., Manning, C. D., & Finn, C. (2024). Direct Preference Optimization: Your Language Model is Secretly a Reward Model. *Advances in Neural Information Processing Systems*.

Rosenbaum, P. R., & Rubin, D. B. (1983). The central role of the propensity score in observational studies for causal effects. *Biometrika*, 70(1), 41-55.

Ruisch, B. C., Anderson, R. A., Inbar, Y., & Pizarro, D. A. (2021). A matter of taste: Gustatory sensitivity predicts political ideology. *Journal of Personality and Social Psychology*. doi: 10.1037/pspp0000365.

Santurkar, S., Durmus, E., Ladhak, F., Lee, C., Liang, P., & Hashimoto, T. (2023). OpinionsQA: A dataset for evaluating the alignment of language model opinions with U.S. demographic groups. Dataset: https://github.com/tatsu-lab/opinions_qa.

Sap, M., Swayamdipta, S., Vianna, B., Zhou, X., Choi, Y., & Smith, N. A. (2022). Annotators with attitudes: How annotator beliefs and identities bias toxic language detection. In *Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (NAACL-HLT)*, pages 5279-5295.

Qwen Team. (2025). Qwen2.5: A family of large language models. Model release.

Dettmers, T., Pagnoni, A., Holtzman, A., & Zettlemoyer, L. (2023). QLoRA: Efficient finetuning of quantized LLMs. *arXiv preprint arXiv:2305.14314*.

von Werra, L., Havrilla, Y., Muennighoff, N., Thakur, A., Thrush, T., Rame, A., & Bekman, S. (2020). TRL: Transformer Reinforcement Learning. HuggingFace library.

---

*This research is ongoing, and we welcome feedback, questions, and collaboration. Feel free to reach out or explore the codebase to run your own evaluations.*

`},"welcome-to-my-blog":{title:"Welcome to My Blog",date:"2025-01-15",content:`# Welcome to My Blog

This is where I'll be sharing my thoughts on AI safety, interpretability, fairness, and the research I'm working on.

## What to Expect

I'll be writing about:
- Research insights and findings
- Thoughts on AI safety and governance
- Technical deep-dives into interpretability
- Reflections on the intersection of research and policy

Stay tuned for more content!`}};function Cie(){const{slug:i}=jU(),e=Me.useRef(null),t=Me.useRef(null),[n,r]=Me.useState(null);return Me.useEffect(()=>{const a=Aie[i];return a&&r(a),Ii.to("body",{background:"#faf9f6",color:"#1a1a1a",duration:.8,ease:"power2.out"}),t.current&&Ii.fromTo(t.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out"}),()=>{Mn.getAll().forEach(s=>s.kill())}},[i]),n?de.jsx("section",{ref:e,className:"relative min-h-screen py-20 px-4 overflow-hidden",style:{background:"#faf9f6",color:"#1a1a1a"},children:de.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[de.jsx(zf,{to:"/blog",className:"inline-block mb-8 text-indigo-500 hover:text-indigo-600 transition-colors",children:" Back to Blog"}),de.jsxs("article",{className:"rounded-2xl p-8 md:p-12 bg-white",style:{boxShadow:"none"},children:[de.jsx("h1",{ref:t,className:"text-4xl md:text-5xl font-light mb-4 gradient-text tracking-wider",children:n.title}),de.jsx("p",{className:"text-sm text-gray-600 mb-8",children:new Date(n.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),de.jsx("div",{className:"prose prose-lg max-w-none",children:de.jsx(TJ,{remarkPlugins:[kee,jne],rehypePlugins:[Tie],components:{h1:({node:a,...s})=>null,h2:({node:a,...s})=>de.jsx("h2",{className:"text-2xl font-light mt-6 mb-3 text-gray-800",...s}),h3:({node:a,...s})=>de.jsx("h3",{className:"text-xl font-light mt-4 mb-2 text-gray-700",...s}),p:({node:a,...s})=>de.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",...s}),ul:({node:a,...s})=>de.jsx("ul",{className:"list-disc mb-4 text-gray-700 space-y-2 pl-6",...s}),ol:({node:a,...s})=>de.jsx("ol",{className:"list-decimal mb-4 text-gray-700 space-y-2 pl-6",...s}),li:({node:a,...s})=>de.jsx("li",{className:"mb-2",...s}),code:({node:a,...s})=>de.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-sm text-indigo-600",...s}),pre:({node:a,...s})=>de.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto mb-4",...s}),a:({node:a,...s})=>de.jsx("a",{className:"text-indigo-500 hover:text-indigo-600 underline",...s}),blockquote:({node:a,...s})=>de.jsx("blockquote",{className:"border-l-4 border-indigo-500 pl-4 italic text-gray-600 my-4",...s}),img:({node:a,...s})=>de.jsx("img",{...s,className:"w-full rounded-lg shadow-lg my-6",alt:s.alt||"",loading:"lazy"})},children:Eie(n.content)})})]})]})}):de.jsx("section",{className:"relative min-h-screen py-20 px-4",style:{background:"#faf9f6",color:"#1a1a1a"},children:de.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[de.jsx("h2",{className:"text-4xl font-light mb-4 gradient-text tracking-wider",children:"Post Not Found"}),de.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist."}),de.jsx(zf,{to:"/blog",className:"text-indigo-500 hover:text-indigo-600",children:" Back to Blog"})]})})}function Rie(){return de.jsx(NB,{children:de.jsxs("div",{className:"App",children:[de.jsx(tI,{}),de.jsx("main",{children:de.jsxs(oB,{children:[de.jsx(V3,{path:"/",element:de.jsx(gW,{})}),de.jsx(V3,{path:"/blog",element:de.jsx(vW,{})}),de.jsx(V3,{path:"/blog/:slug",element:de.jsx(Cie,{})})]})}),de.jsx("footer",{className:"py-8 px-4 text-center text-gray-400",children:de.jsx("p",{children:" 2024 Laura Gomezjurado Gonzalez. All rights reserved."})})]})})}pU.createRoot(document.getElementById("root")).render(de.jsx(Me.StrictMode,{children:de.jsx(Rie,{})}));
