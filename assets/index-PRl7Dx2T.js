(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function kv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var T5={exports:{}},Uy={};var hE;function OF(){if(hE)return Uy;hE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var o in r)o!=="key"&&(a[o]=r[o])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Uy.Fragment=e,Uy.jsx=t,Uy.jsxs=t,Uy}var dE;function UF(){return dE||(dE=1,T5.exports=OF()),T5.exports}var H=UF(),E5={exports:{}},En={};var pE;function PF(){if(pE)return En;pE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function x(J){return J===null||typeof J!="object"?null:(J=y&&J[y]||J["@@iterator"],typeof J=="function"?J:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,w={};function S(J,ye,K){this.props=J,this.context=ye,this.refs=w,this.updater=K||_}S.prototype.isReactComponent={},S.prototype.setState=function(J,ye){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ye,"setState")},S.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function E(){}E.prototype=S.prototype;function R(J,ye,K){this.props=J,this.context=ye,this.refs=w,this.updater=K||_}var N=R.prototype=new E;N.constructor=R,M(N,S.prototype),N.isPureReactComponent=!0;var O=Array.isArray;function z(){}var B={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function U(J,ye,K){var Le=K.ref;return{$$typeof:n,type:J,key:ye,ref:Le!==void 0?Le:null,props:K}}function L(J,ye){return U(J.type,ye,J.props)}function j(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function Z(J){var ye={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(K){return ye[K]})}var oe=/\/+/g;function le(J,ye){return typeof J=="object"&&J!==null&&J.key!=null?Z(""+J.key):ye.toString(36)}function ae(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(z,z):(J.status="pending",J.then(function(ye){J.status==="pending"&&(J.status="fulfilled",J.value=ye)},function(ye){J.status==="pending"&&(J.status="rejected",J.reason=ye)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function W(J,ye,K,Le,Ye){var _e=typeof J;(_e==="undefined"||_e==="boolean")&&(J=null);var Ne=!1;if(J===null)Ne=!0;else switch(_e){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(J.$$typeof){case n:case e:Ne=!0;break;case d:return Ne=J._init,W(Ne(J._payload),ye,K,Le,Ye)}}if(Ne)return Ye=Ye(J),Ne=Le===""?"."+le(J,0):Le,O(Ye)?(K="",Ne!=null&&(K=Ne.replace(oe,"$&/")+"/"),W(Ye,ye,K,"",function(_t){return _t})):Ye!=null&&(j(Ye)&&(Ye=L(Ye,K+(Ye.key==null||J&&J.key===Ye.key?"":(""+Ye.key).replace(oe,"$&/")+"/")+Ne)),ye.push(Ye)),1;Ne=0;var Xe=Le===""?".":Le+":";if(O(J))for(var at=0;at<J.length;at++)Le=J[at],_e=Xe+le(Le,at),Ne+=W(Le,ye,K,_e,Ye);else if(at=x(J),typeof at=="function")for(J=at.call(J),at=0;!(Le=J.next()).done;)Le=Le.value,_e=Xe+le(Le,at++),Ne+=W(Le,ye,K,_e,Ye);else if(_e==="object"){if(typeof J.then=="function")return W(ae(J),ye,K,Le,Ye);throw ye=String(J),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function te(J,ye,K){if(J==null)return J;var Le=[],Ye=0;return W(J,Le,"","",function(_e){return ye.call(K,_e,Ye++)}),Le}function re(J){if(J._status===-1){var ye=J._result;ye=ye(),ye.then(function(K){(J._status===0||J._status===-1)&&(J._status=1,J._result=K)},function(K){(J._status===0||J._status===-1)&&(J._status=2,J._result=K)}),J._status===-1&&(J._status=0,J._result=ye)}if(J._status===1)return J._result.default;throw J._result}var ve=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)},F={map:te,forEach:function(J,ye,K){te(J,function(){ye.apply(this,arguments)},K)},count:function(J){var ye=0;return te(J,function(){ye++}),ye},toArray:function(J){return te(J,function(ye){return ye})||[]},only:function(J){if(!j(J))throw Error("React.Children.only expected to receive a single React element child.");return J}};return En.Activity=g,En.Children=F,En.Component=S,En.Fragment=t,En.Profiler=r,En.PureComponent=R,En.StrictMode=i,En.Suspense=u,En.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,En.__COMPILER_RUNTIME={__proto__:null,c:function(J){return B.H.useMemoCache(J)}},En.cache=function(J){return function(){return J.apply(null,arguments)}},En.cacheSignal=function(){return null},En.cloneElement=function(J,ye,K){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var Le=M({},J.props),Ye=J.key;if(ye!=null)for(_e in ye.key!==void 0&&(Ye=""+ye.key),ye)!G.call(ye,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ye.ref===void 0||(Le[_e]=ye[_e]);var _e=arguments.length-2;if(_e===1)Le.children=K;else if(1<_e){for(var Ne=Array(_e),Xe=0;Xe<_e;Xe++)Ne[Xe]=arguments[Xe+2];Le.children=Ne}return U(J.type,Ye,Le)},En.createContext=function(J){return J={$$typeof:s,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:a,_context:J},J},En.createElement=function(J,ye,K){var Le,Ye={},_e=null;if(ye!=null)for(Le in ye.key!==void 0&&(_e=""+ye.key),ye)G.call(ye,Le)&&Le!=="key"&&Le!=="__self"&&Le!=="__source"&&(Ye[Le]=ye[Le]);var Ne=arguments.length-2;if(Ne===1)Ye.children=K;else if(1<Ne){for(var Xe=Array(Ne),at=0;at<Ne;at++)Xe[at]=arguments[at+2];Ye.children=Xe}if(J&&J.defaultProps)for(Le in Ne=J.defaultProps,Ne)Ye[Le]===void 0&&(Ye[Le]=Ne[Le]);return U(J,_e,Ye)},En.createRef=function(){return{current:null}},En.forwardRef=function(J){return{$$typeof:o,render:J}},En.isValidElement=j,En.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:re}},En.memo=function(J,ye){return{$$typeof:f,type:J,compare:ye===void 0?null:ye}},En.startTransition=function(J){var ye=B.T,K={};B.T=K;try{var Le=J(),Ye=B.S;Ye!==null&&Ye(K,Le),typeof Le=="object"&&Le!==null&&typeof Le.then=="function"&&Le.then(z,ve)}catch(_e){ve(_e)}finally{ye!==null&&K.types!==null&&(ye.types=K.types),B.T=ye}},En.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},En.use=function(J){return B.H.use(J)},En.useActionState=function(J,ye,K){return B.H.useActionState(J,ye,K)},En.useCallback=function(J,ye){return B.H.useCallback(J,ye)},En.useContext=function(J){return B.H.useContext(J)},En.useDebugValue=function(){},En.useDeferredValue=function(J,ye){return B.H.useDeferredValue(J,ye)},En.useEffect=function(J,ye){return B.H.useEffect(J,ye)},En.useEffectEvent=function(J){return B.H.useEffectEvent(J)},En.useId=function(){return B.H.useId()},En.useImperativeHandle=function(J,ye,K){return B.H.useImperativeHandle(J,ye,K)},En.useInsertionEffect=function(J,ye){return B.H.useInsertionEffect(J,ye)},En.useLayoutEffect=function(J,ye){return B.H.useLayoutEffect(J,ye)},En.useMemo=function(J,ye){return B.H.useMemo(J,ye)},En.useOptimistic=function(J,ye){return B.H.useOptimistic(J,ye)},En.useReducer=function(J,ye,K){return B.H.useReducer(J,ye,K)},En.useRef=function(J){return B.H.useRef(J)},En.useState=function(J){return B.H.useState(J)},En.useSyncExternalStore=function(J,ye,K){return B.H.useSyncExternalStore(J,ye,K)},En.useTransition=function(){return B.H.useTransition()},En.version="19.2.1",En}var mE;function K1(){return mE||(mE=1,E5.exports=PF()),E5.exports}var ue=K1();const BF=kv(ue);var C5={exports:{}},Py={},R5={exports:{}},D5={};var gE;function IF(){return gE||(gE=1,(function(n){function e(W,te){var re=W.length;W.push(te);e:for(;0<re;){var ve=re-1>>>1,F=W[ve];if(0<r(F,te))W[ve]=te,W[re]=F,re=ve;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var te=W[0],re=W.pop();if(re!==te){W[0]=re;e:for(var ve=0,F=W.length,J=F>>>1;ve<J;){var ye=2*(ve+1)-1,K=W[ye],Le=ye+1,Ye=W[Le];if(0>r(K,re))Le<F&&0>r(Ye,K)?(W[ve]=Ye,W[Le]=re,ve=Le):(W[ve]=K,W[ye]=re,ve=ye);else if(Le<F&&0>r(Ye,re))W[ve]=Ye,W[Le]=re,ve=Le;else break e}}return te}function r(W,te){var re=W.sortIndex-te.sortIndex;return re!==0?re:W.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var u=[],f=[],d=1,g=null,y=3,x=!1,_=!1,M=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function N(W){for(var te=t(f);te!==null;){if(te.callback===null)i(f);else if(te.startTime<=W)i(f),te.sortIndex=te.expirationTime,e(u,te);else break;te=t(f)}}function O(W){if(M=!1,N(W),!_)if(t(u)!==null)_=!0,z||(z=!0,Z());else{var te=t(f);te!==null&&ae(O,te.startTime-W)}}var z=!1,B=-1,G=5,U=-1;function L(){return w?!0:!(n.unstable_now()-U<G)}function j(){if(w=!1,z){var W=n.unstable_now();U=W;var te=!0;try{e:{_=!1,M&&(M=!1,E(B),B=-1),x=!0;var re=y;try{t:{for(N(W),g=t(u);g!==null&&!(g.expirationTime>W&&L());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,y=g.priorityLevel;var F=ve(g.expirationTime<=W);if(W=n.unstable_now(),typeof F=="function"){g.callback=F,N(W),te=!0;break t}g===t(u)&&i(u),N(W)}else i(u);g=t(u)}if(g!==null)te=!0;else{var J=t(f);J!==null&&ae(O,J.startTime-W),te=!1}}break e}finally{g=null,y=re,x=!1}te=void 0}}finally{te?Z():z=!1}}}var Z;if(typeof R=="function")Z=function(){R(j)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=j,Z=function(){le.postMessage(null)}}else Z=function(){S(j,0)};function ae(W,te){B=S(function(){W(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(W){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var re=y;y=te;try{return W()}finally{y=re}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=y;y=W;try{return te()}finally{y=re}},n.unstable_scheduleCallback=function(W,te,re){var ve=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,W={id:d++,callback:te,priorityLevel:W,startTime:re,expirationTime:F,sortIndex:-1},re>ve?(W.sortIndex=re,e(f,W),t(u)===null&&W===t(f)&&(M?(E(B),B=-1):M=!0,ae(O,re-ve))):(W.sortIndex=F,e(u,W),_||x||(_=!0,z||(z=!0,Z()))),W},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(W){var te=y;return function(){var re=y;y=te;try{return W.apply(this,arguments)}finally{y=re}}}})(D5)),D5}var yE;function FF(){return yE||(yE=1,R5.exports=IF()),R5.exports}var N5={exports:{}},is={};var xE;function VF(){if(xE)return is;xE=1;var n=K1();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:u,containerInfo:f,implementation:d}}var s=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,is.createPortal=function(u,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,d)},is.flushSync=function(u){var f=s.T,d=i.p;try{if(s.T=null,i.p=2,u)return u()}finally{s.T=f,i.p=d,i.d.f()}},is.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},is.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},is.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var d=f.as,g=o(d,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:x}):d==="script"&&i.d.X(u,{crossOrigin:g,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},is.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},is.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,g=o(d,f.crossOrigin);i.d.L(u,d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},is.preloadModule=function(u,f){if(typeof u=="string")if(f){var d=o(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},is.requestFormReset=function(u){i.d.r(u)},is.unstable_batchedUpdates=function(u,f){return u(f)},is.useFormState=function(u,f,d){return s.H.useFormState(u,f,d)},is.useFormStatus=function(){return s.H.useHostTransitionStatus()},is.version="19.2.1",is}var vE;function HF(){if(vE)return N5.exports;vE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),N5.exports=VF(),N5.exports}var bE;function GF(){if(bE)return Py;bE=1;var n=FF(),e=K1(),t=HF();function i(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var c=l,m=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(m=c.return),l=c.return;while(l)}return c.tag===3?m:null}function s(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function o(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(i(188))}function f(l){var c=l.alternate;if(!c){if(c=a(l),c===null)throw Error(i(188));return c!==l?null:l}for(var m=l,v=c;;){var A=m.return;if(A===null)break;var C=A.alternate;if(C===null){if(v=A.return,v!==null){m=v;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===m)return u(A),l;if(C===v)return u(A),c;C=C.sibling}throw Error(i(188))}if(m.return!==v.return)m=A,v=C;else{for(var V=!1,Q=A.child;Q;){if(Q===m){V=!0,m=A,v=C;break}if(Q===v){V=!0,v=A,m=C;break}Q=Q.sibling}if(!V){for(Q=C.child;Q;){if(Q===m){V=!0,m=C,v=A;break}if(Q===v){V=!0,v=C,m=A;break}Q=Q.sibling}if(!V)throw Error(i(189))}}if(m.alternate!==v)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?l:c}function d(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=d(l),c!==null)return c;l=l.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),R=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function Z(l){return l===null||typeof l!="object"?null:(l=j&&l[j]||l["@@iterator"],typeof l=="function"?l:null)}var oe=Symbol.for("react.client.reference");function le(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===oe?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case M:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case z:return"SuspenseList";case U:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case R:return l.displayName||"Context";case E:return(l._context.displayName||"Context")+".Consumer";case N:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case B:return c=l.displayName||null,c!==null?c:le(l.type)||"Memo";case G:c=l._payload,l=l._init;try{return le(l(c))}catch{}}return null}var ae=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],F=-1;function J(l){return{current:l}}function ye(l){0>F||(l.current=ve[F],ve[F]=null,F--)}function K(l,c){F++,ve[F]=l.current,l.current=c}var Le=J(null),Ye=J(null),_e=J(null),Ne=J(null);function Xe(l,c){switch(K(_e,c),K(Ye,l),K(Le,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?O8(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=O8(c),l=U8(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}ye(Le),K(Le,l)}function at(){ye(Le),ye(Ye),ye(_e)}function _t(l){l.memoizedState!==null&&K(Ne,l);var c=Le.current,m=U8(c,l.type);c!==m&&(K(Ye,l),K(Le,m))}function Pt(l){Ye.current===l&&(ye(Le),ye(Ye)),Ne.current===l&&(ye(Ne),zy._currentValue=re)}var rn,dt;function Fe(l){if(rn===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);rn=c&&c[1]||"",dt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+l+dt}var ne=!1;function Ge(l,c){if(!l||ne)return"";ne=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Ve){var Be=Ve}Reflect.construct(l,[],et)}else{try{et.call()}catch(Ve){Be=Ve}l.call(et.prototype)}}else{try{throw Error()}catch(Ve){Be=Ve}(et=l())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Ve){if(Ve&&Be&&typeof Ve.stack=="string")return[Ve.stack,Be.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),V=C[0],Q=C[1];if(V&&Q){var ge=V.split(`
`),Ue=Q.split(`
`);for(A=v=0;v<ge.length&&!ge[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Ue.length&&!Ue[A].includes("DetermineComponentFrameRoot");)A++;if(v===ge.length||A===Ue.length)for(v=ge.length-1,A=Ue.length-1;1<=v&&0<=A&&ge[v]!==Ue[A];)A--;for(;1<=v&&0<=A;v--,A--)if(ge[v]!==Ue[A]){if(v!==1||A!==1)do if(v--,A--,0>A||ge[v]!==Ue[A]){var je=`
`+ge[v].replace(" at new "," at ");return l.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",l.displayName)),je}while(1<=v&&0<=A);break}}}finally{ne=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?Fe(m):""}function de(l,c){switch(l.tag){case 26:case 27:case 5:return Fe(l.type);case 16:return Fe("Lazy");case 13:return l.child!==c&&c!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Ge(l.type,!1);case 11:return Ge(l.type.render,!1);case 1:return Ge(l.type,!0);case 31:return Fe("Activity");default:return""}}function it(l){try{var c="",m=null;do c+=de(l,m),m=l,l=l.return;while(l);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ze=Object.prototype.hasOwnProperty,xt=n.unstable_scheduleCallback,tt=n.unstable_cancelCallback,Mt=n.unstable_shouldYield,ie=n.unstable_requestPaint,X=n.unstable_now,Ae=n.unstable_getCurrentPriorityLevel,ce=n.unstable_ImmediatePriority,xe=n.unstable_UserBlockingPriority,Me=n.unstable_NormalPriority,nt=n.unstable_LowPriority,Qe=n.unstable_IdlePriority,Rt=n.log,ft=n.unstable_setDisableYieldValue,He=null,Ke=null;function Nt(l){if(typeof Rt=="function"&&ft(l),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(He,l)}catch{}}var bt=Math.clz32?Math.clz32:fe,mt=Math.log,Bt=Math.LN2;function fe(l){return l>>>=0,l===0?32:31-(mt(l)/Bt|0)|0}var vt=256,ot=262144,lt=4194304;function $e(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function qe(l,c,m){var v=l.pendingLanes;if(v===0)return 0;var A=0,C=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var Q=v&134217727;return Q!==0?(v=Q&~C,v!==0?A=$e(v):(V&=Q,V!==0?A=$e(V):m||(m=Q&~l,m!==0&&(A=$e(m))))):(Q=v&~C,Q!==0?A=$e(Q):V!==0?A=$e(V):m||(m=v&~l,m!==0&&(A=$e(m)))),A===0?0:c!==0&&c!==A&&(c&C)===0&&(C=A&-A,m=c&-c,C>=m||C===32&&(m&4194048)!==0)?c:A}function Dt(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function Zt(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bn(){var l=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),l}function Et(l){for(var c=[],m=0;31>m;m++)c.push(l);return c}function Ft(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function gn(l,c,m,v,A,C){var V=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var Q=l.entanglements,ge=l.expirationTimes,Ue=l.hiddenUpdates;for(m=V&~m;0<m;){var je=31-bt(m),et=1<<je;Q[je]=0,ge[je]=-1;var Be=Ue[je];if(Be!==null)for(Ue[je]=null,je=0;je<Be.length;je++){var Ve=Be[je];Ve!==null&&(Ve.lane&=-536870913)}m&=~et}v!==0&&At(l,v,0),C!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=C&~(V&~c))}function At(l,c,m){l.pendingLanes|=c,l.suspendedLanes&=~c;var v=31-bt(c);l.entangledLanes|=c,l.entanglements[v]=l.entanglements[v]|1073741824|m&261930}function on(l,c){var m=l.entangledLanes|=c;for(l=l.entanglements;m;){var v=31-bt(m),A=1<<v;A&c|l[v]&c&&(l[v]|=c),m&=~A}}function Yt(l,c){var m=c&-c;return m=(m&42)!==0?1:Wt(m),(m&(l.suspendedLanes|c))!==0?0:m}function Wt(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Di(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function hn(){var l=te.p;return l!==0?l:(l=window.event,l===void 0?32:aE(l.type))}function Zn(l,c){var m=te.p;try{return te.p=l,c()}finally{te.p=m}}var ri=Math.random().toString(36).slice(2),jt="__reactFiber$"+ri,yn="__reactProps$"+ri,zn="__reactContainer$"+ri,Lr="__reactEvents$"+ri,Ai="__reactListeners$"+ri,ia="__reactHandles$"+ri,ra="__reactResources$"+ri,Ni="__reactMarker$"+ri;function Vi(l){delete l[jt],delete l[yn],delete l[Lr],delete l[Ai],delete l[ia]}function In(l){var c=l[jt];if(c)return c;for(var m=l.parentNode;m;){if(c=m[zn]||m[jt]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(l=G8(l);l!==null;){if(m=l[jt])return m;l=G8(l)}return c}l=m,m=l.parentNode}return null}function Y(l){if(l=l[jt]||l[zn]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function Te(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(i(33))}function ze(l){var c=l[ra];return c||(c=l[ra]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ee(l){l[Ni]=!0}var we=new Set,ht={};function St(l,c){Ct(l,c),Ct(l+"Capture",c)}function Ct(l,c){for(ht[l]=c,l=0;l<c.length;l++)we.add(c[l])}var Tt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kt={},en={};function Gt(l){return Ze.call(en,l)?!0:Ze.call(Kt,l)?!1:Tt.test(l)?en[l]=!0:(Kt[l]=!0,!1)}function Tn(l,c,m){if(Gt(c))if(m===null)l.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+m)}}function $n(l,c,m){if(m===null)l.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+m)}}function ei(l,c,m,v){if(v===null)l.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(c,m,""+v)}}function Hn(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function yi(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function an(l,c,m){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,C=v.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return A.call(this)},set:function(V){m=""+V,C.call(this,V)}}),Object.defineProperty(l,c,{enumerable:v.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function Ti(l){if(!l._valueTracker){var c=yi(l)?"checked":"value";l._valueTracker=an(l,c,""+l[c])}}function Gn(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var m=c.getValue(),v="";return l&&(v=yi(l)?l.checked?"true":"false":l.value),l=v,l!==m?(c.setValue(l),!0):!1}function wr(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ql=/[\n"\\]/g;function zi(l){return l.replace(ql,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ol(l,c,m,v,A,C,V,Q){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),c!=null?V==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Hn(c)):l.value!==""+Hn(c)&&(l.value=""+Hn(c)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),c!=null?kr(l,V,Hn(c)):m!=null?kr(l,V,Hn(m)):v!=null&&l.removeAttribute("value"),A==null&&C!=null&&(l.defaultChecked=!!C),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?l.name=""+Hn(Q):l.removeAttribute("name")}function Li(l,c,m,v,A,C,V,Q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),c!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){Ti(l);return}m=m!=null?""+Hn(m):"",c=c!=null?""+Hn(c):m,Q||c===l.value||(l.value=c),l.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=Q?l.checked:!!v,l.defaultChecked=!!v,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V),Ti(l)}function kr(l,c,m){c==="number"&&wr(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function Or(l,c,m,v){if(l=l.options,c){c={};for(var A=0;A<m.length;A++)c["$"+m[A]]=!0;for(m=0;m<l.length;m++)A=c.hasOwnProperty("$"+l[m].value),l[m].selected!==A&&(l[m].selected=A),A&&v&&(l[m].defaultSelected=!0)}else{for(m=""+Hn(m),c=null,A=0;A<l.length;A++){if(l[A].value===m){l[A].selected=!0,v&&(l[A].defaultSelected=!0);return}c!==null||l[A].disabled||(c=l[A])}c!==null&&(c.selected=!0)}}function Ur(l,c,m){if(c!=null&&(c=""+Hn(c),c!==l.value&&(l.value=c),m==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=m!=null?""+Hn(m):""}function tr(l,c,m,v){if(c==null){if(v!=null){if(m!=null)throw Error(i(92));if(ae(v)){if(1<v.length)throw Error(i(93));v=v[0]}m=v}m==null&&(m=""),c=m}m=Hn(c),l.defaultValue=m,v=l.textContent,v===m&&v!==""&&v!==null&&(l.value=v),Ti(l)}function Ro(l,c){if(c){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=c;return}}l.textContent=c}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function M0(l,c,m){var v=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":v?l.setProperty(c,m):typeof m!="number"||m===0||$s.has(c)?c==="float"?l.cssFloat=m:l[c]=(""+m).trim():l[c]=m+"px"}function hg(l,c,m){if(c!=null&&typeof c!="object")throw Error(i(62));if(l=l.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&m[A]!==v&&M0(l,A,v)}else for(var C in c)c.hasOwnProperty(C)&&M0(l,C,c[C])}function w0(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function A0(l){return u2.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ll(){}var T0=null;function Sp(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Oc=null,Ru=null;function dg(l){var c=Y(l);if(c&&(l=c.stateNode)){var m=l[yn]||null;e:switch(l=c.stateNode,c.type){case"input":if(ol(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+zi(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var v=m[c];if(v!==l&&v.form===l.form){var A=v[yn]||null;if(!A)throw Error(i(90));ol(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<m.length;c++)v=m[c],v.form===l.form&&Gn(v)}break e;case"textarea":Ur(l,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&Or(l,!!m.multiple,c,!1)}}}var Mp=!1;function pg(l,c,m){if(Mp)return l(c,m);Mp=!0;try{var v=l(c);return v}finally{if(Mp=!1,(Oc!==null||Ru!==null)&&(ee(),Oc&&(c=Oc,l=Ru,Ru=Oc=null,dg(c),l)))for(c=0;c<l.length;c++)dg(l[c])}}function Uc(l,c){var m=l.stateNode;if(m===null)return null;var v=m[yn]||null;if(v===null)return null;m=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(i(231,c,typeof m));return m}var ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wp=!1;if(ul)try{var E0={};Object.defineProperty(E0,"passive",{get:function(){wp=!0}}),window.addEventListener("test",E0,E0),window.removeEventListener("test",E0,E0)}catch{wp=!1}var Du=null,Ap=null,Nu=null;function Tp(){if(Nu)return Nu;var l,c=Ap,m=c.length,v,A="value"in Du?Du.value:Du.textContent,C=A.length;for(l=0;l<m&&c[l]===A[l];l++);var V=m-l;for(v=1;v<=V&&c[m-v]===A[C-v];v++);return Nu=A.slice(l,1<v?1-v:void 0)}function Pc(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function C0(){return!0}function mg(){return!1}function va(l){function c(m,v,A,C,V){this._reactName=m,this._targetInst=A,this.type=v,this.nativeEvent=C,this.target=V,this.currentTarget=null;for(var Q in l)l.hasOwnProperty(Q)&&(m=l[Q],this[Q]=m?m(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?C0:mg,this.isPropagationStopped=mg,this}return g(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=C0)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=C0)},persist:function(){},isPersistent:C0}),c}var zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=va(zu),Do=g({},zu,{view:0,detail:0}),Ep=va(Do),Cp,D0,Xf,N0=g({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Xf&&(Xf&&l.type==="mousemove"?(Cp=l.screenX-Xf.screenX,D0=l.screenY-Xf.screenY):D0=Cp=0,Xf=l),Cp)},movementY:function(l){return"movementY"in l?l.movementY:D0}}),c2=va(N0),aa=g({},N0,{dataTransfer:0}),f2=va(aa),h2=g({},Do,{relatedTarget:0}),Rp=va(h2),d2=g({},zu,{animationName:0,elapsedTime:0,pseudoElement:0}),p2=va(d2),z0=g({},zu,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),gg=va(z0),m2=g({},zu,{data:0}),yg=va(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y2(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=vg[l])?!!c[l]:!1}function L0(){return y2}var bg=g({},Do,{key:function(l){if(l.key){var c=g2[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Pc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?xg[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L0,charCode:function(l){return l.type==="keypress"?Pc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Pc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),_g=va(bg),x2=g({},N0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dp=va(x2),v2=g({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L0}),Xl=va(v2),Sg=g({},zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),qS=va(Sg),b2=g({},N0,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Lu=va(b2),Wl=g({},zu,{newState:0,oldState:0}),Mg=va(Wl),wg=[9,13,27,32],Bc=ul&&"CompositionEvent"in window,ku=null;ul&&"documentMode"in document&&(ku=document.documentMode);var Ic=ul&&"TextEvent"in window&&!ku,sa=ul&&(!Bc||ku&&8<ku&&11>=ku),k0=" ",Ag=!1;function Np(l,c){switch(l){case"keyup":return wg.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ou=!1;function zp(l,c){switch(l){case"compositionend":return Wf(c);case"keypress":return c.which!==32?null:(Ag=!0,k0);case"textInput":return l=c.data,l===k0&&Ag?null:l;default:return null}}function _2(l,c){if(Ou)return l==="compositionend"||!Bc&&Np(l,c)?(l=Tp(),Nu=Ap=Du=null,Ou=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return sa&&c.locale!=="ko"?null:c.data;default:return null}}var vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!vs[l.type]:c==="textarea"}function Lp(l,c,m,v){Oc?Ru?Ru.push(v):Ru=[v]:Oc=v,c=h3(c,"onChange"),0<c.length&&(m=new R0("onChange","change",null,m,v),l.push({event:m,listeners:c}))}var Yf=null,Zf=null;function Eg(l){R8(l,0)}function Kf(l){var c=Te(l);if(Gn(c))return l}function Cg(l,c){if(l==="change")return c}var O0=!1;if(ul){var Fc;if(ul){var Hi="oninput"in document;if(!Hi){var S2=document.createElement("div");S2.setAttribute("oninput","return;"),Hi=typeof S2.oninput=="function"}Fc=Hi}else Fc=!1;O0=Fc&&(!document.documentMode||9<document.documentMode)}function M2(){Yf&&(Yf.detachEvent("onpropertychange",Rg),Zf=Yf=null)}function Rg(l){if(l.propertyName==="value"&&Kf(Zf)){var c=[];Lp(c,Zf,l,Sp(l)),pg(Eg,c)}}function U0(l,c,m){l==="focusin"?(M2(),Yf=c,Zf=m,Yf.attachEvent("onpropertychange",Rg)):l==="focusout"&&M2()}function Uu(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Kf(Zf)}function w2(l,c){if(l==="click")return Kf(c)}function A2(l,c){if(l==="input"||l==="change")return Kf(c)}function Vc(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var Gi=typeof Object.is=="function"?Object.is:Vc;function Qf(l,c){if(Gi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var m=Object.keys(l),v=Object.keys(c);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var A=m[v];if(!Ze.call(c,A)||!Gi(l[A],c[A]))return!1}return!0}function Dg(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ng(l,c){var m=Dg(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=c&&v>=c)return{node:m,offset:c-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Dg(m)}}function kp(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?kp(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function Op(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=wr(l.document);c instanceof l.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)l=c.contentWindow;else break;c=wr(l.document)}return c}function Jf(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var T2=ul&&"documentMode"in document&&11>=document.documentMode,$f=null,Up=null,eh=null,bs=!1;function Pp(l,c,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;bs||$f==null||$f!==wr(v)||(v=$f,"selectionStart"in v&&Jf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),eh&&Qf(eh,v)||(eh=v,v=h3(Up,"onSelect"),0<v.length&&(c=new R0("onSelect","select",null,c,m),l.push({event:c,listeners:v}),c.target=$f)))}function Pu(l,c){var m={};return m[l.toLowerCase()]=c.toLowerCase(),m["Webkit"+l]="webkit"+c,m["Moz"+l]="moz"+c,m}var th={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionrun:Pu("Transition","TransitionRun"),transitionstart:Pu("Transition","TransitionStart"),transitioncancel:Pu("Transition","TransitionCancel"),transitionend:Pu("Transition","TransitionEnd")},P0={},La={};ul&&(La=document.createElement("div").style,"AnimationEvent"in window||(delete th.animationend.animation,delete th.animationiteration.animation,delete th.animationstart.animation),"TransitionEvent"in window||delete th.transitionend.transition);function Bu(l){if(P0[l])return P0[l];if(!th[l])return l;var c=th[l],m;for(m in c)if(c.hasOwnProperty(m)&&m in La)return P0[l]=c[m];return l}var Xa=Bu("animationend"),zg=Bu("animationiteration"),cl=Bu("animationstart"),nh=Bu("transitionrun"),Iu=Bu("transitionstart"),Lg=Bu("transitioncancel"),Bp=Bu("transitionend"),Yl=new Map,Ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ip.push("scrollEnd");function ba(l,c){Yl.set(l,c),St(c,[l])}var Fu=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},qr=[],Hc=0,Fp=0;function Vu(){for(var l=Hc,c=Fp=Hc=0;c<l;){var m=qr[c];qr[c++]=null;var v=qr[c];qr[c++]=null;var A=qr[c];qr[c++]=null;var C=qr[c];if(qr[c++]=null,v!==null&&A!==null){var V=v.pending;V===null?A.next=A:(A.next=V.next,V.next=A),v.pending=A}C!==0&&Vp(m,A,C)}}function B0(l,c,m,v){qr[Hc++]=l,qr[Hc++]=c,qr[Hc++]=m,qr[Hc++]=v,Fp|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function ih(l,c,m,v){return B0(l,c,m,v),rh(l)}function Hu(l,c){return B0(l,null,null,c),rh(l)}function Vp(l,c,m){l.lanes|=m;var v=l.alternate;v!==null&&(v.lanes|=m);for(var A=!1,C=l.return;C!==null;)C.childLanes|=m,v=C.alternate,v!==null&&(v.childLanes|=m),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(A=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,A&&c!==null&&(A=31-bt(m),l=C.hiddenUpdates,v=l[A],v===null?l[A]=[c]:v.push(c),c.lane=m|536870912),C):null}function rh(l){if(50<sf)throw sf=0,of=null,Error(i(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var Gu={};function E2(l,c,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(l,c,m,v){return new E2(l,c,m,v)}function Oa(l){return l=l.prototype,!(!l||!l.isReactComponent)}function fl(l,c){var m=l.alternate;return m===null?(m=ka(l.tag,c,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=c,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,c=l.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function _a(l,c){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,c=m.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function I0(l,c,m,v,A,C){var V=0;if(v=l,typeof l=="function")Oa(l)&&(V=1);else if(typeof l=="string")V=MF(l,m,Le.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case U:return l=ka(31,m,c,A),l.elementType=U,l.lanes=C,l;case M:return Zl(m.children,A,C,c);case w:V=8,A|=24;break;case S:return l=ka(12,m,c,A|2),l.elementType=S,l.lanes=C,l;case O:return l=ka(13,m,c,A),l.elementType=O,l.lanes=C,l;case z:return l=ka(19,m,c,A),l.elementType=z,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:V=10;break e;case E:V=9;break e;case N:V=11;break e;case B:V=14;break e;case G:V=16,v=null;break e}V=29,m=Error(i(130,l===null?"null":typeof l,"")),v=null}return c=ka(V,m,c,A),c.elementType=l,c.type=v,c.lanes=C,c}function Zl(l,c,m,v){return l=ka(7,l,v,c),l.lanes=m,l}function Hp(l,c,m){return l=ka(6,l,null,c),l.lanes=m,l}function C2(l){var c=ka(18,null,null,0);return c.stateNode=l,c}function No(l,c,m){return c=ka(4,l.children!==null?l.children:[],l.key,c),c.lanes=m,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var kg=new WeakMap;function Wa(l,c){if(typeof l=="object"&&l!==null){var m=kg.get(l);return m!==void 0?m:(c={value:l,source:c,stack:it(c)},kg.set(l,c),c)}return{value:l,source:c,stack:it(c)}}var zo=[],Gc=0,F0=null,ah=0,_s=[],Ya=0,hl=null,dl=1,pl="";function Kl(l,c){zo[Gc++]=ah,zo[Gc++]=F0,F0=l,ah=c}function Og(l,c,m){_s[Ya++]=dl,_s[Ya++]=pl,_s[Ya++]=hl,hl=l;var v=dl;l=pl;var A=32-bt(v)-1;v&=~(1<<A),m+=1;var C=32-bt(c)+A;if(30<C){var V=A-A%5;C=(v&(1<<V)-1).toString(32),v>>=V,A-=V,dl=1<<32-bt(c)+A|m<<A|v,pl=C+l}else dl=1<<C|m<<A|v,pl=l}function Gp(l){l.return!==null&&(Kl(l,1),Og(l,1,0))}function ju(l){for(;l===F0;)F0=zo[--Gc],zo[Gc]=null,ah=zo[--Gc],zo[Gc]=null;for(;l===hl;)hl=_s[--Ya],_s[Ya]=null,pl=_s[--Ya],_s[Ya]=null,dl=_s[--Ya],_s[Ya]=null}function V0(l,c){_s[Ya++]=dl,_s[Ya++]=pl,_s[Ya++]=hl,dl=c.id,pl=c.overflow,hl=l}var Xr=null,Ui=null,Kn=!1,Ql=null,Wr=!1,jp=Error(i(519));function jn(l){var c=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw H0(Wa(c,l)),jp}function qp(l){var c=l.stateNode,m=l.type,v=l.memoizedProps;switch(c[jt]=l,c[yn]=v,m){case"dialog":Qn("cancel",c),Qn("close",c);break;case"iframe":case"object":case"embed":Qn("load",c);break;case"video":case"audio":for(m=0;m<Ey.length;m++)Qn(Ey[m],c);break;case"source":Qn("error",c);break;case"img":case"image":case"link":Qn("error",c),Qn("load",c);break;case"details":Qn("toggle",c);break;case"input":Qn("invalid",c),Li(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":Qn("invalid",c);break;case"textarea":Qn("invalid",c),tr(c,v.value,v.defaultValue,v.children)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||v.suppressHydrationWarning===!0||L8(c.textContent,m)?(v.popover!=null&&(Qn("beforetoggle",c),Qn("toggle",c)),v.onScroll!=null&&Qn("scroll",c),v.onScrollEnd!=null&&Qn("scrollend",c),v.onClick!=null&&(c.onclick=ll),c=!0):c=!1,c||jn(l,!0)}function R2(l){for(Xr=l.return;Xr;)switch(Xr.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Xr=Xr.return}}function jc(l){if(l!==Xr)return!1;if(!Kn)return R2(l),Kn=!0,!1;var c=l.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||f5(l.type,l.memoizedProps)),m=!m),m&&Ui&&jn(l),R2(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Ui=H8(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));Ui=H8(l)}else c===27?(c=Ui,wh(l.type)?(l=g5,g5=null,Ui=l):Ui=c):Ui=Xr?Al(l.stateNode.nextSibling):null;return!0}function qc(){Ui=Xr=null,Kn=!1}function Ug(){var l=Ql;return l!==null&&(Ea===null?Ea=l:Ea.push.apply(Ea,l),Ql=null),l}function H0(l){Ql===null?Ql=[l]:Ql.push(l)}var Pg=J(null),Jl=null,Sa=null;function $l(l,c,m){K(Pg,c._currentValue),c._currentValue=m}function eo(l){l._currentValue=Pg.current,ye(Pg)}function eu(l,c,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),l===m)break;l=l.return}}function Xp(l,c,m,v){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var C=A.dependencies;if(C!==null){var V=A.child;C=C.firstContext;e:for(;C!==null;){var Q=C;C=A;for(var ge=0;ge<c.length;ge++)if(Q.context===c[ge]){C.lanes|=m,Q=C.alternate,Q!==null&&(Q.lanes|=m),eu(C.return,m,l),v||(V=null);break e}C=Q.next}}else if(A.tag===18){if(V=A.return,V===null)throw Error(i(341));V.lanes|=m,C=V.alternate,C!==null&&(C.lanes|=m),eu(V,m,l),V=null}else V=A.child;if(V!==null)V.return=A;else for(V=A;V!==null;){if(V===l){V=null;break}if(A=V.sibling,A!==null){A.return=V.return,V=A;break}V=V.return}A=V}}function qu(l,c,m,v){l=null;for(var A=c,C=!1;A!==null;){if(!C){if((A.flags&524288)!==0)C=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var V=A.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var Q=A.type;Gi(A.pendingProps.value,V.value)||(l!==null?l.push(Q):l=[Q])}}else if(A===Ne.current){if(V=A.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(zy):l=[zy])}A=A.return}l!==null&&Xp(c,l,m,v),c.flags|=262144}function sh(l){for(l=l.firstContext;l!==null;){if(!Gi(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Xc(l){Jl=l,Sa=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Yr(l){return Bg(Jl,l)}function G0(l,c){return Jl===null&&Xc(l),Bg(l,c)}function Bg(l,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Sa===null){if(l===null)throw Error(i(308));Sa=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Sa=Sa.next=c;return m}var D2=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(m,v){l.push(v)}};this.abort=function(){c.aborted=!0,l.forEach(function(m){return m()})}},N2=n.unstable_scheduleCallback,Ig=n.unstable_NormalPriority,tn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fg(){return{controller:new D2,data:new Map,refCount:0}}function oa(l){l.refCount--,l.refCount===0&&N2(Ig,function(){l.controller.abort()})}var Wc=null,Vg=0,tu=0,Lo=null;function oh(l,c){if(Wc===null){var m=Wc=[];Vg=0,tu=n5(),Lo={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Vg++,c.then(Hg,Hg),c}function Hg(){if(--Vg===0&&Wc!==null){Lo!==null&&(Lo.status="fulfilled");var l=Wc;Wc=null,tu=0,Lo=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function Gg(l,c){var m=[],v={status:"pending",value:null,reason:null,then:function(A){m.push(A)}};return l.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<m.length;A++)(0,m[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<m.length;A++)(0,m[A])(void 0)}),v}var z2=W.S;W.S=function(l,c){_h=X(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&oh(l,c),z2!==null&&z2(l,c)};var Xu=J(null);function ml(){var l=Xu.current;return l!==null?l:vi.pooledCache}function lh(l,c){c===null?K(Xu,Xu.current):K(Xu,c.pool)}function Wp(){var l=ml();return l===null?null:{parent:tn._currentValue,pool:l}}var Wu=Error(i(460)),j0=Error(i(474)),ko=Error(i(542)),q0={then:function(){}};function L2(l){return l=l.status,l==="fulfilled"||l==="rejected"}function jg(l,c,m){switch(m=l[m],m===void 0?l.push(c):m!==c&&(c.then(ll,ll),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,qg(l),l;default:if(typeof c.status=="string")c.then(ll,ll);else{if(l=vi,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=c,l.status="pending",l.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,qg(l),l}throw ln=c,Wu}}function Yc(l){try{var c=l._init;return c(l._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(ln=m,Wu):m}}var ln=null;function Yp(){if(ln===null)throw Error(i(459));var l=ln;return ln=null,l}function qg(l){if(l===Wu||l===ko)throw Error(i(483))}var Yu=null,Zu=0;function Zp(l){var c=Zu;return Zu+=1,Yu===null&&(Yu=[]),jg(Yu,l,c)}function X0(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function W0(l,c){throw c.$$typeof===y?Error(i(525)):(l=Object.prototype.toString.call(c),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function uh(l){function c(Re,be){if(l){var ke=Re.deletions;ke===null?(Re.deletions=[be],Re.flags|=16):ke.push(be)}}function m(Re,be){if(!l)return null;for(;be!==null;)c(Re,be),be=be.sibling;return null}function v(Re){for(var be=new Map;Re!==null;)Re.key!==null?be.set(Re.key,Re):be.set(Re.index,Re),Re=Re.sibling;return be}function A(Re,be){return Re=fl(Re,be),Re.index=0,Re.sibling=null,Re}function C(Re,be,ke){return Re.index=ke,l?(ke=Re.alternate,ke!==null?(ke=ke.index,ke<be?(Re.flags|=67108866,be):ke):(Re.flags|=67108866,be)):(Re.flags|=1048576,be)}function V(Re){return l&&Re.alternate===null&&(Re.flags|=67108866),Re}function Q(Re,be,ke,Je){return be===null||be.tag!==6?(be=Hp(ke,Re.mode,Je),be.return=Re,be):(be=A(be,ke),be.return=Re,be)}function ge(Re,be,ke,Je){var sn=ke.type;return sn===M?je(Re,be,ke.props.children,Je,ke.key):be!==null&&(be.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===G&&Yc(sn)===be.type)?(be=A(be,ke.props),X0(be,ke),be.return=Re,be):(be=I0(ke.type,ke.key,ke.props,null,Re.mode,Je),X0(be,ke),be.return=Re,be)}function Ue(Re,be,ke,Je){return be===null||be.tag!==4||be.stateNode.containerInfo!==ke.containerInfo||be.stateNode.implementation!==ke.implementation?(be=No(ke,Re.mode,Je),be.return=Re,be):(be=A(be,ke.children||[]),be.return=Re,be)}function je(Re,be,ke,Je,sn){return be===null||be.tag!==7?(be=Zl(ke,Re.mode,Je,sn),be.return=Re,be):(be=A(be,ke),be.return=Re,be)}function et(Re,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Hp(""+be,Re.mode,ke),be.return=Re,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case x:return ke=I0(be.type,be.key,be.props,null,Re.mode,ke),X0(ke,be),ke.return=Re,ke;case _:return be=No(be,Re.mode,ke),be.return=Re,be;case G:return be=Yc(be),et(Re,be,ke)}if(ae(be)||Z(be))return be=Zl(be,Re.mode,ke,null),be.return=Re,be;if(typeof be.then=="function")return et(Re,Zp(be),ke);if(be.$$typeof===R)return et(Re,G0(Re,be),ke);W0(Re,be)}return null}function Be(Re,be,ke,Je){var sn=be!==null?be.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return sn!==null?null:Q(Re,be,""+ke,Je);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return ke.key===sn?ge(Re,be,ke,Je):null;case _:return ke.key===sn?Ue(Re,be,ke,Je):null;case G:return ke=Yc(ke),Be(Re,be,ke,Je)}if(ae(ke)||Z(ke))return sn!==null?null:je(Re,be,ke,Je,null);if(typeof ke.then=="function")return Be(Re,be,Zp(ke),Je);if(ke.$$typeof===R)return Be(Re,be,G0(Re,ke),Je);W0(Re,ke)}return null}function Ve(Re,be,ke,Je,sn){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Re=Re.get(ke)||null,Q(be,Re,""+Je,sn);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case x:return Re=Re.get(Je.key===null?ke:Je.key)||null,ge(be,Re,Je,sn);case _:return Re=Re.get(Je.key===null?ke:Je.key)||null,Ue(be,Re,Je,sn);case G:return Je=Yc(Je),Ve(Re,be,ke,Je,sn)}if(ae(Je)||Z(Je))return Re=Re.get(ke)||null,je(be,Re,Je,sn,null);if(typeof Je.then=="function")return Ve(Re,be,ke,Zp(Je),sn);if(Je.$$typeof===R)return Ve(Re,be,ke,G0(be,Je),sn);W0(be,Je)}return null}function qt(Re,be,ke,Je){for(var sn=null,_i=null,Qt=be,kn=be=0,ii=null;Qt!==null&&kn<ke.length;kn++){Qt.index>kn?(ii=Qt,Qt=null):ii=Qt.sibling;var Si=Be(Re,Qt,ke[kn],Je);if(Si===null){Qt===null&&(Qt=ii);break}l&&Qt&&Si.alternate===null&&c(Re,Qt),be=C(Si,be,kn),_i===null?sn=Si:_i.sibling=Si,_i=Si,Qt=ii}if(kn===ke.length)return m(Re,Qt),Kn&&Kl(Re,kn),sn;if(Qt===null){for(;kn<ke.length;kn++)Qt=et(Re,ke[kn],Je),Qt!==null&&(be=C(Qt,be,kn),_i===null?sn=Qt:_i.sibling=Qt,_i=Qt);return Kn&&Kl(Re,kn),sn}for(Qt=v(Qt);kn<ke.length;kn++)ii=Ve(Qt,Re,kn,ke[kn],Je),ii!==null&&(l&&ii.alternate!==null&&Qt.delete(ii.key===null?kn:ii.key),be=C(ii,be,kn),_i===null?sn=ii:_i.sibling=ii,_i=ii);return l&&Qt.forEach(function(Rh){return c(Re,Rh)}),Kn&&Kl(Re,kn),sn}function fn(Re,be,ke,Je){if(ke==null)throw Error(i(151));for(var sn=null,_i=null,Qt=be,kn=be=0,ii=null,Si=ke.next();Qt!==null&&!Si.done;kn++,Si=ke.next()){Qt.index>kn?(ii=Qt,Qt=null):ii=Qt.sibling;var Rh=Be(Re,Qt,Si.value,Je);if(Rh===null){Qt===null&&(Qt=ii);break}l&&Qt&&Rh.alternate===null&&c(Re,Qt),be=C(Rh,be,kn),_i===null?sn=Rh:_i.sibling=Rh,_i=Rh,Qt=ii}if(Si.done)return m(Re,Qt),Kn&&Kl(Re,kn),sn;if(Qt===null){for(;!Si.done;kn++,Si=ke.next())Si=et(Re,Si.value,Je),Si!==null&&(be=C(Si,be,kn),_i===null?sn=Si:_i.sibling=Si,_i=Si);return Kn&&Kl(Re,kn),sn}for(Qt=v(Qt);!Si.done;kn++,Si=ke.next())Si=Ve(Qt,Re,kn,Si.value,Je),Si!==null&&(l&&Si.alternate!==null&&Qt.delete(Si.key===null?kn:Si.key),be=C(Si,be,kn),_i===null?sn=Si:_i.sibling=Si,_i=Si);return l&&Qt.forEach(function(kF){return c(Re,kF)}),Kn&&Kl(Re,kn),sn}function Ii(Re,be,ke,Je){if(typeof ke=="object"&&ke!==null&&ke.type===M&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:e:{for(var sn=ke.key;be!==null;){if(be.key===sn){if(sn=ke.type,sn===M){if(be.tag===7){m(Re,be.sibling),Je=A(be,ke.props.children),Je.return=Re,Re=Je;break e}}else if(be.elementType===sn||typeof sn=="object"&&sn!==null&&sn.$$typeof===G&&Yc(sn)===be.type){m(Re,be.sibling),Je=A(be,ke.props),X0(Je,ke),Je.return=Re,Re=Je;break e}m(Re,be);break}else c(Re,be);be=be.sibling}ke.type===M?(Je=Zl(ke.props.children,Re.mode,Je,ke.key),Je.return=Re,Re=Je):(Je=I0(ke.type,ke.key,ke.props,null,Re.mode,Je),X0(Je,ke),Je.return=Re,Re=Je)}return V(Re);case _:e:{for(sn=ke.key;be!==null;){if(be.key===sn)if(be.tag===4&&be.stateNode.containerInfo===ke.containerInfo&&be.stateNode.implementation===ke.implementation){m(Re,be.sibling),Je=A(be,ke.children||[]),Je.return=Re,Re=Je;break e}else{m(Re,be);break}else c(Re,be);be=be.sibling}Je=No(ke,Re.mode,Je),Je.return=Re,Re=Je}return V(Re);case G:return ke=Yc(ke),Ii(Re,be,ke,Je)}if(ae(ke))return qt(Re,be,ke,Je);if(Z(ke)){if(sn=Z(ke),typeof sn!="function")throw Error(i(150));return ke=sn.call(ke),fn(Re,be,ke,Je)}if(typeof ke.then=="function")return Ii(Re,be,Zp(ke),Je);if(ke.$$typeof===R)return Ii(Re,be,G0(Re,ke),Je);W0(Re,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,be!==null&&be.tag===6?(m(Re,be.sibling),Je=A(be,ke),Je.return=Re,Re=Je):(m(Re,be),Je=Hp(ke,Re.mode,Je),Je.return=Re,Re=Je),V(Re)):m(Re,be)}return function(Re,be,ke,Je){try{Zu=0;var sn=Ii(Re,be,ke,Je);return Yu=null,sn}catch(Qt){if(Qt===Wu||Qt===ko)throw Qt;var _i=ka(29,Qt,null,Re.mode);return _i.lanes=Je,_i.return=Re,_i}finally{}}}var Zc=uh(!0),k2=uh(!1),Ku=!1;function Xg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wg(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function gl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function nu(l,c,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(ti&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=rh(l),Vp(l,null,m),c}return B0(l,v,c,m),rh(l)}function Qu(l,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var v=c.lanes;v&=l.pendingLanes,m|=v,c.lanes=m,on(l,m)}}function Kp(l,c){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var A=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var V={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?A=C=V:C=C.next=V,m=m.next}while(m!==null);C===null?A=C=c:C=C.next=c}else A=C=c;m={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=c}var Yg=!1;function Y0(){if(Yg){var l=Lo;if(l!==null)throw l}}function Kc(l,c,m,v){Yg=!1;var A=l.updateQueue;Ku=!1;var C=A.firstBaseUpdate,V=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var ge=Q,Ue=ge.next;ge.next=null,V===null?C=Ue:V.next=Ue,V=ge;var je=l.alternate;je!==null&&(je=je.updateQueue,Q=je.lastBaseUpdate,Q!==V&&(Q===null?je.firstBaseUpdate=Ue:Q.next=Ue,je.lastBaseUpdate=ge))}if(C!==null){var et=A.baseState;V=0,je=Ue=ge=null,Q=C;do{var Be=Q.lane&-536870913,Ve=Be!==Q.lane;if(Ve?(qn&Be)===Be:(v&Be)===Be){Be!==0&&Be===tu&&(Yg=!0),je!==null&&(je=je.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var qt=l,fn=Q;Be=c;var Ii=m;switch(fn.tag){case 1:if(qt=fn.payload,typeof qt=="function"){et=qt.call(Ii,et,Be);break e}et=qt;break e;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=fn.payload,Be=typeof qt=="function"?qt.call(Ii,et,Be):qt,Be==null)break e;et=g({},et,Be);break e;case 2:Ku=!0}}Be=Q.callback,Be!==null&&(l.flags|=64,Ve&&(l.flags|=8192),Ve=A.callbacks,Ve===null?A.callbacks=[Be]:Ve.push(Be))}else Ve={lane:Be,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},je===null?(Ue=je=Ve,ge=et):je=je.next=Ve,V|=Be;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;Ve=Q,Q=Ve.next,Ve.next=null,A.lastBaseUpdate=Ve,A.shared.pending=null}}while(!0);je===null&&(ge=et),A.baseState=ge,A.firstBaseUpdate=Ue,A.lastBaseUpdate=je,C===null&&(A.shared.lanes=0),zs|=V,l.lanes=V,l.memoizedState=et}}function yl(l,c){if(typeof l!="function")throw Error(i(191,l));l.call(c)}function la(l,c){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)yl(m[l],c)}var Ss=J(null),Ua=J(0);function Zg(l,c){l=mr,K(Ua,l),K(Ss,c),mr=l|c.baseLanes}function Kg(){K(Ua,mr),K(Ss,Ss.current)}function Ma(){mr=Ua.current,ye(Ss),ye(Ua)}var Pr=J(null),to=null;function Ju(l){var c=l.alternate;K(nr,nr.current&1),K(Pr,l),to===null&&(c===null||Ss.current!==null||c.memoizedState!==null)&&(to=l)}function Qg(l){K(nr,nr.current),K(Pr,l),to===null&&(to=l)}function O2(l){l.tag===22?(K(nr,nr.current),K(Pr,l),to===null&&(to=l)):iu()}function iu(){K(nr,nr.current),K(Pr,Pr.current)}function Ms(l){ye(Pr),to===l&&(to=null),ye(nr)}var nr=J(0);function Qp(l){for(var c=l;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||p5(m)||m5(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Za=0,dn=null,Ei=null,Ar=null,Jp=!1,xl=!1,Qc=!1,$p=0,Z0=0,vl=null,XS=0;function ir(){throw Error(i(321))}function Jg(l,c){if(c===null)return!1;for(var m=0;m<c.length&&m<l.length;m++)if(!Gi(l[m],c[m]))return!1;return!0}function $g(l,c,m,v,A,C){return Za=C,dn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=l===null||l.memoizedState===null?t3:hh,Qc=!1,C=m(v,A),Qc=!1,xl&&(C=P2(c,m,v,A)),U2(l),C}function U2(l){W.H=ed;var c=Ei!==null&&Ei.next!==null;if(Za=0,Ar=Ei=dn=null,Jp=!1,Z0=0,vl=null,c)throw Error(i(300));l===null||ji||(l=l.dependencies,l!==null&&sh(l)&&(ji=!0))}function P2(l,c,m,v){dn=l;var A=0;do{if(xl&&(vl=null),Z0=0,xl=!1,25<=A)throw Error(i(301));if(A+=1,Ar=Ei=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}W.H=td,C=c(m,v)}while(xl);return C}function WS(){var l=W.H,c=l.useState()[0];return c=typeof c.then=="function"?Q0(c):c,l=l.useState()[0],(Ei!==null?Ei.memoizedState:null)!==l&&(dn.flags|=1024),c}function ey(){var l=$p!==0;return $p=0,l}function ty(l,c,m){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~m}function ny(l){if(Jp){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Jp=!1}Za=0,Ar=Ei=dn=null,xl=!1,Z0=$p=0,vl=null}function Pa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?dn.memoizedState=Ar=l:Ar=Ar.next=l,Ar}function fr(){if(Ei===null){var l=dn.alternate;l=l!==null?l.memoizedState:null}else l=Ei.next;var c=Ar===null?dn.memoizedState:Ar.next;if(c!==null)Ar=c,Ei=l;else{if(l===null)throw dn.alternate===null?Error(i(467)):Error(i(310));Ei=l,l={memoizedState:Ei.memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},Ar===null?dn.memoizedState=Ar=l:Ar=Ar.next=l}return Ar}function K0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Q0(l){var c=Z0;return Z0+=1,vl===null&&(vl=[]),l=jg(vl,l,c),c=dn,(Ar===null?c.memoizedState:Ar.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?t3:hh),l}function em(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Q0(l);if(l.$$typeof===R)return Yr(l)}throw Error(i(438,String(l)))}function iy(l){var c=null,m=dn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var v=dn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=K0(),dn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(l),v=0;v<l;v++)m[v]=L;return c.index++,m}function ru(l,c){return typeof c=="function"?c(l):c}function tm(l){var c=fr();return ry(c,Ei,l)}function ry(l,c,m){var v=l.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=m;var A=l.baseQueue,C=v.pending;if(C!==null){if(A!==null){var V=A.next;A.next=C.next,C.next=V}c.baseQueue=A=C,v.pending=null}if(C=l.baseState,A===null)l.memoizedState=C;else{c=A.next;var Q=V=null,ge=null,Ue=c,je=!1;do{var et=Ue.lane&-536870913;if(et!==Ue.lane?(qn&et)===et:(Za&et)===et){var Be=Ue.revertLane;if(Be===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),et===tu&&(je=!0);else if((Za&Be)===Be){Ue=Ue.next,Be===tu&&(je=!0);continue}else et={lane:0,revertLane:Ue.revertLane,gesture:null,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ge===null?(Q=ge=et,V=C):ge=ge.next=et,dn.lanes|=Be,zs|=Be;et=Ue.action,Qc&&m(C,et),C=Ue.hasEagerState?Ue.eagerState:m(C,et)}else Be={lane:et,revertLane:Ue.revertLane,gesture:Ue.gesture,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null},ge===null?(Q=ge=Be,V=C):ge=ge.next=Be,dn.lanes|=et,zs|=et;Ue=Ue.next}while(Ue!==null&&Ue!==c);if(ge===null?V=C:ge.next=Q,!Gi(C,l.memoizedState)&&(ji=!0,je&&(m=Lo,m!==null)))throw m;l.memoizedState=C,l.baseState=V,l.baseQueue=ge,v.lastRenderedState=C}return A===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function nm(l){var c=fr(),m=c.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=l;var v=m.dispatch,A=m.pending,C=c.memoizedState;if(A!==null){m.pending=null;var V=A=A.next;do C=l(C,V.action),V=V.next;while(V!==A);Gi(C,c.memoizedState)||(ji=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,v]}function ay(l,c,m){var v=dn,A=fr(),C=Kn;if(C){if(m===void 0)throw Error(i(407));m=m()}else m=c();var V=!Gi((Ei||A).memoizedState,m);if(V&&(A.memoizedState=m,ji=!0),A=A.queue,cy(oy.bind(null,v,A,l),[l]),A.getSnapshot!==c||V||Ar!==null&&Ar.memoizedState.tag&1){if(v.flags|=2048,ch(9,{destroy:void 0},sy.bind(null,v,A,m,c),null),vi===null)throw Error(i(349));C||(Za&127)!==0||B2(v,c,m)}return m}function B2(l,c,m){l.flags|=16384,l={getSnapshot:c,value:m},c=dn.updateQueue,c===null?(c=K0(),dn.updateQueue=c,c.stores=[l]):(m=c.stores,m===null?c.stores=[l]:m.push(l))}function sy(l,c,m,v){c.value=m,c.getSnapshot=v,ly(c)&&im(l)}function oy(l,c,m){return m(function(){ly(c)&&im(l)})}function ly(l){var c=l.getSnapshot;l=l.value;try{var m=c();return!Gi(l,m)}catch{return!0}}function im(l){var c=Hu(l,2);c!==null&&p(c,l,2)}function J0(l){var c=Pa();if(typeof l=="function"){var m=l;if(l=m(),Qc){Nt(!0);try{m()}finally{Nt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:l},c}function I2(l,c,m,v){return l.baseState=m,ry(l,Ei,typeof v=="function"?v:ru)}function YS(l,c,m,v,A){if(au(l))throw Error(i(485));if(l=c.action,l!==null){var C={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){C.listeners.push(V)}};W.T!==null?m(!0):C.isTransition=!1,v(C),m=c.pending,m===null?(C.next=c.pending=C,F2(c,C)):(C.next=m.next,c.pending=m.next=C)}}function F2(l,c){var m=c.action,v=c.payload,A=l.state;if(c.isTransition){var C=W.T,V={};W.T=V;try{var Q=m(A,v),ge=W.S;ge!==null&&ge(V,Q),V2(l,c,Q)}catch(Ue){rm(l,c,Ue)}finally{C!==null&&V.types!==null&&(C.types=V.types),W.T=C}}else try{C=m(A,v),V2(l,c,C)}catch(Ue){rm(l,c,Ue)}}function V2(l,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){uy(l,c,v)},function(v){return rm(l,c,v)}):uy(l,c,m)}function uy(l,c,m){c.status="fulfilled",c.value=m,H2(c),l.state=m,c=l.pending,c!==null&&(m=c.next,m===c?l.pending=null:(m=m.next,c.next=m,F2(l,m)))}function rm(l,c,m){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=m,H2(c),c=c.next;while(c!==v)}l.action=null}function H2(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function G2(l,c){return c}function j2(l,c){if(Kn){var m=vi.formState;if(m!==null){e:{var v=dn;if(Kn){if(Ui){t:{for(var A=Ui,C=Wr;A.nodeType!==8;){if(!C){A=null;break t}if(A=Al(A.nextSibling),A===null){A=null;break t}}C=A.data,A=C==="F!"||C==="F"?A:null}if(A){Ui=Al(A.nextSibling),v=A.data==="F!";break e}}jn(v)}v=!1}v&&(c=m[0])}}return m=Pa(),m.memoizedState=m.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G2,lastRenderedState:c},m.queue=v,m=e3.bind(null,dn,v),v.dispatch=m,v=J0(!1),C=$0.bind(null,dn,!1,v.queue),v=Pa(),A={state:c,dispatch:null,action:l,pending:null},v.queue=A,m=YS.bind(null,dn,A,C,m),A.dispatch=m,v.memoizedState=l,[c,m,!1]}function q2(l){var c=fr();return X2(c,Ei,l)}function X2(l,c,m){if(c=ry(l,c,G2)[0],l=tm(ru)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Q0(c)}catch(V){throw V===Wu?ko:V}else v=c;c=fr();var A=c.queue,C=A.dispatch;return m!==c.memoizedState&&(dn.flags|=2048,ch(9,{destroy:void 0},ZS.bind(null,A,m),null)),[v,C,l]}function ZS(l,c){l.action=c}function W2(l){var c=fr(),m=Ei;if(m!==null)return X2(c,m,l);fr(),c=c.memoizedState,m=fr();var v=m.queue.dispatch;return m.memoizedState=l,[c,v,!1]}function ch(l,c,m,v){return l={tag:l,create:m,deps:v,inst:c,next:null},c=dn.updateQueue,c===null&&(c=K0(),dn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,c.lastEffect=l),l}function Y2(){return fr().memoizedState}function am(l,c,m,v){var A=Pa();dn.flags|=l,A.memoizedState=ch(1|c,{destroy:void 0},m,v===void 0?null:v)}function sm(l,c,m,v){var A=fr();v=v===void 0?null:v;var C=A.memoizedState.inst;Ei!==null&&v!==null&&Jg(v,Ei.memoizedState.deps)?A.memoizedState=ch(c,C,m,v):(dn.flags|=l,A.memoizedState=ch(1|c,C,m,v))}function Z2(l,c){am(8390656,8,l,c)}function cy(l,c){sm(2048,8,l,c)}function K2(l){dn.flags|=4;var c=dn.updateQueue;if(c===null)c=K0(),dn.updateQueue=c,c.events=[l];else{var m=c.events;m===null?c.events=[l]:m.push(l)}}function Q2(l){var c=fr().memoizedState;return K2({ref:c,nextImpl:l}),function(){if((ti&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}function J2(l,c){return sm(4,2,l,c)}function ws(l,c){return sm(4,4,l,c)}function fy(l,c){if(typeof c=="function"){l=l();var m=c(l);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function om(l,c,m){m=m!=null?m.concat([l]):null,sm(4,4,fy.bind(null,c,l),m)}function lm(){}function hy(l,c){var m=fr();c=c===void 0?null:c;var v=m.memoizedState;return c!==null&&Jg(c,v[1])?v[0]:(m.memoizedState=[l,c],l)}function dy(l,c){var m=fr();c=c===void 0?null:c;var v=m.memoizedState;if(c!==null&&Jg(c,v[1]))return v[0];if(v=l(),Qc){Nt(!0);try{l()}finally{Nt(!1)}}return m.memoizedState=[v,c],v}function py(l,c,m){return m===void 0||(Za&1073741824)!==0&&(qn&261930)===0?l.memoizedState=c:(l.memoizedState=m,l=h(),dn.lanes|=l,zs|=l,m)}function my(l,c,m,v){return Gi(m,c)?m:Ss.current!==null?(l=py(l,m,v),Gi(l,c)||(ji=!0),l):(Za&42)===0||(Za&1073741824)!==0&&(qn&261930)===0?(ji=!0,l.memoizedState=m):(l=h(),dn.lanes|=l,zs|=l,c)}function gy(l,c,m,v,A){var C=te.p;te.p=C!==0&&8>C?C:8;var V=W.T,Q={};W.T=Q,$0(l,!1,c,m);try{var ge=A(),Ue=W.S;if(Ue!==null&&Ue(Q,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var je=Gg(ge,v);fh(l,c,je,Ia(l))}else fh(l,c,v,Ia(l))}catch(et){fh(l,c,{then:function(){},status:"rejected",reason:et},Ia())}finally{te.p=C,V!==null&&Q.types!==null&&(V.types=Q.types),W.T=V}}function KS(){}function yy(l,c,m,v){if(l.tag!==5)throw Error(i(476));var A=$2(l).queue;gy(l,A,c,re,m===null?KS:function(){return xy(l),m(v)})}function $2(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:re},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:m},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function xy(l){var c=$2(l);c.next===null&&(c=l.alternate.memoizedState),fh(l,c.next.queue,{},Ia())}function vy(){return Yr(zy)}function ua(){return fr().memoizedState}function by(){return fr().memoizedState}function QS(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var m=Ia();l=gl(m);var v=nu(c,l,m);v!==null&&(p(v,c,m),Qu(v,c,m)),c={cache:Fg()},l.payload=c;return}c=c.return}}function JS(l,c,m){var v=Ia();m={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},au(l)?Jc(c,m):(m=ih(l,c,m,v),m!==null&&(p(m,l,v),Ka(m,c,v)))}function e3(l,c,m){var v=Ia();fh(l,c,m,v)}function fh(l,c,m,v){var A={lane:v,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(au(l))Jc(c,A);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var V=c.lastRenderedState,Q=C(V,m);if(A.hasEagerState=!0,A.eagerState=Q,Gi(Q,V))return B0(l,c,A,0),vi===null&&Vu(),!1}catch{}finally{}if(m=ih(l,c,A,v),m!==null)return p(m,l,v),Ka(m,c,v),!0}return!1}function $0(l,c,m,v){if(v={lane:2,revertLane:n5(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},au(l)){if(c)throw Error(i(479))}else c=ih(l,m,v,2),c!==null&&p(c,l,2)}function au(l){var c=l.alternate;return l===dn||c!==null&&c===dn}function Jc(l,c){xl=Jp=!0;var m=l.pending;m===null?c.next=c:(c.next=m.next,m.next=c),l.pending=c}function Ka(l,c,m){if((m&4194048)!==0){var v=c.lanes;v&=l.pendingLanes,m|=v,c.lanes=m,on(l,m)}}var ed={readContext:Yr,use:em,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};ed.useEffectEvent=ir;var t3={readContext:Yr,use:em,useCallback:function(l,c){return Pa().memoizedState=[l,c===void 0?null:c],l},useContext:Yr,useEffect:Z2,useImperativeHandle:function(l,c,m){m=m!=null?m.concat([l]):null,am(4194308,4,fy.bind(null,c,l),m)},useLayoutEffect:function(l,c){return am(4194308,4,l,c)},useInsertionEffect:function(l,c){am(4,2,l,c)},useMemo:function(l,c){var m=Pa();c=c===void 0?null:c;var v=l();if(Qc){Nt(!0);try{l()}finally{Nt(!1)}}return m.memoizedState=[v,c],v},useReducer:function(l,c,m){var v=Pa();if(m!==void 0){var A=m(c);if(Qc){Nt(!0);try{m(c)}finally{Nt(!1)}}}else A=c;return v.memoizedState=v.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},v.queue=l,l=l.dispatch=JS.bind(null,dn,l),[v.memoizedState,l]},useRef:function(l){var c=Pa();return l={current:l},c.memoizedState=l},useState:function(l){l=J0(l);var c=l.queue,m=e3.bind(null,dn,c);return c.dispatch=m,[l.memoizedState,m]},useDebugValue:lm,useDeferredValue:function(l,c){var m=Pa();return py(m,l,c)},useTransition:function(){var l=J0(!1);return l=gy.bind(null,dn,l.queue,!0,!1),Pa().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,m){var v=dn,A=Pa();if(Kn){if(m===void 0)throw Error(i(407));m=m()}else{if(m=c(),vi===null)throw Error(i(349));(qn&127)!==0||B2(v,c,m)}A.memoizedState=m;var C={value:m,getSnapshot:c};return A.queue=C,Z2(oy.bind(null,v,C,l),[l]),v.flags|=2048,ch(9,{destroy:void 0},sy.bind(null,v,C,m,c),null),m},useId:function(){var l=Pa(),c=vi.identifierPrefix;if(Kn){var m=pl,v=dl;m=(v&~(1<<32-bt(v)-1)).toString(32)+m,c="_"+c+"R_"+m,m=$p++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=XS++,c="_"+c+"r_"+m.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:vy,useFormState:j2,useActionState:j2,useOptimistic:function(l){var c=Pa();c.memoizedState=c.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=$0.bind(null,dn,!0,m),m.dispatch=c,[l,c]},useMemoCache:iy,useCacheRefresh:function(){return Pa().memoizedState=QS.bind(null,dn)},useEffectEvent:function(l){var c=Pa(),m={impl:l};return c.memoizedState=m,function(){if((ti&2)!==0)throw Error(i(440));return m.impl.apply(void 0,arguments)}}},hh={readContext:Yr,use:em,useCallback:hy,useContext:Yr,useEffect:cy,useImperativeHandle:om,useInsertionEffect:J2,useLayoutEffect:ws,useMemo:dy,useReducer:tm,useRef:Y2,useState:function(){return tm(ru)},useDebugValue:lm,useDeferredValue:function(l,c){var m=fr();return my(m,Ei.memoizedState,l,c)},useTransition:function(){var l=tm(ru)[0],c=fr().memoizedState;return[typeof l=="boolean"?l:Q0(l),c]},useSyncExternalStore:ay,useId:ua,useHostTransitionStatus:vy,useFormState:q2,useActionState:q2,useOptimistic:function(l,c){var m=fr();return I2(m,Ei,l,c)},useMemoCache:iy,useCacheRefresh:by};hh.useEffectEvent=Q2;var td={readContext:Yr,use:em,useCallback:hy,useContext:Yr,useEffect:cy,useImperativeHandle:om,useInsertionEffect:J2,useLayoutEffect:ws,useMemo:dy,useReducer:nm,useRef:Y2,useState:function(){return nm(ru)},useDebugValue:lm,useDeferredValue:function(l,c){var m=fr();return Ei===null?py(m,l,c):my(m,Ei.memoizedState,l,c)},useTransition:function(){var l=nm(ru)[0],c=fr().memoizedState;return[typeof l=="boolean"?l:Q0(l),c]},useSyncExternalStore:ay,useId:ua,useHostTransitionStatus:vy,useFormState:W2,useActionState:W2,useOptimistic:function(l,c){var m=fr();return Ei!==null?I2(m,Ei,l,c):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:iy,useCacheRefresh:by};td.useEffectEvent=Q2;function dh(l,c,m,v){c=l.memoizedState,m=m(v,c),m=m==null?c:g({},c,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var nd={enqueueSetState:function(l,c,m){l=l._reactInternals;var v=Ia(),A=gl(v);A.payload=c,m!=null&&(A.callback=m),c=nu(l,A,v),c!==null&&(p(c,l,v),Qu(c,l,v))},enqueueReplaceState:function(l,c,m){l=l._reactInternals;var v=Ia(),A=gl(v);A.tag=1,A.payload=c,m!=null&&(A.callback=m),c=nu(l,A,v),c!==null&&(p(c,l,v),Qu(c,l,v))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var m=Ia(),v=gl(m);v.tag=2,c!=null&&(v.callback=c),c=nu(l,v,m),c!==null&&(p(c,l,m),Qu(c,l,m))}};function n3(l,c,m,v,A,C,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,V):c.prototype&&c.prototype.isPureReactComponent?!Qf(m,v)||!Qf(A,C):!0}function i3(l,c,m,v){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,v),c.state!==l&&nd.enqueueReplaceState(c,c.state,null)}function ca(l,c){var m=c;if("ref"in c){m={};for(var v in c)v!=="ref"&&(m[v]=c[v])}if(l=l.defaultProps){m===c&&(m=g({},m));for(var A in l)m[A]===void 0&&(m[A]=l[A])}return m}function _y(l){Fu(l)}function r3(l){console.error(l)}function um(l){Fu(l)}function cm(l,c){try{var m=l.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function a3(l,c,m){try{var v=l.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Sy(l,c,m){return m=gl(m),m.tag=3,m.payload={element:null},m.callback=function(){cm(l,c)},m}function ph(l){return l=gl(l),l.tag=3,l}function Qa(l,c,m,v){var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var C=v.value;l.payload=function(){return A(C)},l.callback=function(){a3(c,m,v)}}var V=m.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){a3(c,m,v),typeof A!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var Q=v.stack;this.componentDidCatch(v.value,{componentStack:Q!==null?Q:""})})}function As(l,c,m,v,A){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=m.alternate,c!==null&&qu(c,m,A,!0),m=Pr.current,m!==null){switch(m.tag){case 31:case 13:return to===null?Sn():m.alternate===null&&bi===0&&(bi=3),m.flags&=-257,m.flags|=65536,m.lanes=A,v===q0?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([v]):c.add(v),$S(l,v,A)),!1;case 22:return m.flags|=65536,v===q0?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([v]):m.add(v)),$S(l,v,A)),!1}throw Error(i(435,m.tag))}return $S(l,v,A),Sn(),!1}if(Kn)return c=Pr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==jp&&(l=Error(i(422),{cause:v}),H0(Wa(l,m)))):(v!==jp&&(c=Error(i(423),{cause:v}),H0(Wa(c,m))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,v=Wa(v,m),A=Sy(l.stateNode,v,A),Kp(l,A),bi!==4&&(bi=2)),!1;var C=Error(i(520),{cause:v});if(C=Wa(C,m),Io===null?Io=[C]:Io.push(C),bi!==4&&(bi=2),c===null)return!0;v=Wa(v,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,l=A&-A,m.lanes|=l,l=Sy(m.stateNode,v,l),Kp(m,l),!1;case 1:if(c=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(wl===null||!wl.has(C))))return m.flags|=65536,A&=-A,m.lanes|=A,A=ph(A),Qa(A,l,m,v),Kp(m,A),!1}m=m.return}while(m!==null);return!1}var fm=Error(i(461)),ji=!1;function rr(l,c,m,v){c.child=l===null?k2(c,null,m,v):Zc(c,l.child,m,v)}function id(l,c,m,v,A){m=m.render;var C=c.ref;if("ref"in v){var V={};for(var Q in v)Q!=="ref"&&(V[Q]=v[Q])}else V=v;return Xc(c),v=$g(l,c,m,V,C,A),Q=ey(),l!==null&&!ji?(ty(l,c,A),Po(l,c,A)):(Kn&&Q&&Gp(c),c.flags|=1,rr(l,c,v,A),c.child)}function rd(l,c,m,v,A){if(l===null){var C=m.type;return typeof C=="function"&&!Oa(C)&&C.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=C,Ts(l,c,C,v,A)):(l=I0(m.type,null,v,c,c.mode,A),l.ref=c.ref,l.return=c,c.child=l)}if(C=l.child,!ec(l,A)){var V=C.memoizedProps;if(m=m.compare,m=m!==null?m:Qf,m(V,v)&&l.ref===c.ref)return Po(l,c,A)}return c.flags|=1,l=fl(C,v),l.ref=c.ref,l.return=c,c.child=l}function Ts(l,c,m,v,A){if(l!==null){var C=l.memoizedProps;if(Qf(C,v)&&l.ref===c.ref)if(ji=!1,c.pendingProps=v=C,ec(l,A))(l.flags&131072)!==0&&(ji=!0);else return c.lanes=l.lanes,Po(l,c,A)}return mh(l,c,m,v,A)}function Es(l,c,m,v){var A=v.children,C=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,l!==null){for(v=c.child=l.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~C}else v=0,c.child=null;return bl(l,c,C,m,v)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&lh(c,C!==null?C.cachePool:null),C!==null?Zg(c,C):Kg(),O2(c);else return v=c.lanes=536870912,bl(l,c,C!==null?C.baseLanes|m:m,m,v)}else C!==null?(lh(c,C.cachePool),Zg(c,C),iu(),c.memoizedState=null):(l!==null&&lh(c,null),Kg(),iu());return rr(l,c,A,m),c.child}function Oo(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function bl(l,c,m,v,A){var C=ml();return C=C===null?null:{parent:tn._currentValue,pool:C},c.memoizedState={baseLanes:m,cachePool:C},l!==null&&lh(c,null),Kg(),O2(c),l!==null&&qu(l,c,v,!0),c.childLanes=A,null}function no(l,c){return c=gh({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function Zr(l,c,m){return Zc(c,l.child,null,m),l=no(c,c.pendingProps),l.flags|=2,Ms(c),c.memoizedState=null,l}function ad(l,c,m){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(Kn){if(v.mode==="hidden")return l=no(c,v),c.lanes=536870912,Oo(null,l);if(Qg(c),(l=Ui)?(l=V8(l,Wr),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:hl!==null?{id:dl,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},m=C2(l),m.return=c,c.child=m,Xr=c,Ui=null)):l=null,l===null)throw jn(c);return c.lanes=536870912,null}return no(c,v)}var C=l.memoizedState;if(C!==null){var V=C.dehydrated;if(Qg(c),A)if(c.flags&256)c.flags&=-257,c=Zr(l,c,m);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(i(558));else if(ji||qu(l,c,m,!1),A=(m&l.childLanes)!==0,ji||A){if(v=vi,v!==null&&(V=Yt(v,m),V!==0&&V!==C.retryLane))throw C.retryLane=V,Hu(l,V),p(v,l,V),fm;Sn(),c=Zr(l,c,m)}else l=C.treeContext,Ui=Al(V.nextSibling),Xr=c,Kn=!0,Ql=null,Wr=!1,l!==null&&V0(c,l),c=no(c,v),c.flags|=4096;return c}return l=fl(l.child,{mode:v.mode,children:v.children}),l.ref=c.ref,c.child=l,l.return=c,l}function Uo(l,c){var m=c.ref;if(m===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(l===null||l.ref!==m)&&(c.flags|=4194816)}}function mh(l,c,m,v,A){return Xc(c),m=$g(l,c,m,v,void 0,A),v=ey(),l!==null&&!ji?(ty(l,c,A),Po(l,c,A)):(Kn&&v&&Gp(c),c.flags|=1,rr(l,c,m,A),c.child)}function wa(l,c,m,v,A,C){return Xc(c),c.updateQueue=null,m=P2(c,v,m,A),U2(l),v=ey(),l!==null&&!ji?(ty(l,c,C),Po(l,c,C)):(Kn&&v&&Gp(c),c.flags|=1,rr(l,c,m,C),c.child)}function fa(l,c,m,v,A){if(Xc(c),c.stateNode===null){var C=Gu,V=m.contextType;typeof V=="object"&&V!==null&&(C=Yr(V)),C=new m(v,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=nd,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=v,C.state=c.memoizedState,C.refs={},Xg(c),V=m.contextType,C.context=typeof V=="object"&&V!==null?Yr(V):Gu,C.state=c.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(dh(c,m,V,v),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(V=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),V!==C.state&&nd.enqueueReplaceState(C,C.state,null),Kc(c,v,C,A),Y0(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(l===null){C=c.stateNode;var Q=c.memoizedProps,ge=ca(m,Q);C.props=ge;var Ue=C.context,je=m.contextType;V=Gu,typeof je=="object"&&je!==null&&(V=Yr(je));var et=m.getDerivedStateFromProps;je=typeof et=="function"||typeof C.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,je||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q||Ue!==V)&&i3(c,C,v,V),Ku=!1;var Be=c.memoizedState;C.state=Be,Kc(c,v,C,A),Y0(),Ue=c.memoizedState,Q||Be!==Ue||Ku?(typeof et=="function"&&(dh(c,m,et,v),Ue=c.memoizedState),(ge=Ku||n3(c,m,ge,v,Be,Ue,V))?(je||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Ue),C.props=v,C.state=Ue,C.context=V,v=ge):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{C=c.stateNode,Wg(l,c),V=c.memoizedProps,je=ca(m,V),C.props=je,et=c.pendingProps,Be=C.context,Ue=m.contextType,ge=Gu,typeof Ue=="object"&&Ue!==null&&(ge=Yr(Ue)),Q=m.getDerivedStateFromProps,(Ue=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==et||Be!==ge)&&i3(c,C,v,ge),Ku=!1,Be=c.memoizedState,C.state=Be,Kc(c,v,C,A),Y0();var Ve=c.memoizedState;V!==et||Be!==Ve||Ku||l!==null&&l.dependencies!==null&&sh(l.dependencies)?(typeof Q=="function"&&(dh(c,m,Q,v),Ve=c.memoizedState),(je=Ku||n3(c,m,je,v,Be,Ve,ge)||l!==null&&l.dependencies!==null&&sh(l.dependencies))?(Ue||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,Ve,ge),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,Ve,ge)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===l.memoizedProps&&Be===l.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Be===l.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ve),C.props=v,C.state=Ve,C.context=ge,v=je):(typeof C.componentDidUpdate!="function"||V===l.memoizedProps&&Be===l.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&Be===l.memoizedState||(c.flags|=1024),v=!1)}return C=v,Uo(l,c),v=(c.flags&128)!==0,C||v?(C=c.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,l!==null&&v?(c.child=Zc(c,l.child,null,A),c.child=Zc(c,null,m,A)):rr(l,c,m,A),c.memoizedState=C.state,l=c.child):l=Po(l,c,A),l}function ai(l,c,m,v){return qc(),c.flags|=256,rr(l,c,m,v),c.child}var Cs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function io(l){return{baseLanes:l,cachePool:Wp()}}function sd(l,c,m){return l=l!==null?l.childLanes&~m:0,c&&(l|=ni),l}function Rs(l,c,m){var v=c.pendingProps,A=!1,C=(c.flags&128)!==0,V;if((V=C)||(V=l!==null&&l.memoizedState===null?!1:(nr.current&2)!==0),V&&(A=!0,c.flags&=-129),V=(c.flags&32)!==0,c.flags&=-33,l===null){if(Kn){if(A?Ju(c):iu(),(l=Ui)?(l=V8(l,Wr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:hl!==null?{id:dl,overflow:pl}:null,retryLane:536870912,hydrationErrors:null},m=C2(l),m.return=c,c.child=m,Xr=c,Ui=null)):l=null,l===null)throw jn(c);return m5(l)?c.lanes=32:c.lanes=536870912,null}var Q=v.children;return v=v.fallback,A?(iu(),A=c.mode,Q=gh({mode:"hidden",children:Q},A),v=Zl(v,A,m,null),Q.return=c,v.return=c,Q.sibling=v,c.child=Q,v=c.child,v.memoizedState=io(m),v.childLanes=sd(l,V,m),c.memoizedState=Cs,Oo(null,v)):(Ju(c),$u(c,Q))}var ge=l.memoizedState;if(ge!==null&&(Q=ge.dehydrated,Q!==null)){if(C)c.flags&256?(Ju(c),c.flags&=-257,c=yh(l,c,m)):c.memoizedState!==null?(iu(),c.child=l.child,c.flags|=128,c=null):(iu(),Q=v.fallback,A=c.mode,v=gh({mode:"visible",children:v.children},A),Q=Zl(Q,A,m,null),Q.flags|=2,v.return=c,Q.return=c,v.sibling=Q,c.child=v,Zc(c,l.child,null,m),v=c.child,v.memoizedState=io(m),v.childLanes=sd(l,V,m),c.memoizedState=Cs,c=Oo(null,v));else if(Ju(c),m5(Q)){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Ue=V.dgst;V=Ue,v=Error(i(419)),v.stack="",v.digest=V,H0({value:v,source:null,stack:null}),c=yh(l,c,m)}else if(ji||qu(l,c,m,!1),V=(m&l.childLanes)!==0,ji||V){if(V=vi,V!==null&&(v=Yt(V,m),v!==0&&v!==ge.retryLane))throw ge.retryLane=v,Hu(l,v),p(V,l,v),fm;p5(Q)||Sn(),c=yh(l,c,m)}else p5(Q)?(c.flags|=192,c.child=l.child,c=null):(l=ge.treeContext,Ui=Al(Q.nextSibling),Xr=c,Kn=!0,Ql=null,Wr=!1,l!==null&&V0(c,l),c=$u(c,v.children),c.flags|=4096);return c}return A?(iu(),Q=v.fallback,A=c.mode,ge=l.child,Ue=ge.sibling,v=fl(ge,{mode:"hidden",children:v.children}),v.subtreeFlags=ge.subtreeFlags&65011712,Ue!==null?Q=fl(Ue,Q):(Q=Zl(Q,A,m,null),Q.flags|=2),Q.return=c,v.return=c,v.sibling=Q,c.child=v,Oo(null,v),v=c.child,Q=l.child.memoizedState,Q===null?Q=io(m):(A=Q.cachePool,A!==null?(ge=tn._currentValue,A=A.parent!==ge?{parent:ge,pool:ge}:A):A=Wp(),Q={baseLanes:Q.baseLanes|m,cachePool:A}),v.memoizedState=Q,v.childLanes=sd(l,V,m),c.memoizedState=Cs,Oo(l.child,v)):(Ju(c),m=l.child,l=m.sibling,m=fl(m,{mode:"visible",children:v.children}),m.return=c,m.sibling=null,l!==null&&(V=c.deletions,V===null?(c.deletions=[l],c.flags|=16):V.push(l)),c.child=m,c.memoizedState=null,m)}function $u(l,c){return c=gh({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function gh(l,c){return l=ka(22,l,null,c),l.lanes=0,l}function yh(l,c,m){return Zc(c,l.child,null,m),l=$u(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function $c(l,c,m){l.lanes|=c;var v=l.alternate;v!==null&&(v.lanes|=c),eu(l.return,c,m)}function od(l,c,m,v,A,C){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:A,treeForkCount:C}:(V.isBackwards=c,V.rendering=null,V.renderingStartTime=0,V.last=v,V.tail=m,V.tailMode=A,V.treeForkCount=C)}function ld(l,c,m){var v=c.pendingProps,A=v.revealOrder,C=v.tail;v=v.children;var V=nr.current,Q=(V&2)!==0;if(Q?(V=V&1|2,c.flags|=128):V&=1,K(nr,V),rr(l,c,v,m),v=Kn?ah:0,!Q&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&$c(l,m,c);else if(l.tag===19)$c(l,m,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(m=c.child,A=null;m!==null;)l=m.alternate,l!==null&&Qp(l)===null&&(A=m),m=m.sibling;m=A,m===null?(A=c.child,c.child=null):(A=m.sibling,m.sibling=null),od(c,!1,A,m,C,v);break;case"backwards":case"unstable_legacy-backwards":for(m=null,A=c.child,c.child=null;A!==null;){if(l=A.alternate,l!==null&&Qp(l)===null){c.child=A;break}l=A.sibling,A.sibling=m,m=A,A=l}od(c,!0,m,null,C,v);break;case"together":od(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Po(l,c,m){if(l!==null&&(c.dependencies=l.dependencies),zs|=c.lanes,(m&c.childLanes)===0)if(l!==null){if(qu(l,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(i(153));if(c.child!==null){for(l=c.child,m=fl(l,l.pendingProps),c.child=m,m.return=c;l.sibling!==null;)l=l.sibling,m=m.sibling=fl(l,l.pendingProps),m.return=c;m.sibling=null}return c.child}function ec(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&sh(l)))}function ud(l,c,m){switch(c.tag){case 3:Xe(c,c.stateNode.containerInfo),$l(c,tn,l.memoizedState.cache),qc();break;case 27:case 5:_t(c);break;case 4:Xe(c,c.stateNode.containerInfo);break;case 10:$l(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Qg(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Ju(c),c.flags|=128,null):(m&c.child.childLanes)!==0?Rs(l,c,m):(Ju(c),l=Po(l,c,m),l!==null?l.sibling:null);Ju(c);break;case 19:var A=(l.flags&128)!==0;if(v=(m&c.childLanes)!==0,v||(qu(l,c,m,!1),v=(m&c.childLanes)!==0),A){if(v)return ld(l,c,m);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),K(nr,nr.current),v)break;return null;case 22:return c.lanes=0,Es(l,c,m,c.pendingProps);case 24:$l(c,tn,l.memoizedState.cache)}return Po(l,c,m)}function hm(l,c,m){if(l!==null)if(l.memoizedProps!==c.pendingProps)ji=!0;else{if(!ec(l,m)&&(c.flags&128)===0)return ji=!1,ud(l,c,m);ji=(l.flags&131072)!==0}else ji=!1,Kn&&(c.flags&1048576)!==0&&Og(c,ah,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(l=Yc(c.elementType),c.type=l,typeof l=="function")Oa(l)?(v=ca(l,v),c.tag=1,c=fa(null,c,l,v,m)):(c.tag=0,c=mh(null,c,l,v,m));else{if(l!=null){var A=l.$$typeof;if(A===N){c.tag=11,c=id(null,c,l,v,m);break e}else if(A===B){c.tag=14,c=rd(null,c,l,v,m);break e}}throw c=le(l)||l,Error(i(306,c,""))}}return c;case 0:return mh(l,c,c.type,c.pendingProps,m);case 1:return v=c.type,A=ca(v,c.pendingProps),fa(l,c,v,A,m);case 3:e:{if(Xe(c,c.stateNode.containerInfo),l===null)throw Error(i(387));v=c.pendingProps;var C=c.memoizedState;A=C.element,Wg(l,c),Kc(c,v,null,m);var V=c.memoizedState;if(v=V.cache,$l(c,tn,v),v!==C.cache&&Xp(c,[tn],m,!0),Y0(),v=V.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:V.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=ai(l,c,v,m);break e}else if(v!==A){A=Wa(Error(i(424)),c),H0(A),c=ai(l,c,v,m);break e}else{switch(l=c.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ui=Al(l.firstChild),Xr=c,Kn=!0,Ql=null,Wr=!0,m=k2(c,null,v,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(qc(),v===A){c=Po(l,c,m);break e}rr(l,c,v,m)}c=c.child}return c;case 26:return Uo(l,c),l===null?(m=W8(c.type,null,c.pendingProps,null))?c.memoizedState=m:Kn||(m=c.type,l=c.pendingProps,v=d3(_e.current).createElement(m),v[jt]=c,v[yn]=l,Fa(v,m,l),Ee(v),c.stateNode=v):c.memoizedState=W8(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return _t(c),l===null&&Kn&&(v=c.stateNode=j8(c.type,c.pendingProps,_e.current),Xr=c,Wr=!0,A=Ui,wh(c.type)?(g5=A,Ui=Al(v.firstChild)):Ui=A),rr(l,c,c.pendingProps.children,m),Uo(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&Kn&&((A=v=Ui)&&(v=cF(v,c.type,c.pendingProps,Wr),v!==null?(c.stateNode=v,Xr=c,Ui=Al(v.firstChild),Wr=!1,A=!0):A=!1),A||jn(c)),_t(c),A=c.type,C=c.pendingProps,V=l!==null?l.memoizedProps:null,v=C.children,f5(A,C)?v=null:V!==null&&f5(A,V)&&(c.flags|=32),c.memoizedState!==null&&(A=$g(l,c,WS,null,null,m),zy._currentValue=A),Uo(l,c),rr(l,c,v,m),c.child;case 6:return l===null&&Kn&&((l=m=Ui)&&(m=fF(m,c.pendingProps,Wr),m!==null?(c.stateNode=m,Xr=c,Ui=null,l=!0):l=!1),l||jn(c)),null;case 13:return Rs(l,c,m);case 4:return Xe(c,c.stateNode.containerInfo),v=c.pendingProps,l===null?c.child=Zc(c,null,v,m):rr(l,c,v,m),c.child;case 11:return id(l,c,c.type,c.pendingProps,m);case 7:return rr(l,c,c.pendingProps,m),c.child;case 8:return rr(l,c,c.pendingProps.children,m),c.child;case 12:return rr(l,c,c.pendingProps.children,m),c.child;case 10:return v=c.pendingProps,$l(c,c.type,v.value),rr(l,c,v.children,m),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,Xc(c),A=Yr(A),v=v(A),c.flags|=1,rr(l,c,v,m),c.child;case 14:return rd(l,c,c.type,c.pendingProps,m);case 15:return Ts(l,c,c.type,c.pendingProps,m);case 19:return ld(l,c,m);case 31:return ad(l,c,m);case 22:return Es(l,c,m,c.pendingProps);case 24:return Xc(c),v=Yr(tn),l===null?(A=ml(),A===null&&(A=vi,C=Fg(),A.pooledCache=C,C.refCount++,C!==null&&(A.pooledCacheLanes|=m),A=C),c.memoizedState={parent:v,cache:A},Xg(c),$l(c,tn,A)):((l.lanes&m)!==0&&(Wg(l,c),Kc(c,null,null,m),Y0()),A=l.memoizedState,C=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),$l(c,tn,v)):(v=C.cache,$l(c,tn,v),v!==A.cache&&Xp(c,[tn],m,!0))),rr(l,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Ja(l){l.flags|=4}function tc(l,c,m,v,A){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(gt())l.flags|=8192;else throw ln=q0,j0}else l.flags&=-16777217}function su(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!J8(c))if(gt())l.flags|=8192;else throw ln=q0,j0}function xh(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Bn():536870912,l.lanes|=c,Ls|=c)}function cd(l,c){if(!Kn)switch(l.tailMode){case"hidden":c=l.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function wi(l){var c=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(c)for(var A=l.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)m|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=v,l.childLanes=m,c}function My(l,c,m){var v=c.pendingProps;switch(ju(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(c),null;case 1:return wi(c),null;case 3:return m=c.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),eo(tn),at(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(jc(c)?Ja(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ug())),wi(c),null;case 26:var A=c.type,C=c.memoizedState;return l===null?(Ja(c),C!==null?(wi(c),su(c,C)):(wi(c),tc(c,A,null,v,m))):C?C!==l.memoizedState?(Ja(c),wi(c),su(c,C)):(wi(c),c.flags&=-16777217):(l=l.memoizedProps,l!==v&&Ja(c),wi(c),tc(c,A,l,v,m)),null;case 27:if(Pt(c),m=_e.current,A=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Ja(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return wi(c),null}l=Le.current,jc(c)?qp(c):(l=j8(A,v,m),c.stateNode=l,Ja(c))}return wi(c),null;case 5:if(Pt(c),A=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==v&&Ja(c);else{if(!v){if(c.stateNode===null)throw Error(i(166));return wi(c),null}if(C=Le.current,jc(c))qp(c);else{var V=d3(_e.current);switch(C){case 1:C=V.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:C=V.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":C=V.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":C=V.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":C=V.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?V.createElement("select",{is:v.is}):V.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?V.createElement(A,{is:v.is}):V.createElement(A)}}C[jt]=c,C[yn]=v;e:for(V=c.child;V!==null;){if(V.tag===5||V.tag===6)C.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===c)break e;for(;V.sibling===null;){if(V.return===null||V.return===c)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}c.stateNode=C;e:switch(Fa(C,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Ja(c)}}return wi(c),tc(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,m),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==v&&Ja(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(i(166));if(l=_e.current,jc(c)){if(l=c.stateNode,m=c.memoizedProps,v=null,A=Xr,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}l[jt]=c,l=!!(l.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||L8(l.nodeValue,m)),l||jn(c,!0)}else l=d3(l).createTextNode(v),l[jt]=c,c.stateNode=l}return wi(c),null;case 31:if(m=c.memoizedState,l===null||l.memoizedState!==null){if(v=jc(c),m!==null){if(l===null){if(!v)throw Error(i(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));l[jt]=c}else qc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wi(c),l=!1}else m=Ug(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=m),l=!0;if(!l)return c.flags&256?(Ms(c),c):(Ms(c),null);if((c.flags&128)!==0)throw Error(i(558))}return wi(c),null;case 13:if(v=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=jc(c),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(i(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(i(317));A[jt]=c}else qc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;wi(c),A=!1}else A=Ug(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Ms(c),c):(Ms(c),null)}return Ms(c),(c.flags&128)!==0?(c.lanes=m,c):(m=v!==null,l=l!==null&&l.memoizedState!==null,m&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==A&&(v.flags|=2048)),m!==l&&m&&(c.child.flags|=8192),xh(c,c.updateQueue),wi(c),null);case 4:return at(),l===null&&s5(c.stateNode.containerInfo),wi(c),null;case 10:return eo(c.type),wi(c),null;case 19:if(ye(nr),v=c.memoizedState,v===null)return wi(c),null;if(A=(c.flags&128)!==0,C=v.rendering,C===null)if(A)cd(v,!1);else{if(bi!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(C=Qp(l),C!==null){for(c.flags|=128,cd(v,!1),l=C.updateQueue,c.updateQueue=l,xh(c,l),c.subtreeFlags=0,l=m,m=c.child;m!==null;)_a(m,l),m=m.sibling;return K(nr,nr.current&1|2),Kn&&Kl(c,v.treeForkCount),c.child}l=l.sibling}v.tail!==null&&X()>ks&&(c.flags|=128,A=!0,cd(v,!1),c.lanes=4194304)}else{if(!A)if(l=Qp(C),l!==null){if(c.flags|=128,A=!0,l=l.updateQueue,c.updateQueue=l,xh(c,l),cd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Kn)return wi(c),null}else 2*X()-v.renderingStartTime>ks&&m!==536870912&&(c.flags|=128,A=!0,cd(v,!1),c.lanes=4194304);v.isBackwards?(C.sibling=c.child,c.child=C):(l=v.last,l!==null?l.sibling=C:c.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=X(),l.sibling=null,m=nr.current,K(nr,A?m&1|2:m&1),Kn&&Kl(c,v.treeForkCount),l):(wi(c),null);case 22:case 23:return Ms(c),Ma(),v=c.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(m&536870912)!==0&&(c.flags&128)===0&&(wi(c),c.subtreeFlags&6&&(c.flags|=8192)):wi(c),m=c.updateQueue,m!==null&&xh(c,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==m&&(c.flags|=2048),l!==null&&ye(Xu),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),eo(tn),wi(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function dm(l,c){switch(ju(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return eo(tn),at(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return Pt(c),null;case 31:if(c.memoizedState!==null){if(Ms(c),c.alternate===null)throw Error(i(340));qc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(Ms(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(i(340));qc()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return ye(nr),null;case 4:return at(),null;case 10:return eo(c.type),null;case 22:case 23:return Ms(c),Ma(),l!==null&&ye(Xu),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return eo(tn),null;case 25:return null;default:return null}}function ef(l,c){switch(ju(c),c.tag){case 3:eo(tn),at();break;case 26:case 27:case 5:Pt(c);break;case 4:at();break;case 31:c.memoizedState!==null&&Ms(c);break;case 13:Ms(c);break;case 19:ye(nr);break;case 10:eo(c.type);break;case 22:case 23:Ms(c),Ma(),l!==null&&ye(Xu);break;case 24:eo(tn)}}function _l(l,c){try{var m=c.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var A=v.next;m=A;do{if((m.tag&l)===l){v=void 0;var C=m.create,V=m.inst;v=C(),V.destroy=v}m=m.next}while(m!==A)}}catch(Q){ki(c,c.return,Q)}}function ro(l,c,m){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var C=A.next;v=C;do{if((v.tag&l)===l){var V=v.inst,Q=V.destroy;if(Q!==void 0){V.destroy=void 0,A=c;var ge=m,Ue=Q;try{Ue()}catch(je){ki(A,ge,je)}}}v=v.next}while(v!==C)}}catch(je){ki(c,c.return,je)}}function nc(l){var c=l.updateQueue;if(c!==null){var m=l.stateNode;try{la(c,m)}catch(v){ki(l,l.return,v)}}}function wy(l,c,m){m.props=ca(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(v){ki(l,c,v)}}function Sl(l,c){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof m=="function"?l.refCleanup=m(v):m.current=v}}catch(A){ki(l,c,A)}}function Ds(l,c){var m=l.ref,v=l.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(A){ki(l,c,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(A){ki(l,c,A)}else m.current=null}function Ns(l){var c=l.type,m=l.memoizedProps,v=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(A){ki(l,l.return,A)}}function ao(l,c,m){try{var v=l.stateNode;rF(v,l.type,m,c),v[yn]=c}catch(A){ki(l,l.return,A)}}function Tr(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&wh(l.type)||l.tag===4}function Ml(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Tr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&wh(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Cn(l,c,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(l),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=ll));else if(v!==4&&(v===27&&wh(l.type)&&(m=l.stateNode,c=null),l=l.child,l!==null))for(Cn(l,c,m),l=l.sibling;l!==null;)Cn(l,c,m),l=l.sibling}function fi(l,c,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,c?m.insertBefore(l,c):m.appendChild(l);else if(v!==4&&(v===27&&wh(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(fi(l,c,m),l=l.sibling;l!==null;)fi(l,c,m),l=l.sibling}function hr(l){var c=l.stateNode,m=l.memoizedProps;try{for(var v=l.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);Fa(c,v,m),c[jt]=l,c[yn]=m}catch(C){ki(l,l.return,C)}}var so=!1,qi=!1,ou=!1,fd=typeof WeakSet=="function"?WeakSet:Set,ar=null;function vh(l,c){if(l=l.containerInfo,u5=b3,l=Op(l),Jf(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var A=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var V=0,Q=-1,ge=-1,Ue=0,je=0,et=l,Be=null;t:for(;;){for(var Ve;et!==m||A!==0&&et.nodeType!==3||(Q=V+A),et!==C||v!==0&&et.nodeType!==3||(ge=V+v),et.nodeType===3&&(V+=et.nodeValue.length),(Ve=et.firstChild)!==null;)Be=et,et=Ve;for(;;){if(et===l)break t;if(Be===m&&++Ue===A&&(Q=V),Be===C&&++je===v&&(ge=V),(Ve=et.nextSibling)!==null)break;et=Be,Be=et.parentNode}et=Ve}m=Q===-1||ge===-1?null:{start:Q,end:ge}}else m=null}m=m||{start:0,end:0}}else m=null;for(c5={focusedElem:l,selectionRange:m},b3=!1,ar=c;ar!==null;)if(c=ar,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,ar=l;else for(;ar!==null;){switch(c=ar,C=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(m=0;m<l.length;m++)A=l[m],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,m=c,A=C.memoizedProps,C=C.memoizedState,v=m.stateNode;try{var qt=ca(m.type,A);l=v.getSnapshotBeforeUpdate(qt,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(fn){ki(m,m.return,fn)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,m=l.nodeType,m===9)d5(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":d5(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(i(163))}if(l=c.sibling,l!==null){l.return=c.return,ar=l;break}ar=c.return}}function s3(l,c,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:lu(l,m),v&4&&_l(5,m);break;case 1:if(lu(l,m),v&4)if(l=m.stateNode,c===null)try{l.componentDidMount()}catch(V){ki(m,m.return,V)}else{var A=ca(m.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(A,c,l.__reactInternalSnapshotBeforeUpdate)}catch(V){ki(m,m.return,V)}}v&64&&nc(m),v&512&&Sl(m,m.return);break;case 3:if(lu(l,m),v&64&&(l=m.updateQueue,l!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{la(l,c)}catch(V){ki(m,m.return,V)}}break;case 27:c===null&&v&4&&hr(m);case 26:case 5:lu(l,m),c===null&&v&4&&Ns(m),v&512&&Sl(m,m.return);break;case 12:lu(l,m);break;case 31:lu(l,m),v&4&&mm(l,m);break;case 13:lu(l,m),v&4&&Ay(l,m),v&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=XI.bind(null,m),hF(l,m))));break;case 22:if(v=m.memoizedState!==null||so,!v){c=c!==null&&c.memoizedState!==null||qi,A=so;var C=qi;so=v,(qi=c)&&!C?xi(l,m,(m.subtreeFlags&8772)!==0):lu(l,m),so=A,qi=C}break;case 30:break;default:lu(l,m)}}function pm(l){var c=l.alternate;c!==null&&(l.alternate=null,pm(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&Vi(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var si=null,Er=!1;function Aa(l,c,m){for(m=m.child;m!==null;)ic(l,c,m),m=m.sibling}function ic(l,c,m){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(He,m)}catch{}switch(m.tag){case 26:qi||Ds(m,c),Aa(l,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:qi||Ds(m,c);var v=si,A=Er;wh(m.type)&&(si=m.stateNode,Er=!1),Aa(l,c,m),Ry(m.stateNode),si=v,Er=A;break;case 5:qi||Ds(m,c);case 6:if(v=si,A=Er,si=null,Aa(l,c,m),si=v,Er=A,si!==null)if(Er)try{(si.nodeType===9?si.body:si.nodeName==="HTML"?si.ownerDocument.body:si).removeChild(m.stateNode)}catch(C){ki(m,c,C)}else try{si.removeChild(m.stateNode)}catch(C){ki(m,c,C)}break;case 18:si!==null&&(Er?(l=si,I8(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),Tm(l)):I8(si,m.stateNode));break;case 4:v=si,A=Er,si=m.stateNode.containerInfo,Er=!0,Aa(l,c,m),si=v,Er=A;break;case 0:case 11:case 14:case 15:ro(2,m,c),qi||ro(4,m,c),Aa(l,c,m);break;case 1:qi||(Ds(m,c),v=m.stateNode,typeof v.componentWillUnmount=="function"&&wy(m,c,v)),Aa(l,c,m);break;case 21:Aa(l,c,m);break;case 22:qi=(v=qi)||m.memoizedState!==null,Aa(l,c,m),qi=v;break;default:Aa(l,c,m)}}function mm(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Tm(l)}catch(m){ki(c,c.return,m)}}}function Ay(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Tm(l)}catch(m){ki(c,c.return,m)}}function o3(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new fd),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new fd),c;default:throw Error(i(435,l.tag))}}function dr(l,c){var m=o3(l);c.forEach(function(v){if(!m.has(v)){m.add(v);var A=WI.bind(null,l,v);v.then(A,A)}})}function Ta(l,c){var m=c.deletions;if(m!==null)for(var v=0;v<m.length;v++){var A=m[v],C=l,V=c,Q=V;e:for(;Q!==null;){switch(Q.tag){case 27:if(wh(Q.type)){si=Q.stateNode,Er=!1;break e}break;case 5:si=Q.stateNode,Er=!1;break e;case 3:case 4:si=Q.stateNode.containerInfo,Er=!0;break e}Q=Q.return}if(si===null)throw Error(i(160));ic(C,V,A),si=null,Er=!1,C=A.alternate,C!==null&&(C.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)rc(c,l),c=c.sibling}var $a=null;function rc(l,c){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ta(c,l),sr(l),v&4&&(ro(3,l,l.return),_l(3,l),ro(5,l,l.return));break;case 1:Ta(c,l),sr(l),v&512&&(qi||m===null||Ds(m,m.return)),v&64&&so&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var A=$a;if(Ta(c,l),sr(l),v&512&&(qi||m===null||Ds(m,m.return)),v&4){var C=m!==null?m.memoizedState:null;if(v=l.memoizedState,m===null)if(v===null)if(l.stateNode===null){e:{v=l.type,m=l.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":C=A.getElementsByTagName("title")[0],(!C||C[Ni]||C[jt]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=A.createElement(v),A.head.insertBefore(C,A.querySelector("head > title"))),Fa(C,v,m),C[jt]=l,Ee(C),v=C;break e;case"link":var V=K8("link","href",A).get(v+(m.href||""));if(V){for(var Q=0;Q<V.length;Q++)if(C=V[Q],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){V.splice(Q,1);break t}}C=A.createElement(v),Fa(C,v,m),A.head.appendChild(C);break;case"meta":if(V=K8("meta","content",A).get(v+(m.content||""))){for(Q=0;Q<V.length;Q++)if(C=V[Q],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){V.splice(Q,1);break t}}C=A.createElement(v),Fa(C,v,m),A.head.appendChild(C);break;default:throw Error(i(468,v))}C[jt]=l,Ee(C),v=C}l.stateNode=v}else Q8(A,l.type,l.stateNode);else l.stateNode=Z8(A,v,l.memoizedProps);else C!==v?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,v===null?Q8(A,l.type,l.stateNode):Z8(A,v,l.memoizedProps)):v===null&&l.stateNode!==null&&ao(l,l.memoizedProps,m.memoizedProps)}break;case 27:Ta(c,l),sr(l),v&512&&(qi||m===null||Ds(m,m.return)),m!==null&&v&4&&ao(l,l.memoizedProps,m.memoizedProps);break;case 5:if(Ta(c,l),sr(l),v&512&&(qi||m===null||Ds(m,m.return)),l.flags&32){A=l.stateNode;try{Ro(A,"")}catch(qt){ki(l,l.return,qt)}}v&4&&l.stateNode!=null&&(A=l.memoizedProps,ao(l,A,m!==null?m.memoizedProps:A)),v&1024&&(ou=!0);break;case 6:if(Ta(c,l),sr(l),v&4){if(l.stateNode===null)throw Error(i(162));v=l.memoizedProps,m=l.stateNode;try{m.nodeValue=v}catch(qt){ki(l,l.return,qt)}}break;case 3:if(g3=null,A=$a,$a=p3(c.containerInfo),Ta(c,l),$a=A,sr(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{Tm(c.containerInfo)}catch(qt){ki(l,l.return,qt)}ou&&(ou=!1,l3(l));break;case 4:v=$a,$a=p3(l.stateNode.containerInfo),Ta(c,l),sr(l),$a=v;break;case 12:Ta(c,l),sr(l);break;case 31:Ta(c,l),sr(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,dr(l,v)));break;case 13:Ta(c,l),sr(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(fu=X()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,dr(l,v)));break;case 22:A=l.memoizedState!==null;var ge=m!==null&&m.memoizedState!==null,Ue=so,je=qi;if(so=Ue||A,qi=je||ge,Ta(c,l),qi=je,so=Ue,sr(l),v&8192)e:for(c=l.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(m===null||ge||so||qi||tf(l)),m=null,c=l;;){if(c.tag===5||c.tag===26){if(m===null){ge=m=c;try{if(C=ge.stateNode,A)V=C.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Q=ge.stateNode;var et=ge.memoizedProps.style,Be=et!=null&&et.hasOwnProperty("display")?et.display:null;Q.style.display=Be==null||typeof Be=="boolean"?"":(""+Be).trim()}}catch(qt){ki(ge,ge.return,qt)}}}else if(c.tag===6){if(m===null){ge=c;try{ge.stateNode.nodeValue=A?"":ge.memoizedProps}catch(qt){ki(ge,ge.return,qt)}}}else if(c.tag===18){if(m===null){ge=c;try{var Ve=ge.stateNode;A?F8(Ve,!0):F8(ge.stateNode,!1)}catch(qt){ki(ge,ge.return,qt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=l.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,dr(l,m))));break;case 19:Ta(c,l),sr(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,dr(l,v)));break;case 30:break;case 21:break;default:Ta(c,l),sr(l)}}function sr(l){var c=l.flags;if(c&2){try{for(var m,v=l.return;v!==null;){if(Tr(v)){m=v;break}v=v.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var A=m.stateNode,C=Ml(l);fi(l,C,A);break;case 5:var V=m.stateNode;m.flags&32&&(Ro(V,""),m.flags&=-33);var Q=Ml(l);fi(l,Q,V);break;case 3:case 4:var ge=m.stateNode.containerInfo,Ue=Ml(l);Cn(l,Ue,ge);break;default:throw Error(i(161))}}catch(je){ki(l,l.return,je)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function l3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;l3(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function lu(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)s3(l,c.alternate,c),c=c.sibling}function tf(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:ro(4,c,c.return),tf(c);break;case 1:Ds(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&wy(c,c.return,m),tf(c);break;case 27:Ry(c.stateNode);case 26:case 5:Ds(c,c.return),tf(c);break;case 22:c.memoizedState===null&&tf(c);break;case 30:tf(c);break;default:tf(c)}l=l.sibling}}function xi(l,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=l,C=c,V=C.flags;switch(C.tag){case 0:case 11:case 15:xi(A,C,m),_l(4,C);break;case 1:if(xi(A,C,m),v=C,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ue){ki(v,v.return,Ue)}if(v=C,A=v.updateQueue,A!==null){var Q=v.stateNode;try{var ge=A.shared.hiddenCallbacks;if(ge!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ge.length;A++)yl(ge[A],Q)}catch(Ue){ki(v,v.return,Ue)}}m&&V&64&&nc(C),Sl(C,C.return);break;case 27:hr(C);case 26:case 5:xi(A,C,m),m&&v===null&&V&4&&Ns(C),Sl(C,C.return);break;case 12:xi(A,C,m);break;case 31:xi(A,C,m),m&&V&4&&mm(A,C);break;case 13:xi(A,C,m),m&&V&4&&Ay(A,C);break;case 22:C.memoizedState===null&&xi(A,C,m),Sl(C,C.return);break;case 30:break;default:xi(A,C,m)}c=c.sibling}}function gm(l,c){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&oa(m))}function uu(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&oa(l))}function Br(l,c,m,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)$i(l,c,m,v),c=c.sibling}function $i(l,c,m,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:Br(l,c,m,v),A&2048&&_l(9,c);break;case 1:Br(l,c,m,v);break;case 3:Br(l,c,m,v),A&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&oa(l)));break;case 12:if(A&2048){Br(l,c,m,v),l=c.stateNode;try{var C=c.memoizedProps,V=C.id,Q=C.onPostCommit;typeof Q=="function"&&Q(V,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ge){ki(c,c.return,ge)}}else Br(l,c,m,v);break;case 31:Br(l,c,m,v);break;case 13:Br(l,c,m,v);break;case 23:break;case 22:C=c.stateNode,V=c.alternate,c.memoizedState!==null?C._visibility&2?Br(l,c,m,v):bh(l,c):C._visibility&2?Br(l,c,m,v):(C._visibility|=2,ac(l,c,m,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&gm(V,c);break;case 24:Br(l,c,m,v),A&2048&&uu(c.alternate,c);break;default:Br(l,c,m,v)}}function ac(l,c,m,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=l,V=c,Q=m,ge=v,Ue=V.flags;switch(V.tag){case 0:case 11:case 15:ac(C,V,Q,ge,A),_l(8,V);break;case 23:break;case 22:var je=V.stateNode;V.memoizedState!==null?je._visibility&2?ac(C,V,Q,ge,A):bh(C,V):(je._visibility|=2,ac(C,V,Q,ge,A)),A&&Ue&2048&&gm(V.alternate,V);break;case 24:ac(C,V,Q,ge,A),A&&Ue&2048&&uu(V.alternate,V);break;default:ac(C,V,Q,ge,A)}c=c.sibling}}function bh(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=l,v=c,A=v.flags;switch(v.tag){case 22:bh(m,v),A&2048&&gm(v.alternate,v);break;case 24:bh(m,v),A&2048&&uu(v.alternate,v);break;default:bh(m,v)}c=c.sibling}}var or=8192;function nf(l,c,m){if(l.subtreeFlags&or)for(l=l.child;l!==null;)pr(l,c,m),l=l.sibling}function pr(l,c,m){switch(l.tag){case 26:nf(l,c,m),l.flags&or&&l.memoizedState!==null&&wF(m,$a,l.memoizedState,l.memoizedProps);break;case 5:nf(l,c,m);break;case 3:case 4:var v=$a;$a=p3(l.stateNode.containerInfo),nf(l,c,m),$a=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=or,or=16777216,nf(l,c,m),or=v):nf(l,c,m));break;default:nf(l,c,m)}}function es(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Ba(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];ar=v,hd(v,l)}es(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rf(l),l=l.sibling}function rf(l){switch(l.tag){case 0:case 11:case 15:Ba(l),l.flags&2048&&ro(9,l,l.return);break;case 3:Ba(l);break;case 12:Ba(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,ym(l)):Ba(l);break;default:Ba(l)}}function ym(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var v=c[m];ar=v,hd(v,l)}es(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:ro(8,c,c.return),ym(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,ym(c));break;default:ym(c)}l=l.sibling}}function hd(l,c){for(;ar!==null;){var m=ar;switch(m.tag){case 0:case 11:case 15:ro(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:oa(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,ar=v;else e:for(m=l;ar!==null;){v=ar;var A=v.sibling,C=v.return;if(pm(v),v===m){ar=null;break e}if(A!==null){A.return=C,ar=A;break e}ar=C}}}var xm={getCacheForType:function(l){var c=Yr(tn),m=c.data.get(l);return m===void 0&&(m=l(),c.data.set(l,m)),m},cacheSignal:function(){return Yr(tn).controller.signal}},vm=typeof WeakMap=="function"?WeakMap:Map,ti=0,vi=null,Rn=null,qn=0,nn=0,Fn=null,An=!1,Ln=!1,Ci=!1,mr=0,bi=0,zs=0,cu=0,Bo=0,ni=0,Ls=0,Io=null,Ea=null,ts=!1,fu=0,_h=0,ks=1/0,Sh=null,wl=null,er=0,Fo=null,Os=null,oo=0,hu=0,af=null,bm=null,sf=0,of=null;function Ia(){return(ti&2)!==0&&qn!==0?qn&-qn:W.T!==null?n5():hn()}function h(){if(ni===0)if((qn&536870912)===0||Kn){var l=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),ni=l}else ni=536870912;return l=Pr.current,l!==null&&(l.flags|=32),ni}function p(l,c,m){(l===vi&&(nn===2||nn===9)||l.cancelPendingCommit!==null)&&(De(l,0),P(l,qn,ni,!1)),Ft(l,m),((ti&2)===0||l!==vi)&&(l===vi&&((ti&2)===0&&(cu|=m),bi===4&&P(l,qn,ni,!1)),sc(l))}function b(l,c,m){if((ti&6)!==0)throw Error(i(327));var v=!m&&(c&127)===0&&(c&l.expiredLanes)===0||Dt(l,c),A=v?lf(l,c):ns(l,c,!0),C=v;do{if(A===0){Ln&&!v&&P(l,c,0,!1);break}else{if(m=l.current.alternate,C&&!D(m)){A=ns(l,c,!1),C=!1;continue}if(A===2){if(C=c,l.errorRecoveryDisabledLanes&C)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){c=V;e:{var Q=l;A=Io;var ge=Q.current.memoizedState.isDehydrated;if(ge&&(De(Q,V).flags|=256),V=ns(Q,V,!1),V!==2){if(Ci&&!ge){Q.errorRecoveryDisabledLanes|=C,cu|=C,A=4;break e}C=Ea,Ea=A,C!==null&&(Ea===null?Ea=C:Ea.push.apply(Ea,C))}A=V}if(C=!1,A!==2)continue}}if(A===1){De(l,0),P(l,c,0,!0);break}e:{switch(v=l,C=A,C){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:P(v,c,ni,!An);break e;case 2:Ea=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(A=fu+300-X(),10<A)){if(P(v,c,ni,!An),qe(v,0,!0)!==0)break e;oo=c,v.timeoutHandle=P8(T.bind(null,v,m,Ea,Sh,ts,c,ni,cu,Ls,An,C,"Throttled",-0,0),A);break e}T(v,m,Ea,Sh,ts,c,ni,cu,Ls,An,C,null,-0,0)}}break}while(!0);sc(l)}function T(l,c,m,v,A,C,V,Q,ge,Ue,je,et,Be,Ve){if(l.timeoutHandle=-1,et=c.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},pr(c,C,et);var qt=(C&62914560)===C?fu-X():(C&4194048)===C?_h-X():0;if(qt=AF(et,qt),qt!==null){oo=C,l.cancelPendingCommit=qt(pn.bind(null,l,c,C,m,v,A,V,Q,ge,je,et,null,Be,Ve)),P(l,C,V,!Ue);return}}pn(l,c,C,m,v,A,V,Q,ge)}function D(l){for(var c=l;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var A=m[v],C=A.getSnapshot;A=A.value;try{if(!Gi(C(),A))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function P(l,c,m,v){c&=~Bo,c&=~cu,l.suspendedLanes|=c,l.pingedLanes&=~c,v&&(l.warmLanes|=c),v=l.expirationTimes;for(var A=c;0<A;){var C=31-bt(A),V=1<<C;v[C]=-1,A&=~V}m!==0&&At(l,m,c)}function ee(){return(ti&6)===0?(Ty(0),!1):!0}function me(){if(Rn!==null){if(nn===0)var l=Rn.return;else l=Rn,Sa=Jl=null,ny(l),Yu=null,Zu=0,l=Rn;for(;l!==null;)ef(l.alternate,l),l=l.return;Rn=null}}function De(l,c){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,oF(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),oo=0,me(),vi=l,Rn=m=fl(l.current,null),qn=c,nn=0,Fn=null,An=!1,Ln=Dt(l,c),Ci=!1,Ls=ni=Bo=cu=zs=bi=0,Ea=Io=null,ts=!1,(c&8)!==0&&(c|=c&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=c;0<v;){var A=31-bt(v),C=1<<A;c|=l[A],v&=~C}return mr=c,Vu(),m}function We(l,c){dn=null,W.H=ed,c===Wu||c===ko?(c=Yp(),nn=3):c===j0?(c=Yp(),nn=4):nn=c===fm?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Fn=c,Rn===null&&(bi=1,cm(l,Wa(c,l.current)))}function gt(){var l=Pr.current;return l===null?!0:(qn&4194048)===qn?to===null:(qn&62914560)===qn||(qn&536870912)!==0?l===to:!1}function zt(){var l=W.H;return W.H=ed,l===null?ed:l}function Ot(){var l=W.A;return W.A=xm,l}function Sn(){bi=4,An||(qn&4194048)!==qn&&Pr.current!==null||(Ln=!0),(zs&134217727)===0&&(cu&134217727)===0||vi===null||P(vi,qn,ni,!1)}function ns(l,c,m){var v=ti;ti|=2;var A=zt(),C=Ot();(vi!==l||qn!==c)&&(Sh=null,De(l,c)),c=!1;var V=bi;e:do try{if(nn!==0&&Rn!==null){var Q=Rn,ge=Fn;switch(nn){case 8:me(),V=6;break e;case 3:case 2:case 9:case 6:Pr.current===null&&(c=!0);var Ue=nn;if(nn=0,Fn=null,ut(l,Q,ge,Ue),m&&Ln){V=0;break e}break;default:Ue=nn,nn=0,Fn=null,ut(l,Q,ge,Ue)}}dd(),V=bi;break}catch(je){We(l,je)}while(!0);return c&&l.shellSuspendCounter++,Sa=Jl=null,ti=v,W.H=A,W.A=C,Rn===null&&(vi=null,qn=0,Vu()),V}function dd(){for(;Rn!==null;)Ce(Rn)}function lf(l,c){var m=ti;ti|=2;var v=zt(),A=Ot();vi!==l||qn!==c?(Sh=null,ks=X()+500,De(l,c)):Ln=Dt(l,c);e:do try{if(nn!==0&&Rn!==null){c=Rn;var C=Fn;t:switch(nn){case 1:nn=0,Fn=null,ut(l,c,C,1);break;case 2:case 9:if(L2(C)){nn=0,Fn=null,Ie(c);break}c=function(){nn!==2&&nn!==9||vi!==l||(nn=7),sc(l)},C.then(c,c);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:L2(C)?(nn=0,Fn=null,Ie(c)):(nn=0,Fn=null,ut(l,c,C,7));break;case 5:var V=null;switch(Rn.tag){case 26:V=Rn.memoizedState;case 5:case 27:var Q=Rn;if(V?J8(V):Q.stateNode.complete){nn=0,Fn=null;var ge=Q.sibling;if(ge!==null)Rn=ge;else{var Ue=Q.return;Ue!==null?(Rn=Ue,Jt(Ue)):Rn=null}break t}}nn=0,Fn=null,ut(l,c,C,5);break;case 6:nn=0,Fn=null,ut(l,c,C,6);break;case 8:me(),bi=6;break e;default:throw Error(i(462))}}Pe();break}catch(je){We(l,je)}while(!0);return Sa=Jl=null,W.H=v,W.A=A,ti=m,Rn!==null?0:(vi=null,qn=0,Vu(),bi)}function Pe(){for(;Rn!==null&&!Mt();)Ce(Rn)}function Ce(l){var c=hm(l.alternate,l,mr);l.memoizedProps=l.pendingProps,c===null?Jt(l):Rn=c}function Ie(l){var c=l,m=c.alternate;switch(c.tag){case 15:case 0:c=wa(m,c,c.pendingProps,c.type,void 0,qn);break;case 11:c=wa(m,c,c.pendingProps,c.type.render,c.ref,qn);break;case 5:ny(c);default:ef(m,c),c=Rn=_a(c,mr),c=hm(m,c,mr)}l.memoizedProps=l.pendingProps,c===null?Jt(l):Rn=c}function ut(l,c,m,v){Sa=Jl=null,ny(c),Yu=null,Zu=0;var A=c.return;try{if(As(l,A,c,m,qn)){bi=1,cm(l,Wa(m,l.current)),Rn=null;return}}catch(C){if(A!==null)throw Rn=A,C;bi=1,cm(l,Wa(m,l.current)),Rn=null;return}c.flags&32768?(Kn||v===1?l=!0:Ln||(qn&536870912)!==0?l=!1:(An=l=!0,(v===2||v===9||v===3||v===6)&&(v=Pr.current,v!==null&&v.tag===13&&(v.flags|=16384))),Pi(c,l)):Jt(c)}function Jt(l){var c=l;do{if((c.flags&32768)!==0){Pi(c,An);return}l=c.return;var m=My(c.alternate,c,mr);if(m!==null){Rn=m;return}if(c=c.sibling,c!==null){Rn=c;return}Rn=c=l}while(c!==null);bi===0&&(bi=5)}function Pi(l,c){do{var m=dm(l.alternate,l);if(m!==null){m.flags&=32767,Rn=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(l=l.sibling,l!==null)){Rn=l;return}Rn=l=m}while(l!==null);bi=6,Rn=null}function pn(l,c,m,v,A,C,V,Q,ge){l.cancelPendingCommit=null;do _m();while(er!==0);if((ti&6)!==0)throw Error(i(327));if(c!==null){if(c===l.current)throw Error(i(177));if(C=c.lanes|c.childLanes,C|=Fp,gn(l,m,C,V,Q,ge),l===vi&&(Rn=vi=null,qn=0),Os=c,Fo=l,oo=m,hu=C,af=A,bm=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,YI(Me,function(){return b8(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,A=te.p,te.p=2,V=ti,ti|=4;try{vh(l,c,m)}finally{ti=V,te.p=A,W.T=v}}er=1,oi(),Ir(),li()}}function oi(){if(er===1){er=0;var l=Fo,c=Os,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=W.T,W.T=null;var v=te.p;te.p=2;var A=ti;ti|=4;try{rc(c,l);var C=c5,V=Op(l.containerInfo),Q=C.focusedElem,ge=C.selectionRange;if(V!==Q&&Q&&Q.ownerDocument&&kp(Q.ownerDocument.documentElement,Q)){if(ge!==null&&Jf(Q)){var Ue=ge.start,je=ge.end;if(je===void 0&&(je=Ue),"selectionStart"in Q)Q.selectionStart=Ue,Q.selectionEnd=Math.min(je,Q.value.length);else{var et=Q.ownerDocument||document,Be=et&&et.defaultView||window;if(Be.getSelection){var Ve=Be.getSelection(),qt=Q.textContent.length,fn=Math.min(ge.start,qt),Ii=ge.end===void 0?fn:Math.min(ge.end,qt);!Ve.extend&&fn>Ii&&(V=Ii,Ii=fn,fn=V);var Re=Ng(Q,fn),be=Ng(Q,Ii);if(Re&&be&&(Ve.rangeCount!==1||Ve.anchorNode!==Re.node||Ve.anchorOffset!==Re.offset||Ve.focusNode!==be.node||Ve.focusOffset!==be.offset)){var ke=et.createRange();ke.setStart(Re.node,Re.offset),Ve.removeAllRanges(),fn>Ii?(Ve.addRange(ke),Ve.extend(be.node,be.offset)):(ke.setEnd(be.node,be.offset),Ve.addRange(ke))}}}}for(et=[],Ve=Q;Ve=Ve.parentNode;)Ve.nodeType===1&&et.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<et.length;Q++){var Je=et[Q];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}b3=!!u5,c5=u5=null}finally{ti=A,te.p=v,W.T=m}}l.current=c,er=2}}function Ir(){if(er===2){er=0;var l=Fo,c=Os,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=W.T,W.T=null;var v=te.p;te.p=2;var A=ti;ti|=4;try{s3(l,c.alternate,c)}finally{ti=A,te.p=v,W.T=m}}er=3}}function li(){if(er===4||er===3){er=0,ie();var l=Fo,c=Os,m=oo,v=bm;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?er=5:(er=0,Os=Fo=null,du(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(wl=null),Di(m),c=c.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(He,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=W.T,A=te.p,te.p=2,W.T=null;try{for(var C=l.onRecoverableError,V=0;V<v.length;V++){var Q=v[V];C(Q.value,{componentStack:Q.stack})}}finally{W.T=c,te.p=A}}(oo&3)!==0&&_m(),sc(l),A=l.pendingLanes,(m&261930)!==0&&(A&42)!==0?l===of?sf++:(sf=0,of=l):sf=0,Ty(0)}}function du(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,oa(c)))}function _m(){return oi(),Ir(),li(),b8()}function b8(){if(er!==5)return!1;var l=Fo,c=hu;hu=0;var m=Di(oo),v=W.T,A=te.p;try{te.p=32>m?32:m,W.T=null,m=af,af=null;var C=Fo,V=oo;if(er=0,Os=Fo=null,oo=0,(ti&6)!==0)throw Error(i(331));var Q=ti;if(ti|=4,rf(C.current),$i(C,C.current,V,m),ti=Q,Ty(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(He,C)}catch{}return!0}finally{te.p=A,W.T=v,du(l,c)}}function _8(l,c,m){c=Wa(m,c),c=Sy(l.stateNode,c,2),l=nu(l,c,2),l!==null&&(Ft(l,2),sc(l))}function ki(l,c,m){if(l.tag===3)_8(l,l,m);else for(;c!==null;){if(c.tag===3){_8(c,l,m);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(wl===null||!wl.has(v))){l=Wa(m,l),m=ph(2),v=nu(c,m,2),v!==null&&(Qa(m,v,c,l),Ft(v,2),sc(v));break}}c=c.return}}function $S(l,c,m){var v=l.pingCache;if(v===null){v=l.pingCache=new vm;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(m)||(Ci=!0,A.add(m),l=qI.bind(null,l,c,m),c.then(l,l))}function qI(l,c,m){var v=l.pingCache;v!==null&&v.delete(c),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,vi===l&&(qn&m)===m&&(bi===4||bi===3&&(qn&62914560)===qn&&300>X()-fu?(ti&2)===0&&De(l,0):Bo|=m,Ls===qn&&(Ls=0)),sc(l)}function S8(l,c){c===0&&(c=Bn()),l=Hu(l,c),l!==null&&(Ft(l,c),sc(l))}function XI(l){var c=l.memoizedState,m=0;c!==null&&(m=c.retryLane),S8(l,m)}function WI(l,c){var m=0;switch(l.tag){case 31:case 13:var v=l.stateNode,A=l.memoizedState;A!==null&&(m=A.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(c),S8(l,m)}function YI(l,c){return xt(l,c)}var u3=null,Sm=null,e5=!1,c3=!1,t5=!1,Mh=0;function sc(l){l!==Sm&&l.next===null&&(Sm===null?u3=Sm=l:Sm=Sm.next=l),c3=!0,e5||(e5=!0,KI())}function Ty(l,c){if(!t5&&c3){t5=!0;do for(var m=!1,v=u3;v!==null;){if(l!==0){var A=v.pendingLanes;if(A===0)var C=0;else{var V=v.suspendedLanes,Q=v.pingedLanes;C=(1<<31-bt(42|l)+1)-1,C&=A&~(V&~Q),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,T8(v,C))}else C=qn,C=qe(v,v===vi?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||Dt(v,C)||(m=!0,T8(v,C));v=v.next}while(m);t5=!1}}function ZI(){M8()}function M8(){c3=e5=!1;var l=0;Mh!==0&&sF()&&(l=Mh);for(var c=X(),m=null,v=u3;v!==null;){var A=v.next,C=w8(v,c);C===0?(v.next=null,m===null?u3=A:m.next=A,A===null&&(Sm=m)):(m=v,(l!==0||(C&3)!==0)&&(c3=!0)),v=A}er!==0&&er!==5||Ty(l),Mh!==0&&(Mh=0)}function w8(l,c){for(var m=l.suspendedLanes,v=l.pingedLanes,A=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var V=31-bt(C),Q=1<<V,ge=A[V];ge===-1?((Q&m)===0||(Q&v)!==0)&&(A[V]=Zt(Q,c)):ge<=c&&(l.expiredLanes|=Q),C&=~Q}if(c=vi,m=qn,m=qe(l,l===c?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,m===0||l===c&&(nn===2||nn===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&tt(v),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||Dt(l,m)){if(c=m&-m,c===l.callbackPriority)return c;switch(v!==null&&tt(v),Di(m)){case 2:case 8:m=xe;break;case 32:m=Me;break;case 268435456:m=Qe;break;default:m=Me}return v=A8.bind(null,l),m=xt(m,v),l.callbackPriority=c,l.callbackNode=m,c}return v!==null&&v!==null&&tt(v),l.callbackPriority=2,l.callbackNode=null,2}function A8(l,c){if(er!==0&&er!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(_m()&&l.callbackNode!==m)return null;var v=qn;return v=qe(l,l===vi?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(b(l,v,c),w8(l,X()),l.callbackNode!=null&&l.callbackNode===m?A8.bind(null,l):null)}function T8(l,c){if(_m())return null;b(l,c,!0)}function KI(){lF(function(){(ti&6)!==0?xt(ce,ZI):M8()})}function n5(){if(Mh===0){var l=tu;l===0&&(l=vt,vt<<=1,(vt&261888)===0&&(vt=256)),Mh=l}return Mh}function E8(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:A0(""+l)}function C8(l,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,l.id&&m.setAttribute("form",l.id),c.parentNode.insertBefore(m,c),l=new FormData(l),m.parentNode.removeChild(m),l}function QI(l,c,m,v,A){if(c==="submit"&&m&&m.stateNode===A){var C=E8((A[yn]||null).action),V=v.submitter;V&&(c=(c=V[yn]||null)?E8(c.formAction):V.getAttribute("formAction"),c!==null&&(C=c,V=null));var Q=new R0("action","action",null,v,A);l.push({event:Q,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Mh!==0){var ge=V?C8(A,V):new FormData(A);yy(m,{pending:!0,data:ge,method:A.method,action:C},null,ge)}}else typeof C=="function"&&(Q.preventDefault(),ge=V?C8(A,V):new FormData(A),yy(m,{pending:!0,data:ge,method:A.method,action:C},C,ge))},currentTarget:A}]})}}for(var i5=0;i5<Ip.length;i5++){var r5=Ip[i5],JI=r5.toLowerCase(),$I=r5[0].toUpperCase()+r5.slice(1);ba(JI,"on"+$I)}ba(Xa,"onAnimationEnd"),ba(zg,"onAnimationIteration"),ba(cl,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(nh,"onTransitionRun"),ba(Iu,"onTransitionStart"),ba(Lg,"onTransitionCancel"),ba(Bp,"onTransitionEnd"),Ct("onMouseEnter",["mouseout","mouseover"]),Ct("onMouseLeave",["mouseout","mouseover"]),Ct("onPointerEnter",["pointerout","pointerover"]),Ct("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ey="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eF=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ey));function R8(l,c){c=(c&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],A=v.event;v=v.listeners;e:{var C=void 0;if(c)for(var V=v.length-1;0<=V;V--){var Q=v[V],ge=Q.instance,Ue=Q.currentTarget;if(Q=Q.listener,ge!==C&&A.isPropagationStopped())break e;C=Q,A.currentTarget=Ue;try{C(A)}catch(je){Fu(je)}A.currentTarget=null,C=ge}else for(V=0;V<v.length;V++){if(Q=v[V],ge=Q.instance,Ue=Q.currentTarget,Q=Q.listener,ge!==C&&A.isPropagationStopped())break e;C=Q,A.currentTarget=Ue;try{C(A)}catch(je){Fu(je)}A.currentTarget=null,C=ge}}}}function Qn(l,c){var m=c[Lr];m===void 0&&(m=c[Lr]=new Set);var v=l+"__bubble";m.has(v)||(D8(c,l,2,!1),m.add(v))}function a5(l,c,m){var v=0;c&&(v|=4),D8(m,l,v,c)}var f3="_reactListening"+Math.random().toString(36).slice(2);function s5(l){if(!l[f3]){l[f3]=!0,we.forEach(function(m){m!=="selectionchange"&&(eF.has(m)||a5(m,!1,l),a5(m,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[f3]||(c[f3]=!0,a5("selectionchange",!1,c))}}function D8(l,c,m,v){switch(aE(c)){case 2:var A=CF;break;case 8:A=RF;break;default:A=_5}m=A.bind(null,c,m,l),A=void 0,!wp||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?l.addEventListener(c,m,{capture:!0,passive:A}):l.addEventListener(c,m,!0):A!==void 0?l.addEventListener(c,m,{passive:A}):l.addEventListener(c,m,!1)}function o5(l,c,m,v,A){var C=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var V=v.tag;if(V===3||V===4){var Q=v.stateNode.containerInfo;if(Q===A)break;if(V===4)for(V=v.return;V!==null;){var ge=V.tag;if((ge===3||ge===4)&&V.stateNode.containerInfo===A)return;V=V.return}for(;Q!==null;){if(V=In(Q),V===null)return;if(ge=V.tag,ge===5||ge===6||ge===26||ge===27){v=C=V;continue e}Q=Q.parentNode}}v=v.return}pg(function(){var Ue=C,je=Sp(m),et=[];e:{var Be=Yl.get(l);if(Be!==void 0){var Ve=R0,qt=l;switch(l){case"keypress":if(Pc(m)===0)break e;case"keydown":case"keyup":Ve=_g;break;case"focusin":qt="focus",Ve=Rp;break;case"focusout":qt="blur",Ve=Rp;break;case"beforeblur":case"afterblur":Ve=Rp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=c2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Xl;break;case Xa:case zg:case cl:Ve=p2;break;case Bp:Ve=qS;break;case"scroll":case"scrollend":Ve=Ep;break;case"wheel":Ve=Lu;break;case"copy":case"cut":case"paste":Ve=gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Dp;break;case"toggle":case"beforetoggle":Ve=Mg}var fn=(c&4)!==0,Ii=!fn&&(l==="scroll"||l==="scrollend"),Re=fn?Be!==null?Be+"Capture":null:Be;fn=[];for(var be=Ue,ke;be!==null;){var Je=be;if(ke=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||ke===null||Re===null||(Je=Uc(be,Re),Je!=null&&fn.push(Cy(be,Je,ke))),Ii)break;be=be.return}0<fn.length&&(Be=new Ve(Be,qt,null,m,je),et.push({event:Be,listeners:fn}))}}if((c&7)===0){e:{if(Be=l==="mouseover"||l==="pointerover",Ve=l==="mouseout"||l==="pointerout",Be&&m!==T0&&(qt=m.relatedTarget||m.fromElement)&&(In(qt)||qt[zn]))break e;if((Ve||Be)&&(Be=je.window===je?je:(Be=je.ownerDocument)?Be.defaultView||Be.parentWindow:window,Ve?(qt=m.relatedTarget||m.toElement,Ve=Ue,qt=qt?In(qt):null,qt!==null&&(Ii=a(qt),fn=qt.tag,qt!==Ii||fn!==5&&fn!==27&&fn!==6)&&(qt=null)):(Ve=null,qt=Ue),Ve!==qt)){if(fn=c2,Je="onMouseLeave",Re="onMouseEnter",be="mouse",(l==="pointerout"||l==="pointerover")&&(fn=Dp,Je="onPointerLeave",Re="onPointerEnter",be="pointer"),Ii=Ve==null?Be:Te(Ve),ke=qt==null?Be:Te(qt),Be=new fn(Je,be+"leave",Ve,m,je),Be.target=Ii,Be.relatedTarget=ke,Je=null,In(je)===Ue&&(fn=new fn(Re,be+"enter",qt,m,je),fn.target=ke,fn.relatedTarget=Ii,Je=fn),Ii=Je,Ve&&qt)t:{for(fn=tF,Re=Ve,be=qt,ke=0,Je=Re;Je;Je=fn(Je))ke++;Je=0;for(var sn=be;sn;sn=fn(sn))Je++;for(;0<ke-Je;)Re=fn(Re),ke--;for(;0<Je-ke;)be=fn(be),Je--;for(;ke--;){if(Re===be||be!==null&&Re===be.alternate){fn=Re;break t}Re=fn(Re),be=fn(be)}fn=null}else fn=null;Ve!==null&&N8(et,Be,Ve,fn,!1),qt!==null&&Ii!==null&&N8(et,Ii,qt,fn,!0)}}e:{if(Be=Ue?Te(Ue):window,Ve=Be.nodeName&&Be.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Be.type==="file")var _i=Cg;else if(Tg(Be))if(O0)_i=A2;else{_i=Uu;var Qt=U0}else Ve=Be.nodeName,!Ve||Ve.toLowerCase()!=="input"||Be.type!=="checkbox"&&Be.type!=="radio"?Ue&&w0(Ue.elementType)&&(_i=Cg):_i=w2;if(_i&&(_i=_i(l,Ue))){Lp(et,_i,m,je);break e}Qt&&Qt(l,Be,Ue),l==="focusout"&&Ue&&Be.type==="number"&&Ue.memoizedProps.value!=null&&kr(Be,"number",Be.value)}switch(Qt=Ue?Te(Ue):window,l){case"focusin":(Tg(Qt)||Qt.contentEditable==="true")&&($f=Qt,Up=Ue,eh=null);break;case"focusout":eh=Up=$f=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,Pp(et,m,je);break;case"selectionchange":if(T2)break;case"keydown":case"keyup":Pp(et,m,je)}var kn;if(Bc)e:{switch(l){case"compositionstart":var ii="onCompositionStart";break e;case"compositionend":ii="onCompositionEnd";break e;case"compositionupdate":ii="onCompositionUpdate";break e}ii=void 0}else Ou?Np(l,m)&&(ii="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(ii="onCompositionStart");ii&&(sa&&m.locale!=="ko"&&(Ou||ii!=="onCompositionStart"?ii==="onCompositionEnd"&&Ou&&(kn=Tp()):(Du=je,Ap="value"in Du?Du.value:Du.textContent,Ou=!0)),Qt=h3(Ue,ii),0<Qt.length&&(ii=new yg(ii,l,null,m,je),et.push({event:ii,listeners:Qt}),kn?ii.data=kn:(kn=Wf(m),kn!==null&&(ii.data=kn)))),(kn=Ic?zp(l,m):_2(l,m))&&(ii=h3(Ue,"onBeforeInput"),0<ii.length&&(Qt=new yg("onBeforeInput","beforeinput",null,m,je),et.push({event:Qt,listeners:ii}),Qt.data=kn)),QI(et,l,Ue,m,je)}R8(et,c)})}function Cy(l,c,m){return{instance:l,listener:c,currentTarget:m}}function h3(l,c){for(var m=c+"Capture",v=[];l!==null;){var A=l,C=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||C===null||(A=Uc(l,m),A!=null&&v.unshift(Cy(l,A,C)),A=Uc(l,c),A!=null&&v.push(Cy(l,A,C))),l.tag===3)return v;l=l.return}return[]}function tF(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function N8(l,c,m,v,A){for(var C=c._reactName,V=[];m!==null&&m!==v;){var Q=m,ge=Q.alternate,Ue=Q.stateNode;if(Q=Q.tag,ge!==null&&ge===v)break;Q!==5&&Q!==26&&Q!==27||Ue===null||(ge=Ue,A?(Ue=Uc(m,C),Ue!=null&&V.unshift(Cy(m,Ue,ge))):A||(Ue=Uc(m,C),Ue!=null&&V.push(Cy(m,Ue,ge)))),m=m.return}V.length!==0&&l.push({event:c,listeners:V})}var nF=/\r\n?/g,iF=/\u0000|\uFFFD/g;function z8(l){return(typeof l=="string"?l:""+l).replace(nF,`
`).replace(iF,"")}function L8(l,c){return c=z8(c),z8(l)===c}function Bi(l,c,m,v,A,C){switch(m){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ro(l,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ro(l,""+v);break;case"className":$n(l,"class",v);break;case"tabIndex":$n(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(l,m,v);break;case"style":hg(l,v,C);break;case"data":if(c!=="object"){$n(l,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||m!=="href")){l.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(m);break}v=A0(""+v),l.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(c!=="input"&&Bi(l,c,"name",A.name,A,null),Bi(l,c,"formEncType",A.formEncType,A,null),Bi(l,c,"formMethod",A.formMethod,A,null),Bi(l,c,"formTarget",A.formTarget,A,null)):(Bi(l,c,"encType",A.encType,A,null),Bi(l,c,"method",A.method,A,null),Bi(l,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(m);break}v=A0(""+v),l.setAttribute(m,v);break;case"onClick":v!=null&&(l.onclick=ll);break;case"onScroll":v!=null&&Qn("scroll",l);break;case"onScrollEnd":v!=null&&Qn("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}m=A0(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,""+v):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":v===!0?l.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(m,v):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(m,v):l.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(m):l.setAttribute(m,v);break;case"popover":Qn("beforetoggle",l),Qn("toggle",l),Tn(l,"popover",v);break;case"xlinkActuate":ei(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":ei(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":ei(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":ei(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":ei(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":ei(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":ei(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":ei(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":ei(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Tn(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=l2.get(m)||m,Tn(l,m,v))}}function l5(l,c,m,v,A,C){switch(m){case"style":hg(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(m=v.__html,m!=null){if(A.children!=null)throw Error(i(60));l.innerHTML=m}}break;case"children":typeof v=="string"?Ro(l,v):(typeof v=="number"||typeof v=="bigint")&&Ro(l,""+v);break;case"onScroll":v!=null&&Qn("scroll",l);break;case"onScrollEnd":v!=null&&Qn("scrollend",l);break;case"onClick":v!=null&&(l.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(A=m.endsWith("Capture"),c=m.slice(2,A?m.length-7:void 0),C=l[yn]||null,C=C!=null?C[m]:null,typeof C=="function"&&l.removeEventListener(c,C,A),typeof v=="function")){typeof C!="function"&&C!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(c,v,A);break e}m in l?l[m]=v:v===!0?l.setAttribute(m,""):Tn(l,m,v)}}}function Fa(l,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qn("error",l),Qn("load",l);var v=!1,A=!1,C;for(C in m)if(m.hasOwnProperty(C)){var V=m[C];if(V!=null)switch(C){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Bi(l,c,C,V,m,null)}}A&&Bi(l,c,"srcSet",m.srcSet,m,null),v&&Bi(l,c,"src",m.src,m,null);return;case"input":Qn("invalid",l);var Q=C=V=A=null,ge=null,Ue=null;for(v in m)if(m.hasOwnProperty(v)){var je=m[v];if(je!=null)switch(v){case"name":A=je;break;case"type":V=je;break;case"checked":ge=je;break;case"defaultChecked":Ue=je;break;case"value":C=je;break;case"defaultValue":Q=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,c));break;default:Bi(l,c,v,je,m,null)}}Li(l,C,Q,ge,Ue,V,A,!1);return;case"select":Qn("invalid",l),v=V=C=null;for(A in m)if(m.hasOwnProperty(A)&&(Q=m[A],Q!=null))switch(A){case"value":C=Q;break;case"defaultValue":V=Q;break;case"multiple":v=Q;default:Bi(l,c,A,Q,m,null)}c=C,m=V,l.multiple=!!v,c!=null?Or(l,!!v,c,!1):m!=null&&Or(l,!!v,m,!0);return;case"textarea":Qn("invalid",l),C=A=v=null;for(V in m)if(m.hasOwnProperty(V)&&(Q=m[V],Q!=null))switch(V){case"value":v=Q;break;case"defaultValue":A=Q;break;case"children":C=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Bi(l,c,V,Q,m,null)}tr(l,v,A,C);return;case"option":for(ge in m)if(m.hasOwnProperty(ge)&&(v=m[ge],v!=null))switch(ge){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Bi(l,c,ge,v,m,null)}return;case"dialog":Qn("beforetoggle",l),Qn("toggle",l),Qn("cancel",l),Qn("close",l);break;case"iframe":case"object":Qn("load",l);break;case"video":case"audio":for(v=0;v<Ey.length;v++)Qn(Ey[v],l);break;case"image":Qn("error",l),Qn("load",l);break;case"details":Qn("toggle",l);break;case"embed":case"source":case"link":Qn("error",l),Qn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ue in m)if(m.hasOwnProperty(Ue)&&(v=m[Ue],v!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Bi(l,c,Ue,v,m,null)}return;default:if(w0(c)){for(je in m)m.hasOwnProperty(je)&&(v=m[je],v!==void 0&&l5(l,c,je,v,m,void 0));return}}for(Q in m)m.hasOwnProperty(Q)&&(v=m[Q],v!=null&&Bi(l,c,Q,v,m,null))}function rF(l,c,m,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,C=null,V=null,Q=null,ge=null,Ue=null,je=null;for(Ve in m){var et=m[Ve];if(m.hasOwnProperty(Ve)&&et!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":ge=et;default:v.hasOwnProperty(Ve)||Bi(l,c,Ve,null,v,et)}}for(var Be in v){var Ve=v[Be];if(et=m[Be],v.hasOwnProperty(Be)&&(Ve!=null||et!=null))switch(Be){case"type":C=Ve;break;case"name":A=Ve;break;case"checked":Ue=Ve;break;case"defaultChecked":je=Ve;break;case"value":V=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,c));break;default:Ve!==et&&Bi(l,c,Be,Ve,v,et)}}ol(l,V,Q,ge,Ue,je,C,A);return;case"select":Ve=V=Q=Be=null;for(C in m)if(ge=m[C],m.hasOwnProperty(C)&&ge!=null)switch(C){case"value":break;case"multiple":Ve=ge;default:v.hasOwnProperty(C)||Bi(l,c,C,null,v,ge)}for(A in v)if(C=v[A],ge=m[A],v.hasOwnProperty(A)&&(C!=null||ge!=null))switch(A){case"value":Be=C;break;case"defaultValue":Q=C;break;case"multiple":V=C;default:C!==ge&&Bi(l,c,A,C,v,ge)}c=Q,m=V,v=Ve,Be!=null?Or(l,!!m,Be,!1):!!v!=!!m&&(c!=null?Or(l,!!m,c,!0):Or(l,!!m,m?[]:"",!1));return;case"textarea":Ve=Be=null;for(Q in m)if(A=m[Q],m.hasOwnProperty(Q)&&A!=null&&!v.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Bi(l,c,Q,null,v,A)}for(V in v)if(A=v[V],C=m[V],v.hasOwnProperty(V)&&(A!=null||C!=null))switch(V){case"value":Be=A;break;case"defaultValue":Ve=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:A!==C&&Bi(l,c,V,A,v,C)}Ur(l,Be,Ve);return;case"option":for(var qt in m)if(Be=m[qt],m.hasOwnProperty(qt)&&Be!=null&&!v.hasOwnProperty(qt))switch(qt){case"selected":l.selected=!1;break;default:Bi(l,c,qt,null,v,Be)}for(ge in v)if(Be=v[ge],Ve=m[ge],v.hasOwnProperty(ge)&&Be!==Ve&&(Be!=null||Ve!=null))switch(ge){case"selected":l.selected=Be&&typeof Be!="function"&&typeof Be!="symbol";break;default:Bi(l,c,ge,Be,v,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fn in m)Be=m[fn],m.hasOwnProperty(fn)&&Be!=null&&!v.hasOwnProperty(fn)&&Bi(l,c,fn,null,v,Be);for(Ue in v)if(Be=v[Ue],Ve=m[Ue],v.hasOwnProperty(Ue)&&Be!==Ve&&(Be!=null||Ve!=null))switch(Ue){case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,c));break;default:Bi(l,c,Ue,Be,v,Ve)}return;default:if(w0(c)){for(var Ii in m)Be=m[Ii],m.hasOwnProperty(Ii)&&Be!==void 0&&!v.hasOwnProperty(Ii)&&l5(l,c,Ii,void 0,v,Be);for(je in v)Be=v[je],Ve=m[je],!v.hasOwnProperty(je)||Be===Ve||Be===void 0&&Ve===void 0||l5(l,c,je,Be,v,Ve);return}}for(var Re in m)Be=m[Re],m.hasOwnProperty(Re)&&Be!=null&&!v.hasOwnProperty(Re)&&Bi(l,c,Re,null,v,Be);for(et in v)Be=v[et],Ve=m[et],!v.hasOwnProperty(et)||Be===Ve||Be==null&&Ve==null||Bi(l,c,et,Be,v,Ve)}function k8(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aF(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,m=performance.getEntriesByType("resource"),v=0;v<m.length;v++){var A=m[v],C=A.transferSize,V=A.initiatorType,Q=A.duration;if(C&&Q&&k8(V)){for(V=0,Q=A.responseEnd,v+=1;v<m.length;v++){var ge=m[v],Ue=ge.startTime;if(Ue>Q)break;var je=ge.transferSize,et=ge.initiatorType;je&&k8(et)&&(ge=ge.responseEnd,V+=je*(ge<Q?1:(Q-Ue)/(ge-Ue)))}if(--v,c+=8*(C+V)/(A.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var u5=null,c5=null;function d3(l){return l.nodeType===9?l:l.ownerDocument}function O8(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U8(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function f5(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var h5=null;function sF(){var l=window.event;return l&&l.type==="popstate"?l===h5?!1:(h5=l,!0):(h5=null,!1)}var P8=typeof setTimeout=="function"?setTimeout:void 0,oF=typeof clearTimeout=="function"?clearTimeout:void 0,B8=typeof Promise=="function"?Promise:void 0,lF=typeof queueMicrotask=="function"?queueMicrotask:typeof B8<"u"?function(l){return B8.resolve(null).then(l).catch(uF)}:P8;function uF(l){setTimeout(function(){throw l})}function wh(l){return l==="head"}function I8(l,c){var m=c,v=0;do{var A=m.nextSibling;if(l.removeChild(m),A&&A.nodeType===8)if(m=A.data,m==="/$"||m==="/&"){if(v===0){l.removeChild(A),Tm(c);return}v--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")v++;else if(m==="html")Ry(l.ownerDocument.documentElement);else if(m==="head"){m=l.ownerDocument.head,Ry(m);for(var C=m.firstChild;C;){var V=C.nextSibling,Q=C.nodeName;C[Ni]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=V}}else m==="body"&&Ry(l.ownerDocument.body);m=A}while(m);Tm(c)}function F8(l,c){var m=l;l=0;do{var v=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),v&&v.nodeType===8)if(m=v.data,m==="/$"){if(l===0)break;l--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||l++;m=v}while(m)}function d5(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":d5(m),Vi(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function cF(l,c,m,v){for(;l.nodeType===1;){var A=m;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[Ni])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var C=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=Al(l.nextSibling),l===null)break}return null}function fF(l,c,m){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=Al(l.nextSibling),l===null))return null;return l}function V8(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=Al(l.nextSibling),l===null))return null;return l}function p5(l){return l.data==="$?"||l.data==="$~"}function m5(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function hF(l,c){var m=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||m.readyState!=="loading")c();else{var v=function(){c(),m.removeEventListener("DOMContentLoaded",v)};m.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function Al(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var g5=null;function H8(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"||m==="/&"){if(c===0)return Al(l.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}l=l.nextSibling}return null}function G8(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return l;c--}else m!=="/$"&&m!=="/&"||c++}l=l.previousSibling}return null}function j8(l,c,m){switch(c=d3(m),l){case"html":if(l=c.documentElement,!l)throw Error(i(452));return l;case"head":if(l=c.head,!l)throw Error(i(453));return l;case"body":if(l=c.body,!l)throw Error(i(454));return l;default:throw Error(i(451))}}function Ry(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);Vi(l)}var Tl=new Map,q8=new Set;function p3(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var uf=te.d;te.d={f:dF,r:pF,D:mF,C:gF,L:yF,m:xF,X:bF,S:vF,M:_F};function dF(){var l=uf.f(),c=ee();return l||c}function pF(l){var c=Y(l);c!==null&&c.tag===5&&c.type==="form"?xy(c):uf.r(l)}var Mm=typeof document>"u"?null:document;function X8(l,c,m){var v=Mm;if(v&&typeof c=="string"&&c){var A=zi(c);A='link[rel="'+l+'"][href="'+A+'"]',typeof m=="string"&&(A+='[crossorigin="'+m+'"]'),q8.has(A)||(q8.add(A),l={rel:l,crossOrigin:m,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),Fa(c,"link",l),Ee(c),v.head.appendChild(c)))}}function mF(l){uf.D(l),X8("dns-prefetch",l,null)}function gF(l,c){uf.C(l,c),X8("preconnect",l,c)}function yF(l,c,m){uf.L(l,c,m);var v=Mm;if(v&&l&&c){var A='link[rel="preload"][as="'+zi(c)+'"]';c==="image"&&m&&m.imageSrcSet?(A+='[imagesrcset="'+zi(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(A+='[imagesizes="'+zi(m.imageSizes)+'"]')):A+='[href="'+zi(l)+'"]';var C=A;switch(c){case"style":C=wm(l);break;case"script":C=Am(l)}Tl.has(C)||(l=g({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:l,as:c},m),Tl.set(C,l),v.querySelector(A)!==null||c==="style"&&v.querySelector(Dy(C))||c==="script"&&v.querySelector(Ny(C))||(c=v.createElement("link"),Fa(c,"link",l),Ee(c),v.head.appendChild(c)))}}function xF(l,c){uf.m(l,c);var m=Mm;if(m&&l){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+zi(v)+'"][href="'+zi(l)+'"]',C=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Am(l)}if(!Tl.has(C)&&(l=g({rel:"modulepreload",href:l},c),Tl.set(C,l),m.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Ny(C)))return}v=m.createElement("link"),Fa(v,"link",l),Ee(v),m.head.appendChild(v)}}}function vF(l,c,m){uf.S(l,c,m);var v=Mm;if(v&&l){var A=ze(v).hoistableStyles,C=wm(l);c=c||"default";var V=A.get(C);if(!V){var Q={loading:0,preload:null};if(V=v.querySelector(Dy(C)))Q.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":c},m),(m=Tl.get(C))&&y5(l,m);var ge=V=v.createElement("link");Ee(ge),Fa(ge,"link",l),ge._p=new Promise(function(Ue,je){ge.onload=Ue,ge.onerror=je}),ge.addEventListener("load",function(){Q.loading|=1}),ge.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,m3(V,c,v)}V={type:"stylesheet",instance:V,count:1,state:Q},A.set(C,V)}}}function bF(l,c){uf.X(l,c);var m=Mm;if(m&&l){var v=ze(m).hoistableScripts,A=Am(l),C=v.get(A);C||(C=m.querySelector(Ny(A)),C||(l=g({src:l,async:!0},c),(c=Tl.get(A))&&x5(l,c),C=m.createElement("script"),Ee(C),Fa(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function _F(l,c){uf.M(l,c);var m=Mm;if(m&&l){var v=ze(m).hoistableScripts,A=Am(l),C=v.get(A);C||(C=m.querySelector(Ny(A)),C||(l=g({src:l,async:!0,type:"module"},c),(c=Tl.get(A))&&x5(l,c),C=m.createElement("script"),Ee(C),Fa(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(A,C))}}function W8(l,c,m,v){var A=(A=_e.current)?p3(A):null;if(!A)throw Error(i(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=wm(m.href),m=ze(A).hoistableStyles,v=m.get(c),v||(v={type:"style",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=wm(m.href);var C=ze(A).hoistableStyles,V=C.get(l);if(V||(A=A.ownerDocument||A,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,V),(C=A.querySelector(Dy(l)))&&!C._p&&(V.instance=C,V.state.loading=5),Tl.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Tl.set(l,m),C||SF(A,l,m,V.state))),c&&v===null)throw Error(i(528,""));return V}if(c&&v!==null)throw Error(i(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Am(m),m=ze(A).hoistableScripts,v=m.get(c),v||(v={type:"script",instance:null,count:0,state:null},m.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,l))}}function wm(l){return'href="'+zi(l)+'"'}function Dy(l){return'link[rel="stylesheet"]['+l+"]"}function Y8(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function SF(l,c,m,v){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=l.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),Fa(c,"link",m),Ee(c),l.head.appendChild(c))}function Am(l){return'[src="'+zi(l)+'"]'}function Ny(l){return"script[async]"+l}function Z8(l,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var v=l.querySelector('style[data-href~="'+zi(m.href)+'"]');if(v)return c.instance=v,Ee(v),v;var A=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),Ee(v),Fa(v,"style",A),m3(v,m.precedence,l),c.instance=v;case"stylesheet":A=wm(m.href);var C=l.querySelector(Dy(A));if(C)return c.state.loading|=4,c.instance=C,Ee(C),C;v=Y8(m),(A=Tl.get(A))&&y5(v,A),C=(l.ownerDocument||l).createElement("link"),Ee(C);var V=C;return V._p=new Promise(function(Q,ge){V.onload=Q,V.onerror=ge}),Fa(C,"link",v),c.state.loading|=4,m3(C,m.precedence,l),c.instance=C;case"script":return C=Am(m.src),(A=l.querySelector(Ny(C)))?(c.instance=A,Ee(A),A):(v=m,(A=Tl.get(C))&&(v=g({},m),x5(v,A)),l=l.ownerDocument||l,A=l.createElement("script"),Ee(A),Fa(A,"link",v),l.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,m3(v,m.precedence,l));return c.instance}function m3(l,c,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,C=A,V=0;V<v.length;V++){var Q=v[V];if(Q.dataset.precedence===c)C=Q;else if(C!==A)break}C?C.parentNode.insertBefore(l,C.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(l,c.firstChild))}function y5(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function x5(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var g3=null;function K8(l,c,m){if(g3===null){var v=new Map,A=g3=new Map;A.set(m,v)}else A=g3,v=A.get(m),v||(v=new Map,A.set(m,v));if(v.has(l))return v;for(v.set(l,null),m=m.getElementsByTagName(l),A=0;A<m.length;A++){var C=m[A];if(!(C[Ni]||C[jt]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var V=C.getAttribute(c)||"";V=l+V;var Q=v.get(V);Q?Q.push(C):v.set(V,[C])}}return v}function Q8(l,c,m){l=l.ownerDocument||l,l.head.insertBefore(m,c==="title"?l.querySelector("head > title"):null)}function MF(l,c,m){if(m===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function J8(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function wF(l,c,m,v){if(m.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var A=wm(v.href),C=c.querySelector(Dy(A));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=y3.bind(l),c.then(l,l)),m.state.loading|=4,m.instance=C,Ee(C);return}C=c.ownerDocument||c,v=Y8(v),(A=Tl.get(A))&&y5(v,A),C=C.createElement("link"),Ee(C);var V=C;V._p=new Promise(function(Q,ge){V.onload=Q,V.onerror=ge}),Fa(C,"link",v),m.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(l.count++,m=y3.bind(l),c.addEventListener("load",m),c.addEventListener("error",m))}}var v5=0;function AF(l,c){return l.stylesheets&&l.count===0&&v3(l,l.stylesheets),0<l.count||0<l.imgCount?function(m){var v=setTimeout(function(){if(l.stylesheets&&v3(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+c);0<l.imgBytes&&v5===0&&(v5=62500*aF());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&v3(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>v5?50:800)+c);return l.unsuspend=m,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function y3(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)v3(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var x3=null;function v3(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,x3=new Map,c.forEach(TF,l),x3=null,y3.call(l))}function TF(l,c){if(!(c.state.loading&4)){var m=x3.get(l);if(m)var v=m.get(null);else{m=new Map,x3.set(l,m);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<A.length;C++){var V=A[C];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(m.set(V.dataset.precedence,V),v=V)}v&&m.set(null,v)}A=c.instance,V=A.getAttribute("data-precedence"),C=m.get(V)||v,C===v&&m.set(null,A),m.set(V,A),this.count++,v=y3.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),C?C.parentNode.insertBefore(A,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),c.state.loading|=4}}var zy={$$typeof:R,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function EF(l,c,m,v,A,C,V,Q,ge){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=C,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function $8(l,c,m,v,A,C,V,Q,ge,Ue,je,et){return l=new EF(l,c,m,V,ge,Ue,je,et,Q),c=1,C===!0&&(c|=24),C=ka(3,null,null,c),l.current=C,C.stateNode=l,c=Fg(),c.refCount++,l.pooledCache=c,c.refCount++,C.memoizedState={element:v,isDehydrated:m,cache:c},Xg(C),l}function eE(l){return l?(l=Gu,l):Gu}function tE(l,c,m,v,A,C){A=eE(A),v.context===null?v.context=A:v.pendingContext=A,v=gl(c),v.payload={element:m},C=C===void 0?null:C,C!==null&&(v.callback=C),m=nu(l,v,c),m!==null&&(p(m,l,c),Qu(m,l,c))}function nE(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<c?m:c}}function b5(l,c){nE(l,c),(l=l.alternate)&&nE(l,c)}function iE(l){if(l.tag===13||l.tag===31){var c=Hu(l,67108864);c!==null&&p(c,l,67108864),b5(l,67108864)}}function rE(l){if(l.tag===13||l.tag===31){var c=Ia();c=Wt(c);var m=Hu(l,c);m!==null&&p(m,l,c),b5(l,c)}}var b3=!0;function CF(l,c,m,v){var A=W.T;W.T=null;var C=te.p;try{te.p=2,_5(l,c,m,v)}finally{te.p=C,W.T=A}}function RF(l,c,m,v){var A=W.T;W.T=null;var C=te.p;try{te.p=8,_5(l,c,m,v)}finally{te.p=C,W.T=A}}function _5(l,c,m,v){if(b3){var A=S5(v);if(A===null)o5(l,c,v,_3,m),sE(l,v);else if(NF(A,l,c,m,v))v.stopPropagation();else if(sE(l,v),c&4&&-1<DF.indexOf(l)){for(;A!==null;){var C=Y(A);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var V=$e(C.pendingLanes);if(V!==0){var Q=C;for(Q.pendingLanes|=2,Q.entangledLanes|=2;V;){var ge=1<<31-bt(V);Q.entanglements[1]|=ge,V&=~ge}sc(C),(ti&6)===0&&(ks=X()+500,Ty(0))}}break;case 31:case 13:Q=Hu(C,2),Q!==null&&p(Q,C,2),ee(),b5(C,2)}if(C=S5(v),C===null&&o5(l,c,v,_3,m),C===A)break;A=C}A!==null&&v.stopPropagation()}else o5(l,c,v,null,m)}}function S5(l){return l=Sp(l),M5(l)}var _3=null;function M5(l){if(_3=null,l=In(l),l!==null){var c=a(l);if(c===null)l=null;else{var m=c.tag;if(m===13){if(l=s(c),l!==null)return l;l=null}else if(m===31){if(l=o(c),l!==null)return l;l=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return _3=l,null}function aE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ce:return 2;case xe:return 8;case Me:case nt:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var w5=!1,Ah=null,Th=null,Eh=null,Ly=new Map,ky=new Map,Ch=[],DF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(l,c){switch(l){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Th=null;break;case"mouseover":case"mouseout":Eh=null;break;case"pointerover":case"pointerout":Ly.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":ky.delete(c.pointerId)}}function Oy(l,c,m,v,A,C){return l===null||l.nativeEvent!==C?(l={blockedOn:c,domEventName:m,eventSystemFlags:v,nativeEvent:C,targetContainers:[A]},c!==null&&(c=Y(c),c!==null&&iE(c)),l):(l.eventSystemFlags|=v,c=l.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),l)}function NF(l,c,m,v,A){switch(c){case"focusin":return Ah=Oy(Ah,l,c,m,v,A),!0;case"dragenter":return Th=Oy(Th,l,c,m,v,A),!0;case"mouseover":return Eh=Oy(Eh,l,c,m,v,A),!0;case"pointerover":var C=A.pointerId;return Ly.set(C,Oy(Ly.get(C)||null,l,c,m,v,A)),!0;case"gotpointercapture":return C=A.pointerId,ky.set(C,Oy(ky.get(C)||null,l,c,m,v,A)),!0}return!1}function oE(l){var c=In(l.target);if(c!==null){var m=a(c);if(m!==null){if(c=m.tag,c===13){if(c=s(m),c!==null){l.blockedOn=c,Zn(l.priority,function(){rE(m)});return}}else if(c===31){if(c=o(m),c!==null){l.blockedOn=c,Zn(l.priority,function(){rE(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function S3(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var m=S5(l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);T0=v,m.target.dispatchEvent(v),T0=null}else return c=Y(m),c!==null&&iE(c),l.blockedOn=m,!1;c.shift()}return!0}function lE(l,c,m){S3(l)&&m.delete(c)}function zF(){w5=!1,Ah!==null&&S3(Ah)&&(Ah=null),Th!==null&&S3(Th)&&(Th=null),Eh!==null&&S3(Eh)&&(Eh=null),Ly.forEach(lE),ky.forEach(lE)}function M3(l,c){l.blockedOn===c&&(l.blockedOn=null,w5||(w5=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zF)))}var w3=null;function uE(l){w3!==l&&(w3=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){w3===l&&(w3=null);for(var c=0;c<l.length;c+=3){var m=l[c],v=l[c+1],A=l[c+2];if(typeof v!="function"){if(M5(v||m)===null)continue;break}var C=Y(m);C!==null&&(l.splice(c,3),c-=3,yy(C,{pending:!0,data:A,method:m.method,action:v},v,A))}}))}function Tm(l){function c(ge){return M3(ge,l)}Ah!==null&&M3(Ah,l),Th!==null&&M3(Th,l),Eh!==null&&M3(Eh,l),Ly.forEach(c),ky.forEach(c);for(var m=0;m<Ch.length;m++){var v=Ch[m];v.blockedOn===l&&(v.blockedOn=null)}for(;0<Ch.length&&(m=Ch[0],m.blockedOn===null);)oE(m),m.blockedOn===null&&Ch.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var A=m[v],C=m[v+1],V=A[yn]||null;if(typeof C=="function")V||uE(m);else if(V){var Q=null;if(C&&C.hasAttribute("formAction")){if(A=C,V=C[yn]||null)Q=V.formAction;else if(M5(A)!==null)continue}else Q=V.action;typeof Q=="function"?m[v+1]=Q:(m.splice(v,3),v-=3),uE(m)}}}function cE(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(V){return A=V})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(m,20)}function m(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function A5(l){this._internalRoot=l}A3.prototype.render=A5.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(i(409));var m=c.current,v=Ia();tE(m,v,l,c,null,null)},A3.prototype.unmount=A5.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;tE(l.current,2,null,l,null,null),ee(),c[zn]=null}};function A3(l){this._internalRoot=l}A3.prototype.unstable_scheduleHydration=function(l){if(l){var c=hn();l={blockedOn:null,target:l,priority:c};for(var m=0;m<Ch.length&&c!==0&&c<Ch[m].priority;m++);Ch.splice(m,0,l),m===0&&oE(l)}};var fE=e.version;if(fE!=="19.2.1")throw Error(i(527,fE,"19.2.1"));te.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=f(c),l=l!==null?d(l):null,l=l===null?null:l.stateNode,l};var LF={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T3.isDisabled&&T3.supportsFiber)try{He=T3.inject(LF),Ke=T3}catch{}}return Py.createRoot=function(l,c){if(!r(l))throw Error(i(299));var m=!1,v="",A=_y,C=r3,V=um;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(V=c.onRecoverableError)),c=$8(l,1,!1,null,null,m,v,null,A,C,V,cE),l[zn]=c.current,s5(l),new A5(c)},Py.hydrateRoot=function(l,c,m){if(!r(l))throw Error(i(299));var v=!1,A="",C=_y,V=r3,Q=um,ge=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(V=m.onCaughtError),m.onRecoverableError!==void 0&&(Q=m.onRecoverableError),m.formState!==void 0&&(ge=m.formState)),c=$8(l,1,!0,c,m??null,v,A,ge,C,V,Q,cE),c.context=eE(null),m=c.current,v=Ia(),v=Wt(v),A=gl(v),A.callback=null,nu(m,A,v),m=v,c.current.lanes=m,Ft(c,m),sc(c),l[zn]=c.current,s5(l),new A3(c)},Py.version="19.2.1",Py}var _E;function jF(){if(_E)return C5.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C5.exports=GF(),C5.exports}var qF=jF();var SE="popstate";function XF(n={}){function e(i,r){let{pathname:a,search:s,hash:o}=i.location;return ZM("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Yx(r)}return YF(e,t,null,n)}function Mr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WF(){return Math.random().toString(36).substring(2,10)}function ME(n,e){return{usr:n.state,key:n.key,idx:e}}function ZM(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Q1(e):e,state:t,key:e&&e.key||i||WF()}}function Yx({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Q1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function YF(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",u=null,f=d();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function d(){return(s.state||{idx:null}).idx}function g(){o="POP";let w=d(),S=w==null?null:w-f;f=w,u&&u({action:o,location:M.location,delta:S})}function y(w,S){o="PUSH";let E=ZM(M.location,w,S);f=d()+1;let R=ME(E,f),N=M.createHref(E);try{s.pushState(R,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(N)}a&&u&&u({action:o,location:M.location,delta:1})}function x(w,S){o="REPLACE";let E=ZM(M.location,w,S);f=d();let R=ME(E,f),N=M.createHref(E);s.replaceState(R,"",N),a&&u&&u({action:o,location:M.location,delta:0})}function _(w){return ZF(w)}let M={get action(){return o},get location(){return n(r,s)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(SE,g),u=w,()=>{r.removeEventListener(SE,g),u=null}},createHref(w){return e(r,w)},createURL:_,encodeLocation(w){let S=_(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:x,go(w){return s.go(w)}};return M}function ZF(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mr(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yx(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function ez(n,e,t="/"){return KF(n,e,t,!1)}function KF(n,e,t,i){let r=typeof e=="string"?Q1(e):e,a=Nf(r.pathname||"/",t);if(a==null)return null;let s=tz(n);QF(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let f=lV(a);o=sV(s[u],f,i)}return o}function tz(n,e=[],t=[],i="",r=!1){let a=(s,o,u=r,f)=>{let d={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(i)&&u)return;Mr(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length)}let g=Tf([i,d.relativePath]),y=t.concat(d);s.children&&s.children.length>0&&(Mr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),tz(s.children,e,y,g,u)),!(s.path==null&&!s.index)&&e.push({path:g,score:rV(g,s.index),routesMeta:y})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let u of nz(s.path))a(s,o,!0,u)}),e}function nz(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=nz(i.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&o.push(...s),o.map(u=>n.startsWith("/")&&u===""?"/":u)}function QF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aV(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var JF=/^:[\w-]+$/,$F=3,eV=2,tV=1,nV=10,iV=-2,wE=n=>n==="*";function rV(n,e){let t=n.split("/"),i=t.length;return t.some(wE)&&(i+=iV),e&&(i+=eV),t.filter(r=>!wE(r)).reduce((r,a)=>r+(JF.test(a)?$F:a===""?tV:nV),i)}function aV(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function sV(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",s=[];for(let o=0;o<i.length;++o){let u=i[o],f=o===i.length-1,d=a==="/"?e:e.slice(a.length)||"/",g=b4({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),y=u.route;if(!g&&f&&t&&!i[i.length-1].route.index&&(g=b4({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:Tf([a,g.pathname]),pathnameBase:dV(Tf([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Tf([a,g.pathnameBase]))}return s}function b4(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=oV(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((f,{paramName:d,isOptional:g},y)=>{if(d==="*"){let _=o[y]||"";s=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const x=o[y];return g&&!x?f[d]=void 0:f[d]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:n}}function oV(n,e=!1,t=!0){Tu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Nf(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var uV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cV=n=>uV.test(n);function fV(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Q1(n):n,a;if(t)if(cV(t))a=t;else{if(t.includes("//")){let s=t;t=t.replace(/\/\/+/g,"/"),Tu(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${t}`)}t.startsWith("/")?a=AE(t.substring(1),"/"):a=AE(t,e)}else a=e;return{pathname:a,search:pV(i),hash:mV(r)}}function AE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function z5(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function iz(n){let e=hV(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function rz(n,e,t,i=!1){let r;typeof n=="string"?r=Q1(n):(r={...n},Mr(!r.pathname||!r.pathname.includes("?"),z5("?","pathname","search",r)),Mr(!r.pathname||!r.pathname.includes("#"),z5("#","pathname","hash",r)),Mr(!r.search||!r.search.includes("#"),z5("#","search","hash",r)));let a=n===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=t;else{let g=e.length-1;if(!i&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;r.pathname=y.join("/")}o=g>=0?e[g]:"/"}let u=fV(r,o),f=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Tf=n=>n.join("/").replace(/\/\/+/g,"/"),dV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function yV(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var az=["POST","PUT","PATCH","DELETE"];new Set(az);var xV=["GET",...az];new Set(xV);var J1=ue.createContext(null);J1.displayName="DataRouter";var F_=ue.createContext(null);F_.displayName="DataRouterState";ue.createContext(!1);var sz=ue.createContext({isTransitioning:!1});sz.displayName="ViewTransition";var vV=ue.createContext(new Map);vV.displayName="Fetchers";var bV=ue.createContext(null);bV.displayName="Await";var Eu=ue.createContext(null);Eu.displayName="Navigation";var Ov=ue.createContext(null);Ov.displayName="Location";var Cc=ue.createContext({outlet:null,matches:[],isDataRoute:!1});Cc.displayName="Route";var zA=ue.createContext(null);zA.displayName="RouteError";function _V(n,{relative:e}={}){Mr(Uv(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ue.useContext(Eu),{hash:r,pathname:a,search:s}=Pv(n,{relative:e}),o=a;return t!=="/"&&(o=a==="/"?t:Tf([t,a])),i.createHref({pathname:o,search:s,hash:r})}function Uv(){return ue.useContext(Ov)!=null}function Gf(){return Mr(Uv(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(Ov).location}var oz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lz(n){ue.useContext(Eu).static||ue.useLayoutEffect(n)}function LA(){let{isDataRoute:n}=ue.useContext(Cc);return n?OV():SV()}function SV(){Mr(Uv(),"useNavigate() may be used only in the context of a <Router> component.");let n=ue.useContext(J1),{basename:e,navigator:t}=ue.useContext(Eu),{matches:i}=ue.useContext(Cc),{pathname:r}=Gf(),a=JSON.stringify(iz(i)),s=ue.useRef(!1);return lz(()=>{s.current=!0}),ue.useCallback((u,f={})=>{if(Tu(s.current,oz),!s.current)return;if(typeof u=="number"){t.go(u);return}let d=rz(u,JSON.parse(a),r,f.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Tf([e,d.pathname])),(f.replace?t.replace:t.push)(d,f.state,f)},[e,t,a,r,n])}ue.createContext(null);function MV(){let{matches:n}=ue.useContext(Cc),e=n[n.length-1];return e?e.params:{}}function Pv(n,{relative:e}={}){let{matches:t}=ue.useContext(Cc),{pathname:i}=Gf(),r=JSON.stringify(iz(t));return ue.useMemo(()=>rz(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function wV(n,e){return uz(n,e)}function uz(n,e,t,i,r){Mr(Uv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ue.useContext(Eu),{matches:s}=ue.useContext(Cc),o=s[s.length-1],u=o?o.params:{},f=o?o.pathname:"/",d=o?o.pathnameBase:"/",g=o&&o.route;{let E=g&&g.path||"";cz(f,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Gf(),x;if(e){let E=typeof e=="string"?Q1(e):e;Mr(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=y;let _=x.pathname||"/",M=_;if(d!=="/"){let E=d.replace(/^\//,"").split("/");M="/"+_.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=ez(n,{pathname:M});Tu(g||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Tu(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=RV(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Tf([d,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Tf([d,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,t,i,r);return e&&S?ue.createElement(Ov.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function AV(){let n=kV(),e=gV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:a},"ErrorBoundary")," or"," ",ue.createElement("code",{style:a},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),t?ue.createElement("pre",{style:r},t):null,s)}var TV=ue.createElement(AV,null),EV=class extends ue.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?ue.createElement(Cc.Provider,{value:this.props.routeContext},ue.createElement(zA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CV({routeContext:n,match:e,children:t}){let i=ue.useContext(J1);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(Cc.Provider,{value:n},t)}function RV(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,s=t?.errors;if(s!=null){let d=a.findIndex(g=>g.route.id&&s?.[g.route.id]!==void 0);Mr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let o=!1,u=-1;if(t)for(let d=0;d<a.length;d++){let g=a[d];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=d),g.route.id){let{loaderData:y,errors:x}=t,_=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||_){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let f=t&&i?(d,g)=>{i(d,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:yV(t.matches),errorInfo:g})}:void 0;return a.reduceRight((d,g,y)=>{let x,_=!1,M=null,w=null;t&&(x=s&&g.route.id?s[g.route.id]:void 0,M=g.route.errorElement||TV,o&&(u<0&&y===0?(cz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):u===y&&(_=!0,w=g.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,y+1)),E=()=>{let R;return x?R=M:_?R=w:g.route.Component?R=ue.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=d,ue.createElement(CV,{match:g,routeContext:{outlet:d,matches:S,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?ue.createElement(EV,{location:t.location,revalidation:t.revalidation,component:M,error:x,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):E()},null)}function kA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DV(n){let e=ue.useContext(J1);return Mr(e,kA(n)),e}function NV(n){let e=ue.useContext(F_);return Mr(e,kA(n)),e}function zV(n){let e=ue.useContext(Cc);return Mr(e,kA(n)),e}function OA(n){let e=zV(n),t=e.matches[e.matches.length-1];return Mr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LV(){return OA("useRouteId")}function kV(){let n=ue.useContext(zA),e=NV("useRouteError"),t=OA("useRouteError");return n!==void 0?n:e.errors?.[t]}function OV(){let{router:n}=DV("useNavigate"),e=OA("useNavigate"),t=ue.useRef(!1);return lz(()=>{t.current=!0}),ue.useCallback(async(r,a={})=>{Tu(t.current,oz),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var TE={};function cz(n,e,t){!e&&!TE[n]&&(TE[n]=!0,Tu(!1,t))}ue.memo(UV);function UV({routes:n,future:e,state:t,unstable_onError:i}){return uz(n,void 0,t,i,e)}function Kb(n){Mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PV({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1,unstable_useTransitions:s}){Mr(!Uv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=ue.useMemo(()=>({basename:o,navigator:r,static:a,unstable_useTransitions:s,future:{}}),[o,r,a,s]);typeof t=="string"&&(t=Q1(t));let{pathname:f="/",search:d="",hash:g="",state:y=null,key:x="default"}=t,_=ue.useMemo(()=>{let M=Nf(f,o);return M==null?null:{location:{pathname:M,search:d,hash:g,state:y,key:x},navigationType:i}},[o,f,d,g,y,x,i]);return Tu(_!=null,`<Router basename="${o}"> is not able to match the URL "${f}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:ue.createElement(Eu.Provider,{value:u},ue.createElement(Ov.Provider,{children:e,value:_}))}function BV({children:n,location:e}){return wV(KM(n),e)}function KM(n,e=[]){let t=[];return ue.Children.forEach(n,(i,r)=>{if(!ue.isValidElement(i))return;let a=[...e,r];if(i.type===ue.Fragment){t.push.apply(t,KM(i.props.children,a));return}Mr(i.type===Kb,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mr(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=KM(i.props.children,a)),t.push(s)}),t}var Qb="get",Jb="application/x-www-form-urlencoded";function V_(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function IV(n){return V_(n)&&n.tagName.toLowerCase()==="button"}function FV(n){return V_(n)&&n.tagName.toLowerCase()==="form"}function VV(n){return V_(n)&&n.tagName.toLowerCase()==="input"}function HV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GV(n,e){return n.button===0&&(!e||e==="_self")&&!HV(n)}var E3=null;function jV(){if(E3===null)try{new FormData(document.createElement("form"),0),E3=!1}catch{E3=!0}return E3}var qV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function L5(n){return n!=null&&!qV.has(n)?(Tu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jb}"`),null):n}function XV(n,e){let t,i,r,a,s;if(FV(n)){let o=n.getAttribute("action");i=o?Nf(o,e):null,t=n.getAttribute("method")||Qb,r=L5(n.getAttribute("enctype"))||Jb,a=new FormData(n)}else if(IV(n)||VV(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||o.getAttribute("action");if(i=u?Nf(u,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||Qb,r=L5(n.getAttribute("formenctype"))||L5(o.getAttribute("enctype"))||Jb,a=new FormData(o,n),!jV()){let{name:f,type:d,value:g}=n;if(d==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,g)}}else{if(V_(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Qb,i=null,r=Jb,s=n}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function UA(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function WV(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Nf(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function YV(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZV(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KV(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let s=await YV(a,t);return s.links?s.links():[]}return[]}));return eH(i.flat(1).filter(ZV).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function EE(n,e,t,i,r,a){let s=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,o=(u,f)=>t[f].pathname!==u.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,f)=>s(u,f)||o(u,f)):a==="data"?e.filter((u,f)=>{let d=i.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,f)||o(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function QV(n,e,{includeHydrateFallback:t}={}){return JV(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function JV(n){return[...new Set(n)]}function $V(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function eH(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify($V(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function fz(){let n=ue.useContext(J1);return UA(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tH(){let n=ue.useContext(F_);return UA(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var PA=ue.createContext(void 0);PA.displayName="FrameworkContext";function hz(){let n=ue.useContext(PA);return UA(n,"You must render this element inside a <HydratedRouter> element"),n}function nH(n,e){let t=ue.useContext(PA),[i,r]=ue.useState(!1),[a,s]=ue.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:g}=e,y=ue.useRef(null);ue.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let M=S=>{S.forEach(E=>{s(E.isIntersecting)})},w=new IntersectionObserver(M,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[n]),ue.useEffect(()=>{if(i){let M=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(M)}}},[i]);let x=()=>{r(!0)},_=()=>{r(!1),s(!1)};return t?n!=="intent"?[a,y,{}]:[a,y,{onFocus:By(o,x),onBlur:By(u,_),onMouseEnter:By(f,x),onMouseLeave:By(d,_),onTouchStart:By(g,x)}]:[!1,y,{}]}function By(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iH({page:n,...e}){let{router:t}=fz(),i=ue.useMemo(()=>ez(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?ue.createElement(aH,{page:n,matches:i,...e}):null}function rH(n){let{manifest:e,routeModules:t}=hz(),[i,r]=ue.useState([]);return ue.useEffect(()=>{let a=!1;return KV(n,e,t).then(s=>{a||r(s)}),()=>{a=!0}},[n,e,t]),i}function aH({page:n,matches:e,...t}){let i=Gf(),{manifest:r,routeModules:a}=hz(),{basename:s}=fz(),{loaderData:o,matches:u}=tH(),f=ue.useMemo(()=>EE(n,e,u,r,i,"data"),[n,e,u,r,i]),d=ue.useMemo(()=>EE(n,e,u,r,i,"assets"),[n,e,u,r,i]),g=ue.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,M=!1;if(e.forEach(S=>{let E=r.routes[S.route.id];!E||!E.hasLoader||(!f.some(R=>R.route.id===S.route.id)&&S.route.id in o&&a[S.route.id]?.shouldRevalidate||E.hasClientLoader?M=!0:_.add(S.route.id))}),_.size===0)return[];let w=WV(n,s,"data");return M&&_.size>0&&w.searchParams.set("_routes",e.filter(S=>_.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[s,o,i,r,f,e,n,a]),y=ue.useMemo(()=>QV(d,r),[d,r]),x=rH(d);return ue.createElement(ue.Fragment,null,g.map(_=>ue.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>ue.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),x.map(({key:_,link:M})=>ue.createElement("link",{key:_,nonce:t.nonce,...M})))}function sH(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dz&&(window.__reactRouterVersion="7.10.1")}catch{}function oH({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=ue.useRef();r.current==null&&(r.current=XF({window:i,v5Compat:!0}));let a=r.current,[s,o]=ue.useState({action:a.action,location:a.location}),u=ue.useCallback(f=>{t===!1?o(f):ue.startTransition(()=>o(f))},[t]);return ue.useLayoutEffect(()=>a.listen(u),[a,u]),ue.createElement(PV,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:t===!0})}var pz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=ue.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:u,to:f,preventScrollReset:d,viewTransition:g,...y},x){let{basename:_,unstable_useTransitions:M}=ue.useContext(Eu),w=typeof f=="string"&&pz.test(f),S,E=!1;if(typeof f=="string"&&w&&(S=f,dz))try{let L=new URL(window.location.href),j=f.startsWith("//")?new URL(L.protocol+f):new URL(f),Z=Nf(j.pathname,_);j.origin===L.origin&&Z!=null?f=Z+j.search+j.hash:E=!0}catch{Tu(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=_V(f,{relative:r}),[N,O,z]=nH(i,y),B=fH(f,{replace:s,state:o,target:u,preventScrollReset:d,relative:r,viewTransition:g,unstable_useTransitions:M});function G(L){e&&e(L),L.defaultPrevented||B(L)}let U=ue.createElement("a",{...y,...z,href:S||R,onClick:E||a?e:G,ref:sH(x,O),target:u,"data-discover":!w&&t==="render"?"true":void 0});return N&&!w?ue.createElement(ue.Fragment,null,U,ue.createElement(iH,{page:R})):U});n0.displayName="Link";var lH=ue.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:u,...f},d){let g=Pv(s,{relative:f.relative}),y=Gf(),x=ue.useContext(F_),{navigator:_,basename:M}=ue.useContext(Eu),w=x!=null&&gH(g)&&o===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,E=y.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(E=E.toLowerCase(),R=R?R.toLowerCase():null,S=S.toLowerCase()),R&&M&&(R=Nf(R,M)||R);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=E===S||!r&&E.startsWith(S)&&E.charAt(N)==="/",z=R!=null&&(R===S||!r&&R.startsWith(S)&&R.charAt(S.length)==="/"),B={isActive:O,isPending:z,isTransitioning:w},G=O?e:void 0,U;typeof i=="function"?U=i(B):U=[i,O?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(B):a;return ue.createElement(n0,{...f,"aria-current":G,className:U,ref:d,style:L,to:s,viewTransition:o},typeof u=="function"?u(B):u)});lH.displayName="NavLink";var uH=ue.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:s=Qb,action:o,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:g,...y},x)=>{let{unstable_useTransitions:_}=ue.useContext(Eu),M=pH(),w=mH(o,{relative:f}),S=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&pz.test(o),R=N=>{if(u&&u(N),N.defaultPrevented)return;N.preventDefault();let O=N.nativeEvent.submitter,z=O?.getAttribute("formmethod")||s,B=()=>M(O||N.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:r,state:a,relative:f,preventScrollReset:d,viewTransition:g});_&&t!==!1?ue.startTransition(()=>B()):B()};return ue.createElement("form",{ref:x,method:S,action:w,onSubmit:i?u:R,...y,"data-discover":!E&&n==="render"?"true":void 0})});uH.displayName="Form";function cH(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mz(n){let e=ue.useContext(J1);return Mr(e,cH(n)),e}function fH(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:s,unstable_useTransitions:o}={}){let u=LA(),f=Gf(),d=Pv(n,{relative:a});return ue.useCallback(g=>{if(GV(g,e)){g.preventDefault();let y=t!==void 0?t:Yx(f)===Yx(d),x=()=>u(n,{replace:y,state:i,preventScrollReset:r,relative:a,viewTransition:s});o?ue.startTransition(()=>x()):x()}},[f,u,d,t,i,e,n,r,a,s,o])}var hH=0,dH=()=>`__${String(++hH)}__`;function pH(){let{router:n}=mz("useSubmit"),{basename:e}=ue.useContext(Eu),t=LV(),i=n.fetch,r=n.navigate;return ue.useCallback(async(a,s={})=>{let{action:o,method:u,encType:f,formData:d,body:g}=XV(a,e);if(s.navigate===!1){let y=s.fetcherKey||dH();await i(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await r(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:g,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,r,e,t])}function mH(n,{relative:e}={}){let{basename:t}=ue.useContext(Eu),i=ue.useContext(Cc);Mr(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Pv(n||".",{relative:e})},s=Gf();if(n==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(g=>g).forEach(g=>o.append("index",g));let d=o.toString();a.search=d?`?${d}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Tf([t,a.pathname])),Yx(a)}function gH(n,{relative:e}={}){let t=ue.useContext(sz);Mr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mz("useViewTransitionState"),r=Pv(n,{relative:e});if(!t.isTransitioning)return!1;let a=Nf(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=Nf(t.nextLocation.pathname,i)||t.nextLocation.pathname;return b4(r.pathname,s)!=null||b4(r.pathname,a)!=null}const BA=ue.createContext({});function IA(n){const e=ue.useRef(null);return e.current===null&&(e.current=n()),e.current}const FA=typeof window<"u",gz=FA?ue.useLayoutEffect:ue.useEffect,H_=ue.createContext(null);function VA(n,e){n.indexOf(e)===-1&&n.push(e)}function HA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zf=(n,e,t)=>t>e?e:t<n?n:t;let GA=()=>{};const Lf={},yz=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function xz(n){return typeof n=="object"&&n!==null}const vz=n=>/^0[^.\s]+$/u.test(n);function jA(n){let e;return()=>(e===void 0&&(e=n()),e)}const Bl=n=>n,yH=(n,e)=>t=>e(n(t)),Bv=(...n)=>n.reduce(yH),Zx=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class qA{constructor(){this.subscriptions=[]}add(e){return VA(this.subscriptions,e),()=>HA(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const s=this.subscriptions[a];s&&s(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _c=n=>n*1e3,Ll=n=>n/1e3;function bz(n,e){return e?n*(1e3/e):0}const _z=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,xH=1e-7,vH=12;function bH(n,e,t,i,r){let a,s,o=0;do s=e+(t-e)/2,a=_z(s,i,r)-n,a>0?t=s:e=s;while(Math.abs(a)>xH&&++o<vH);return s}function Iv(n,e,t,i){if(n===e&&t===i)return Bl;const r=a=>bH(a,0,1,n,t);return a=>a===0||a===1?a:_z(r(a),e,i)}const Sz=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Mz=n=>e=>1-n(1-e),wz=Iv(.33,1.53,.69,.99),XA=Mz(wz),Az=Sz(XA),Tz=n=>(n*=2)<1?.5*XA(n):.5*(2-Math.pow(2,-10*(n-1))),WA=n=>1-Math.sin(Math.acos(n)),Ez=Mz(WA),Cz=Sz(WA),_H=Iv(.42,0,1,1),SH=Iv(0,0,.58,1),Rz=Iv(.42,0,.58,1),MH=n=>Array.isArray(n)&&typeof n[0]!="number",Dz=n=>Array.isArray(n)&&typeof n[0]=="number",wH={linear:Bl,easeIn:_H,easeInOut:Rz,easeOut:SH,circIn:WA,circInOut:Cz,circOut:Ez,backIn:XA,backInOut:Az,backOut:wz,anticipate:Tz},AH=n=>typeof n=="string",CE=n=>{if(Dz(n)){GA(n.length===4);const[e,t,i,r]=n;return Iv(e,t,i,r)}else if(AH(n))return wH[n];return n},C3=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TH(n,e){let t=new Set,i=new Set,r=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(d){s.has(d)&&(f.schedule(d),n()),d(o)}const f={schedule:(d,g=!1,y=!1)=>{const _=y&&r?t:i;return g&&s.add(d),_.has(d)||_.add(d),d},cancel:d=>{i.delete(d),s.delete(d)},process:d=>{if(o=d,r){a=!0;return}r=!0,[t,i]=[i,t],t.forEach(u),t.clear(),r=!1,a&&(a=!1,f.process(d))}};return f}const EH=40;function Nz(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,s=C3.reduce((R,N)=>(R[N]=TH(a),R),{}),{setup:o,read:u,resolveKeyframes:f,preUpdate:d,update:g,preRender:y,render:x,postRender:_}=s,M=()=>{const R=Lf.useManualTiming?r.timestamp:performance.now();t=!1,Lf.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(R-r.timestamp,EH),1)),r.timestamp=R,r.isProcessing=!0,o.process(r),u.process(r),f.process(r),d.process(r),g.process(r),y.process(r),x.process(r),_.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(M))},w=()=>{t=!0,i=!0,r.isProcessing||n(M)};return{schedule:C3.reduce((R,N)=>{const O=s[N];return R[N]=(z,B=!1,G=!1)=>(t||w(),O.schedule(z,B,G)),R},{}),cancel:R=>{for(let N=0;N<C3.length;N++)s[C3[N]].cancel(R)},state:r,steps:s}}const{schedule:ur,cancel:i0,state:Va,steps:k5}=Nz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bl,!0);let $b;function CH(){$b=void 0}const yo={now:()=>($b===void 0&&yo.set(Va.isProcessing||Lf.useManualTiming?Va.timestamp:performance.now()),$b),set:n=>{$b=n,queueMicrotask(CH)}},zz=n=>e=>typeof e=="string"&&e.startsWith(n),YA=zz("--"),RH=zz("var(--"),ZA=n=>RH(n)?DH.test(n.split("/*")[0].trim()):!1,DH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$1={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Kx={...$1,transform:n=>zf(0,1,n)},R3={...$1,default:1},xx=n=>Math.round(n*1e5)/1e5,KA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NH(n){return n==null}const zH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QA=(n,e)=>t=>!!(typeof t=="string"&&zH.test(t)&&t.startsWith(n)||e&&!NH(t)&&Object.prototype.hasOwnProperty.call(t,e)),Lz=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,s,o]=i.match(KA);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},LH=n=>zf(0,255,n),O5={...$1,transform:n=>Math.round(LH(n))},Fd={test:QA("rgb","red"),parse:Lz("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+O5.transform(n)+", "+O5.transform(e)+", "+O5.transform(t)+", "+xx(Kx.transform(i))+")"};function kH(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const QM={test:QA("#"),parse:kH,transform:Fd.transform},Fv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Fh=Fv("deg"),Sc=Fv("%"),vn=Fv("px"),OH=Fv("vh"),UH=Fv("vw"),RE={...Sc,parse:n=>Sc.parse(n)/100,transform:n=>Sc.transform(n*100)},s1={test:QA("hsl","hue"),parse:Lz("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Sc.transform(xx(e))+", "+Sc.transform(xx(t))+", "+xx(Kx.transform(i))+")"},$r={test:n=>Fd.test(n)||QM.test(n)||s1.test(n),parse:n=>Fd.test(n)?Fd.parse(n):s1.test(n)?s1.parse(n):QM.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fd.transform(n):s1.transform(n),getAnimatableNone:n=>{const e=$r.parse(n);return e.alpha=0,$r.transform(e)}},PH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BH(n){return isNaN(n)&&typeof n=="string"&&(n.match(KA)?.length||0)+(n.match(PH)?.length||0)>0}const kz="number",Oz="color",IH="var",FH="var(",DE="${}",VH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qx(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const o=e.replace(VH,u=>($r.test(u)?(i.color.push(a),r.push(Oz),t.push($r.parse(u))):u.startsWith(FH)?(i.var.push(a),r.push(IH),t.push(u)):(i.number.push(a),r.push(kz),t.push(parseFloat(u))),++a,DE)).split(DE);return{values:t,split:o,indexes:i,types:r}}function Uz(n){return Qx(n).values}function Pz(n){const{split:e,types:t}=Qx(n),i=e.length;return r=>{let a="";for(let s=0;s<i;s++)if(a+=e[s],r[s]!==void 0){const o=t[s];o===kz?a+=xx(r[s]):o===Oz?a+=$r.transform(r[s]):a+=r[s]}return a}}const HH=n=>typeof n=="number"?0:$r.test(n)?$r.getAnimatableNone(n):n;function GH(n){const e=Uz(n);return Pz(n)(e.map(HH))}const r0={test:BH,parse:Uz,createTransformer:Pz,getAnimatableNone:GH};function U5(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function jH({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,s=0;if(!e)r=a=s=t;else{const o=t<.5?t*(1+e):t+e-t*e,u=2*t-o;r=U5(u,o,n+1/3),a=U5(u,o,n),s=U5(u,o,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:i}}function _4(n,e){return t=>t>0?e:n}const br=(n,e,t)=>n+(e-n)*t,P5=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},qH=[QM,Fd,s1],XH=n=>qH.find(e=>e.test(n));function NE(n){const e=XH(n);if(!e)return!1;let t=e.parse(n);return e===s1&&(t=jH(t)),t}const zE=(n,e)=>{const t=NE(n),i=NE(e);if(!t||!i)return _4(n,e);const r={...t};return a=>(r.red=P5(t.red,i.red,a),r.green=P5(t.green,i.green,a),r.blue=P5(t.blue,i.blue,a),r.alpha=br(t.alpha,i.alpha,a),Fd.transform(r))},JM=new Set(["none","hidden"]);function WH(n,e){return JM.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function YH(n,e){return t=>br(n,e,t)}function JA(n){return typeof n=="number"?YH:typeof n=="string"?ZA(n)?_4:$r.test(n)?zE:QH:Array.isArray(n)?Bz:typeof n=="object"?$r.test(n)?zE:ZH:_4}function Bz(n,e){const t=[...n],i=t.length,r=n.map((a,s)=>JA(a)(a,e[s]));return a=>{for(let s=0;s<i;s++)t[s]=r[s](a);return t}}function ZH(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=JA(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function KH(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],s=n.indexes[a][i[a]],o=n.values[s]??0;t[r]=o,i[a]++}return t}const QH=(n,e)=>{const t=r0.createTransformer(e),i=Qx(n),r=Qx(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?JM.has(n)&&!r.values.length||JM.has(e)&&!i.values.length?WH(n,e):Bv(Bz(KH(i,r),r.values),t):_4(n,e)};function Iz(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?br(n,e,t):JA(n)(n,e)}const JH=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ur.update(e,t),stop:()=>i0(e),now:()=>Va.isProcessing?Va.timestamp:yo.now()}},Fz=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=Math.round(n(a/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},S4=2e4;function $A(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<S4;)e+=t,i=n.next(e);return e>=S4?1/0:e}function $H(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min($A(i),S4);return{type:"keyframes",ease:a=>i.next(r*a).value/e,duration:Ll(r)}}const eG=5;function Vz(n,e,t){const i=Math.max(e-eG,0);return bz(t-n(i),e-i)}const Dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B5=.001;function tG({duration:n=Dr.duration,bounce:e=Dr.bounce,velocity:t=Dr.velocity,mass:i=Dr.mass}){let r,a,s=1-e;s=zf(Dr.minDamping,Dr.maxDamping,s),n=zf(Dr.minDuration,Dr.maxDuration,Ll(n)),s<1?(r=f=>{const d=f*s,g=d*n,y=d-t,x=$M(f,s),_=Math.exp(-g);return B5-y/x*_},a=f=>{const g=f*s*n,y=g*t+t,x=Math.pow(s,2)*Math.pow(f,2)*n,_=Math.exp(-g),M=$M(Math.pow(f,2),s);return(-r(f)+B5>0?-1:1)*((y-x)*_)/M}):(r=f=>{const d=Math.exp(-f*n),g=(f-t)*n+1;return-B5+d*g},a=f=>{const d=Math.exp(-f*n),g=(t-f)*(n*n);return d*g});const o=5/n,u=iG(r,a,o);if(n=_c(n),isNaN(u))return{stiffness:Dr.stiffness,damping:Dr.damping,duration:n};{const f=Math.pow(u,2)*i;return{stiffness:f,damping:s*2*Math.sqrt(i*f),duration:n}}}const nG=12;function iG(n,e,t){let i=t;for(let r=1;r<nG;r++)i=i-n(i)/e(i);return i}function $M(n,e){return n*Math.sqrt(1-e*e)}const rG=["duration","bounce"],aG=["stiffness","damping","mass"];function LE(n,e){return e.some(t=>n[t]!==void 0)}function sG(n){let e={velocity:Dr.velocity,stiffness:Dr.stiffness,damping:Dr.damping,mass:Dr.mass,isResolvedFromDuration:!1,...n};if(!LE(n,aG)&&LE(n,rG))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*zf(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:Dr.mass,stiffness:r,damping:a}}else{const t=tG(n);e={...e,...t,mass:Dr.mass},e.isResolvedFromDuration=!0}return e}function M4(n=Dr.visualDuration,e=Dr.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],o={done:!1,value:a},{stiffness:u,damping:f,mass:d,duration:g,velocity:y,isResolvedFromDuration:x}=sG({...t,velocity:-Ll(t.velocity||0)}),_=y||0,M=f/(2*Math.sqrt(u*d)),w=s-a,S=Ll(Math.sqrt(u/d)),E=Math.abs(w)<5;i||(i=E?Dr.restSpeed.granular:Dr.restSpeed.default),r||(r=E?Dr.restDelta.granular:Dr.restDelta.default);let R;if(M<1){const O=$M(S,M);R=z=>{const B=Math.exp(-M*S*z);return s-B*((_+M*S*w)/O*Math.sin(O*z)+w*Math.cos(O*z))}}else if(M===1)R=O=>s-Math.exp(-S*O)*(w+(_+S*w)*O);else{const O=S*Math.sqrt(M*M-1);R=z=>{const B=Math.exp(-M*S*z),G=Math.min(O*z,300);return s-B*((_+M*S*w)*Math.sinh(G)+O*w*Math.cosh(G))/O}}const N={calculatedDuration:x&&g||null,next:O=>{const z=R(O);if(x)o.done=O>=g;else{let B=O===0?_:0;M<1&&(B=O===0?_c(_):Vz(R,O,z));const G=Math.abs(B)<=i,U=Math.abs(s-z)<=r;o.done=G&&U}return o.value=o.done?s:z,o},toString:()=>{const O=Math.min($A(N),S4),z=Fz(B=>N.next(O*B).value,O,30);return O+"ms "+z},toTransition:()=>{}};return N}M4.applyToOptions=n=>{const e=$H(n,100,M4);return n.ease=e.ease,n.duration=_c(e.duration),n.type="keyframes",n};function ew({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:u,restDelta:f=.5,restSpeed:d}){const g=n[0],y={done:!1,value:g},x=G=>o!==void 0&&G<o||u!==void 0&&G>u,_=G=>o===void 0?u:u===void 0||Math.abs(o-G)<Math.abs(u-G)?o:u;let M=t*e;const w=g+M,S=s===void 0?w:s(w);S!==w&&(M=S-g);const E=G=>-M*Math.exp(-G/i),R=G=>S+E(G),N=G=>{const U=E(G),L=R(G);y.done=Math.abs(U)<=f,y.value=y.done?S:L};let O,z;const B=G=>{x(y.value)&&(O=G,z=M4({keyframes:[y.value,_(y.value)],velocity:Vz(R,G,y.value),damping:r,stiffness:a,restDelta:f,restSpeed:d}))};return B(0),{calculatedDuration:null,next:G=>{let U=!1;return!z&&O===void 0&&(U=!0,N(G),B(G)),O!==void 0&&G>=O?z.next(G-O):(!U&&N(G),y)}}}function oG(n,e,t){const i=[],r=t||Lf.mix||Iz,a=n.length-1;for(let s=0;s<a;s++){let o=r(n[s],n[s+1]);if(e){const u=Array.isArray(e)?e[s]||Bl:e;o=Bv(u,o)}i.push(o)}return i}function lG(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(GA(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const s=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=oG(e,i,r),u=o.length,f=d=>{if(s&&d<n[0])return e[0];let g=0;if(u>1)for(;g<n.length-2&&!(d<n[g+1]);g++);const y=Zx(n[g],n[g+1],d);return o[g](y)};return t?d=>f(zf(n[0],n[a-1],d)):f}function uG(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Zx(0,e,i);n.push(br(t,1,r))}}function cG(n){const e=[0];return uG(e,n.length-1),e}function fG(n,e){return n.map(t=>t*e)}function hG(n,e){return n.map(()=>e||Rz).splice(0,n.length-1)}function vx({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=MH(i)?i.map(CE):CE(i),a={done:!1,value:e[0]},s=fG(t&&t.length===e.length?t:cG(e),n),o=lG(s,e,{ease:Array.isArray(r)?r:hG(e,r)});return{calculatedDuration:n,next:u=>(a.value=o(u),a.done=u>=n,a)}}const dG=n=>n!==null;function eT(n,{repeat:e,repeatType:t="loop"},i,r=1){const a=n.filter(dG),o=r<0||e&&t!=="loop"&&e%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const pG={decay:ew,inertia:ew,tween:vx,keyframes:vx,spring:M4};function Hz(n){typeof n.type=="string"&&(n.type=pG[n.type])}class tT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const mG=n=>n/100;class nT extends tT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==yo.now()&&this.tick(yo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hz(e);const{type:t=vx,repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:s=0}=e;let{keyframes:o}=e;const u=t||vx;u!==vx&&typeof o[0]!="number"&&(this.mixKeyframes=Bv(mG,Iz(o[0],o[1])),o=[0,100]);const f=u({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...o].reverse(),velocity:-s})),f.calculatedDuration===null&&(f.calculatedDuration=$A(f));const{calculatedDuration:d}=f;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=f}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return i.next(0);const{delay:f=0,keyframes:d,repeat:g,repeatType:y,repeatDelay:x,type:_,onUpdate:M,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let R=this.currentTime,N=i;if(g){const G=Math.min(this.currentTime,r)/o;let U=Math.floor(G),L=G%1;!L&&G>=1&&(L=1),L===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(y==="reverse"?(L=1-L,x&&(L-=x/o)):y==="mirror"&&(N=s)),R=zf(0,1,L)*o}const O=E?{done:!1,value:d[0]}:N.next(R);a&&(O.value=a(O.value));let{done:z}=O;!E&&u!==null&&(z=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return B&&_!==ew&&(O.value=eT(d,this.options,w,this.speed)),M&&M(O.value),B&&this.finish(),O}then(e,t){return this.finished.then(e,t)}get duration(){return Ll(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ll(e)}get time(){return Ll(this.currentTime)}set time(e){e=_c(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ll(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=JH,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function gG(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Vd=n=>n*180/Math.PI,tw=n=>{const e=Vd(Math.atan2(n[1],n[0]));return nw(e)},yG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:tw,rotateZ:tw,skewX:n=>Vd(Math.atan(n[1])),skewY:n=>Vd(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},nw=n=>(n=n%360,n<0&&(n+=360),n),kE=tw,OE=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),UE=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),xG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OE,scaleY:UE,scale:n=>(OE(n)+UE(n))/2,rotateX:n=>nw(Vd(Math.atan2(n[6],n[5]))),rotateY:n=>nw(Vd(Math.atan2(-n[2],n[0]))),rotateZ:kE,rotate:kE,skewX:n=>Vd(Math.atan(n[4])),skewY:n=>Vd(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function iw(n){return n.includes("scale")?1:0}function rw(n,e){if(!n||n==="none")return iw(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=xG,r=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=yG,r=o}if(!r)return iw(e);const a=i[e],s=r[1].split(",").map(bG);return typeof a=="function"?a(s):s[a]}const vG=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return rw(t,e)};function bG(n){return parseFloat(n.trim())}const eg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tg=new Set(eg),PE=n=>n===$1||n===vn,_G=new Set(["x","y","z"]),SG=eg.filter(n=>!_G.has(n));function MG(n){const e=[];return SG.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Wd={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>rw(e,"x"),y:(n,{transform:e})=>rw(e,"y")};Wd.translateX=Wd.x;Wd.translateY=Wd.y;const Yd=new Set;let aw=!1,sw=!1,ow=!1;function Gz(){if(sw){const n=Array.from(Yd).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=MG(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,s])=>{i.getValue(a)?.set(s)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sw=!1,aw=!1,Yd.forEach(n=>n.complete(ow)),Yd.clear()}function jz(){Yd.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sw=!0)})}function wG(){ow=!0,jz(),Gz(),ow=!1}class iT{constructor(e,t,i,r,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Yd.add(this),aw||(aw=!0,ur.read(jz),ur.resolveKeyframes(Gz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const a=r?.get(),s=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const o=i.readValue(t,s);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=s),r&&a===void 0&&r.set(e[0])}gG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yd.delete(this)}cancel(){this.state==="scheduled"&&(Yd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AG=n=>n.startsWith("--");function TG(n,e,t){AG(e)?n.style.setProperty(e,t):n.style[e]=t}const EG=jA(()=>window.ScrollTimeline!==void 0),CG={};function RG(n,e){const t=jA(n);return()=>CG[e]??t()}const qz=RG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sx=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,BE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sx([0,.65,.55,1]),circOut:sx([.55,0,1,.45]),backIn:sx([.31,.01,.66,-.59]),backOut:sx([.33,1.53,.69,.99])};function Xz(n,e){if(n)return typeof n=="function"?qz()?Fz(n,e):"ease-out":Dz(n)?sx(n):Array.isArray(n)?n.map(t=>Xz(t,e)||BE.easeOut):BE[n]}function DG(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:u}={},f=void 0){const d={[e]:t};u&&(d.offset=u);const g=Xz(o,r);Array.isArray(g)&&(d.easing=g);const y={delay:i,duration:r,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return f&&(y.pseudoElement=f),n.animate(d,y)}function Wz(n){return typeof n=="function"&&"applyToOptions"in n}function NG({type:n,...e}){return Wz(n)&&qz()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class zG extends tT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=e,GA(typeof e.type!="string");const f=NG(e);this.animation=DG(t,i,r,f,a),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=eT(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):TG(t,i,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ll(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ll(e)}get time(){return Ll(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_c(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&EG()?(this.animation.timeline=e,Bl):t(this)}}const Yz={anticipate:Tz,backInOut:Az,circInOut:Cz};function LG(n){return n in Yz}function kG(n){typeof n.ease=="string"&&LG(n.ease)&&(n.ease=Yz[n.ease])}const IE=10;class OG extends zG{constructor(e){kG(e),Hz(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:a,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new nT({...s,autoplay:!1}),u=_c(this.finishedTime??this.time);t.setWithVelocity(o.sample(u-IE).value,o.sample(u).value,IE),o.stop()}}const FE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(r0.test(n)||n==="0")&&!n.startsWith("url("));function UG(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function PG(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],s=FE(r,e),o=FE(a,e);return!s||!o?!1:UG(n)||(t==="spring"||Wz(t))&&i}function lw(n){n.duration=0,n.type="keyframes"}const BG=new Set(["opacity","clipPath","filter","transform"]),IG=jA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FG(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:a,type:s}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return IG()&&t&&BG.has(t)&&(t!=="transform"||!f)&&!u&&!i&&r!=="mirror"&&a!==0&&s!=="inertia"}const VG=40;class HG extends tT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:u,motionValue:f,element:d,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yo.now();const y={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:s,name:u,motionValue:f,element:d,...g},x=d?.KeyframeResolver||iT;this.keyframeResolver=new x(o,(_,M,w)=>this.onKeyframesResolved(_,M,y,!w),u,f,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:u,isHandoff:f,onUpdate:d}=i;this.resolvedAt=yo.now(),PG(e,a,s,o)||((Lf.instantAnimations||!u)&&d?.(eT(e,i,t)),e[0]=e[e.length-1],lw(i),i.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>VG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},x=!f&&FG(y)?new OG({...y,element:y.motionValue.owner.current}):new nT(y);x.finished.then(()=>this.notifyFinished()).catch(Bl),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),wG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const GG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jG(n){const e=GG.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Zz(n,e,t=1){const[i,r]=jG(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const s=a.trim();return yz(s)?parseFloat(s):s}return ZA(r)?Zz(r,e,t+1):r}function rT(n,e){return n?.[e]??n?.default??n}const Kz=new Set(["width","height","top","left","right","bottom",...eg]),qG={test:n=>n==="auto",parse:n=>n},Qz=n=>e=>e.test(n),Jz=[$1,vn,Sc,Fh,UH,OH,qG],VE=n=>Jz.find(Qz(n));function XG(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||vz(n):!0}const WG=new Set(["brightness","contrast","saturate","opacity"]);function YG(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(KA)||[];if(!i)return n;const r=t.replace(i,"");let a=WG.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const ZG=/\b([a-z-]*)\(.*?\)/gu,uw={...r0,getAnimatableNone:n=>{const e=n.match(ZG);return e?e.map(YG).join(" "):n}},HE={...$1,transform:Math.round},KG={rotate:Fh,rotateX:Fh,rotateY:Fh,rotateZ:Fh,scale:R3,scaleX:R3,scaleY:R3,scaleZ:R3,skew:Fh,skewX:Fh,skewY:Fh,distance:vn,translateX:vn,translateY:vn,translateZ:vn,x:vn,y:vn,z:vn,perspective:vn,transformPerspective:vn,opacity:Kx,originX:RE,originY:RE,originZ:vn},aT={borderWidth:vn,borderTopWidth:vn,borderRightWidth:vn,borderBottomWidth:vn,borderLeftWidth:vn,borderRadius:vn,radius:vn,borderTopLeftRadius:vn,borderTopRightRadius:vn,borderBottomRightRadius:vn,borderBottomLeftRadius:vn,width:vn,maxWidth:vn,height:vn,maxHeight:vn,top:vn,right:vn,bottom:vn,left:vn,padding:vn,paddingTop:vn,paddingRight:vn,paddingBottom:vn,paddingLeft:vn,margin:vn,marginTop:vn,marginRight:vn,marginBottom:vn,marginLeft:vn,backgroundPositionX:vn,backgroundPositionY:vn,...KG,zIndex:HE,fillOpacity:Kx,strokeOpacity:Kx,numOctaves:HE},QG={...aT,color:$r,backgroundColor:$r,outlineColor:$r,fill:$r,stroke:$r,borderColor:$r,borderTopColor:$r,borderRightColor:$r,borderBottomColor:$r,borderLeftColor:$r,filter:uw,WebkitFilter:uw},$z=n=>QG[n];function eL(n,e){let t=$z(n);return t!==uw&&(t=r0),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const JG=new Set(["auto","none","0"]);function $G(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!JG.has(a)&&Qx(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=eL(t,r)}class ej extends iT{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),ZA(f))){const d=Zz(f,t.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Kz.has(i)||e.length!==2)return;const[r,a]=e,s=VE(r),o=VE(a);if(s!==o)if(PE(s)&&PE(o))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else Wd[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||XG(e[r]))&&i.push(r);i.length&&$G(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const a=i.length-1,s=i[a];i[a]=Wd[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,u])=>{e.getValue(o).set(u)}),this.resolveNoneKeyframes()}}function tj(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=t?.[n]??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const tL=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function nL(n){return xz(n)&&"offsetHeight"in n}const GE=30,nj=n=>!isNaN(parseFloat(n));class ij{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const r=yo.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qA);const i=this.events[e].add(t);return e==="change"?()=>{i(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,GE);return bz(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function E1(n,e){return new ij(n,e)}const{schedule:sT}=Nz(queueMicrotask,!1),vu={x:!1,y:!1};function iL(){return vu.x||vu.y}function rj(n){return n==="x"||n==="y"?vu[n]?null:(vu[n]=!0,()=>{vu[n]=!1}):vu.x||vu.y?null:(vu.x=vu.y=!0,()=>{vu.x=vu.y=!1})}function rL(n,e){const t=tj(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function jE(n){return!(n.pointerType==="touch"||iL())}function aj(n,e,t={}){const[i,r,a]=rL(n,t),s=o=>{if(!jE(o))return;const{target:u}=o,f=e(u,o);if(typeof f!="function"||!u)return;const d=g=>{jE(g)&&(f(g),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,r)};return i.forEach(o=>{o.addEventListener("pointerenter",s,r)}),a}const aL=(n,e)=>e?n===e?!0:aL(n,e.parentElement):!1,oT=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,sj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oj(n){return sj.has(n.tagName)||n.tabIndex!==-1}const e4=new WeakSet;function qE(n){return e=>{e.key==="Enter"&&n(e)}}function I5(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const lj=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=qE(()=>{if(e4.has(t))return;I5(t,"down");const r=qE(()=>{I5(t,"up")}),a=()=>I5(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function XE(n){return oT(n)&&!iL()}function uj(n,e,t={}){const[i,r,a]=rL(n,t),s=o=>{const u=o.currentTarget;if(!XE(o))return;e4.add(u);const f=e(u,o),d=(x,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),e4.has(u)&&e4.delete(u),XE(x)&&typeof f=="function"&&f(x,{success:_})},g=x=>{d(x,u===window||u===document||t.useGlobalTarget||aL(u,x.target))},y=x=>{d(x,!1)};window.addEventListener("pointerup",g,r),window.addEventListener("pointercancel",y,r)};return i.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",s,r),nL(o)&&(o.addEventListener("focus",f=>lj(f,r)),!oj(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function sL(n){return xz(n)&&"ownerSVGElement"in n}function cj(n){return sL(n)&&n.tagName==="svg"}const hs=n=>!!(n&&n.getVelocity),fj=[...Jz,$r,r0],hj=n=>fj.find(Qz(n)),lT=ue.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function WE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function dj(...n){return e=>{let t=!1;const i=n.map(r=>{const a=WE(r,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let r=0;r<i.length;r++){const a=i[r];typeof a=="function"?a():WE(n[r],null)}}}}function pj(...n){return ue.useCallback(dj(...n),n)}class mj extends ue.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,r=nL(i)&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gj({children:n,isPresent:e,anchorX:t,root:i}){const r=ue.useId(),a=ue.useRef(null),s=ue.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ue.useContext(lT),u=pj(a,n?.ref);return ue.useInsertionEffect(()=>{const{width:f,height:d,top:g,left:y,right:x}=s.current;if(e||!a.current||!f||!d)return;const _=t==="left"?`left: ${y}`:`right: ${x}`;a.current.dataset.motionPopId=r;const M=document.createElement("style");o&&(M.nonce=o);const w=i??document.head;return w.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{w.contains(M)&&w.removeChild(M)}},[e]),H.jsx(mj,{isPresent:e,childRef:a,sizeRef:s,children:ue.cloneElement(n,{ref:u})})}const yj=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:s,anchorX:o,root:u})=>{const f=IA(xj),d=ue.useId();let g=!0,y=ue.useMemo(()=>(g=!1,{id:d,initial:e,isPresent:t,custom:r,onExitComplete:x=>{f.set(x,!0);for(const _ of f.values())if(!_)return;i&&i()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[t,f,i]);return a&&g&&(y={...y}),ue.useMemo(()=>{f.forEach((x,_)=>f.set(_,!1))},[t]),ue.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),s==="popLayout"&&(n=H.jsx(gj,{isPresent:t,anchorX:o,root:u,children:n})),H.jsx(H_.Provider,{value:y,children:n})};function xj(){return new Map}function oL(n=!0){const e=ue.useContext(H_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=ue.useId();ue.useEffect(()=>{if(n)return r(a)},[n]);const s=ue.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,s]:[!0]}const D3=n=>n.key||"";function YE(n){const e=[];return ue.Children.forEach(n,t=>{ue.isValidElement(t)&&e.push(t)}),e}const vj=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:u})=>{const[f,d]=oL(s),g=ue.useMemo(()=>YE(n),[n]),y=s&&!f?[]:g.map(D3),x=ue.useRef(!0),_=ue.useRef(g),M=IA(()=>new Map),[w,S]=ue.useState(g),[E,R]=ue.useState(g);gz(()=>{x.current=!1,_.current=g;for(let z=0;z<E.length;z++){const B=D3(E[z]);y.includes(B)?M.delete(B):M.get(B)!==!0&&M.set(B,!1)}},[E,y.length,y.join("-")]);const N=[];if(g!==w){let z=[...g];for(let B=0;B<E.length;B++){const G=E[B],U=D3(G);y.includes(U)||(z.splice(B,0,G),N.push(G))}return a==="wait"&&N.length&&(z=N),R(YE(z)),S(g),null}const{forceRender:O}=ue.useContext(BA);return H.jsx(H.Fragment,{children:E.map(z=>{const B=D3(z),G=s&&!f?!1:g===E||y.includes(B),U=()=>{if(M.has(B))M.set(B,!0);else return;let L=!0;M.forEach(j=>{j||(L=!1)}),L&&(O?.(),R(_.current),s&&d?.(),i&&i())};return H.jsx(yj,{isPresent:G,initial:!x.current||t?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:u,onExitComplete:G?void 0:U,anchorX:o,children:z},B)})})},lL=ue.createContext({strict:!1}),ZE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},C1={};for(const n in ZE)C1[n]={isEnabled:e=>ZE[n].some(t=>!!e[t])};function bj(n){for(const e in n)C1[e]={...C1[e],...n[e]}}const _j=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function w4(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||_j.has(n)}let uL=n=>!w4(n);function Sj(n){typeof n=="function"&&(uL=e=>e.startsWith("on")?!w4(e):n(e))}try{Sj(require("@emotion/is-prop-valid").default)}catch{}function Mj(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(uL(r)||t===!0&&w4(r)||!e&&!w4(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}const G_=ue.createContext({});function j_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Jx(n){return typeof n=="string"||Array.isArray(n)}const uT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cT=["initial",...uT];function q_(n){return j_(n.animate)||cT.some(e=>Jx(n[e]))}function cL(n){return!!(q_(n)||n.variants)}function wj(n,e){if(q_(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Jx(t)?t:void 0,animate:Jx(i)?i:void 0}}return n.inherit!==!1?e:{}}function Aj(n){const{initial:e,animate:t}=wj(n,ue.useContext(G_));return ue.useMemo(()=>({initial:e,animate:t}),[KE(e),KE(t)])}function KE(n){return Array.isArray(n)?n.join(" "):n}const $x={};function Tj(n){for(const e in n)$x[e]=n[e],YA(e)&&($x[e].isCSSVariable=!0)}function fL(n,{layout:e,layoutId:t}){return tg.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!$x[n]||n==="opacity")}const Ej={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cj=eg.length;function Rj(n,e,t){let i="",r=!0;for(let a=0;a<Cj;a++){const s=eg[a],o=n[s];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(s.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||t){const f=tL(o,aT[s]);if(!u){r=!1;const d=Ej[s]||s;i+=`${d}(${f}) `}t&&(e[s]=f)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function fT(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let s=!1,o=!1;for(const u in e){const f=e[u];if(tg.has(u)){s=!0;continue}else if(YA(u)){r[u]=f;continue}else{const d=tL(f,aT[u]);u.startsWith("origin")?(o=!0,a[u]=d):i[u]=d}}if(e.transform||(s||t?i.transform=Rj(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:u="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${u} ${f} ${d}`}}const hT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hL(n,e,t){for(const i in e)!hs(e[i])&&!fL(i,t)&&(n[i]=e[i])}function Dj({transformTemplate:n},e){return ue.useMemo(()=>{const t=hT();return fT(t,e,n),Object.assign({},t.vars,t.style)},[e])}function Nj(n,e){const t=n.style||{},i={};return hL(i,t,n),Object.assign(i,Dj(n,e)),i}function zj(n,e){const t={},i=Nj(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const Lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},kj={offset:"strokeDashoffset",array:"strokeDasharray"};function Oj(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?Lj:kj;n[a.offset]=vn.transform(-i);const s=vn.transform(e),o=vn.transform(t);n[a.array]=`${s} ${o}`}function dL(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:a=1,pathOffset:s=0,...o},u,f,d){if(fT(n,o,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:y}=n;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=d?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),i!==void 0&&(g.scale=i),r!==void 0&&Oj(g,r,a,s,!1)}const pL=()=>({...hT(),attrs:{}}),mL=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Uj(n,e,t,i){const r=ue.useMemo(()=>{const a=pL();return dL(a,e,mL(i),n.transformTemplate,n.style),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};hL(a,n.style,n),r.style={...a,...r.style}}return r}const Pj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function dT(n){return typeof n!="string"||n.includes("-")?!1:!!(Pj.indexOf(n)>-1||/[A-Z]/u.test(n))}function Bj(n,e,t,{latestValues:i},r,a=!1){const o=(dT(n)?Uj:zj)(e,i,r,n),u=Mj(e,typeof n=="string",a),f=n!==ue.Fragment?{...u,...o,ref:t}:{},{children:d}=e,g=ue.useMemo(()=>hs(d)?d.get():d,[d]);return ue.createElement(n,{...f,children:g})}function QE(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function pT(n,e,t,i){if(typeof e=="function"){const[r,a]=QE(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=QE(i);e=e(t!==void 0?t:n.custom,r,a)}return e}function t4(n){return hs(n)?n.get():n}function Ij({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:Fj(t,i,r,n),renderState:e()}}function Fj(n,e,t,i){const r={},a=i(n,{});for(const y in a)r[y]=t4(a[y]);let{initial:s,animate:o}=n;const u=q_(n),f=cL(n);e&&f&&!u&&n.inherit!==!1&&(s===void 0&&(s=e.initial),o===void 0&&(o=e.animate));let d=t?t.initial===!1:!1;d=d||s===!1;const g=d?o:s;if(g&&typeof g!="boolean"&&!j_(g)){const y=Array.isArray(g)?g:[g];for(let x=0;x<y.length;x++){const _=pT(n,y[x]);if(_){const{transitionEnd:M,transition:w,...S}=_;for(const E in S){let R=S[E];if(Array.isArray(R)){const N=d?R.length-1:0;R=R[N]}R!==null&&(r[E]=R)}for(const E in M)r[E]=M[E]}}}return r}const gL=n=>(e,t)=>{const i=ue.useContext(G_),r=ue.useContext(H_),a=()=>Ij(n,e,i,r);return t?a():IA(a)};function mT(n,e,t){const{style:i}=n,r={};for(const a in i)(hs(i[a])||e.style&&hs(e.style[a])||fL(a,n)||t?.getValue(a)?.liveStyle!==void 0)&&(r[a]=i[a]);return r}const Vj=gL({scrapeMotionValuesFromProps:mT,createRenderState:hT});function yL(n,e,t){const i=mT(n,e,t);for(const r in n)if(hs(n[r])||hs(e[r])){const a=eg.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}const Hj=gL({scrapeMotionValuesFromProps:yL,createRenderState:pL}),Gj=Symbol.for("motionComponentSymbol");function o1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function jj(n,e,t){return ue.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):o1(t)&&(t.current=i))},[e])}const gT=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qj="framerAppearId",xL="data-"+gT(qj),vL=ue.createContext({});function Xj(n,e,t,i,r){const{visualElement:a}=ue.useContext(G_),s=ue.useContext(lL),o=ue.useContext(H_),u=ue.useContext(lT).reducedMotion,f=ue.useRef(null);i=i||s.renderer,!f.current&&i&&(f.current=i(n,{visualState:e,parent:a,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const d=f.current,g=ue.useContext(vL);d&&!d.projection&&r&&(d.type==="html"||d.type==="svg")&&Wj(f.current,t,r,g);const y=ue.useRef(!1);ue.useInsertionEffect(()=>{d&&y.current&&d.update(t,o)});const x=t[xL],_=ue.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return gz(()=>{d&&(y.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),_.current&&d.animationState&&d.animationState.animateChanges())}),ue.useEffect(()=>{d&&(!_.current&&d.animationState&&d.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),_.current=!1),d.enteringChildren=void 0)}),d}function Wj(n,e,t,i){const{layoutId:r,layout:a,drag:s,dragConstraints:o,layoutScroll:u,layoutRoot:f,layoutCrossfade:d}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:bL(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!s||o&&o1(o),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:u,layoutRoot:f})}function bL(n){if(n)return n.options.allowProjection!==!1?n.projection:bL(n.parent)}function F5(n,{forwardMotionProps:e=!1}={},t,i){t&&bj(t);const r=dT(n)?Hj:Vj;function a(o,u){let f;const d={...ue.useContext(lT),...o,layoutId:Yj(o)},{isStatic:g}=d,y=Aj(o),x=r(o,g);if(!g&&FA){Zj();const _=Kj(d);f=_.MeasureLayout,y.visualElement=Xj(n,x,d,i,_.ProjectionNode)}return H.jsxs(G_.Provider,{value:y,children:[f&&y.visualElement?H.jsx(f,{visualElement:y.visualElement,...d}):null,Bj(n,o,jj(x,y.visualElement,u),x,g,e)]})}a.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const s=ue.forwardRef(a);return s[Gj]=n,s}function Yj({layoutId:n}){const e=ue.useContext(BA).id;return e&&n!==void 0?e+"-"+n:n}function Zj(n,e){ue.useContext(lL).strict}function Kj(n){const{drag:e,layout:t}=C1;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Qj(n,e){if(typeof Proxy>"u")return F5;const t=new Map,i=(a,s)=>F5(a,s,n,e),r=(a,s)=>i(a,s);return new Proxy(r,{get:(a,s)=>s==="create"?i:(t.has(s)||t.set(s,F5(s,void 0,n,e)),t.get(s))})}function _L({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function Jj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $j(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function V5(n){return n===void 0||n===1}function cw({scale:n,scaleX:e,scaleY:t}){return!V5(n)||!V5(e)||!V5(t)}function kd(n){return cw(n)||SL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function SL(n){return JE(n.x)||JE(n.y)}function JE(n){return n&&n!=="0%"}function A4(n,e,t){const i=n-t,r=e*i;return t+r}function $E(n,e,t,i,r){return r!==void 0&&(n=A4(n,r,i)),A4(n,t,i)+e}function fw(n,e=0,t=1,i,r){n.min=$E(n.min,e,t,i,r),n.max=$E(n.max,e,t,i,r)}function ML(n,{x:e,y:t}){fw(n.x,e.translate,e.scale,e.originPoint),fw(n.y,t.translate,t.scale,t.originPoint)}const e9=.999999999999,t9=1.0000000000001;function eq(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,s;for(let o=0;o<r;o++){a=t[o],s=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&u1(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,ML(n,s)),i&&kd(a.latestValues)&&u1(n,a.latestValues))}e.x<t9&&e.x>e9&&(e.x=1),e.y<t9&&e.y>e9&&(e.y=1)}function l1(n,e){n.min=n.min+e,n.max=n.max+e}function n9(n,e,t,i,r=.5){const a=br(n.min,n.max,r);fw(n,e,t,a,i)}function u1(n,e){n9(n.x,e.x,e.scaleX,e.scale,e.originX),n9(n.y,e.y,e.scaleY,e.scale,e.originY)}function wL(n,e){return _L($j(n.getBoundingClientRect(),e))}function tq(n,e,t){const i=wL(n,t),{scroll:r}=e;return r&&(l1(i.x,r.offset.x),l1(i.y,r.offset.y)),i}const i9=()=>({translate:0,scale:1,origin:0,originPoint:0}),c1=()=>({x:i9(),y:i9()}),r9=()=>({min:0,max:0}),da=()=>({x:r9(),y:r9()}),hw={current:null},AL={current:!1};function nq(){if(AL.current=!0,!!FA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hw.current=n.matches;n.addEventListener("change",e),e()}else hw.current=!1}const iq=new WeakMap;function rq(n,e,t){for(const i in e){const r=e[i],a=t[i];if(hs(r))n.addValue(i,r);else if(hs(a))n.addValue(i,E1(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const s=n.getValue(i);s.liveStyle===!0?s.jump(r):s.hasAnimated||s.set(r)}else{const s=n.getStaticValue(i);n.addValue(i,E1(s!==void 0?s:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const a9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aq{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=yo.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ur.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=q_(t),this.isVariantNode=cL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const x=g[y];u[y]!==void 0&&hs(x)&&x.set(u[y])}}mount(e){this.current=e,iq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),AL.current||nq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hw.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),i0(this.notifyUpdate),i0(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=tg.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ur.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in C1){const t=C1[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):da()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<a9.length;i++){const r=a9[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,s=e[a];s&&(this.propEventSubscriptions[r]=this.on(r,s))}this.prevMotionValues=rq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=E1(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yz(i)||vz(i))?i=parseFloat(i):!hj(i)&&r0.test(t)&&(i=eL(e,t)),this.setBaseTarget(e,hs(i)?i.get():i)),hs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=pT(this.props,t,this.presenceContext?.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!hs(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){sT.render(this.render)}}class TL extends aq{constructor(){super(...arguments),this.KeyframeResolver=ej}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function EL(n,{style:e,vars:t},i,r){const a=n.style;let s;for(s in e)a[s]=e[s];r?.applyProjectionStyles(a,i);for(s in t)a.setProperty(s,t[s])}function sq(n){return window.getComputedStyle(n)}class oq extends TL{constructor(){super(...arguments),this.type="html",this.renderInstance=EL}readValueFromInstance(e,t){if(tg.has(t))return this.projection?.isProjecting?iw(t):vG(e,t);{const i=sq(e),r=(YA(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return wL(e,t)}build(e,t,i){fT(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return mT(e,t,i)}}const CL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lq(n,e,t,i){EL(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(CL.has(r)?r:gT(r),e.attrs[r])}class uq extends TL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=da}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(tg.has(t)){const i=$z(t);return i&&i.default||0}return t=CL.has(t)?t:gT(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return yL(e,t,i)}build(e,t,i){dL(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){lq(e,t,i,r)}mount(e){this.isSVGTag=mL(e.tagName),super.mount(e)}}const cq=(n,e)=>dT(n)?new uq(e):new oq(e,{allowProjection:n!==ue.Fragment});function y1(n,e,t){const i=n.getProps();return pT(i,e,t!==void 0?t:i.custom,n)}const dw=n=>Array.isArray(n);function fq(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,E1(t))}function hq(n){return dw(n)?n[n.length-1]||0:n}function dq(n,e){const t=y1(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const s in a){const o=hq(a[s]);fq(n,s,o)}}function pq(n){return!!(hs(n)&&n.add)}function pw(n,e){const t=n.getValue("willChange");if(pq(t))return t.add(e);if(!t&&Lf.WillChange){const i=new Lf.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function RL(n){return n.props[xL]}const mq=n=>n!==null;function gq(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(mq),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[a]}const yq={type:"spring",stiffness:500,damping:25,restSpeed:10},xq=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),vq={type:"keyframes",duration:.8},bq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_q=(n,{keyframes:e})=>e.length>2?vq:tg.has(n)?n.startsWith("scale")?xq(e[1]):yq:bq;function Sq({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:s,repeatDelay:o,from:u,elapsed:f,...d}){return!!Object.keys(d).length}const yT=(n,e,t,i={},r,a)=>s=>{const o=rT(i,n)||{},u=o.delay||i.delay||0;let{elapsed:f=0}=i;f=f-_c(u);const d={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:y=>{e.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:a?void 0:r};Sq(o)||Object.assign(d,_q(n,d)),d.duration&&(d.duration=_c(d.duration)),d.repeatDelay&&(d.repeatDelay=_c(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let g=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(lw(d),d.delay===0&&(g=!0)),(Lf.instantAnimations||Lf.skipAnimations)&&(g=!0,lw(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,g&&!a&&e.get()!==void 0){const y=gq(d.keyframes,o);if(y!==void 0){ur.update(()=>{d.onUpdate(y),d.onComplete()});return}}return o.isSync?new nT(d):new HG(d)};function Mq({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function DL(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:s,...o}=e;i&&(a=i);const u=[],f=r&&n.animationState&&n.animationState.getState()[r];for(const d in o){const g=n.getValue(d,n.latestValues[d]??null),y=o[d];if(y===void 0||f&&Mq(f,d))continue;const x={delay:t,...rT(a||{},d)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!x.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const S=RL(n);if(S){const E=window.MotionHandoffAnimation(S,d,ur);E!==null&&(x.startTime=E,M=!0)}}pw(n,d),g.start(yT(d,g,y,n.shouldReduceMotion&&Kz.has(d)?{type:!1}:x,n,M));const w=g.animation;w&&u.push(w)}return s&&Promise.all(u).then(()=>{ur.update(()=>{s&&dq(n,s)})}),u}function NL(n,e,t,i=0,r=1){const a=Array.from(n).sort((f,d)=>f.sortNodePosition(d)).indexOf(e),s=n.size,o=(s-1)*i;return typeof t=="function"?t(a,s):r===1?a*i:o-a*i}function mw(n,e,t={}){const i=y1(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const a=i?()=>Promise.all(DL(n,i,t)):()=>Promise.resolve(),s=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:g}=r;return wq(n,e,u,f,d,g,t)}:()=>Promise.resolve(),{when:o}=r;if(o){const[u,f]=o==="beforeChildren"?[a,s]:[s,a];return u().then(()=>f())}else return Promise.all([a(),s(t.delay)])}function wq(n,e,t=0,i=0,r=0,a=1,s){const o=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),o.push(mw(u,e,{...s,delay:t+(typeof i=="function"?0:i)+NL(n.variantChildren,u,i,r,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(o)}function Aq(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>mw(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=mw(n,e,t);else{const r=typeof e=="function"?y1(n,e,t.custom):e;i=Promise.all(DL(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function zL(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const Tq=cT.length;function LL(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?LL(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Tq;t++){const i=cT[t],r=n.props[i];(Jx(r)||r===!1)&&(e[i]=r)}return e}const Eq=[...uT].reverse(),Cq=uT.length;function Rq(n){return e=>Promise.all(e.map(({animation:t,options:i})=>Aq(n,t,i)))}function Dq(n){let e=Rq(n),t=s9(),i=!0;const r=u=>(f,d)=>{const g=y1(n,d,u==="exit"?n.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:x,..._}=g;f={...f,..._,...x}}return f};function a(u){e=u(n)}function s(u){const{props:f}=n,d=LL(n.parent)||{},g=[],y=new Set;let x={},_=1/0;for(let w=0;w<Cq;w++){const S=Eq[w],E=t[S],R=f[S]!==void 0?f[S]:d[S],N=Jx(R),O=S===u?E.isActive:null;O===!1&&(_=w);let z=R===d[S]&&R!==f[S]&&N;if(z&&i&&n.manuallyAnimateOnMount&&(z=!1),E.protectedKeys={...x},!E.isActive&&O===null||!R&&!E.prevProp||j_(R)||typeof R=="boolean")continue;const B=Nq(E.prevProp,R);let G=B||S===u&&E.isActive&&!z&&N||w>_&&N,U=!1;const L=Array.isArray(R)?R:[R];let j=L.reduce(r(S),{});O===!1&&(j={});const{prevResolvedValues:Z={}}=E,oe={...Z,...j},le=te=>{G=!0,y.has(te)&&(U=!0,y.delete(te)),E.needsAnimating[te]=!0;const re=n.getValue(te);re&&(re.liveStyle=!1)};for(const te in oe){const re=j[te],ve=Z[te];if(x.hasOwnProperty(te))continue;let F=!1;dw(re)&&dw(ve)?F=!zL(re,ve):F=re!==ve,F?re!=null?le(te):y.add(te):re!==void 0&&y.has(te)?le(te):E.protectedKeys[te]=!0}E.prevProp=R,E.prevResolvedValues=j,E.isActive&&(x={...x,...j}),i&&n.blockInitialAnimation&&(G=!1);const ae=z&&B;G&&(!ae||U)&&g.push(...L.map(te=>{const re={type:S};if(typeof te=="string"&&i&&!ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:ve}=n,F=y1(ve,te);if(ve.enteringChildren&&F){const{delayChildren:J}=F.transition||{};re.delay=NL(ve.enteringChildren,n,J)}}return{animation:te,options:re}}))}if(y.size){const w={};if(typeof f.initial!="boolean"){const S=y1(n,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(w.transition=S.transition)}y.forEach(S=>{const E=n.getBaseTarget(S),R=n.getValue(S);R&&(R.liveStyle=!0),w[S]=E??null}),g.push({animation:w})}let M=!!g.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(g):Promise.resolve()}function o(u,f){if(t[u].isActive===f)return Promise.resolve();n.variantChildren?.forEach(g=>g.animationState?.setActive(u,f)),t[u].isActive=f;const d=s(u);for(const g in t)t[g].protectedKeys={};return d}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>t,reset:()=>{t=s9()}}}function Nq(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!zL(e,n):!1}function pd(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s9(){return{animate:pd(!0),whileInView:pd(),whileHover:pd(),whileTap:pd(),whileDrag:pd(),whileFocus:pd(),exit:pd()}}class m0{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zq extends m0{constructor(e){super(e),e.animationState||(e.animationState=Dq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();j_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Lq=0;class kq extends m0{constructor(){super(...arguments),this.id=Lq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Oq={animation:{Feature:zq},exit:{Feature:kq}};function ev(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Vv(n){return{point:{x:n.pageX,y:n.pageY}}}const Uq=n=>e=>oT(e)&&n(e,Vv(e));function bx(n,e,t,i){return ev(n,e,Uq(t),i)}const kL=1e-4,Pq=1-kL,Bq=1+kL,OL=.01,Iq=0-OL,Fq=0+OL;function Ys(n){return n.max-n.min}function Vq(n,e,t){return Math.abs(n-e)<=t}function o9(n,e,t,i=.5){n.origin=i,n.originPoint=br(e.min,e.max,n.origin),n.scale=Ys(t)/Ys(e),n.translate=br(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Pq&&n.scale<=Bq||isNaN(n.scale))&&(n.scale=1),(n.translate>=Iq&&n.translate<=Fq||isNaN(n.translate))&&(n.translate=0)}function _x(n,e,t,i){o9(n.x,e.x,t.x,i?i.originX:void 0),o9(n.y,e.y,t.y,i?i.originY:void 0)}function l9(n,e,t){n.min=t.min+e.min,n.max=n.min+Ys(e)}function Hq(n,e,t){l9(n.x,e.x,t.x),l9(n.y,e.y,t.y)}function u9(n,e,t){n.min=e.min-t.min,n.max=n.min+Ys(e)}function T4(n,e,t){u9(n.x,e.x,t.x),u9(n.y,e.y,t.y)}function Cl(n){return[n("x"),n("y")]}const UL=({current:n})=>n?n.ownerDocument.defaultView:null,c9=(n,e)=>Math.abs(n-e);function Gq(n,e){const t=c9(n.x,e.x),i=c9(n.y,e.y);return Math.sqrt(t**2+i**2)}class PL{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=G5(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,_=Gq(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!_)return;const{point:M}=y,{timestamp:w}=Va;this.history.push({...M,timestamp:w});const{onStart:S,onMove:E}=this.handlers;x||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=H5(x,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:_,onSessionEnd:M,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=G5(y.type==="pointercancel"?this.lastMoveEventInfo:H5(x,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,S),M&&M(y,S)},!oT(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=s,this.contextWindow=r||window;const o=Vv(e),u=H5(o,this.transformPagePoint),{point:f}=u,{timestamp:d}=Va;this.history=[{...f,timestamp:d}];const{onSessionStart:g}=t;g&&g(e,G5(u,this.history)),this.removeListeners=Bv(bx(this.contextWindow,"pointermove",this.handlePointerMove),bx(this.contextWindow,"pointerup",this.handlePointerUp),bx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),i0(this.updatePoint)}}function H5(n,e){return e?{point:e(n.point)}:n}function f9(n,e){return{x:n.x-e.x,y:n.y-e.y}}function G5({point:n},e){return{point:n,delta:f9(n,BL(e)),offset:f9(n,jq(e)),velocity:qq(e,.1)}}function jq(n){return n[0]}function BL(n){return n[n.length-1]}function qq(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=BL(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>_c(e)));)t--;if(!i)return{x:0,y:0};const a=Ll(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const s={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Xq(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?br(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?br(t,n,i.max):Math.min(n,t)),n}function h9(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Wq(n,{top:e,left:t,bottom:i,right:r}){return{x:h9(n.x,t,r),y:h9(n.y,e,i)}}function d9(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function Yq(n,e){return{x:d9(n.x,e.x),y:d9(n.y,e.y)}}function Zq(n,e){let t=.5;const i=Ys(n),r=Ys(e);return r>i?t=Zx(e.min,e.max-i,n.min):i>r&&(t=Zx(n.min,n.max-r,e.min)),zf(0,1,t)}function Kq(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const gw=.35;function Qq(n=gw){return n===!1?n=0:n===!0&&(n=gw),{x:p9(n,"left","right"),y:p9(n,"top","bottom")}}function p9(n,e,t){return{min:m9(n,e),max:m9(n,t)}}function m9(n,e){return typeof n=="number"?n:n[e]||0}const Jq=new WeakMap;class $q{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=da(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vv(g).point)},s=(g,y)=>{const{drag:x,dragPropagation:_,onDragStart:M}=this.getProps();if(x&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rj(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cl(S=>{let E=this.getAxisMotionValue(S).get()||0;if(Sc.test(E)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[S];N&&(E=Ys(N)*(parseFloat(E)/100))}}this.originPoint[S]=E}),M&&ur.postRender(()=>M(g,y)),pw(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:_,onDirectionLock:M,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:S}=y;if(_&&this.currentDirection===null){this.currentDirection=eX(S),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),w&&w(g,y)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Cl(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PL(e,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:i,contextWindow:UL(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!i)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ur.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!N3(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let s=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(s=Xq(s,this.constraints[e],this.elastic[e])),a.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&o1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Wq(i.layoutBox,e):this.constraints=!1,this.elastic=Qq(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Cl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Kq(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!o1(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=tq(i,r.root,this.visualElement.getTransformPagePoint());let s=Yq(r.layout.layoutBox,a);if(t){const o=t(Jj(s));this.hasMutatedConstraints=!!o,o&&(s=_L(o))}return s}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},f=Cl(d=>{if(!N3(d,t,this.currentDirection))return;let g=u&&u[d]||{};s&&(g={min:0,max:0});const y=r?200:1e6,x=r?40:1e7,_={type:"inertia",velocity:i?e[d]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(d,_)});return Promise.all(f).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return pw(this.visualElement,e),i.start(yT(e,i,0,t,this.visualElement,!1))}stopAnimation(){Cl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cl(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Cl(t=>{const{drag:i}=this.getProps();if(!N3(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:s,max:o}=r.layout.layoutBox[t];a.set(e[t]-br(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!o1(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Cl(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const u=o.get();r[s]=Zq({min:u,max:u},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Cl(s=>{if(!N3(s,e,null))return;const o=this.getAxisMotionValue(s),{min:u,max:f}=this.constraints[s];o.set(br(u,f,r[s]))})}addListeners(){if(!this.visualElement.current)return;Jq.set(this.visualElement,this);const e=this.visualElement.current,t=bx(e,"pointerdown",u=>{const{drag:f,dragListener:d=!0}=this.getProps();f&&d&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();o1(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ur.read(i);const s=ev(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(Cl(d=>{const g=this.getAxisMotionValue(d);g&&(this.originPoint[d]+=u[d].translate,g.set(g.get()+u[d].translate))}),this.visualElement.render())}));return()=>{s(),t(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:s=gw,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function N3(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function eX(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class tX extends m0{constructor(e){super(e),this.removeGroupControls=Bl,this.removeListeners=Bl,this.controls=new $q(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bl}unmount(){this.removeGroupControls(),this.removeListeners()}}const g9=n=>(e,t)=>{n&&ur.postRender(()=>n(e,t))};class nX extends m0{constructor(){super(...arguments),this.removePointerDownListener=Bl}onPointerDown(e){this.session=new PL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:g9(e),onStart:g9(t),onMove:i,onEnd:(a,s)=>{delete this.session,r&&ur.postRender(()=>r(a,s))}}}mount(){this.removePointerDownListener=bx(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const n4={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y9(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Iy={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(vn.test(n))n=parseFloat(n);else return n;const t=y9(n,e.target.x),i=y9(n,e.target.y);return`${t}% ${i}%`}},iX={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=r0.parse(n);if(r.length>5)return i;const a=r0.createTransformer(n),s=typeof r[0]!="number"?1:0,o=t.x.scale*e.x,u=t.y.scale*e.y;r[0+s]/=o,r[1+s]/=u;const f=br(o,u,.5);return typeof r[2+s]=="number"&&(r[2+s]/=f),typeof r[3+s]=="number"&&(r[3+s]/=f),a(r)}};let j5=!1;class rX extends ue.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;Tj(aX),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),j5&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),n4.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,{projection:s}=i;return s&&(s.isPresent=a,j5=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==a?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||ur.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;j5=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IL(n){const[e,t]=oL(),i=ue.useContext(BA);return H.jsx(rX,{...n,layoutGroup:i,switchLayoutGroup:ue.useContext(vL),isPresent:e,safeToRemove:t})}const aX={borderRadius:{...Iy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Iy,borderTopRightRadius:Iy,borderBottomLeftRadius:Iy,borderBottomRightRadius:Iy,boxShadow:iX};function sX(n,e,t){const i=hs(n)?n:E1(n);return i.start(yT("",i,e,t)),i.animation}const oX=(n,e)=>n.depth-e.depth;class lX{constructor(){this.children=[],this.isDirty=!1}add(e){VA(this.children,e),this.isDirty=!0}remove(e){HA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oX),this.isDirty=!1,this.children.forEach(e)}}function uX(n,e){const t=yo.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(i0(i),n(a-e))};return ur.setup(i,!0),()=>i0(i)}const FL=["TopLeft","TopRight","BottomLeft","BottomRight"],cX=FL.length,x9=n=>typeof n=="string"?parseFloat(n):n,v9=n=>typeof n=="number"||vn.test(n);function fX(n,e,t,i,r,a){r?(n.opacity=br(0,t.opacity??1,hX(i)),n.opacityExit=br(e.opacity??1,0,dX(i))):a&&(n.opacity=br(e.opacity??1,t.opacity??1,i));for(let s=0;s<cX;s++){const o=`border${FL[s]}Radius`;let u=b9(e,o),f=b9(t,o);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||v9(u)===v9(f)?(n[o]=Math.max(br(x9(u),x9(f),i),0),(Sc.test(f)||Sc.test(u))&&(n[o]+="%")):n[o]=f}(e.rotate||t.rotate)&&(n.rotate=br(e.rotate||0,t.rotate||0,i))}function b9(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const hX=VL(0,.5,Ez),dX=VL(.5,.95,Bl);function VL(n,e,t){return i=>i<n?0:i>e?1:t(Zx(n,e,i))}function _9(n,e){n.min=e.min,n.max=e.max}function pu(n,e){_9(n.x,e.x),_9(n.y,e.y)}function S9(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function M9(n,e,t,i,r){return n-=e,n=A4(n,1/t,i),r!==void 0&&(n=A4(n,1/r,i)),n}function pX(n,e=0,t=1,i=.5,r,a=n,s=n){if(Sc.test(e)&&(e=parseFloat(e),e=br(s.min,s.max,e/100)-s.min),typeof e!="number")return;let o=br(a.min,a.max,i);n===a&&(o-=e),n.min=M9(n.min,e,t,o,r),n.max=M9(n.max,e,t,o,r)}function w9(n,e,[t,i,r],a,s){pX(n,e[t],e[i],e[r],e.scale,a,s)}const mX=["x","scaleX","originX"],gX=["y","scaleY","originY"];function A9(n,e,t,i){w9(n.x,e,mX,t?t.x:void 0,i?i.x:void 0),w9(n.y,e,gX,t?t.y:void 0,i?i.y:void 0)}function T9(n){return n.translate===0&&n.scale===1}function HL(n){return T9(n.x)&&T9(n.y)}function E9(n,e){return n.min===e.min&&n.max===e.max}function yX(n,e){return E9(n.x,e.x)&&E9(n.y,e.y)}function C9(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function GL(n,e){return C9(n.x,e.x)&&C9(n.y,e.y)}function R9(n){return Ys(n.x)/Ys(n.y)}function D9(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class xX{constructor(){this.members=[]}add(e){VA(this.members,e),e.scheduleRender()}remove(e){if(HA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vX(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,s=t?.z||0;if((r||a||s)&&(i=`translate3d(${r}px, ${a}px, ${s}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:f,rotate:d,rotateX:g,rotateY:y,skewX:x,skewY:_}=t;f&&(i=`perspective(${f}px) ${i}`),d&&(i+=`rotate(${d}deg) `),g&&(i+=`rotateX(${g}deg) `),y&&(i+=`rotateY(${y}deg) `),x&&(i+=`skewX(${x}deg) `),_&&(i+=`skewY(${_}deg) `)}const o=n.x.scale*e.x,u=n.y.scale*e.y;return(o!==1||u!==1)&&(i+=`scale(${o}, ${u})`),i||"none"}const q5=["","X","Y","Z"],bX=1e3;let _X=0;function X5(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function jL(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=RL(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ur,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&jL(i)}function qL({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(s={},o=e?.()){this.id=_X++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wX),this.nodes.forEach(CX),this.nodes.forEach(RX),this.nodes.forEach(AX)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new lX)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new qA),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const u=this.eventHandlers.get(s);u&&u.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=sL(s)&&!cj(s),this.instance=s;const{layoutId:o,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),n){let d,g=0;const y=()=>this.root.updateBlockedByResize=!1;ur.read(()=>{g=window.innerWidth}),n(s,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,d&&d(),d=uX(y,250),n4.hasAnimatedSinceResize&&(n4.hasAnimatedSinceResize=!1,this.nodes.forEach(L9)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&f&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||f.getDefaultTransition()||kX,{onLayoutAnimationStart:M,onLayoutAnimationComplete:w}=f.getProps(),S=!this.targetLayout||!GL(this.targetLayout,x),E=!g&&y;if(this.options.layoutRoot||this.resumeFrom||E||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...rT(_,"layout"),onPlay:M,onComplete:w};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(d,E)}else g||L9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),i0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DX),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const g=this.path[d];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N9);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(z9);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EX),this.nodes.forEach(SX),this.nodes.forEach(MX)):this.nodes.forEach(z9),this.clearAllSnapshots();const o=yo.now();Va.delta=zf(0,1e3/60,o-Va.timestamp),Va.timestamp=o,Va.isProcessing=!0,k5.update.process(Va),k5.preRender.process(Va),k5.render.process(Va),Va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TX),this.sharedNodes.forEach(NX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ys(this.snapshot.measuredBox.x)&&!Ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const u=i(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!HL(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,d=f!==this.prevTransformTemplateValue;s&&this.instance&&(o||kd(this.latestValues)||d)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return s&&(u=this.removeTransform(u)),OX(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return da();const o=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(UX))){const{scroll:f}=this.root;f&&(l1(o.x,f.offset.x),l1(o.y,f.offset.y))}return o}removeElementScroll(s){const o=da();if(pu(o,s),this.scroll?.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:d,options:g}=f;f!==this.root&&d&&g.layoutScroll&&(d.wasRoot&&pu(o,s),l1(o.x,d.offset.x),l1(o.y,d.offset.y))}return o}applyTransform(s,o=!1){const u=da();pu(u,s);for(let f=0;f<this.path.length;f++){const d=this.path[f];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&u1(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),kd(d.latestValues)&&u1(u,d.latestValues)}return kd(this.latestValues)&&u1(u,this.latestValues),u}removeTransform(s){const o=da();pu(o,s);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!kd(f.latestValues))continue;cw(f.latestValues)&&f.updateSnapshot();const d=da(),g=f.measurePageBox();pu(d,g),A9(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,d)}return kd(this.latestValues)&&A9(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:g}=this.options;if(!this.layout||!(d||g))return;this.resolvedRelativeTargetAt=Va.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=da(),this.targetWithTransforms=da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pu(this.target,this.layout.layoutBox),ML(this.target,this.targetDelta)):pu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cw(this.parent.latestValues)||SL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(s,o,u){this.relativeParent=s,this.linkedParentVersion=s.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),T4(this.relativeTargetOrigin,o,u),pu(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const s=this.getLead(),o=!!this.resumingFrom||this!==s;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Va.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;pu(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;eq(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=da());const{target:x}=s;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S9(this.prevProjectionDelta.x,this.projectionDelta.x),S9(this.prevProjectionDelta.y,this.projectionDelta.y)),_x(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!D9(this.projectionDelta.x,this.prevProjectionDelta.x)||!D9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=c1(),this.projectionDelta=c1(),this.projectionDeltaWithTransform=c1()}setAnimationOrigin(s,o=!1){const u=this.snapshot,f=u?u.latestValues:{},d={...this.latestValues},g=c1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const y=da(),x=u?u.source:void 0,_=this.layout?this.layout.source:void 0,M=x!==_,w=this.getStack(),S=!w||w.members.length<=1,E=!!(M&&!S&&this.options.crossfade===!0&&!this.path.some(LX));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const O=N/1e3;k9(g.x,s.x,O),k9(g.y,s.y,O),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(T4(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zX(this.relativeTarget,this.relativeTargetOrigin,y,O),R&&yX(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=da()),pu(R,this.relativeTarget)),M&&(this.animationValues=d,fX(d,f,this.latestValues,O,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(i0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{n4.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=E1(0)),this.currentAnimation=sX(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:u,layout:f,latestValues:d}=s;if(!(!o||!u||!f)){if(this!==s&&this.layout&&f&&XL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||da();const g=Ys(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+g;const y=Ys(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+y}pu(o,u),u1(o,d),_x(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new xX),this.sharedNodes.get(s).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const f={};u.z&&X5("z",s,f,this.animationValues);for(let d=0;d<q5.length;d++)X5(`rotate${q5[d]}`,s,f,this.animationValues),X5(`skew${q5[d]}`,s,f,this.animationValues);s.render();for(const d in f)s.setStaticValue(d,f[d]),this.animationValues&&(this.animationValues[d]=f[d]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=t4(o?.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=t4(o?.pointerEvents)||""),this.hasProjected&&!kd(this.latestValues)&&(s.transform=u?u({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=vX(this.projectionDeltaWithTransform,this.treeScale,d);u&&(g=u(d,g)),s.transform=g;const{x:y,y:x}=this.projectionDelta;s.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,f.animationValues?s.opacity=f===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const _ in $x){if(d[_]===void 0)continue;const{correct:M,applyTo:w,isCSSVariable:S}=$x[_],E=g==="none"?d[_]:M(d[_],f);if(w){const R=w.length;for(let N=0;N<R;N++)s[w[N]]=E}else S?this.options.visualElement.renderState.vars[_]=E:s[_]=E}this.options.layoutId&&(s.pointerEvents=f===this?t4(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(N9),this.root.sharedNodes.clear()}}}function SX(n){n.updateLayout()}function MX(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?Cl(d=>{const g=a?e.measuredBox[d]:e.layoutBox[d],y=Ys(g);g.min=t[d].min,g.max=g.min+y}):XL(r,e.layoutBox,t)&&Cl(d=>{const g=a?e.measuredBox[d]:e.layoutBox[d],y=Ys(t[d]);g.max=g.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+y)});const s=c1();_x(s,t,e.layoutBox);const o=c1();a?_x(o,n.applyTransform(i,!0),e.measuredBox):_x(o,t,e.layoutBox);const u=!HL(s);let f=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:g,layout:y}=d;if(g&&y){const x=da();T4(x,e.layoutBox,g.layoutBox);const _=da();T4(_,t,y.layoutBox),GL(x,_)||(f=!0),d.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=x,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:o,layoutDelta:s,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function wX(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function AX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TX(n){n.clearSnapshot()}function N9(n){n.clearMeasurements()}function z9(n){n.isLayoutDirty=!1}function EX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function L9(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function CX(n){n.resolveTargetDelta()}function RX(n){n.calcProjection()}function DX(n){n.resetSkewAndRotation()}function NX(n){n.removeLeadSnapshot()}function k9(n,e,t){n.translate=br(e.translate,0,t),n.scale=br(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function O9(n,e,t,i){n.min=br(e.min,t.min,i),n.max=br(e.max,t.max,i)}function zX(n,e,t,i){O9(n.x,e.x,t.x,i),O9(n.y,e.y,t.y,i)}function LX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const kX={duration:.45,ease:[.4,0,.1,1]},U9=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),P9=U9("applewebkit/")&&!U9("chrome/")?Math.round:Bl;function B9(n){n.min=P9(n.min),n.max=P9(n.max)}function OX(n){B9(n.x),B9(n.y)}function XL(n,e,t){return n==="position"||n==="preserve-aspect"&&!Vq(R9(e),R9(t),.2)}function UX(n){return n!==n.root&&n.scroll?.wasRoot}const PX=qL({attachResizeListener:(n,e)=>ev(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),W5={current:void 0},WL=qL({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!W5.current){const n=new PX({});n.mount(window),n.setOptions({layoutScroll:!0}),W5.current=n}return W5.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),BX={pan:{Feature:nX},drag:{Feature:tX,ProjectionNode:WL,MeasureLayout:IL}};function I9(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&ur.postRender(()=>a(e,Vv(e)))}class IX extends m0{mount(){const{current:e}=this.node;e&&(this.unmount=aj(e,(t,i)=>(I9(this.node,i,"Start"),r=>I9(this.node,r,"End"))))}unmount(){}}class FX extends m0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bv(ev(this.node.current,"focus",()=>this.onFocus()),ev(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F9(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&ur.postRender(()=>a(e,Vv(e)))}class VX extends m0{mount(){const{current:e}=this.node;e&&(this.unmount=uj(e,(t,i)=>(F9(this.node,i,"Start"),(r,{success:a})=>F9(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yw=new WeakMap,Y5=new WeakMap,HX=n=>{const e=yw.get(n.target);e&&e(n)},GX=n=>{n.forEach(HX)};function jX({root:n,...e}){const t=n||document;Y5.has(t)||Y5.set(t,{});const i=Y5.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(GX,{root:n,...e})),i[r]}function qX(n,e,t){const i=jX(e);return yw.set(n,t),i.observe(n),()=>{yw.delete(n),i.unobserve(n)}}const XX={some:0,all:1};class WX extends m0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,s={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:XX[r]},o=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:d,onViewportLeave:g}=this.node.getProps(),y=f?d:g;y&&y(u)};return qX(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(YX(e,t))&&this.startObserver()}unmount(){}}function YX({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const ZX={inView:{Feature:WX},tap:{Feature:VX},focus:{Feature:FX},hover:{Feature:IX}},KX={layout:{ProjectionNode:WL,MeasureLayout:IL}},QX={...Oq,...ZX,...BX,...KX},Z5=Qj(QX,cq);function JX(){const[n,e]=ue.useState(!1),t=Gf(),i=LA(),r=t.pathname.startsWith("/blog"),a=[{name:"Home",href:"/",isHash:!1},{name:"About",href:"#about",isHash:!0},{name:"Featured",href:"#featured",isHash:!0},{name:"Portfolio",href:"#portfolio",isHash:!0},{name:"Blog",href:"/blog",isHash:!1},{name:"Contact",href:"#contact",isHash:!0}],s=(f,d,g)=>{if(d)if(g.preventDefault(),t.pathname!=="/"){i("/");const y=()=>{const x=document.querySelector(f);x?x.scrollIntoView({behavior:"smooth"}):setTimeout(y,50)};setTimeout(y,150)}else{const y=document.querySelector(f);y&&y.scrollIntoView({behavior:"smooth"})}e(!1)},o=r?"text-gray-800":"text-white",u=r?"hover:text-indigo-600":"hover:opacity-70";return H.jsxs("nav",{className:"fixed top-4 right-4 sm:top-6 sm:right-6 md:top-12 md:right-12 z-50",children:[H.jsx("div",{className:"hidden md:flex flex-col gap-6",children:a.map(f=>f.isHash?H.jsx("a",{href:f.href,onClick:d=>s(f.href,f.isHash,d),className:`${o} font-light text-sm uppercase tracking-widest ${u} transition-opacity duration-200`,style:{letterSpacing:"0.15em"},children:f.name},f.name):H.jsx(n0,{to:f.href,onClick:()=>e(!1),className:`${o} font-light text-sm uppercase tracking-widest ${u} transition-opacity duration-200`,style:{letterSpacing:"0.15em"},children:f.name},f.name))}),H.jsx("button",{className:`md:hidden ${o}`,onClick:()=>e(!n),children:H.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n&&H.jsx("div",{className:`md:hidden absolute top-10 right-0 ${r?"bg-white/95 backdrop-blur-sm border border-gray-200":"bg-black/90 backdrop-blur-sm border border-white/10"} p-6 flex flex-col gap-4 min-w-[200px]`,children:a.map(f=>f.isHash?H.jsx("a",{href:f.href,onClick:d=>s(f.href,f.isHash,d),className:`${o} font-light text-sm uppercase tracking-widest ${u} transition-opacity duration-200`,style:{letterSpacing:"0.15em"},children:f.name},f.name):H.jsx(n0,{to:f.href,onClick:()=>e(!1),className:`${o} font-light text-sm uppercase tracking-widest ${u} transition-opacity duration-200`,style:{letterSpacing:"0.15em"},children:f.name},f.name))})]})}function vf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function YL(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var $o={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},R1={duration:.5,overwrite:!1,delay:0},xT,Ga,lr,kl=1e8,Wi=1/kl,xw=Math.PI*2,$X=xw/4,eW=0,ZL=Math.sqrt,tW=Math.cos,nW=Math.sin,za=function(e){return typeof e=="string"},Nr=function(e){return typeof e=="function"},kf=function(e){return typeof e=="number"},vT=function(e){return typeof e>"u"},Tc=function(e){return typeof e=="object"},bo=function(e){return e!==!1},bT=function(){return typeof window<"u"},z3=function(e){return Nr(e)||za(e)},KL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ms=Array.isArray,vw=/(?:-?\.?\d|\.)+/gi,QL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,f1=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,K5=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,JL=/[+-]=-?[.\d]+/,$L=/[^,'"\[\]\s]+/gi,iW=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,xr,cc,bw,_T,il={},E4={},ek,tk=function(e){return(E4=D1(e,il))&&Ao},ST=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},tv=function(e,t){return!t&&console.warn(e)},nk=function(e,t){return e&&(il[e]=t)&&E4&&(E4[e]=t)||il},nv=function(){return 0},rW={suppressEvents:!0,isStart:!0,kill:!1},i4={suppressEvents:!0,kill:!1},aW={suppressEvents:!0},MT={},$h=[],_w={},ik,Xo={},Q5={},V9=30,r4=[],wT="",AT=function(e){var t=e[0],i,r;if(Tc(t)||Nr(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=r4.length;r--&&!r4[r].targetTest(t););i=r4[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Ek(e[r],i)))||e.splice(r,1);return e},Zd=function(e){return e._gsap||AT(Ol(e))[0]._gsap},rk=function(e,t,i){return(i=e[t])&&Nr(i)?e[t]():vT(i)&&e.getAttribute&&e.getAttribute(t)||i},_o=function(e,t){return(e=e.split(",")).forEach(t)||e},Vr=function(e){return Math.round(e*1e5)/1e5||0},ta=function(e){return Math.round(e*1e7)/1e7||0},x1=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},sW=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},C4=function(){var e=$h.length,t=$h.slice(0),i,r;for(_w={},$h.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},TT=function(e){return!!(e._initted||e._startAt||e.add)},ak=function(e,t,i,r){$h.length&&!Ga&&C4(),e.render(t,i,!!(Ga&&t<0&&TT(e))),$h.length&&!Ga&&C4()},sk=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match($L).length<2?t:za(e)?e.trim():e},ok=function(e){return e},rl=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},oW=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},D1=function(e,t){for(var i in t)e[i]=t[i];return e},H9=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Tc(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},R4=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Sx=function(e){var t=e.parent||xr,i=e.keyframes?oW(ms(e.keyframes)):rl;if(bo(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},lW=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},lk=function(e,t,i,r,a){var s=e[r],o;if(a)for(o=t[a];s&&s[a]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},X_=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=t._prev,s=t._next;a?a._next=s:e[i]===t&&(e[i]=s),s?s._prev=a:e[r]===t&&(e[r]=a),t._next=t._prev=t.parent=null},a0=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Kd=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},uW=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Sw=function(e,t,i,r){return e._startAt&&(Ga?e._startAt.revert(i4):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},cW=function n(e){return!e||e._ts&&n(e.parent)},G9=function(e){return e._repeat?N1(e._tTime,e=e.duration()+e._rDelay)*e:0},N1=function(e,t){var i=Math.floor(e=ta(e/t));return e&&i===e?i-1:i},D4=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},W_=function(e){return e._end=ta(e._start+(e._tDur/Math.abs(e._ts||e._rts||Wi)||0))},Y_=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=ta(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),W_(e),i._dirty||Kd(i,e)),e},uk=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=D4(e.rawTime(),t),(!t._dur||Hv(0,t.totalDuration(),i)-t._tTime>Wi)&&t.render(i,!0)),Kd(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Wi}},dc=function(e,t,i,r){return t.parent&&a0(t),t._start=ta((kf(i)?i:i||e!==xr?Rl(e,i,t):e._time)+t._delay),t._end=ta(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),lk(e,t,"_first","_last",e._sort?"_start":0),Mw(t)||(e._recent=t),r||uk(e,t),e._ts<0&&Y_(e,e._tTime),e},ck=function(e,t){return(il.ScrollTrigger||ST("scrollTrigger",t))&&il.ScrollTrigger.create(t,e)},fk=function(e,t,i,r,a){if(CT(e,t,a),!e._initted)return 1;if(!i&&e._pt&&!Ga&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&ik!==Yo.frame)return $h.push(e),e._lazy=[a,r],1},fW=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Mw=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},hW=function(e,t,i,r){var a=e.ratio,s=t<0||!t&&(!e._start&&fW(e)&&!(!e._initted&&Mw(e))||(e._ts<0||e._dp._ts<0)&&!Mw(e))?0:1,o=e._rDelay,u=0,f,d,g;if(o&&e._repeat&&(u=Hv(0,e._tDur,t),d=N1(u,o),e._yoyo&&d&1&&(s=1-s),d!==N1(e._tTime,o)&&(a=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==a||Ga||r||e._zTime===Wi||!t&&e._zTime){if(!e._initted&&fk(e,t,r,i,u))return;for(g=e._zTime,e._zTime=t||(i?Wi:0),i||(i=t&&!g),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=u,f=e._pt;f;)f.r(s,f.d),f=f._next;t<0&&Sw(e,t,i,!0),e._onUpdate&&!i&&Qo(e,"onUpdate"),u&&e._repeat&&!i&&e.parent&&Qo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&a0(e,1),!i&&!Ga&&(Qo(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},dW=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},z1=function(e,t,i,r){var a=e._repeat,s=ta(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=a?a<0?1e10:ta(s*(a+1)+e._rDelay*a):s,o>0&&!r&&Y_(e,e._tTime=e._tDur*o),e.parent&&W_(e),i||Kd(e.parent,e),e},j9=function(e){return e instanceof js?Kd(e):z1(e,e._dur)},pW={_start:0,endTime:nv,totalDuration:nv},Rl=function n(e,t,i){var r=e.labels,a=e._recent||pW,s=e.duration()>=kl?a.endTime(!1):e._dur,o,u,f;return za(t)&&(isNaN(t)||t in r)?(u=t.charAt(0),f=t.substr(-1)==="%",o=t.indexOf("="),u==="<"||u===">"?(o>=0&&(t=t.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(f?(o<0?a:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=s),r[t]):(u=parseFloat(t.charAt(o-1)+t.substr(o+1)),f&&i&&(u=u/100*(ms(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+u:s+u)):t==null?s:+t},Mx=function(e,t,i){var r=kf(t[1]),a=(r?2:1)+(e<2?0:1),s=t[a],o,u;if(r&&(s.duration=t[1]),s.parent=i,e){for(o=s,u=i;u&&!("immediateRender"in o);)o=u.vars.defaults||{},u=bo(u.vars.inherit)&&u.parent;s.immediateRender=bo(o.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new ea(t[0],s,t[a+1])},g0=function(e,t){return e||e===0?t(e):t},Hv=function(e,t,i){return i<e?e:i>t?t:i},cs=function(e,t){return!za(e)||!(t=iW.exec(e))?"":t[1]},mW=function(e,t,i){return g0(i,function(r){return Hv(e,t,r)})},ww=[].slice,hk=function(e,t){return e&&Tc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Tc(e[0]))&&!e.nodeType&&e!==cc},gW=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var a;return za(r)&&!t||hk(r,1)?(a=i).push.apply(a,Ol(r)):i.push(r)})||i},Ol=function(e,t,i){return lr&&!t&&lr.selector?lr.selector(e):za(e)&&!i&&(bw||!L1())?ww.call((t||_T).querySelectorAll(e),0):ms(e)?gW(e,i):hk(e)?ww.call(e,0):e?[e]:[]},Aw=function(e){return e=Ol(e)[0]||tv("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ol(t,i.querySelectorAll?i:i===e?tv("Invalid scope")||_T.createElement("div"):e)}},dk=function(e){return e.sort(function(){return .5-Math.random()})},pk=function(e){if(Nr(e))return e;var t=Tc(e)?e:{each:e},i=Qd(t.ease),r=t.from||0,a=parseFloat(t.base)||0,s={},o=r>0&&r<1,u=isNaN(r)||o,f=t.axis,d=r,g=r;return za(r)?d=g={center:.5,edges:.5,end:1}[r]||0:!o&&u&&(d=r[0],g=r[1]),function(y,x,_){var M=(_||t).length,w=s[M],S,E,R,N,O,z,B,G,U;if(!w){if(U=t.grid==="auto"?0:(t.grid||[1,kl])[1],!U){for(B=-kl;B<(B=_[U++].getBoundingClientRect().left)&&U<M;);U<M&&U--}for(w=s[M]=[],S=u?Math.min(U,M)*d-.5:r%U,E=U===kl?0:u?M*g/U-.5:r/U|0,B=0,G=kl,z=0;z<M;z++)R=z%U-S,N=E-(z/U|0),w[z]=O=f?Math.abs(f==="y"?N:R):ZL(R*R+N*N),O>B&&(B=O),O<G&&(G=O);r==="random"&&dk(w),w.max=B-G,w.min=G,w.v=M=(parseFloat(t.amount)||parseFloat(t.each)*(U>M?M-1:f?f==="y"?M/U:U:Math.max(U,M/U))||0)*(r==="edges"?-1:1),w.b=M<0?a-M:a,w.u=cs(t.amount||t.each)||0,i=i&&M<0?wk(i):i}return M=(w[y]-w.min)/w.max||0,ta(w.b+(i?i(M):M)*w.v)+w.u}},Tw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=ta(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(kf(i)?0:cs(i))}},mk=function(e,t){var i=ms(e),r,a;return!i&&Tc(e)&&(r=i=e.radius||kl,e.values?(e=Ol(e.values),(a=!kf(e[0]))&&(r*=r)):e=Tw(e.increment)),g0(t,i?Nr(e)?function(s){return a=e(s),Math.abs(a-s)<=r?a:s}:function(s){for(var o=parseFloat(a?s.x:s),u=parseFloat(a?s.y:0),f=kl,d=0,g=e.length,y,x;g--;)a?(y=e[g].x-o,x=e[g].y-u,y=y*y+x*x):y=Math.abs(e[g]-o),y<f&&(f=y,d=g);return d=!r||f<=r?e[d]:s,a||d===s||kf(s)?d:d+cs(s)}:Tw(e))},gk=function(e,t,i,r){return g0(ms(e)?!t:i===!0?!!(i=0):!r,function(){return ms(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},yW=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(a,s){return s(a)},r)}},xW=function(e,t){return function(i){return e(parseFloat(i))+(t||cs(i))}},vW=function(e,t,i){return xk(e,t,0,1,i)},yk=function(e,t,i){return g0(i,function(r){return e[~~t(r)]})},bW=function n(e,t,i){var r=t-e;return ms(e)?yk(e,n(0,e.length),t):g0(i,function(a){return(r+(a-e)%r)%r+e})},_W=function n(e,t,i){var r=t-e,a=r*2;return ms(e)?yk(e,n(0,e.length-1),t):g0(i,function(s){return s=(a+(s-e)%a)%a||0,e+(s>r?a-s:s)})},iv=function(e){for(var t=0,i="",r,a,s,o;~(r=e.indexOf("random(",t));)s=e.indexOf(")",r),o=e.charAt(r+7)==="[",a=e.substr(r+7,s-r-7).match(o?$L:vw),i+=e.substr(t,r-t)+gk(o?a:+a[0],o?0:+a[1],+a[2]||1e-5),t=s+1;return i+e.substr(t,e.length-t)},xk=function(e,t,i,r,a){var s=t-e,o=r-i;return g0(a,function(u){return i+((u-e)/s*o||0)})},SW=function n(e,t,i,r){var a=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!a){var s=za(e),o={},u,f,d,g,y;if(i===!0&&(r=1)&&(i=null),s)e={p:e},t={p:t};else if(ms(e)&&!ms(t)){for(d=[],g=e.length,y=g-2,f=1;f<g;f++)d.push(n(e[f-1],e[f]));g--,a=function(_){_*=g;var M=Math.min(y,~~_);return d[M](_-M)},i=t}else r||(e=D1(ms(e)?[]:{},e));if(!d){for(u in t)ET.call(o,e,u,"get",t[u]);a=function(_){return NT(_,o)||(s?e.p:e)}}}return g0(i,a)},q9=function(e,t,i){var r=e.labels,a=kl,s,o,u;for(s in r)o=r[s]-t,o<0==!!i&&o&&a>(o=Math.abs(o))&&(u=s,a=o);return u},Qo=function(e,t,i){var r=e.vars,a=r[t],s=lr,o=e._ctx,u,f,d;if(a)return u=r[t+"Params"],f=r.callbackScope||e,i&&$h.length&&C4(),o&&(lr=o),d=u?a.apply(f,u):a.call(f),lr=s,d},ox=function(e){return a0(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Ga),e.progress()<1&&Qo(e,"onInterrupt"),e},h1,vk=[],bk=function(e){if(e)if(e=!e.name&&e.default||e,bT()||e.headless){var t=e.name,i=Nr(e),r=t&&!i&&e.init?function(){this._props=[]}:e,a={init:nv,render:NT,add:ET,kill:BW,modifier:PW,rawVars:0},s={targetTest:0,get:0,getSetter:DT,aliases:{},register:0};if(L1(),e!==r){if(Xo[t])return;rl(r,rl(R4(e,a),s)),D1(r.prototype,D1(a,R4(e,s))),Xo[r.prop=t]=r,e.targetTest&&(r4.push(r),MT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}nk(t,r),e.register&&e.register(Ao,r,So)}else vk.push(e)},Xi=255,lx={aqua:[0,Xi,Xi],lime:[0,Xi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Xi],navy:[0,0,128],white:[Xi,Xi,Xi],olive:[128,128,0],yellow:[Xi,Xi,0],orange:[Xi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Xi,0,0],pink:[Xi,192,203],cyan:[0,Xi,Xi],transparent:[Xi,Xi,Xi,0]},J5=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Xi+.5|0},_k=function(e,t,i){var r=e?kf(e)?[e>>16,e>>8&Xi,e&Xi]:0:lx.black,a,s,o,u,f,d,g,y,x,_;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),lx[e])r=lx[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+a+a+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Xi,r&Xi,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Xi,e&Xi]}else if(e.substr(0,3)==="hsl"){if(r=_=e.match(vw),!t)u=+r[0]%360/360,f=+r[1]/100,d=+r[2]/100,s=d<=.5?d*(f+1):d+f-d*f,a=d*2-s,r.length>3&&(r[3]*=1),r[0]=J5(u+1/3,a,s),r[1]=J5(u,a,s),r[2]=J5(u-1/3,a,s);else if(~e.indexOf("="))return r=e.match(QL),i&&r.length<4&&(r[3]=1),r}else r=e.match(vw)||lx.transparent;r=r.map(Number)}return t&&!_&&(a=r[0]/Xi,s=r[1]/Xi,o=r[2]/Xi,g=Math.max(a,s,o),y=Math.min(a,s,o),d=(g+y)/2,g===y?u=f=0:(x=g-y,f=d>.5?x/(2-g-y):x/(g+y),u=g===a?(s-o)/x+(s<o?6:0):g===s?(o-a)/x+2:(a-s)/x+4,u*=60),r[0]=~~(u+.5),r[1]=~~(f*100+.5),r[2]=~~(d*100+.5)),i&&r.length<4&&(r[3]=1),r},Sk=function(e){var t=[],i=[],r=-1;return e.split(e0).forEach(function(a){var s=a.match(f1)||[];t.push.apply(t,s),i.push(r+=s.length+1)}),t.c=i,t},X9=function(e,t,i){var r="",a=(e+r).match(e0),s=t?"hsla(":"rgba(",o=0,u,f,d,g;if(!a)return e;if(a=a.map(function(y){return(y=_k(y,t,1))&&s+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),i&&(d=Sk(e),u=i.c,u.join(r)!==d.c.join(r)))for(f=e.replace(e0,"1").split(f1),g=f.length-1;o<g;o++)r+=f[o]+(~u.indexOf(o)?a.shift()||s+"0,0,0,0)":(d.length?d:a.length?a:i).shift());if(!f)for(f=e.split(e0),g=f.length-1;o<g;o++)r+=f[o]+a[o];return r+f[g]},e0=(function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in lx)n+="|"+e+"\\b";return new RegExp(n+")","gi")})(),MW=/hsl[a]?\(/,Mk=function(e){var t=e.join(" "),i;if(e0.lastIndex=0,e0.test(t))return i=MW.test(t),e[1]=X9(e[1],i),e[0]=X9(e[0],i,Sk(e[1])),!0},rv,Yo=(function(){var n=Date.now,e=500,t=33,i=n(),r=i,a=1e3/240,s=a,o=[],u,f,d,g,y,x,_=function M(w){var S=n()-r,E=w===!0,R,N,O,z;if((S>e||S<0)&&(i+=S-t),r+=S,O=r-i,R=O-s,(R>0||E)&&(z=++g.frame,y=O-g.time*1e3,g.time=O=O/1e3,s+=R+(R>=a?4:a-R),N=1),E||(u=f(M)),N)for(x=0;x<o.length;x++)o[x](O,y,z,w)};return g={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(w){return y/(1e3/(w||60))},wake:function(){ek&&(!bw&&bT()&&(cc=bw=window,_T=cc.document||{},il.gsap=Ao,(cc.gsapVersions||(cc.gsapVersions=[])).push(Ao.version),tk(E4||cc.GreenSockGlobals||!cc.gsap&&cc||{}),vk.forEach(bk)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&g.sleep(),f=d||function(w){return setTimeout(w,s-g.time*1e3+1|0)},rv=1,_(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(u),rv=0,f=nv},lagSmoothing:function(w,S){e=w||1/0,t=Math.min(S||33,e)},fps:function(w){a=1e3/(w||240),s=g.time*1e3+a},add:function(w,S,E){var R=S?function(N,O,z,B){w(N,O,z,B),g.remove(R)}:w;return g.remove(w),o[E?"unshift":"push"](R),L1(),R},remove:function(w,S){~(S=o.indexOf(w))&&o.splice(S,1)&&x>=S&&x--},_listeners:o},g})(),L1=function(){return!rv&&Yo.wake()},ci={},wW=/^[\d.\-M][\d.\-,\s]/,AW=/["']/g,TW=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],a=1,s=i.length,o,u,f;a<s;a++)u=i[a],o=a!==s-1?u.lastIndexOf(","):u.length,f=u.substr(0,o),t[r]=isNaN(f)?f.replace(AW,"").trim():+f,r=u.substr(o+1).trim();return t},EW=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},CW=function(e){var t=(e+"").split("("),i=ci[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[TW(t[1])]:EW(e).split(",").map(sk)):ci._CE&&wW.test(e)?ci._CE("",e):i},wk=function(e){return function(t){return 1-e(1-t)}},Ak=function n(e,t){for(var i=e._first,r;i;)i instanceof js?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Qd=function(e,t){return e&&(Nr(e)?e:ci[e]||CW(e))||t},pp=function(e,t,i,r){i===void 0&&(i=function(u){return 1-t(1-u)}),r===void 0&&(r=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var a={easeIn:t,easeOut:i,easeInOut:r},s;return _o(e,function(o){ci[o]=il[o]=a,ci[s=o.toLowerCase()]=i;for(var u in a)ci[s+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=ci[o+"."+u]=a[u]}),a},Tk=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},$5=function n(e,t,i){var r=t>=1?t:1,a=(i||(e?.3:.45))/(t<1?t:1),s=a/xw*(Math.asin(1/r)||0),o=function(d){return d===1?1:r*Math.pow(2,-10*d)*nW((d-s)*a)+1},u=e==="out"?o:e==="in"?function(f){return 1-o(1-f)}:Tk(o);return a=xw/a,u.config=function(f,d){return n(e,f,d)},u},e6=function n(e,t){t===void 0&&(t=1.70158);var i=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?i:e==="in"?function(a){return 1-i(1-a)}:Tk(i);return r.config=function(a){return n(e,a)},r};_o("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;pp(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});ci.Linear.easeNone=ci.none=ci.Linear.easeIn;pp("Elastic",$5("in"),$5("out"),$5());(function(n,e){var t=1/e,i=2*t,r=2.5*t,a=function(o){return o<t?n*o*o:o<i?n*Math.pow(o-1.5/e,2)+.75:o<r?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};pp("Bounce",function(s){return 1-a(1-s)},a)})(7.5625,2.75);pp("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});pp("Circ",function(n){return-(ZL(1-n*n)-1)});pp("Sine",function(n){return n===1?1:-tW(n*$X)+1});pp("Back",e6("in"),e6("out"),e6());ci.SteppedEase=ci.steps=il.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),a=t?1:0,s=1-Wi;return function(o){return((r*Hv(0,s,o)|0)+a)*i}}};R1.ease=ci["quad.out"];_o("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return wT+=n+","+n+"Params,"});var Ek=function(e,t){this.id=eW++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:rk,this.set=t?t.getSetter:DT},av=(function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,z1(this,+t.duration,1,1),this.data=t.data,lr&&(this._ctx=lr,lr.data.push(this)),rv||Yo.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,z1(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(L1(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Y_(this,i),!a._dp||a.parent||uk(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&dc(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Wi||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),ak(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+G9(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+G9(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*a,r):this._repeat?N1(this._tTime,a)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-Wi?0:this._rts;if(this._rts===i)return this;var a=this.parent&&this._ts?D4(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Wi?0:this._rts,this.totalTime(Hv(-Math.abs(this._delay),this.totalDuration(),a),r!==!1),W_(this),uW(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(L1(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Wi&&(this._tTime-=Wi)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&dc(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(bo(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?D4(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=aW);var r=Ga;return Ga=i,TT(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Ga=r,this},e.globalTime=function(i){for(var r=this,a=arguments.length?i:r.rawTime();r;)a=r._start+a/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):a},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,j9(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,j9(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Rl(this,i),bo(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,bo(r)),this._dur||(this._zTime=-Wi),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Wi:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Wi,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,a;return!!(!i||this._ts&&this._initted&&i.isActive()&&(a=i.rawTime(!0))>=r&&a<this.endTime(!0)-Wi)},e.eventCallback=function(i,r,a){var s=this.vars;return arguments.length>1?(r?(s[i]=r,a&&(s[i+"Params"]=a),i==="onUpdate"&&(this._onUpdate=r)):delete s[i],this):s[i]},e.then=function(i){var r=this;return new Promise(function(a){var s=Nr(i)?i:ok,o=function(){var f=r.then;r.then=null,Nr(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=f),a(s),r.then=f};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){ox(this)},n})();rl(av.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Wi,_prom:0,_ps:!1,_rts:1});var js=(function(n){YL(e,n);function e(i,r){var a;return i===void 0&&(i={}),a=n.call(this,i)||this,a.labels={},a.smoothChildTiming=!!i.smoothChildTiming,a.autoRemoveChildren=!!i.autoRemoveChildren,a._sort=bo(i.sortChildren),xr&&dc(i.parent||xr,vf(a),r),i.reversed&&a.reverse(),i.paused&&a.paused(!0),i.scrollTrigger&&ck(vf(a),i.scrollTrigger),a}var t=e.prototype;return t.to=function(r,a,s){return Mx(0,arguments,this),this},t.from=function(r,a,s){return Mx(1,arguments,this),this},t.fromTo=function(r,a,s,o){return Mx(2,arguments,this),this},t.set=function(r,a,s){return a.duration=0,a.parent=this,Sx(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new ea(r,a,Rl(this,s),1),this},t.call=function(r,a,s){return dc(this,ea.delayedCall(0,r,a),s)},t.staggerTo=function(r,a,s,o,u,f,d){return s.duration=a,s.stagger=s.stagger||o,s.onComplete=f,s.onCompleteParams=d,s.parent=this,new ea(r,s,Rl(this,u)),this},t.staggerFrom=function(r,a,s,o,u,f,d){return s.runBackwards=1,Sx(s).immediateRender=bo(s.immediateRender),this.staggerTo(r,a,s,o,u,f,d)},t.staggerFromTo=function(r,a,s,o,u,f,d,g){return o.startAt=s,Sx(o).immediateRender=bo(o.immediateRender),this.staggerTo(r,a,o,u,f,d,g)},t.render=function(r,a,s){var o=this._time,u=this._dirty?this.totalDuration():this._tDur,f=this._dur,d=r<=0?0:ta(r),g=this._zTime<0!=r<0&&(this._initted||!f),y,x,_,M,w,S,E,R,N,O,z,B;if(this!==xr&&d>u&&r>=0&&(d=u),d!==this._tTime||s||g){if(o!==this._time&&f&&(d+=this._time-o,r+=this._time-o),y=d,N=this._start,R=this._ts,S=!R,g&&(f||(o=this._zTime),(r||!a)&&(this._zTime=r)),this._repeat){if(z=this._yoyo,w=f+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(w*100+r,a,s);if(y=ta(d%w),d===u?(M=this._repeat,y=f):(O=ta(d/w),M=~~O,M&&M===O&&(y=f,M--),y>f&&(y=f)),O=N1(this._tTime,w),!o&&this._tTime&&O!==M&&this._tTime-O*w-this._dur<=0&&(O=M),z&&M&1&&(y=f-y,B=1),M!==O&&!this._lock){var G=z&&O&1,U=G===(z&&M&1);if(M<O&&(G=!G),o=G?0:d%f?f:d,this._lock=1,this.render(o||(B?0:ta(M*w)),a,!f)._lock=0,this._tTime=d,!a&&this.parent&&Qo(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1),o&&o!==this._time||S!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(f=this._dur,u=this._tDur,U&&(this._lock=2,o=G?f:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!S)return this;Ak(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(E=dW(this,ta(o),ta(y)),E&&(d-=y-(y=E._start))),this._tTime=d,this._time=y,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&d&&!a&&!O&&(Qo(this,"onStart"),this._tTime!==d))return this;if(y>=o&&r>=0)for(x=this._first;x;){if(_=x._next,(x._act||y>=x._start)&&x._ts&&E!==x){if(x.parent!==this)return this.render(r,a,s);if(x.render(x._ts>0?(y-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(y-x._start)*x._ts,a,s),y!==this._time||!this._ts&&!S){E=0,_&&(d+=this._zTime=-Wi);break}}x=_}else{x=this._last;for(var L=r<0?r:y;x;){if(_=x._prev,(x._act||L<=x._end)&&x._ts&&E!==x){if(x.parent!==this)return this.render(r,a,s);if(x.render(x._ts>0?(L-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(L-x._start)*x._ts,a,s||Ga&&TT(x)),y!==this._time||!this._ts&&!S){E=0,_&&(d+=this._zTime=L?-Wi:Wi);break}}x=_}}if(E&&!a&&(this.pause(),E.render(y>=o?0:-Wi)._zTime=y>=o?1:-1,this._ts))return this._start=N,W_(this),this.render(r,a,s);this._onUpdate&&!a&&Qo(this,"onUpdate",!0),(d===u&&this._tTime>=this.totalDuration()||!d&&o)&&(N===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((r||!f)&&(d===u&&this._ts>0||!d&&this._ts<0)&&a0(this,1),!a&&!(r<0&&!o)&&(d||o||!u)&&(Qo(this,d===u&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,a){var s=this;if(kf(a)||(a=Rl(this,a,r)),!(r instanceof av)){if(ms(r))return r.forEach(function(o){return s.add(o,a)}),this;if(za(r))return this.addLabel(r,a);if(Nr(r))r=ea.delayedCall(0,r);else return this}return this!==r?dc(this,r,a):this},t.getChildren=function(r,a,s,o){r===void 0&&(r=!0),a===void 0&&(a=!0),s===void 0&&(s=!0),o===void 0&&(o=-kl);for(var u=[],f=this._first;f;)f._start>=o&&(f instanceof ea?a&&u.push(f):(s&&u.push(f),r&&u.push.apply(u,f.getChildren(!0,a,s)))),f=f._next;return u},t.getById=function(r){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===r)return a[s]},t.remove=function(r){return za(r)?this.removeLabel(r):Nr(r)?this.killTweensOf(r):(r.parent===this&&X_(this,r),r===this._recent&&(this._recent=this._last),Kd(this))},t.totalTime=function(r,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ta(Yo.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,a),this._forcing=0,this):this._tTime},t.addLabel=function(r,a){return this.labels[r]=Rl(this,a),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,a,s){var o=ea.delayedCall(0,a||nv,s);return o.data="isPause",this._hasPause=1,dc(this,o,Rl(this,r))},t.removePause=function(r){var a=this._first;for(r=Rl(this,r);a;)a._start===r&&a.data==="isPause"&&a0(a),a=a._next},t.killTweensOf=function(r,a,s){for(var o=this.getTweensOf(r,s),u=o.length;u--;)qh!==o[u]&&o[u].kill(r,a);return this},t.getTweensOf=function(r,a){for(var s=[],o=Ol(r),u=this._first,f=kf(a),d;u;)u instanceof ea?sW(u._targets,o)&&(f?(!qh||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&s.push(u):(d=u.getTweensOf(o,a)).length&&s.push.apply(s,d),u=u._next;return s},t.tweenTo=function(r,a){a=a||{};var s=this,o=Rl(s,r),u=a,f=u.startAt,d=u.onStart,g=u.onStartParams,y=u.immediateRender,x,_=ea.to(s,rl({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:a.duration||Math.abs((o-(f&&"time"in f?f.time:s._time))/s.timeScale())||Wi,onStart:function(){if(s.pause(),!x){var w=a.duration||Math.abs((o-(f&&"time"in f?f.time:s._time))/s.timeScale());_._dur!==w&&z1(_,w,0,1).render(_._time,!0,!0),x=1}d&&d.apply(_,g||[])}},a));return y?_.render(0):_},t.tweenFromTo=function(r,a,s){return this.tweenTo(a,rl({startAt:{time:Rl(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),q9(this,Rl(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),q9(this,Rl(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Wi)},t.shiftChildren=function(r,a,s){s===void 0&&(s=0);for(var o=this._first,u=this.labels,f;o;)o._start>=s&&(o._start+=r,o._end+=r),o=o._next;if(a)for(f in u)u[f]>=s&&(u[f]+=r);return Kd(this)},t.invalidate=function(r){var a=this._first;for(this._lock=0;a;)a.invalidate(r),a=a._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var a=this._first,s;a;)s=a._next,this.remove(a),a=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Kd(this)},t.totalDuration=function(r){var a=0,s=this,o=s._last,u=kl,f,d,g;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(g=s.parent;o;)f=o._prev,o._dirty&&o.totalDuration(),d=o._start,d>u&&s._sort&&o._ts&&!s._lock?(s._lock=1,dc(s,o,d-o._delay,1)._lock=0):u=d,d<0&&o._ts&&(a-=d,(!g&&!s._dp||g&&g.smoothChildTiming)&&(s._start+=d/s._ts,s._time-=d,s._tTime-=d),s.shiftChildren(-d,!1,-1/0),u=0),o._end>a&&o._ts&&(a=o._end),o=f;z1(s,s===xr&&s._time>a?s._time:a,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(xr._ts&&(ak(xr,D4(r,xr)),ik=Yo.frame),Yo.frame>=V9){V9+=$o.autoSleep||120;var a=xr._first;if((!a||!a._ts)&&$o.autoSleep&&Yo._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Yo.sleep()}}},e})(av);rl(js.prototype,{_lock:0,_hasPause:0,_forcing:0});var RW=function(e,t,i,r,a,s,o){var u=new So(this._pt,e,t,0,1,Lk,null,a),f=0,d=0,g,y,x,_,M,w,S,E;for(u.b=i,u.e=r,i+="",r+="",(S=~r.indexOf("random("))&&(r=iv(r)),s&&(E=[i,r],s(E,e,t),i=E[0],r=E[1]),y=i.match(K5)||[];g=K5.exec(r);)_=g[0],M=r.substring(f,g.index),x?x=(x+1)%5:M.substr(-5)==="rgba("&&(x=1),_!==y[d++]&&(w=parseFloat(y[d-1])||0,u._pt={_next:u._pt,p:M||d===1?M:",",s:w,c:_.charAt(1)==="="?x1(w,_)-w:parseFloat(_)-w,m:x&&x<4?Math.round:0},f=K5.lastIndex);return u.c=f<r.length?r.substring(f,r.length):"",u.fp=o,(JL.test(r)||S)&&(u.e=0),this._pt=u,u},ET=function(e,t,i,r,a,s,o,u,f,d){Nr(r)&&(r=r(a||0,e,s));var g=e[t],y=i!=="get"?i:Nr(g)?f?e[t.indexOf("set")||!Nr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](f):e[t]():g,x=Nr(g)?f?kW:Nk:RT,_;if(za(r)&&(~r.indexOf("random(")&&(r=iv(r)),r.charAt(1)==="="&&(_=x1(y,r)+(cs(y)||0),(_||_===0)&&(r=_))),!d||y!==r||Ew)return!isNaN(y*r)&&r!==""?(_=new So(this._pt,e,t,+y||0,r-(y||0),typeof g=="boolean"?UW:zk,0,x),f&&(_.fp=f),o&&_.modifier(o,this,e),this._pt=_):(!g&&!(t in e)&&ST(t,r),RW.call(this,e,t,y,r,x,u||$o.stringFilter,f))},DW=function(e,t,i,r,a){if(Nr(e)&&(e=wx(e,a,t,i,r)),!Tc(e)||e.style&&e.nodeType||ms(e)||KL(e))return za(e)?wx(e,a,t,i,r):e;var s={},o;for(o in e)s[o]=wx(e[o],a,t,i,r);return s},Ck=function(e,t,i,r,a,s){var o,u,f,d;if(Xo[e]&&(o=new Xo[e]).init(a,o.rawVars?t[e]:DW(t[e],r,a,s,i),i,r,s)!==!1&&(i._pt=u=new So(i._pt,a,e,0,1,o.render,o,0,o.priority),i!==h1))for(f=i._ptLookup[i._targets.indexOf(a)],d=o._props.length;d--;)f[o._props[d]]=u;return o},qh,Ew,CT=function n(e,t,i){var r=e.vars,a=r.ease,s=r.startAt,o=r.immediateRender,u=r.lazy,f=r.onUpdate,d=r.runBackwards,g=r.yoyoEase,y=r.keyframes,x=r.autoRevert,_=e._dur,M=e._startAt,w=e._targets,S=e.parent,E=S&&S.data==="nested"?S.vars.targets:w,R=e._overwrite==="auto"&&!xT,N=e.timeline,O,z,B,G,U,L,j,Z,oe,le,ae,W,te;if(N&&(!y||!a)&&(a="none"),e._ease=Qd(a,R1.ease),e._yEase=g?wk(Qd(g===!0?a:g,R1.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!N&&!!r.runBackwards,!N||y&&!r.stagger){if(Z=w[0]?Zd(w[0]).harness:0,W=Z&&r[Z.prop],O=R4(r,MT),M&&(M._zTime<0&&M.progress(1),t<0&&d&&o&&!x?M.render(-1,!0):M.revert(d&&_?i4:rW),M._lazy=0),s){if(a0(e._startAt=ea.set(w,rl({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!M&&bo(u),startAt:null,delay:0,onUpdate:f&&function(){return Qo(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ga||!o&&!x)&&e._startAt.revert(i4),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(d&&_&&!M){if(t&&(o=!1),B=rl({overwrite:!1,data:"isFromStart",lazy:o&&!M&&bo(u),immediateRender:o,stagger:0,parent:S},O),W&&(B[Z.prop]=W),a0(e._startAt=ea.set(w,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Ga?e._startAt.revert(i4):e._startAt.render(-1,!0)),e._zTime=t,!o)n(e._startAt,Wi,Wi);else if(!t)return}for(e._pt=e._ptCache=0,u=_&&bo(u)||u&&!_,z=0;z<w.length;z++){if(U=w[z],j=U._gsap||AT(w)[z]._gsap,e._ptLookup[z]=le={},_w[j.id]&&$h.length&&C4(),ae=E===w?z:E.indexOf(U),Z&&(oe=new Z).init(U,W||O,e,ae,E)!==!1&&(e._pt=G=new So(e._pt,U,oe.name,0,1,oe.render,oe,0,oe.priority),oe._props.forEach(function(re){le[re]=G}),oe.priority&&(L=1)),!Z||W)for(B in O)Xo[B]&&(oe=Ck(B,O,e,ae,U,E))?oe.priority&&(L=1):le[B]=G=ET.call(e,U,B,"get",O[B],ae,E,0,r.stringFilter);e._op&&e._op[z]&&e.kill(U,e._op[z]),R&&e._pt&&(qh=e,xr.killTweensOf(U,le,e.globalTime(t)),te=!e.parent,qh=0),e._pt&&u&&(_w[j.id]=1)}L&&kk(e),e._onInit&&e._onInit(e)}e._onUpdate=f,e._initted=(!e._op||e._pt)&&!te,y&&t<=0&&N.render(kl,!0,!0)},NW=function(e,t,i,r,a,s,o,u){var f=(e._pt&&e._ptCache||(e._ptCache={}))[t],d,g,y,x;if(!f)for(f=e._ptCache[t]=[],y=e._ptLookup,x=e._targets.length;x--;){if(d=y[x][t],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==t&&d.fp!==t;)d=d._next;if(!d)return Ew=1,e.vars[t]="+=0",CT(e,o),Ew=0,u?tv(t+" not eligible for reset"):1;f.push(d)}for(x=f.length;x--;)g=f[x],d=g._pt||g,d.s=(r||r===0)&&!a?r:d.s+(r||0)+s*d.c,d.c=i-d.s,g.e&&(g.e=Vr(i)+cs(g.e)),g.b&&(g.b=d.s+cs(g.b))},zW=function(e,t){var i=e[0]?Zd(e[0]).harness:0,r=i&&i.aliases,a,s,o,u;if(!r)return t;a=D1({},t);for(s in r)if(s in a)for(u=r[s].split(","),o=u.length;o--;)a[u[o]]=a[s];return a},LW=function(e,t,i,r){var a=t.ease||r||"power1.inOut",s,o;if(ms(t))o=i[e]||(i[e]=[]),t.forEach(function(u,f){return o.push({t:f/(t.length-1)*100,v:u,e:a})});else for(s in t)o=i[s]||(i[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:t[s],e:a})},wx=function(e,t,i,r,a){return Nr(e)?e.call(t,i,r,a):za(e)&&~e.indexOf("random(")?iv(e):e},Rk=wT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Dk={};_o(Rk+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Dk[n]=1});var ea=(function(n){YL(e,n);function e(i,r,a,s){var o;typeof r=="number"&&(a.duration=r,r=a,a=null),o=n.call(this,s?r:Sx(r))||this;var u=o.vars,f=u.duration,d=u.delay,g=u.immediateRender,y=u.stagger,x=u.overwrite,_=u.keyframes,M=u.defaults,w=u.scrollTrigger,S=u.yoyoEase,E=r.parent||xr,R=(ms(i)||KL(i)?kf(i[0]):"length"in r)?[i]:Ol(i),N,O,z,B,G,U,L,j;if(o._targets=R.length?AT(R):tv("GSAP target "+i+" not found. https://gsap.com",!$o.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=x,_||y||z3(f)||z3(d)){if(r=o.vars,N=o.timeline=new js({data:"nested",defaults:M||{},targets:E&&E.data==="nested"?E.vars.targets:R}),N.kill(),N.parent=N._dp=vf(o),N._start=0,y||z3(f)||z3(d)){if(B=R.length,L=y&&pk(y),Tc(y))for(G in y)~Rk.indexOf(G)&&(j||(j={}),j[G]=y[G]);for(O=0;O<B;O++)z=R4(r,Dk),z.stagger=0,S&&(z.yoyoEase=S),j&&D1(z,j),U=R[O],z.duration=+wx(f,vf(o),O,U,R),z.delay=(+wx(d,vf(o),O,U,R)||0)-o._delay,!y&&B===1&&z.delay&&(o._delay=d=z.delay,o._start+=d,z.delay=0),N.to(U,z,L?L(O,U,R):0),N._ease=ci.none;N.duration()?f=d=0:o.timeline=0}else if(_){Sx(rl(N.vars.defaults,{ease:"none"})),N._ease=Qd(_.ease||r.ease||"none");var Z=0,oe,le,ae;if(ms(_))_.forEach(function(W){return N.to(R,W,">")}),N.duration();else{z={};for(G in _)G==="ease"||G==="easeEach"||LW(G,_[G],z,_.easeEach);for(G in z)for(oe=z[G].sort(function(W,te){return W.t-te.t}),Z=0,O=0;O<oe.length;O++)le=oe[O],ae={ease:le.e,duration:(le.t-(O?oe[O-1].t:0))/100*f},ae[G]=le.v,N.to(R,ae,Z),Z+=ae.duration;N.duration()<f&&N.to({},{duration:f-N.duration()})}}f||o.duration(f=N.duration())}else o.timeline=0;return x===!0&&!xT&&(qh=vf(o),xr.killTweensOf(R),qh=0),dc(E,vf(o),a),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(g||!f&&!_&&o._start===ta(E._time)&&bo(g)&&cW(vf(o))&&E.data!=="nested")&&(o._tTime=-Wi,o.render(Math.max(0,-d)||0)),w&&ck(vf(o),w),o}var t=e.prototype;return t.render=function(r,a,s){var o=this._time,u=this._tDur,f=this._dur,d=r<0,g=r>u-Wi&&!d?u:r<Wi?0:r,y,x,_,M,w,S,E,R,N;if(!f)hW(this,r,a,s);else if(g!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(y=g,R=this.timeline,this._repeat){if(M=f+this._rDelay,this._repeat<-1&&d)return this.totalTime(M*100+r,a,s);if(y=ta(g%M),g===u?(_=this._repeat,y=f):(w=ta(g/M),_=~~w,_&&_===w?(y=f,_--):y>f&&(y=f)),S=this._yoyo&&_&1,S&&(N=this._yEase,y=f-y),w=N1(this._tTime,M),y===o&&!s&&this._initted&&_===w)return this._tTime=g,this;_!==w&&(R&&this._yEase&&Ak(R,S),this.vars.repeatRefresh&&!S&&!this._lock&&y!==M&&this._initted&&(this._lock=s=1,this.render(ta(M*_),!0).invalidate()._lock=0))}if(!this._initted){if(fk(this,d?r:y,s,a,g))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&_!==w))return this;if(f!==this._dur)return this.render(r,a,s)}if(this._tTime=g,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=E=(N||this._ease)(y/f),this._from&&(this.ratio=E=1-E),!o&&g&&!a&&!w&&(Qo(this,"onStart"),this._tTime!==g))return this;for(x=this._pt;x;)x.r(E,x.d),x=x._next;R&&R.render(r<0?r:R._dur*R._ease(y/this._dur),a,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!a&&(d&&Sw(this,r,a,s),Qo(this,"onUpdate")),this._repeat&&_!==w&&this.vars.onRepeat&&!a&&this.parent&&Qo(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(d&&!this._onUpdate&&Sw(this,r,!0,!0),(r||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&a0(this,1),!a&&!(d&&!o)&&(g||o||S)&&(Qo(this,g===u?"onComplete":"onReverseComplete",!0),this._prom&&!(g<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,a,s,o,u){rv||Yo.wake(),this._ts||this.play();var f=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||CT(this,f),d=this._ease(f/this._dur),NW(this,r,a,s,o,d,f,u)?this.resetTo(r,a,s,o,1):(Y_(this,0),this.parent||lk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,a){if(a===void 0&&(a="all"),!r&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?ox(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Ga),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,a,qh&&qh.vars.overwrite!==!0)._first||ox(this),this.parent&&s!==this.timeline.totalDuration()&&z1(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,u=r?Ol(r):o,f=this._ptLookup,d=this._pt,g,y,x,_,M,w,S;if((!a||a==="all")&&lW(o,u))return a==="all"&&(this._pt=0),ox(this);for(g=this._op=this._op||[],a!=="all"&&(za(a)&&(M={},_o(a,function(E){return M[E]=1}),a=M),a=zW(o,a)),S=o.length;S--;)if(~u.indexOf(o[S])){y=f[S],a==="all"?(g[S]=a,_=y,x={}):(x=g[S]=g[S]||{},_=a);for(M in _)w=y&&y[M],w&&((!("kill"in w.d)||w.d.kill(M)===!0)&&X_(this,w,"_pt"),delete y[M]),x!=="all"&&(x[M]=1)}return this._initted&&!this._pt&&d&&ox(this),this},e.to=function(r,a){return new e(r,a,arguments[2])},e.from=function(r,a){return Mx(1,arguments)},e.delayedCall=function(r,a,s,o){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(r,a,s){return Mx(2,arguments)},e.set=function(r,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(r,a)},e.killTweensOf=function(r,a,s){return xr.killTweensOf(r,a,s)},e})(av);rl(ea.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_o("staggerTo,staggerFrom,staggerFromTo",function(n){ea[n]=function(){var e=new js,t=ww.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var RT=function(e,t,i){return e[t]=i},Nk=function(e,t,i){return e[t](i)},kW=function(e,t,i,r){return e[t](r.fp,i)},OW=function(e,t,i){return e.setAttribute(t,i)},DT=function(e,t){return Nr(e[t])?Nk:vT(e[t])&&e.setAttribute?OW:RT},zk=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},UW=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Lk=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},NT=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},PW=function(e,t,i,r){for(var a=this._pt,s;a;)s=a._next,a.p===r&&a.modifier(e,t,i),a=s},BW=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?X_(this,t,"_pt"):t.dep||(i=1),t=r;return!i},IW=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},kk=function(e){for(var t=e._pt,i,r,a,s;t;){for(i=t._next,r=a;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:s)?t._prev._next=t:a=t,(t._next=r)?r._prev=t:s=t,t=i}e._pt=a},So=(function(){function n(t,i,r,a,s,o,u,f,d){this.t=i,this.s=a,this.c=s,this.p=r,this.r=o||zk,this.d=u||this,this.set=f||RT,this.pr=d||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,a){this.mSet=this.mSet||this.set,this.set=IW,this.m=i,this.mt=a,this.tween=r},n})();_o(wT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return MT[n]=1});il.TweenMax=il.TweenLite=ea;il.TimelineLite=il.TimelineMax=js;xr=new js({sortChildren:!1,defaults:R1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$o.stringFilter=Mk;var Jd=[],a4={},FW=[],W9=0,VW=0,t6=function(e){return(a4[e]||FW).map(function(t){return t()})},Cw=function(){var e=Date.now(),t=[];e-W9>2&&(t6("matchMediaInit"),Jd.forEach(function(i){var r=i.queries,a=i.conditions,s,o,u,f;for(o in r)s=cc.matchMedia(r[o]).matches,s&&(u=1),s!==a[o]&&(a[o]=s,f=1);f&&(i.revert(),u&&t.push(i))}),t6("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),W9=e,t6("matchMedia"))},Ok=(function(){function n(t,i){this.selector=i&&Aw(i),this.data=[],this._r=[],this.isReverted=!1,this.id=VW++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,a){Nr(i)&&(a=r,r=i,i=Nr);var s=this,o=function(){var f=lr,d=s.selector,g;return f&&f!==s&&f.data.push(s),a&&(s.selector=Aw(a)),lr=s,g=r.apply(s,arguments),Nr(g)&&s._r.push(g),lr=f,s.selector=d,s.isReverted=!1,g};return s.last=o,i===Nr?o(s,function(u){return s.add(null,u)}):i?s[i]=o:o},e.ignore=function(i){var r=lr;lr=null,i(this),lr=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof ea&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var a=this;if(i?(function(){for(var o=a.getTweens(),u=a.data.length,f;u--;)f=a.data[u],f.data==="isFlip"&&(f.revert(),f.getChildren(!0,!0,!1).forEach(function(d){return o.splice(o.indexOf(d),1)}));for(o.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,g){return g.g-d.g||-1/0}).forEach(function(d){return d.t.revert(i)}),u=a.data.length;u--;)f=a.data[u],f instanceof js?f.data!=="nested"&&(f.scrollTrigger&&f.scrollTrigger.revert(),f.kill()):!(f instanceof ea)&&f.revert&&f.revert(i);a._r.forEach(function(d){return d(i,a)}),a.isReverted=!0})():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),r)for(var s=Jd.length;s--;)Jd[s].id===this.id&&Jd.splice(s,1)},e.revert=function(i){this.kill(i||{})},n})(),HW=(function(){function n(t){this.contexts=[],this.scope=t,lr&&lr.data.push(this)}var e=n.prototype;return e.add=function(i,r,a){Tc(i)||(i={matches:i});var s=new Ok(0,a||this.scope),o=s.conditions={},u,f,d;lr&&!s.selector&&(s.selector=lr.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=i;for(f in i)f==="all"?d=1:(u=cc.matchMedia(i[f]),u&&(Jd.indexOf(s)<0&&Jd.push(s),(o[f]=u.matches)&&(d=1),u.addListener?u.addListener(Cw):u.addEventListener("change",Cw)));return d&&r(s,function(g){return s.add(null,g)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n})(),N4={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return bk(r)})},timeline:function(e){return new js(e)},getTweensOf:function(e,t){return xr.getTweensOf(e,t)},getProperty:function(e,t,i,r){za(e)&&(e=Ol(e)[0]);var a=Zd(e||{}).get,s=i?ok:sk;return i==="native"&&(i=""),e&&(t?s((Xo[t]&&Xo[t].get||a)(e,t,i,r)):function(o,u,f){return s((Xo[o]&&Xo[o].get||a)(e,o,u,f))})},quickSetter:function(e,t,i){if(e=Ol(e),e.length>1){var r=e.map(function(d){return Ao.quickSetter(d,t,i)}),a=r.length;return function(d){for(var g=a;g--;)r[g](d)}}e=e[0]||{};var s=Xo[t],o=Zd(e),u=o.harness&&(o.harness.aliases||{})[t]||t,f=s?function(d){var g=new s;h1._pt=0,g.init(e,i?d+i:d,h1,0,[e]),g.render(1,g),h1._pt&&NT(1,h1)}:o.set(e,u);return s?f:function(d){return f(e,u,i?d+i:d,o,1)}},quickTo:function(e,t,i){var r,a=Ao.to(e,rl((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),s=function(u,f,d){return a.resetTo(t,u,f,d)};return s.tween=a,s},isTweening:function(e){return xr.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Qd(e.ease,R1.ease)),H9(R1,e||{})},config:function(e){return H9($o,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,a=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!Xo[o]&&!il[o]&&tv(t+" effect requires "+o+" plugin.")}),Q5[t]=function(o,u,f){return i(Ol(o),rl(u||{},a),f)},s&&(js.prototype[t]=function(o,u,f){return this.add(Q5[t](o,Tc(u)?u:(f=u)&&{},this),f)})},registerEase:function(e,t){ci[e]=Qd(t)},parseEase:function(e,t){return arguments.length?Qd(e,t):ci},getById:function(e){return xr.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new js(e),r,a;for(i.smoothChildTiming=bo(e.smoothChildTiming),xr.remove(i),i._dp=0,i._time=i._tTime=xr._time,r=xr._first;r;)a=r._next,(t||!(!r._dur&&r instanceof ea&&r.vars.onComplete===r._targets[0]))&&dc(i,r,r._start-r._delay),r=a;return dc(xr,i,0),i},context:function(e,t){return e?new Ok(e,t):lr},matchMedia:function(e){return new HW(e)},matchMediaRefresh:function(){return Jd.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||Cw()},addEventListener:function(e,t){var i=a4[e]||(a4[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=a4[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:bW,wrapYoyo:_W,distribute:pk,random:gk,snap:mk,normalize:vW,getUnit:cs,clamp:mW,splitColor:_k,toArray:Ol,selector:Aw,mapRange:xk,pipe:yW,unitize:xW,interpolate:SW,shuffle:dk},install:tk,effects:Q5,ticker:Yo,updateRoot:js.updateRoot,plugins:Xo,globalTimeline:xr,core:{PropTween:So,globals:nk,Tween:ea,Timeline:js,Animation:av,getCache:Zd,_removeLinkedListItem:X_,reverting:function(){return Ga},context:function(e){return e&&lr&&(lr.data.push(e),e._ctx=lr),lr},suppressOverwrites:function(e){return xT=e}}};_o("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return N4[n]=ea[n]});Yo.add(js.updateRoot);h1=N4.to({},{duration:0});var GW=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},jW=function(e,t){var i=e._targets,r,a,s;for(r in t)for(a=i.length;a--;)s=e._ptLookup[a][r],s&&(s=s.d)&&(s._pt&&(s=GW(s,r)),s&&s.modifier&&s.modifier(t[r],e,i[a],r))},n6=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,a,s){s._onInit=function(o){var u,f;if(za(a)&&(u={},_o(a,function(d){return u[d]=1}),a=u),t){u={};for(f in a)u[f]=t(a[f]);a=u}jW(o,a)}}}},Ao=N4.registerPlugin({name:"attr",init:function(e,t,i,r,a){var s,o,u;this.tween=i;for(s in t)u=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(u||0)+"",t[s],r,a,0,0,s),o.op=s,o.b=u,this._props.push(s)},render:function(e,t){for(var i=t._pt;i;)Ga?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},n6("roundProps",Tw),n6("modifiers"),n6("snap",mk))||N4;ea.version=js.version=Ao.version="3.13.0";ek=1;bT()&&L1();ci.Power0;ci.Power1;ci.Power2;ci.Power3;ci.Power4;ci.Linear;ci.Quad;ci.Cubic;ci.Quart;ci.Quint;ci.Strong;ci.Elastic;ci.Back;ci.SteppedEase;ci.Bounce;ci.Sine;ci.Expo;ci.Circ;var Y9,Xh,v1,zT,Hd,Z9,LT,qW=function(){return typeof window<"u"},Of={},Od=180/Math.PI,b1=Math.PI/180,Em=Math.atan2,K9=1e8,kT=/([A-Z])/g,XW=/(left|right|width|margin|padding|x)/i,WW=/[\s,\(]\S/,mc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Rw=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},YW=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ZW=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},KW=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Uk=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Pk=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},QW=function(e,t,i){return e.style[t]=i},JW=function(e,t,i){return e.style.setProperty(t,i)},$W=function(e,t,i){return e._gsap[t]=i},eY=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},tY=function(e,t,i,r,a){var s=e._gsap;s.scaleX=s.scaleY=i,s.renderTransform(a,s)},nY=function(e,t,i,r,a){var s=e._gsap;s[t]=i,s.renderTransform(a,s)},_r="transform",Mo=_r+"Origin",iY=function n(e,t){var i=this,r=this.target,a=r.style,s=r._gsap;if(e in Of&&a){if(this.tfm=this.tfm||{},e!=="transform")e=mc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=bf(r,o)}):this.tfm[e]=s.x?s[e]:bf(r,e),e===Mo&&(this.tfm.zOrigin=s.zOrigin);else return mc.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(this.props.indexOf(_r)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Mo,t,"")),e=_r}(a||t)&&this.props.push(e,t,a[e])},Bk=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},rY=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,a,s;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?i[e[a]]=e[a+2]:i.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(kT,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=LT(),(!a||!a.isStart)&&!i[_r]&&(Bk(i),r.zOrigin&&i[Mo]&&(i[Mo]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Ik=function(e,t){var i={target:e,props:[],revert:rY,save:iY};return e._gsap||Ao.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},Fk,Dw=function(e,t){var i=Xh.createElementNS?Xh.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Xh.createElement(e);return i&&i.style?i:Xh.createElement(e)},Ul=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(kT,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,k1(t)||t,1)||""},Q9="O,Moz,ms,Ms,Webkit".split(","),k1=function(e,t,i){var r=t||Hd,a=r.style,s=5;if(e in a&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Q9[s]+e in a););return s<0?null:(s===3?"ms":s>=0?Q9[s]:"")+e},Nw=function(){qW()&&window.document&&(Y9=window,Xh=Y9.document,v1=Xh.documentElement,Hd=Dw("div")||{style:{}},Dw("div"),_r=k1(_r),Mo=_r+"Origin",Hd.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Fk=!!k1("perspective"),LT=Ao.core.reverting,zT=1)},J9=function(e){var t=e.ownerSVGElement,i=Dw("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),a;r.style.display="block",i.appendChild(r),v1.appendChild(i);try{a=r.getBBox()}catch{}return i.removeChild(r),v1.removeChild(i),a},$9=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},Vk=function(e){var t,i;try{t=e.getBBox()}catch{t=J9(e),i=1}return t&&(t.width||t.height)||i||(t=J9(e)),t&&!t.width&&!t.x&&!t.y?{x:+$9(e,["x","cx","x1"])||0,y:+$9(e,["y","cy","y1"])||0,width:0,height:0}:t},Hk=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Vk(e))},ap=function(e,t){if(t){var i=e.style,r;t in Of&&t!==Mo&&(t=_r),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(kT,"-$1").toLowerCase())):i.removeAttribute(t)}},Wh=function(e,t,i,r,a,s){var o=new So(e._pt,t,i,0,1,s?Pk:Uk);return e._pt=o,o.b=r,o.e=a,e._props.push(i),o},eC={deg:1,rad:1,turn:1},aY={grid:1,flex:1},s0=function n(e,t,i,r){var a=parseFloat(i)||0,s=(i+"").trim().substr((a+"").length)||"px",o=Hd.style,u=XW.test(t),f=e.tagName.toLowerCase()==="svg",d=(f?"client":"offset")+(u?"Width":"Height"),g=100,y=r==="px",x=r==="%",_,M,w,S;if(r===s||!a||eC[r]||eC[s])return a;if(s!=="px"&&!y&&(a=n(e,t,i,"px")),S=e.getCTM&&Hk(e),(x||s==="%")&&(Of[t]||~t.indexOf("adius")))return _=S?e.getBBox()[u?"width":"height"]:e[d],Vr(x?a/_*g:a/100*_);if(o[u?"width":"height"]=g+(y?s:r),M=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!f?e:e.parentNode,S&&(M=(e.ownerSVGElement||{}).parentNode),(!M||M===Xh||!M.appendChild)&&(M=Xh.body),w=M._gsap,w&&x&&w.width&&u&&w.time===Yo.time&&!w.uncache)return Vr(a/w.width*g);if(x&&(t==="height"||t==="width")){var E=e.style[t];e.style[t]=g+r,_=e[d],E?e.style[t]=E:ap(e,t)}else(x||s==="%")&&!aY[Ul(M,"display")]&&(o.position=Ul(e,"position")),M===e&&(o.position="static"),M.appendChild(Hd),_=Hd[d],M.removeChild(Hd),o.position="absolute";return u&&x&&(w=Zd(M),w.time=Yo.time,w.width=M[d]),Vr(y?_*a/g:_&&a?g/_*a:0)},bf=function(e,t,i,r){var a;return zT||Nw(),t in mc&&t!=="transform"&&(t=mc[t],~t.indexOf(",")&&(t=t.split(",")[0])),Of[t]&&t!=="transform"?(a=ov(e,r),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:L4(Ul(e,Mo))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||r||~(a+"").indexOf("calc("))&&(a=z4[t]&&z4[t](e,t,i)||Ul(e,t)||rk(e,t)||(t==="opacity"?1:0))),i&&!~(a+"").trim().indexOf(" ")?s0(e,t,a,i)+i:a},sY=function(e,t,i,r){if(!i||i==="none"){var a=k1(t,e,1),s=a&&Ul(e,a,1);s&&s!==i?(t=a,i=s):t==="borderColor"&&(i=Ul(e,"borderTopColor"))}var o=new So(this._pt,e.style,t,0,1,Lk),u=0,f=0,d,g,y,x,_,M,w,S,E,R,N,O;if(o.b=i,o.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Ul(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(M=e.style[t],e.style[t]=r,r=Ul(e,t)||r,M?e.style[t]=M:ap(e,t)),d=[i,r],Mk(d),i=d[0],r=d[1],y=i.match(f1)||[],O=r.match(f1)||[],O.length){for(;g=f1.exec(r);)w=g[0],E=r.substring(u,g.index),_?_=(_+1)%5:(E.substr(-5)==="rgba("||E.substr(-5)==="hsla(")&&(_=1),w!==(M=y[f++]||"")&&(x=parseFloat(M)||0,N=M.substr((x+"").length),w.charAt(1)==="="&&(w=x1(x,w)+N),S=parseFloat(w),R=w.substr((S+"").length),u=f1.lastIndex-R.length,R||(R=R||$o.units[t]||N,u===r.length&&(r+=R,o.e+=R)),N!==R&&(x=s0(e,t,M,R)||0),o._pt={_next:o._pt,p:E||f===1?E:",",s:x,c:S-x,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=u<r.length?r.substring(u,r.length):""}else o.r=t==="display"&&r==="none"?Pk:Uk;return JL.test(r)&&(o.e=0),this._pt=o,o},tC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},oY=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=tC[i]||i,t[1]=tC[r]||r,t.join(" ")},lY=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,a=t.u,s=i._gsap,o,u,f;if(a==="all"||a===!0)r.cssText="",u=1;else for(a=a.split(","),f=a.length;--f>-1;)o=a[f],Of[o]&&(u=1,o=o==="transformOrigin"?Mo:_r),ap(i,o);u&&(ap(i,_r),s&&(s.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",ov(i,1),s.uncache=1,Bk(r)))}},z4={clearProps:function(e,t,i,r,a){if(a.data!=="isFromStart"){var s=e._pt=new So(e._pt,t,i,0,0,lY);return s.u=r,s.pr=-10,s.tween=a,e._props.push(i),1}}},sv=[1,0,0,1,0,0],Gk={},jk=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},nC=function(e){var t=Ul(e,_r);return jk(t)?sv:t.substr(7).match(QL).map(Vr)},OT=function(e,t){var i=e._gsap||Zd(e),r=e.style,a=nC(e),s,o,u,f;return i.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?sv:a):(a===sv&&!e.offsetParent&&e!==v1&&!i.svg&&(u=r.display,r.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(f=1,o=e.nextElementSibling,v1.appendChild(e)),a=nC(e),u?r.display=u:ap(e,"display"),f&&(o?s.insertBefore(e,o):s?s.appendChild(e):v1.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},zw=function(e,t,i,r,a,s){var o=e._gsap,u=a||OT(e,!0),f=o.xOrigin||0,d=o.yOrigin||0,g=o.xOffset||0,y=o.yOffset||0,x=u[0],_=u[1],M=u[2],w=u[3],S=u[4],E=u[5],R=t.split(" "),N=parseFloat(R[0])||0,O=parseFloat(R[1])||0,z,B,G,U;i?u!==sv&&(B=x*w-_*M)&&(G=N*(w/B)+O*(-M/B)+(M*E-w*S)/B,U=N*(-_/B)+O*(x/B)-(x*E-_*S)/B,N=G,O=U):(z=Vk(e),N=z.x+(~R[0].indexOf("%")?N/100*z.width:N),O=z.y+(~(R[1]||R[0]).indexOf("%")?O/100*z.height:O)),r||r!==!1&&o.smooth?(S=N-f,E=O-d,o.xOffset=g+(S*x+E*M)-S,o.yOffset=y+(S*_+E*w)-E):o.xOffset=o.yOffset=0,o.xOrigin=N,o.yOrigin=O,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[Mo]="0px 0px",s&&(Wh(s,o,"xOrigin",f,N),Wh(s,o,"yOrigin",d,O),Wh(s,o,"xOffset",g,o.xOffset),Wh(s,o,"yOffset",y,o.yOffset)),e.setAttribute("data-svg-origin",N+" "+O)},ov=function(e,t){var i=e._gsap||new Ek(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,a=i.scaleX<0,s="px",o="deg",u=getComputedStyle(e),f=Ul(e,Mo)||"0",d,g,y,x,_,M,w,S,E,R,N,O,z,B,G,U,L,j,Z,oe,le,ae,W,te,re,ve,F,J,ye,K,Le,Ye;return d=g=y=M=w=S=E=R=N=0,x=_=1,i.svg=!!(e.getCTM&&Hk(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(r[_r]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[_r]!=="none"?u[_r]:"")),r.scale=r.rotate=r.translate="none"),B=OT(e,i.svg),i.svg&&(i.uncache?(re=e.getBBox(),f=i.xOrigin-re.x+"px "+(i.yOrigin-re.y)+"px",te=""):te=!t&&e.getAttribute("data-svg-origin"),zw(e,te||f,!!te||i.originIsAbsolute,i.smooth!==!1,B)),O=i.xOrigin||0,z=i.yOrigin||0,B!==sv&&(j=B[0],Z=B[1],oe=B[2],le=B[3],d=ae=B[4],g=W=B[5],B.length===6?(x=Math.sqrt(j*j+Z*Z),_=Math.sqrt(le*le+oe*oe),M=j||Z?Em(Z,j)*Od:0,E=oe||le?Em(oe,le)*Od+M:0,E&&(_*=Math.abs(Math.cos(E*b1))),i.svg&&(d-=O-(O*j+z*oe),g-=z-(O*Z+z*le))):(Ye=B[6],K=B[7],F=B[8],J=B[9],ye=B[10],Le=B[11],d=B[12],g=B[13],y=B[14],G=Em(Ye,ye),w=G*Od,G&&(U=Math.cos(-G),L=Math.sin(-G),te=ae*U+F*L,re=W*U+J*L,ve=Ye*U+ye*L,F=ae*-L+F*U,J=W*-L+J*U,ye=Ye*-L+ye*U,Le=K*-L+Le*U,ae=te,W=re,Ye=ve),G=Em(-oe,ye),S=G*Od,G&&(U=Math.cos(-G),L=Math.sin(-G),te=j*U-F*L,re=Z*U-J*L,ve=oe*U-ye*L,Le=le*L+Le*U,j=te,Z=re,oe=ve),G=Em(Z,j),M=G*Od,G&&(U=Math.cos(G),L=Math.sin(G),te=j*U+Z*L,re=ae*U+W*L,Z=Z*U-j*L,W=W*U-ae*L,j=te,ae=re),w&&Math.abs(w)+Math.abs(M)>359.9&&(w=M=0,S=180-S),x=Vr(Math.sqrt(j*j+Z*Z+oe*oe)),_=Vr(Math.sqrt(W*W+Ye*Ye)),G=Em(ae,W),E=Math.abs(G)>2e-4?G*Od:0,N=Le?1/(Le<0?-Le:Le):0),i.svg&&(te=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!jk(Ul(e,_r)),te&&e.setAttribute("transform",te))),Math.abs(E)>90&&Math.abs(E)<270&&(a?(x*=-1,E+=M<=0?180:-180,M+=M<=0?180:-180):(_*=-1,E+=E<=0?180:-180)),t=t||i.uncache,i.x=d-((i.xPercent=d&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+s,i.y=g-((i.yPercent=g&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+s,i.z=y+s,i.scaleX=Vr(x),i.scaleY=Vr(_),i.rotation=Vr(M)+o,i.rotationX=Vr(w)+o,i.rotationY=Vr(S)+o,i.skewX=E+o,i.skewY=R+o,i.transformPerspective=N+s,(i.zOrigin=parseFloat(f.split(" ")[2])||!t&&i.zOrigin||0)&&(r[Mo]=L4(f)),i.xOffset=i.yOffset=0,i.force3D=$o.force3D,i.renderTransform=i.svg?cY:Fk?qk:uY,i.uncache=0,i},L4=function(e){return(e=e.split(" "))[0]+" "+e[1]},i6=function(e,t,i){var r=cs(t);return Vr(parseFloat(t)+parseFloat(s0(e,"x",i+"px",r)))+r},uY=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,qk(e,t)},md="0deg",Fy="0px",gd=") ",qk=function(e,t){var i=t||this,r=i.xPercent,a=i.yPercent,s=i.x,o=i.y,u=i.z,f=i.rotation,d=i.rotationY,g=i.rotationX,y=i.skewX,x=i.skewY,_=i.scaleX,M=i.scaleY,w=i.transformPerspective,S=i.force3D,E=i.target,R=i.zOrigin,N="",O=S==="auto"&&e&&e!==1||S===!0;if(R&&(g!==md||d!==md)){var z=parseFloat(d)*b1,B=Math.sin(z),G=Math.cos(z),U;z=parseFloat(g)*b1,U=Math.cos(z),s=i6(E,s,B*U*-R),o=i6(E,o,-Math.sin(z)*-R),u=i6(E,u,G*U*-R+R)}w!==Fy&&(N+="perspective("+w+gd),(r||a)&&(N+="translate("+r+"%, "+a+"%) "),(O||s!==Fy||o!==Fy||u!==Fy)&&(N+=u!==Fy||O?"translate3d("+s+", "+o+", "+u+") ":"translate("+s+", "+o+gd),f!==md&&(N+="rotate("+f+gd),d!==md&&(N+="rotateY("+d+gd),g!==md&&(N+="rotateX("+g+gd),(y!==md||x!==md)&&(N+="skew("+y+", "+x+gd),(_!==1||M!==1)&&(N+="scale("+_+", "+M+gd),E.style[_r]=N||"translate(0, 0)"},cY=function(e,t){var i=t||this,r=i.xPercent,a=i.yPercent,s=i.x,o=i.y,u=i.rotation,f=i.skewX,d=i.skewY,g=i.scaleX,y=i.scaleY,x=i.target,_=i.xOrigin,M=i.yOrigin,w=i.xOffset,S=i.yOffset,E=i.forceCSS,R=parseFloat(s),N=parseFloat(o),O,z,B,G,U;u=parseFloat(u),f=parseFloat(f),d=parseFloat(d),d&&(d=parseFloat(d),f+=d,u+=d),u||f?(u*=b1,f*=b1,O=Math.cos(u)*g,z=Math.sin(u)*g,B=Math.sin(u-f)*-y,G=Math.cos(u-f)*y,f&&(d*=b1,U=Math.tan(f-d),U=Math.sqrt(1+U*U),B*=U,G*=U,d&&(U=Math.tan(d),U=Math.sqrt(1+U*U),O*=U,z*=U)),O=Vr(O),z=Vr(z),B=Vr(B),G=Vr(G)):(O=g,G=y,z=B=0),(R&&!~(s+"").indexOf("px")||N&&!~(o+"").indexOf("px"))&&(R=s0(x,"x",s,"px"),N=s0(x,"y",o,"px")),(_||M||w||S)&&(R=Vr(R+_-(_*O+M*B)+w),N=Vr(N+M-(_*z+M*G)+S)),(r||a)&&(U=x.getBBox(),R=Vr(R+r/100*U.width),N=Vr(N+a/100*U.height)),U="matrix("+O+","+z+","+B+","+G+","+R+","+N+")",x.setAttribute("transform",U),E&&(x.style[_r]=U)},fY=function(e,t,i,r,a){var s=360,o=za(a),u=parseFloat(a)*(o&&~a.indexOf("rad")?Od:1),f=u-r,d=r+f+"deg",g,y;return o&&(g=a.split("_")[1],g==="short"&&(f%=s,f!==f%(s/2)&&(f+=f<0?s:-s)),g==="cw"&&f<0?f=(f+s*K9)%s-~~(f/s)*s:g==="ccw"&&f>0&&(f=(f-s*K9)%s-~~(f/s)*s)),e._pt=y=new So(e._pt,t,i,r,f,YW),y.e=d,y.u="deg",e._props.push(i),y},iC=function(e,t){for(var i in t)e[i]=t[i];return e},hY=function(e,t,i){var r=iC({},i._gsap),a="perspective,force3D,transformOrigin,svgOrigin",s=i.style,o,u,f,d,g,y,x,_;r.svg?(f=i.getAttribute("transform"),i.setAttribute("transform",""),s[_r]=t,o=ov(i,1),ap(i,_r),i.setAttribute("transform",f)):(f=getComputedStyle(i)[_r],s[_r]=t,o=ov(i,1),s[_r]=f);for(u in Of)f=r[u],d=o[u],f!==d&&a.indexOf(u)<0&&(x=cs(f),_=cs(d),g=x!==_?s0(i,u,f,_):parseFloat(f),y=parseFloat(d),e._pt=new So(e._pt,o,u,g,y-g,Rw),e._pt.u=_||0,e._props.push(u));iC(o,r)};_o("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",a="Left",s=(e<3?[t,i,r,a]:[t+a,t+i,r+i,r+a]).map(function(o){return e<2?n+o:"border"+o+n});z4[e>1?"border"+n:n]=function(o,u,f,d,g){var y,x;if(arguments.length<4)return y=s.map(function(_){return bf(o,_,f)}),x=y.join(" "),x.split(y[0]).length===5?y[0]:x;y=(d+"").split(" "),x={},s.forEach(function(_,M){return x[_]=y[M]=y[M]||y[(M-1)/2|0]}),o.init(u,x,g)}});var Xk={name:"css",register:Nw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,a){var s=this._props,o=e.style,u=i.vars.startAt,f,d,g,y,x,_,M,w,S,E,R,N,O,z,B,G;zT||Nw(),this.styles=this.styles||Ik(e),G=this.styles.props,this.tween=i;for(M in t)if(M!=="autoRound"&&(d=t[M],!(Xo[M]&&Ck(M,t,i,r,e,a)))){if(x=typeof d,_=z4[M],x==="function"&&(d=d.call(i,r,e,a),x=typeof d),x==="string"&&~d.indexOf("random(")&&(d=iv(d)),_)_(this,e,M,d,i)&&(B=1);else if(M.substr(0,2)==="--")f=(getComputedStyle(e).getPropertyValue(M)+"").trim(),d+="",e0.lastIndex=0,e0.test(f)||(w=cs(f),S=cs(d)),S?w!==S&&(f=s0(e,M,f,S)+S):w&&(d+=w),this.add(o,"setProperty",f,d,r,a,0,0,M),s.push(M),G.push(M,0,o[M]);else if(x!=="undefined"){if(u&&M in u?(f=typeof u[M]=="function"?u[M].call(i,r,e,a):u[M],za(f)&&~f.indexOf("random(")&&(f=iv(f)),cs(f+"")||f==="auto"||(f+=$o.units[M]||cs(bf(e,M))||""),(f+"").charAt(1)==="="&&(f=bf(e,M))):f=bf(e,M),y=parseFloat(f),E=x==="string"&&d.charAt(1)==="="&&d.substr(0,2),E&&(d=d.substr(2)),g=parseFloat(d),M in mc&&(M==="autoAlpha"&&(y===1&&bf(e,"visibility")==="hidden"&&g&&(y=0),G.push("visibility",0,o.visibility),Wh(this,o,"visibility",y?"inherit":"hidden",g?"inherit":"hidden",!g)),M!=="scale"&&M!=="transform"&&(M=mc[M],~M.indexOf(",")&&(M=M.split(",")[0]))),R=M in Of,R){if(this.styles.save(M),x==="string"&&d.substring(0,6)==="var(--"&&(d=Ul(e,d.substring(4,d.indexOf(")"))),g=parseFloat(d)),N||(O=e._gsap,O.renderTransform&&!t.parseTransform||ov(e,t.parseTransform),z=t.smoothOrigin!==!1&&O.smooth,N=this._pt=new So(this._pt,o,_r,0,1,O.renderTransform,O,0,-1),N.dep=1),M==="scale")this._pt=new So(this._pt,O,"scaleY",O.scaleY,(E?x1(O.scaleY,E+g):g)-O.scaleY||0,Rw),this._pt.u=0,s.push("scaleY",M),M+="X";else if(M==="transformOrigin"){G.push(Mo,0,o[Mo]),d=oY(d),O.svg?zw(e,d,0,z,0,this):(S=parseFloat(d.split(" ")[2])||0,S!==O.zOrigin&&Wh(this,O,"zOrigin",O.zOrigin,S),Wh(this,o,M,L4(f),L4(d)));continue}else if(M==="svgOrigin"){zw(e,d,1,z,0,this);continue}else if(M in Gk){fY(this,O,M,y,E?x1(y,E+d):d);continue}else if(M==="smoothOrigin"){Wh(this,O,"smooth",O.smooth,d);continue}else if(M==="force3D"){O[M]=d;continue}else if(M==="transform"){hY(this,d,e);continue}}else M in o||(M=k1(M)||M);if(R||(g||g===0)&&(y||y===0)&&!WW.test(d)&&M in o)w=(f+"").substr((y+"").length),g||(g=0),S=cs(d)||(M in $o.units?$o.units[M]:w),w!==S&&(y=s0(e,M,f,S)),this._pt=new So(this._pt,R?O:o,M,y,(E?x1(y,E+g):g)-y,!R&&(S==="px"||M==="zIndex")&&t.autoRound!==!1?KW:Rw),this._pt.u=S||0,w!==S&&S!=="%"&&(this._pt.b=f,this._pt.r=ZW);else if(M in o)sY.call(this,e,M,f,E?E+d:d);else if(M in e)this.add(e,M,f||e[M],E?E+d:d,r,a);else if(M!=="parseTransform"){ST(M,d);continue}R||(M in o?G.push(M,0,o[M]):typeof e[M]=="function"?G.push(M,2,e[M]()):G.push(M,1,f||e[M])),s.push(M)}}B&&kk(this)},render:function(e,t){if(t.tween._time||!LT())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:bf,aliases:mc,getSetter:function(e,t,i){var r=mc[t];return r&&r.indexOf(",")<0&&(t=r),t in Of&&t!==Mo&&(e._gsap.x||bf(e,"x"))?i&&Z9===i?t==="scale"?eY:$W:(Z9=i||{})&&(t==="scale"?tY:nY):e.style&&!vT(e.style[t])?QW:~t.indexOf("-")?JW:DT(e,t)},core:{_removeProperty:ap,_getMatrix:OT}};Ao.utils.checkPrefix=k1;Ao.core.getStyleSaver=Ik;(function(n,e,t,i){var r=_o(n+","+e+","+t,function(a){Of[a]=1});_o(e,function(a){$o.units[a]="deg",Gk[a]=1}),mc[r[13]]=n+","+e,_o(i,function(a){var s=a.split(":");mc[s[1]]=r[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_o("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){$o.units[n]="px"});Ao.registerPlugin(Xk);var di=Ao.registerPlugin(Xk)||Ao;di.core.Tween;function dY(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function pY(n,e,t){return e&&dY(n.prototype,e),n}var Ha,s4,Zo,Yh,Zh,_1,Wk,Ud,Ax,Yk,Af,xu,Zk,Kk=function(){return Ha||typeof window<"u"&&(Ha=window.gsap)&&Ha.registerPlugin&&Ha},Qk=1,d1=[],Wn=[],Mc=[],Tx=Date.now,Lw=function(e,t){return t},mY=function(){var e=Ax.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,Wn),r.push.apply(r,Mc),Wn=i,Mc=r,Lw=function(s,o){return t[s](o)}},t0=function(e,t){return~Mc.indexOf(e)&&Mc[Mc.indexOf(e)+1][t]},Ex=function(e){return!!~Yk.indexOf(e)},Is=function(e,t,i,r,a){return e.addEventListener(t,i,{passive:r!==!1,capture:!!a})},Us=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},L3="scrollLeft",k3="scrollTop",kw=function(){return Af&&Af.isPressed||Wn.cache++},k4=function(e,t){var i=function r(a){if(a||a===0){Qk&&(Zo.history.scrollRestoration="manual");var s=Af&&Af.isPressed;a=r.v=Math.round(a)||(Af&&Af.iOS?1:0),e(a),r.cacheID=Wn.cache,s&&Lw("ss",a)}else(t||Wn.cache!==r.cacheID||Lw("ref"))&&(r.cacheID=Wn.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},qs={s:L3,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:k4(function(n){return arguments.length?Zo.scrollTo(n,pa.sc()):Zo.pageXOffset||Yh[L3]||Zh[L3]||_1[L3]||0})},pa={s:k3,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:qs,sc:k4(function(n){return arguments.length?Zo.scrollTo(qs.sc(),n):Zo.pageYOffset||Yh[k3]||Zh[k3]||_1[k3]||0})},ho=function(e,t){return(t&&t._ctx&&t._ctx.selector||Ha.utils.toArray)(e)[0]||(typeof e=="string"&&Ha.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},gY=function(e,t){for(var i=t.length;i--;)if(t[i]===e||t[i].contains(e))return!0;return!1},o0=function(e,t){var i=t.s,r=t.sc;Ex(e)&&(e=Yh.scrollingElement||Zh);var a=Wn.indexOf(e),s=r===pa.sc?1:2;!~a&&(a=Wn.push(e)-1),Wn[a+s]||Is(e,"scroll",kw);var o=Wn[a+s],u=o||(Wn[a+s]=k4(t0(e,i),!0)||(Ex(e)?r:k4(function(f){return arguments.length?e[i]=f:e[i]})));return u.target=e,o||(u.smooth=Ha.getProperty(e,"scrollBehavior")==="smooth"),u},Ow=function(e,t,i){var r=e,a=e,s=Tx(),o=s,u=t||50,f=Math.max(500,u*3),d=function(_,M){var w=Tx();M||w-s>u?(a=r,r=_,o=s,s=w):i?r+=_:r=a+(_-a)/(w-o)*(s-o)},g=function(){a=r=i?0:r,o=s=0},y=function(_){var M=o,w=a,S=Tx();return(_||_===0)&&_!==r&&d(_),s===o||S-o>f?0:(r+(i?w:-w))/((i?S:s)-M)*1e3};return{update:d,reset:g,getVelocity:y}},Vy=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},rC=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},Jk=function(){Ax=Ha.core.globals().ScrollTrigger,Ax&&Ax.core&&mY()},$k=function(e){return Ha=e||Kk(),!s4&&Ha&&typeof document<"u"&&document.body&&(Zo=window,Yh=document,Zh=Yh.documentElement,_1=Yh.body,Yk=[Zo,Yh,Zh,_1],Ha.utils.clamp,Zk=Ha.core.context||function(){},Ud="onpointerenter"in _1?"pointer":"mouse",Wk=Hr.isTouch=Zo.matchMedia&&Zo.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Zo||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,xu=Hr.eventTypes=("ontouchstart"in Zh?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Zh?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Qk=0},500),Jk(),s4=1),s4};qs.op=pa;Wn.cache=0;var Hr=(function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(i){s4||$k(Ha)||console.warn("Please gsap.registerPlugin(Observer)"),Ax||Jk();var r=i.tolerance,a=i.dragMinimum,s=i.type,o=i.target,u=i.lineHeight,f=i.debounce,d=i.preventDefault,g=i.onStop,y=i.onStopDelay,x=i.ignore,_=i.wheelSpeed,M=i.event,w=i.onDragStart,S=i.onDragEnd,E=i.onDrag,R=i.onPress,N=i.onRelease,O=i.onRight,z=i.onLeft,B=i.onUp,G=i.onDown,U=i.onChangeX,L=i.onChangeY,j=i.onChange,Z=i.onToggleX,oe=i.onToggleY,le=i.onHover,ae=i.onHoverEnd,W=i.onMove,te=i.ignoreCheck,re=i.isNormalizer,ve=i.onGestureStart,F=i.onGestureEnd,J=i.onWheel,ye=i.onEnable,K=i.onDisable,Le=i.onClick,Ye=i.scrollSpeed,_e=i.capture,Ne=i.allowClicks,Xe=i.lockAxis,at=i.onLockAxis;this.target=o=ho(o)||Zh,this.vars=i,x&&(x=Ha.utils.toArray(x)),r=r||1e-9,a=a||0,_=_||1,Ye=Ye||1,s=s||"wheel,touch,pointer",f=f!==!1,u||(u=parseFloat(Zo.getComputedStyle(_1).lineHeight)||22);var _t,Pt,rn,dt,Fe,ne,Ge,de=this,it=0,Ze=0,xt=i.passive||!d&&i.passive!==!1,tt=o0(o,qs),Mt=o0(o,pa),ie=tt(),X=Mt(),Ae=~s.indexOf("touch")&&!~s.indexOf("pointer")&&xu[0]==="pointerdown",ce=Ex(o),xe=o.ownerDocument||Yh,Me=[0,0,0],nt=[0,0,0],Qe=0,Rt=function(){return Qe=Tx()},ft=function(Ft,gn){return(de.event=Ft)&&x&&gY(Ft.target,x)||gn&&Ae&&Ft.pointerType!=="touch"||te&&te(Ft,gn)},He=function(){de._vx.reset(),de._vy.reset(),Pt.pause(),g&&g(de)},Ke=function(){var Ft=de.deltaX=rC(Me),gn=de.deltaY=rC(nt),At=Math.abs(Ft)>=r,on=Math.abs(gn)>=r;j&&(At||on)&&j(de,Ft,gn,Me,nt),At&&(O&&de.deltaX>0&&O(de),z&&de.deltaX<0&&z(de),U&&U(de),Z&&de.deltaX<0!=it<0&&Z(de),it=de.deltaX,Me[0]=Me[1]=Me[2]=0),on&&(G&&de.deltaY>0&&G(de),B&&de.deltaY<0&&B(de),L&&L(de),oe&&de.deltaY<0!=Ze<0&&oe(de),Ze=de.deltaY,nt[0]=nt[1]=nt[2]=0),(dt||rn)&&(W&&W(de),rn&&(w&&rn===1&&w(de),E&&E(de),rn=0),dt=!1),ne&&!(ne=!1)&&at&&at(de),Fe&&(J(de),Fe=!1),_t=0},Nt=function(Ft,gn,At){Me[At]+=Ft,nt[At]+=gn,de._vx.update(Ft),de._vy.update(gn),f?_t||(_t=requestAnimationFrame(Ke)):Ke()},bt=function(Ft,gn){Xe&&!Ge&&(de.axis=Ge=Math.abs(Ft)>Math.abs(gn)?"x":"y",ne=!0),Ge!=="y"&&(Me[2]+=Ft,de._vx.update(Ft,!0)),Ge!=="x"&&(nt[2]+=gn,de._vy.update(gn,!0)),f?_t||(_t=requestAnimationFrame(Ke)):Ke()},mt=function(Ft){if(!ft(Ft,1)){Ft=Vy(Ft,d);var gn=Ft.clientX,At=Ft.clientY,on=gn-de.x,Yt=At-de.y,Wt=de.isDragging;de.x=gn,de.y=At,(Wt||(on||Yt)&&(Math.abs(de.startX-gn)>=a||Math.abs(de.startY-At)>=a))&&(rn=Wt?2:1,Wt||(de.isDragging=!0),bt(on,Yt))}},Bt=de.onPress=function(Et){ft(Et,1)||Et&&Et.button||(de.axis=Ge=null,Pt.pause(),de.isPressed=!0,Et=Vy(Et),it=Ze=0,de.startX=de.x=Et.clientX,de.startY=de.y=Et.clientY,de._vx.reset(),de._vy.reset(),Is(re?o:xe,xu[1],mt,xt,!0),de.deltaX=de.deltaY=0,R&&R(de))},fe=de.onRelease=function(Et){if(!ft(Et,1)){Us(re?o:xe,xu[1],mt,!0);var Ft=!isNaN(de.y-de.startY),gn=de.isDragging,At=gn&&(Math.abs(de.x-de.startX)>3||Math.abs(de.y-de.startY)>3),on=Vy(Et);!At&&Ft&&(de._vx.reset(),de._vy.reset(),d&&Ne&&Ha.delayedCall(.08,function(){if(Tx()-Qe>300&&!Et.defaultPrevented){if(Et.target.click)Et.target.click();else if(xe.createEvent){var Yt=xe.createEvent("MouseEvents");Yt.initMouseEvent("click",!0,!0,Zo,1,on.screenX,on.screenY,on.clientX,on.clientY,!1,!1,!1,!1,0,null),Et.target.dispatchEvent(Yt)}}})),de.isDragging=de.isGesturing=de.isPressed=!1,g&&gn&&!re&&Pt.restart(!0),rn&&Ke(),S&&gn&&S(de),N&&N(de,At)}},vt=function(Ft){return Ft.touches&&Ft.touches.length>1&&(de.isGesturing=!0)&&ve(Ft,de.isDragging)},ot=function(){return(de.isGesturing=!1)||F(de)},lt=function(Ft){if(!ft(Ft)){var gn=tt(),At=Mt();Nt((gn-ie)*Ye,(At-X)*Ye,1),ie=gn,X=At,g&&Pt.restart(!0)}},$e=function(Ft){if(!ft(Ft)){Ft=Vy(Ft,d),J&&(Fe=!0);var gn=(Ft.deltaMode===1?u:Ft.deltaMode===2?Zo.innerHeight:1)*_;Nt(Ft.deltaX*gn,Ft.deltaY*gn,0),g&&!re&&Pt.restart(!0)}},qe=function(Ft){if(!ft(Ft)){var gn=Ft.clientX,At=Ft.clientY,on=gn-de.x,Yt=At-de.y;de.x=gn,de.y=At,dt=!0,g&&Pt.restart(!0),(on||Yt)&&bt(on,Yt)}},Dt=function(Ft){de.event=Ft,le(de)},Zt=function(Ft){de.event=Ft,ae(de)},Bn=function(Ft){return ft(Ft)||Vy(Ft,d)&&Le(de)};Pt=de._dc=Ha.delayedCall(y||.25,He).pause(),de.deltaX=de.deltaY=0,de._vx=Ow(0,50,!0),de._vy=Ow(0,50,!0),de.scrollX=tt,de.scrollY=Mt,de.isDragging=de.isGesturing=de.isPressed=!1,Zk(this),de.enable=function(Et){return de.isEnabled||(Is(ce?xe:o,"scroll",kw),s.indexOf("scroll")>=0&&Is(ce?xe:o,"scroll",lt,xt,_e),s.indexOf("wheel")>=0&&Is(o,"wheel",$e,xt,_e),(s.indexOf("touch")>=0&&Wk||s.indexOf("pointer")>=0)&&(Is(o,xu[0],Bt,xt,_e),Is(xe,xu[2],fe),Is(xe,xu[3],fe),Ne&&Is(o,"click",Rt,!0,!0),Le&&Is(o,"click",Bn),ve&&Is(xe,"gesturestart",vt),F&&Is(xe,"gestureend",ot),le&&Is(o,Ud+"enter",Dt),ae&&Is(o,Ud+"leave",Zt),W&&Is(o,Ud+"move",qe)),de.isEnabled=!0,de.isDragging=de.isGesturing=de.isPressed=dt=rn=!1,de._vx.reset(),de._vy.reset(),ie=tt(),X=Mt(),Et&&Et.type&&Bt(Et),ye&&ye(de)),de},de.disable=function(){de.isEnabled&&(d1.filter(function(Et){return Et!==de&&Ex(Et.target)}).length||Us(ce?xe:o,"scroll",kw),de.isPressed&&(de._vx.reset(),de._vy.reset(),Us(re?o:xe,xu[1],mt,!0)),Us(ce?xe:o,"scroll",lt,_e),Us(o,"wheel",$e,_e),Us(o,xu[0],Bt,_e),Us(xe,xu[2],fe),Us(xe,xu[3],fe),Us(o,"click",Rt,!0),Us(o,"click",Bn),Us(xe,"gesturestart",vt),Us(xe,"gestureend",ot),Us(o,Ud+"enter",Dt),Us(o,Ud+"leave",Zt),Us(o,Ud+"move",qe),de.isEnabled=de.isPressed=de.isDragging=!1,K&&K(de))},de.kill=de.revert=function(){de.disable();var Et=d1.indexOf(de);Et>=0&&d1.splice(Et,1),Af===de&&(Af=0)},d1.push(de),re&&Ex(o)&&(Af=de),de.enable(M)},pY(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n})();Hr.version="3.13.0";Hr.create=function(n){return new Hr(n)};Hr.register=$k;Hr.getAll=function(){return d1.slice()};Hr.getById=function(n){return d1.filter(function(e){return e.vars.id===n})[0]};Kk()&&Ha.registerPlugin(Hr);var Xt,i1,Xn,Ki,Wo,Ri,UT,O4,lv,Cx,ux,O3,os,Z_,Uw,Hs,aC,sC,r1,eO,r6,tO,Vs,Pw,nO,iO,Vh,Bw,PT,S1,BT,U4,Iw,a6,U3=1,ls=Date.now,s6=ls(),Il=0,cx=0,oC=function(e,t,i){var r=qo(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},lC=function(e,t){return t&&(!qo(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},yY=function n(){return cx&&requestAnimationFrame(n)},uC=function(){return Z_=1},cC=function(){return Z_=0},fc=function(e){return e},fx=function(e){return Math.round(e*1e5)/1e5||0},rO=function(){return typeof window<"u"},aO=function(){return Xt||rO()&&(Xt=window.gsap)&&Xt.registerPlugin&&Xt},sp=function(e){return!!~UT.indexOf(e)},sO=function(e){return(e==="Height"?BT:Xn["inner"+e])||Wo["client"+e]||Ri["client"+e]},oO=function(e){return t0(e,"getBoundingClientRect")||(sp(e)?function(){return f4.width=Xn.innerWidth,f4.height=BT,f4}:function(){return Sf(e)})},xY=function(e,t,i){var r=i.d,a=i.d2,s=i.a;return(s=t0(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?sO(a):e["client"+a])||0}},vY=function(e,t){return!t||~Mc.indexOf(e)?oO(e):function(){return f4}},gc=function(e,t){var i=t.s,r=t.d2,a=t.d,s=t.a;return Math.max(0,(i="scroll"+r)&&(s=t0(e,i))?s()-oO(e)()[a]:sp(e)?(Wo[i]||Ri[i])-sO(r):e[i]-e["offset"+r])},P3=function(e,t){for(var i=0;i<r1.length;i+=3)(!t||~t.indexOf(r1[i+1]))&&e(r1[i],r1[i+1],r1[i+2])},qo=function(e){return typeof e=="string"},fs=function(e){return typeof e=="function"},hx=function(e){return typeof e=="number"},Pd=function(e){return typeof e=="object"},Hy=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},o6=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Cm=Math.abs,lO="left",uO="top",IT="right",FT="bottom",$d="width",ep="height",Rx="Right",Dx="Left",Nx="Top",zx="Bottom",Jr="padding",Dl="margin",O1="Width",VT="Height",ha="px",Nl=function(e){return Xn.getComputedStyle(e)},bY=function(e){var t=Nl(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},fC=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Sf=function(e,t){var i=t&&Nl(e)[Uw]!=="matrix(1, 0, 0, 1, 0, 0)"&&Xt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},P4=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},cO=function(e){var t=[],i=e.labels,r=e.duration(),a;for(a in i)t.push(i[a]/r);return t},_Y=function(e){return function(t){return Xt.utils.snap(cO(e),t)}},HT=function(e){var t=Xt.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,a){return r-a});return i?function(r,a,s){s===void 0&&(s=.001);var o;if(!a)return t(r);if(a>0){for(r-=s,o=0;o<i.length;o++)if(i[o]>=r)return i[o];return i[o-1]}else for(o=i.length,r+=s;o--;)if(i[o]<=r)return i[o];return i[0]}:function(r,a,s){s===void 0&&(s=.001);var o=t(r);return!a||Math.abs(o-r)<s||o-r<0==a<0?o:t(a<0?r-e:r+e)}},SY=function(e){return function(t,i){return HT(cO(e))(t,i.direction)}},B3=function(e,t,i,r){return i.split(",").forEach(function(a){return e(t,a,r)})},Da=function(e,t,i,r,a){return e.addEventListener(t,i,{passive:!r,capture:!!a})},Ra=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},I3=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},hC={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},F3={toggleActions:"play",anticipatePin:0},B4={top:0,left:0,center:.5,bottom:1,right:1},o4=function(e,t){if(qo(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in B4?B4[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},V3=function(e,t,i,r,a,s,o,u){var f=a.startColor,d=a.endColor,g=a.fontSize,y=a.indent,x=a.fontWeight,_=Ki.createElement("div"),M=sp(i)||t0(i,"pinType")==="fixed",w=e.indexOf("scroller")!==-1,S=M?Ri:i,E=e.indexOf("start")!==-1,R=E?f:d,N="border-color:"+R+";font-size:"+g+";color:"+R+";font-weight:"+x+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return N+="position:"+((w||u)&&M?"fixed;":"absolute;"),(w||u||!M)&&(N+=(r===pa?IT:FT)+":"+(s+parseFloat(y))+"px;"),o&&(N+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),_._isStart=E,_.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),_.style.cssText=N,_.innerText=t||t===0?e+"-"+t:e,S.children[0]?S.insertBefore(_,S.children[0]):S.appendChild(_),_._offset=_["offset"+r.op.d2],l4(_,0,r,E),_},l4=function(e,t,i,r){var a={display:"block"},s=i[r?"os2":"p2"],o=i[r?"p2":"os2"];e._isFlipped=r,a[i.a+"Percent"]=r?-100:0,a[i.a]=r?"1px":0,a["border"+s+O1]=1,a["border"+o+O1]=0,a[i.p]=t+"px",Xt.set(e,a)},Vn=[],Fw={},uv,dC=function(){return ls()-Il>34&&(uv||(uv=requestAnimationFrame(Ef)))},Rm=function(){(!Vs||!Vs.isPressed||Vs.startX>Ri.clientWidth)&&(Wn.cache++,Vs?uv||(uv=requestAnimationFrame(Ef)):Ef(),Il||lp("scrollStart"),Il=ls())},l6=function(){iO=Xn.innerWidth,nO=Xn.innerHeight},dx=function(e){Wn.cache++,(e===!0||!os&&!tO&&!Ki.fullscreenElement&&!Ki.webkitFullscreenElement&&(!Pw||iO!==Xn.innerWidth||Math.abs(Xn.innerHeight-nO)>Xn.innerHeight*.25))&&O4.restart(!0)},op={},MY=[],fO=function n(){return Ra(bn,"scrollEnd",n)||Gd(!0)},lp=function(e){return op[e]&&op[e].map(function(t){return t()})||MY},jo=[],hO=function(e){for(var t=0;t<jo.length;t+=5)(!e||jo[t+4]&&jo[t+4].query===e)&&(jo[t].style.cssText=jo[t+1],jo[t].getBBox&&jo[t].setAttribute("transform",jo[t+2]||""),jo[t+3].uncache=1)},GT=function(e,t){var i;for(Hs=0;Hs<Vn.length;Hs++)i=Vn[Hs],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));U4=!0,t&&hO(t),t||lp("revert")},dO=function(e,t){Wn.cache++,(t||!Gs)&&Wn.forEach(function(i){return fs(i)&&i.cacheID++&&(i.rec=0)}),qo(e)&&(Xn.history.scrollRestoration=PT=e)},Gs,tp=0,pC,wY=function(){if(pC!==tp){var e=pC=tp;requestAnimationFrame(function(){return e===tp&&Gd(!0)})}},pO=function(){Ri.appendChild(S1),BT=!Vs&&S1.offsetHeight||Xn.innerHeight,Ri.removeChild(S1)},mC=function(e){return lv(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},Gd=function(e,t){if(Wo=Ki.documentElement,Ri=Ki.body,UT=[Xn,Ki,Wo,Ri],Il&&!e&&!U4){Da(bn,"scrollEnd",fO);return}pO(),Gs=bn.isRefreshing=!0,Wn.forEach(function(r){return fs(r)&&++r.cacheID&&(r.rec=r())});var i=lp("refreshInit");eO&&bn.sort(),t||GT(),Wn.forEach(function(r){fs(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Vn.slice(0).forEach(function(r){return r.refresh()}),U4=!1,Vn.forEach(function(r){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",s=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-s),r.refresh()}}),Iw=1,mC(!0),Vn.forEach(function(r){var a=gc(r.scroller,r._dir),s=r.vars.end==="max"||r._endClamp&&r.end>a,o=r._startClamp&&r.start>=a;(s||o)&&r.setPositions(o?a-1:r.start,s?Math.max(o?a:r.start+1,a):r.end,!0)}),mC(!1),Iw=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),Wn.forEach(function(r){fs(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),dO(PT,1),O4.pause(),tp++,Gs=2,Ef(2),Vn.forEach(function(r){return fs(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Gs=bn.isRefreshing=!1,lp("refresh")},Vw=0,u4=1,Lx,Ef=function(e){if(e===2||!Gs&&!U4){bn.isUpdating=!0,Lx&&Lx.update(0);var t=Vn.length,i=ls(),r=i-s6>=50,a=t&&Vn[0].scroll();if(u4=Vw>a?-1:1,Gs||(Vw=a),r&&(Il&&!Z_&&i-Il>200&&(Il=0,lp("scrollEnd")),ux=s6,s6=i),u4<0){for(Hs=t;Hs-- >0;)Vn[Hs]&&Vn[Hs].update(0,r);u4=1}else for(Hs=0;Hs<t;Hs++)Vn[Hs]&&Vn[Hs].update(0,r);bn.isUpdating=!1}uv=0},Hw=[lO,uO,FT,IT,Dl+zx,Dl+Rx,Dl+Nx,Dl+Dx,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],c4=Hw.concat([$d,ep,"boxSizing","max"+O1,"max"+VT,"position",Dl,Jr,Jr+Nx,Jr+Rx,Jr+zx,Jr+Dx]),AY=function(e,t,i){M1(i);var r=e._gsap;if(r.spacerIsNative)M1(r.spacerState);else if(e._gsap.swappedIn){var a=t.parentNode;a&&(a.insertBefore(e,t),a.removeChild(t))}e._gsap.swappedIn=!1},u6=function(e,t,i,r){if(!e._gsap.swappedIn){for(var a=Hw.length,s=t.style,o=e.style,u;a--;)u=Hw[a],s[u]=i[u];s.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(s.display="inline-block"),o[FT]=o[IT]="auto",s.flexBasis=i.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[$d]=P4(e,qs)+ha,s[ep]=P4(e,pa)+ha,s[Jr]=o[Dl]=o[uO]=o[lO]="0",M1(r),o[$d]=o["max"+O1]=i[$d],o[ep]=o["max"+VT]=i[ep],o[Jr]=i[Jr],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},TY=/([A-Z])/g,M1=function(e){if(e){var t=e.t.style,i=e.length,r=0,a,s;for((e.t._gsap||Xt.core.getCache(e.t)).uncache=1;r<i;r+=2)s=e[r+1],a=e[r],s?t[a]=s:t[a]&&t.removeProperty(a.replace(TY,"-$1").toLowerCase())}},H3=function(e){for(var t=c4.length,i=e.style,r=[],a=0;a<t;a++)r.push(c4[a],i[c4[a]]);return r.t=e,r},EY=function(e,t,i){for(var r=[],a=e.length,s=i?8:0,o;s<a;s+=2)o=e[s],r.push(o,o in t?t[o]:e[s+1]);return r.t=e.t,r},f4={left:0,top:0},gC=function(e,t,i,r,a,s,o,u,f,d,g,y,x,_){fs(e)&&(e=e(u)),qo(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?o4("0"+e.substr(3),i):0));var M=x?x.time():0,w,S,E;if(x&&x.seek(0),isNaN(e)||(e=+e),hx(e))x&&(e=Xt.utils.mapRange(x.scrollTrigger.start,x.scrollTrigger.end,0,y,e)),o&&l4(o,i,r,!0);else{fs(t)&&(t=t(u));var R=(e||"0").split(" "),N,O,z,B;E=ho(t,u)||Ri,N=Sf(E)||{},(!N||!N.left&&!N.top)&&Nl(E).display==="none"&&(B=E.style.display,E.style.display="block",N=Sf(E),B?E.style.display=B:E.style.removeProperty("display")),O=o4(R[0],N[r.d]),z=o4(R[1]||"0",i),e=N[r.p]-f[r.p]-d+O+a-z,o&&l4(o,z,r,i-z<20||o._isStart&&z>20),i-=i-z}if(_&&(u[_]=e||-.001,e<0&&(e=0)),s){var G=e+i,U=s._isStart;w="scroll"+r.d2,l4(s,G,r,U&&G>20||!U&&(g?Math.max(Ri[w],Wo[w]):s.parentNode[w])<=G+1),g&&(f=Sf(o),g&&(s.style[r.op.p]=f[r.op.p]-r.op.m-s._offset+ha))}return x&&E&&(w=Sf(E),x.seek(y),S=Sf(E),x._caScrollDist=w[r.p]-S[r.p],e=e/x._caScrollDist*y),x&&x.seek(M),x?e:Math.round(e)},CY=/(webkit|moz|length|cssText|inset)/i,yC=function(e,t,i,r){if(e.parentNode!==t){var a=e.style,s,o;if(t===Ri){e._stOrig=a.cssText,o=Nl(e);for(s in o)!+s&&!CY.test(s)&&o[s]&&typeof a[s]=="string"&&s!=="0"&&(a[s]=o[s]);a.top=i,a.left=r}else a.cssText=e._stOrig;Xt.core.getCache(e).uncache=1,t.appendChild(e)}},mO=function(e,t,i){var r=t,a=r;return function(s){var o=Math.round(e());return o!==r&&o!==a&&Math.abs(o-r)>3&&Math.abs(o-a)>3&&(s=o,i&&i()),a=r,r=Math.round(s),r}},G3=function(e,t,i){var r={};r[t.p]="+="+i,Xt.set(e,r)},xC=function(e,t){var i=o0(e,t),r="_scroll"+t.p2,a=function s(o,u,f,d,g){var y=s.tween,x=u.onComplete,_={};f=f||i();var M=mO(i,f,function(){y.kill(),s.tween=0});return g=d&&g||0,d=d||o-f,y&&y.kill(),u[r]=o,u.inherit=!1,u.modifiers=_,_[r]=function(){return M(f+d*y.ratio+g*y.ratio*y.ratio)},u.onUpdate=function(){Wn.cache++,s.tween&&Ef()},u.onComplete=function(){s.tween=0,x&&x.call(y)},y=s.tween=Xt.to(e,u),y};return e[r]=i,i.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},Da(e,"wheel",i.wheelHandler),bn.isTouch&&Da(e,"touchmove",i.wheelHandler),a},bn=(function(){function n(t,i){i1||n.register(Xt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Bw(this),this.init(t,i)}var e=n.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!cx){this.update=this.refresh=this.kill=fc;return}i=fC(qo(i)||hx(i)||i.nodeType?{trigger:i}:i,F3);var a=i,s=a.onUpdate,o=a.toggleClass,u=a.id,f=a.onToggle,d=a.onRefresh,g=a.scrub,y=a.trigger,x=a.pin,_=a.pinSpacing,M=a.invalidateOnRefresh,w=a.anticipatePin,S=a.onScrubComplete,E=a.onSnapComplete,R=a.once,N=a.snap,O=a.pinReparent,z=a.pinSpacer,B=a.containerAnimation,G=a.fastScrollEnd,U=a.preventOverlaps,L=i.horizontal||i.containerAnimation&&i.horizontal!==!1?qs:pa,j=!g&&g!==0,Z=ho(i.scroller||Xn),oe=Xt.core.getCache(Z),le=sp(Z),ae=("pinType"in i?i.pinType:t0(Z,"pinType")||le&&"fixed")==="fixed",W=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],te=j&&i.toggleActions.split(" "),re="markers"in i?i.markers:F3.markers,ve=le?0:parseFloat(Nl(Z)["border"+L.p2+O1])||0,F=this,J=i.onRefreshInit&&function(){return i.onRefreshInit(F)},ye=xY(Z,le,L),K=vY(Z,le),Le=0,Ye=0,_e=0,Ne=o0(Z,L),Xe,at,_t,Pt,rn,dt,Fe,ne,Ge,de,it,Ze,xt,tt,Mt,ie,X,Ae,ce,xe,Me,nt,Qe,Rt,ft,He,Ke,Nt,bt,mt,Bt,fe,vt,ot,lt,$e,qe,Dt,Zt;if(F._startClamp=F._endClamp=!1,F._dir=L,w*=45,F.scroller=Z,F.scroll=B?B.time.bind(B):Ne,Pt=Ne(),F.vars=i,r=r||i.animation,"refreshPriority"in i&&(eO=1,i.refreshPriority===-9999&&(Lx=F)),oe.tweenScroll=oe.tweenScroll||{top:xC(Z,pa),left:xC(Z,qs)},F.tweenTo=Xe=oe.tweenScroll[L.p],F.scrubDuration=function(At){vt=hx(At)&&At,vt?fe?fe.duration(At):fe=Xt.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:vt,paused:!0,onComplete:function(){return S&&S(F)}}):(fe&&fe.progress(1).kill(),fe=0)},r&&(r.vars.lazy=!1,r._initted&&!F.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),F.animation=r.pause(),r.scrollTrigger=F,F.scrubDuration(g),mt=0,u||(u=r.vars.id)),N&&((!Pd(N)||N.push)&&(N={snapTo:N}),"scrollBehavior"in Ri.style&&Xt.set(le?[Ri,Wo]:Z,{scrollBehavior:"auto"}),Wn.forEach(function(At){return fs(At)&&At.target===(le?Ki.scrollingElement||Wo:Z)&&(At.smooth=!1)}),_t=fs(N.snapTo)?N.snapTo:N.snapTo==="labels"?_Y(r):N.snapTo==="labelsDirectional"?SY(r):N.directional!==!1?function(At,on){return HT(N.snapTo)(At,ls()-Ye<500?0:on.direction)}:Xt.utils.snap(N.snapTo),ot=N.duration||{min:.1,max:2},ot=Pd(ot)?Cx(ot.min,ot.max):Cx(ot,ot),lt=Xt.delayedCall(N.delay||vt/2||.1,function(){var At=Ne(),on=ls()-Ye<500,Yt=Xe.tween;if((on||Math.abs(F.getVelocity())<10)&&!Yt&&!Z_&&Le!==At){var Wt=(At-dt)/tt,Di=r&&!j?r.totalProgress():Wt,hn=on?0:(Di-Bt)/(ls()-ux)*1e3||0,Zn=Xt.utils.clamp(-Wt,1-Wt,Cm(hn/2)*hn/.185),ri=Wt+(N.inertia===!1?0:Zn),jt,yn,zn=N,Lr=zn.onStart,Ai=zn.onInterrupt,ia=zn.onComplete;if(jt=_t(ri,F),hx(jt)||(jt=ri),yn=Math.max(0,Math.round(dt+jt*tt)),At<=Fe&&At>=dt&&yn!==At){if(Yt&&!Yt._initted&&Yt.data<=Cm(yn-At))return;N.inertia===!1&&(Zn=jt-Wt),Xe(yn,{duration:ot(Cm(Math.max(Cm(ri-Di),Cm(jt-Di))*.185/hn/.05||0)),ease:N.ease||"power3",data:Cm(yn-At),onInterrupt:function(){return lt.restart(!0)&&Ai&&Ai(F)},onComplete:function(){F.update(),Le=Ne(),r&&!j&&(fe?fe.resetTo("totalProgress",jt,r._tTime/r._tDur):r.progress(jt)),mt=Bt=r&&!j?r.totalProgress():F.progress,E&&E(F),ia&&ia(F)}},At,Zn*tt,yn-At-Zn*tt),Lr&&Lr(F,Xe.tween)}}else F.isActive&&Le!==At&&lt.restart(!0)}).pause()),u&&(Fw[u]=F),y=F.trigger=ho(y||x!==!0&&x),Zt=y&&y._gsap&&y._gsap.stRevert,Zt&&(Zt=Zt(F)),x=x===!0?y:ho(x),qo(o)&&(o={targets:y,className:o}),x&&(_===!1||_===Dl||(_=!_&&x.parentNode&&x.parentNode.style&&Nl(x.parentNode).display==="flex"?!1:Jr),F.pin=x,at=Xt.core.getCache(x),at.spacer?Mt=at.pinState:(z&&(z=ho(z),z&&!z.nodeType&&(z=z.current||z.nativeElement),at.spacerIsNative=!!z,z&&(at.spacerState=H3(z))),at.spacer=Ae=z||Ki.createElement("div"),Ae.classList.add("pin-spacer"),u&&Ae.classList.add("pin-spacer-"+u),at.pinState=Mt=H3(x)),i.force3D!==!1&&Xt.set(x,{force3D:!0}),F.spacer=Ae=at.spacer,bt=Nl(x),Rt=bt[_+L.os2],xe=Xt.getProperty(x),Me=Xt.quickSetter(x,L.a,ha),u6(x,Ae,bt),X=H3(x)),re){Ze=Pd(re)?fC(re,hC):hC,de=V3("scroller-start",u,Z,L,Ze,0),it=V3("scroller-end",u,Z,L,Ze,0,de),ce=de["offset"+L.op.d2];var Bn=ho(t0(Z,"content")||Z);ne=this.markerStart=V3("start",u,Bn,L,Ze,ce,0,B),Ge=this.markerEnd=V3("end",u,Bn,L,Ze,ce,0,B),B&&(Dt=Xt.quickSetter([ne,Ge],L.a,ha)),!ae&&!(Mc.length&&t0(Z,"fixedMarkers")===!0)&&(bY(le?Ri:Z),Xt.set([de,it],{force3D:!0}),He=Xt.quickSetter(de,L.a,ha),Nt=Xt.quickSetter(it,L.a,ha))}if(B){var Et=B.vars.onUpdate,Ft=B.vars.onUpdateParams;B.eventCallback("onUpdate",function(){F.update(0,0,1),Et&&Et.apply(B,Ft||[])})}if(F.previous=function(){return Vn[Vn.indexOf(F)-1]},F.next=function(){return Vn[Vn.indexOf(F)+1]},F.revert=function(At,on){if(!on)return F.kill(!0);var Yt=At!==!1||!F.enabled,Wt=os;Yt!==F.isReverted&&(Yt&&($e=Math.max(Ne(),F.scroll.rec||0),_e=F.progress,qe=r&&r.progress()),ne&&[ne,Ge,de,it].forEach(function(Di){return Di.style.display=Yt?"none":"block"}),Yt&&(os=F,F.update(Yt)),x&&(!O||!F.isActive)&&(Yt?AY(x,Ae,Mt):u6(x,Ae,Nl(x),ft)),Yt||F.update(Yt),os=Wt,F.isReverted=Yt)},F.refresh=function(At,on,Yt,Wt){if(!((os||!F.enabled)&&!on)){if(x&&At&&Il){Da(n,"scrollEnd",fO);return}!Gs&&J&&J(F),os=F,Xe.tween&&!Yt&&(Xe.tween.kill(),Xe.tween=0),fe&&fe.pause(),M&&r&&(r.revert({kill:!1}).invalidate(),r.getChildren&&r.getChildren(!0,!0,!1).forEach(function(Gt){return Gt.vars.immediateRender&&Gt.render(0,!0,!0)})),F.isReverted||F.revert(!0,!0),F._subPinOffset=!1;var Di=ye(),hn=K(),Zn=B?B.duration():gc(Z,L),ri=tt<=.01||!tt,jt=0,yn=Wt||0,zn=Pd(Yt)?Yt.end:i.end,Lr=i.endTrigger||y,Ai=Pd(Yt)?Yt.start:i.start||(i.start===0||!y?0:x?"0 0":"0 100%"),ia=F.pinnedContainer=i.pinnedContainer&&ho(i.pinnedContainer,F),ra=y&&Math.max(0,Vn.indexOf(F))||0,Ni=ra,Vi,In,Y,Te,ze,Ee,we,ht,St,Ct,Tt,Kt,en;for(re&&Pd(Yt)&&(Kt=Xt.getProperty(de,L.p),en=Xt.getProperty(it,L.p));Ni-- >0;)Ee=Vn[Ni],Ee.end||Ee.refresh(0,1)||(os=F),we=Ee.pin,we&&(we===y||we===x||we===ia)&&!Ee.isReverted&&(Ct||(Ct=[]),Ct.unshift(Ee),Ee.revert(!0,!0)),Ee!==Vn[Ni]&&(ra--,Ni--);for(fs(Ai)&&(Ai=Ai(F)),Ai=oC(Ai,"start",F),dt=gC(Ai,y,Di,L,Ne(),ne,de,F,hn,ve,ae,Zn,B,F._startClamp&&"_startClamp")||(x?-.001:0),fs(zn)&&(zn=zn(F)),qo(zn)&&!zn.indexOf("+=")&&(~zn.indexOf(" ")?zn=(qo(Ai)?Ai.split(" ")[0]:"")+zn:(jt=o4(zn.substr(2),Di),zn=qo(Ai)?Ai:(B?Xt.utils.mapRange(0,B.duration(),B.scrollTrigger.start,B.scrollTrigger.end,dt):dt)+jt,Lr=y)),zn=oC(zn,"end",F),Fe=Math.max(dt,gC(zn||(Lr?"100% 0":Zn),Lr,Di,L,Ne()+jt,Ge,it,F,hn,ve,ae,Zn,B,F._endClamp&&"_endClamp"))||-.001,jt=0,Ni=ra;Ni--;)Ee=Vn[Ni],we=Ee.pin,we&&Ee.start-Ee._pinPush<=dt&&!B&&Ee.end>0&&(Vi=Ee.end-(F._startClamp?Math.max(0,Ee.start):Ee.start),(we===y&&Ee.start-Ee._pinPush<dt||we===ia)&&isNaN(Ai)&&(jt+=Vi*(1-Ee.progress)),we===x&&(yn+=Vi));if(dt+=jt,Fe+=jt,F._startClamp&&(F._startClamp+=jt),F._endClamp&&!Gs&&(F._endClamp=Fe||-.001,Fe=Math.min(Fe,gc(Z,L))),tt=Fe-dt||(dt-=.01)&&.001,ri&&(_e=Xt.utils.clamp(0,1,Xt.utils.normalize(dt,Fe,$e))),F._pinPush=yn,ne&&jt&&(Vi={},Vi[L.a]="+="+jt,ia&&(Vi[L.p]="-="+Ne()),Xt.set([ne,Ge],Vi)),x&&!(Iw&&F.end>=gc(Z,L)))Vi=Nl(x),Te=L===pa,Y=Ne(),nt=parseFloat(xe(L.a))+yn,!Zn&&Fe>1&&(Tt=(le?Ki.scrollingElement||Wo:Z).style,Tt={style:Tt,value:Tt["overflow"+L.a.toUpperCase()]},le&&Nl(Ri)["overflow"+L.a.toUpperCase()]!=="scroll"&&(Tt.style["overflow"+L.a.toUpperCase()]="scroll")),u6(x,Ae,Vi),X=H3(x),In=Sf(x,!0),ht=ae&&o0(Z,Te?qs:pa)(),_?(ft=[_+L.os2,tt+yn+ha],ft.t=Ae,Ni=_===Jr?P4(x,L)+tt+yn:0,Ni&&(ft.push(L.d,Ni+ha),Ae.style.flexBasis!=="auto"&&(Ae.style.flexBasis=Ni+ha)),M1(ft),ia&&Vn.forEach(function(Gt){Gt.pin===ia&&Gt.vars.pinSpacing!==!1&&(Gt._subPinOffset=!0)}),ae&&Ne($e)):(Ni=P4(x,L),Ni&&Ae.style.flexBasis!=="auto"&&(Ae.style.flexBasis=Ni+ha)),ae&&(ze={top:In.top+(Te?Y-dt:ht)+ha,left:In.left+(Te?ht:Y-dt)+ha,boxSizing:"border-box",position:"fixed"},ze[$d]=ze["max"+O1]=Math.ceil(In.width)+ha,ze[ep]=ze["max"+VT]=Math.ceil(In.height)+ha,ze[Dl]=ze[Dl+Nx]=ze[Dl+Rx]=ze[Dl+zx]=ze[Dl+Dx]="0",ze[Jr]=Vi[Jr],ze[Jr+Nx]=Vi[Jr+Nx],ze[Jr+Rx]=Vi[Jr+Rx],ze[Jr+zx]=Vi[Jr+zx],ze[Jr+Dx]=Vi[Jr+Dx],ie=EY(Mt,ze,O),Gs&&Ne(0)),r?(St=r._initted,r6(1),r.render(r.duration(),!0,!0),Qe=xe(L.a)-nt+tt+yn,Ke=Math.abs(tt-Qe)>1,ae&&Ke&&ie.splice(ie.length-2,2),r.render(0,!0,!0),St||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),r6(0)):Qe=tt,Tt&&(Tt.value?Tt.style["overflow"+L.a.toUpperCase()]=Tt.value:Tt.style.removeProperty("overflow-"+L.a));else if(y&&Ne()&&!B)for(In=y.parentNode;In&&In!==Ri;)In._pinOffset&&(dt-=In._pinOffset,Fe-=In._pinOffset),In=In.parentNode;Ct&&Ct.forEach(function(Gt){return Gt.revert(!1,!0)}),F.start=dt,F.end=Fe,Pt=rn=Gs?$e:Ne(),!B&&!Gs&&(Pt<$e&&Ne($e),F.scroll.rec=0),F.revert(!1,!0),Ye=ls(),lt&&(Le=-1,lt.restart(!0)),os=0,r&&j&&(r._initted||qe)&&r.progress()!==qe&&r.progress(qe||0,!0).render(r.time(),!0,!0),(ri||_e!==F.progress||B||M||r&&!r._initted)&&(r&&!j&&(r._initted||_e||r.vars.immediateRender!==!1)&&r.totalProgress(B&&dt<-.001&&!_e?Xt.utils.normalize(dt,Fe,0):_e,!0),F.progress=ri||(Pt-dt)/tt===_e?0:_e),x&&_&&(Ae._pinOffset=Math.round(F.progress*Qe)),fe&&fe.invalidate(),isNaN(Kt)||(Kt-=Xt.getProperty(de,L.p),en-=Xt.getProperty(it,L.p),G3(de,L,Kt),G3(ne,L,Kt-(Wt||0)),G3(it,L,en),G3(Ge,L,en-(Wt||0))),ri&&!Gs&&F.update(),d&&!Gs&&!xt&&(xt=!0,d(F),xt=!1)}},F.getVelocity=function(){return(Ne()-rn)/(ls()-ux)*1e3||0},F.endAnimation=function(){Hy(F.callbackAnimation),r&&(fe?fe.progress(1):r.paused()?j||Hy(r,F.direction<0,1):Hy(r,r.reversed()))},F.labelToScroll=function(At){return r&&r.labels&&(dt||F.refresh()||dt)+r.labels[At]/r.duration()*tt||0},F.getTrailing=function(At){var on=Vn.indexOf(F),Yt=F.direction>0?Vn.slice(0,on).reverse():Vn.slice(on+1);return(qo(At)?Yt.filter(function(Wt){return Wt.vars.preventOverlaps===At}):Yt).filter(function(Wt){return F.direction>0?Wt.end<=dt:Wt.start>=Fe})},F.update=function(At,on,Yt){if(!(B&&!Yt&&!At)){var Wt=Gs===!0?$e:F.scroll(),Di=At?0:(Wt-dt)/tt,hn=Di<0?0:Di>1?1:Di||0,Zn=F.progress,ri,jt,yn,zn,Lr,Ai,ia,ra;if(on&&(rn=Pt,Pt=B?Ne():Wt,N&&(Bt=mt,mt=r&&!j?r.totalProgress():hn)),w&&x&&!os&&!U3&&Il&&(!hn&&dt<Wt+(Wt-rn)/(ls()-ux)*w?hn=1e-4:hn===1&&Fe>Wt+(Wt-rn)/(ls()-ux)*w&&(hn=.9999)),hn!==Zn&&F.enabled){if(ri=F.isActive=!!hn&&hn<1,jt=!!Zn&&Zn<1,Ai=ri!==jt,Lr=Ai||!!hn!=!!Zn,F.direction=hn>Zn?1:-1,F.progress=hn,Lr&&!os&&(yn=hn&&!Zn?0:hn===1?1:Zn===1?2:3,j&&(zn=!Ai&&te[yn+1]!=="none"&&te[yn+1]||te[yn],ra=r&&(zn==="complete"||zn==="reset"||zn in r))),U&&(Ai||ra)&&(ra||g||!r)&&(fs(U)?U(F):F.getTrailing(U).forEach(function(Y){return Y.endAnimation()})),j||(fe&&!os&&!U3?(fe._dp._time-fe._start!==fe._time&&fe.render(fe._dp._time-fe._start),fe.resetTo?fe.resetTo("totalProgress",hn,r._tTime/r._tDur):(fe.vars.totalProgress=hn,fe.invalidate().restart())):r&&r.totalProgress(hn,!!(os&&(Ye||At)))),x){if(At&&_&&(Ae.style[_+L.os2]=Rt),!ae)Me(fx(nt+Qe*hn));else if(Lr){if(ia=!At&&hn>Zn&&Fe+1>Wt&&Wt+1>=gc(Z,L),O)if(!At&&(ri||ia)){var Ni=Sf(x,!0),Vi=Wt-dt;yC(x,Ri,Ni.top+(L===pa?Vi:0)+ha,Ni.left+(L===pa?0:Vi)+ha)}else yC(x,Ae);M1(ri||ia?ie:X),Ke&&hn<1&&ri||Me(nt+(hn===1&&!ia?Qe:0))}}N&&!Xe.tween&&!os&&!U3&&lt.restart(!0),o&&(Ai||R&&hn&&(hn<1||!a6))&&lv(o.targets).forEach(function(Y){return Y.classList[ri||R?"add":"remove"](o.className)}),s&&!j&&!At&&s(F),Lr&&!os?(j&&(ra&&(zn==="complete"?r.pause().totalProgress(1):zn==="reset"?r.restart(!0).pause():zn==="restart"?r.restart(!0):r[zn]()),s&&s(F)),(Ai||!a6)&&(f&&Ai&&o6(F,f),W[yn]&&o6(F,W[yn]),R&&(hn===1?F.kill(!1,1):W[yn]=0),Ai||(yn=hn===1?1:3,W[yn]&&o6(F,W[yn]))),G&&!ri&&Math.abs(F.getVelocity())>(hx(G)?G:2500)&&(Hy(F.callbackAnimation),fe?fe.progress(1):Hy(r,zn==="reverse"?1:!hn,1))):j&&s&&!os&&s(F)}if(Nt){var In=B?Wt/B.duration()*(B._caScrollDist||0):Wt;He(In+(de._isFlipped?1:0)),Nt(In)}Dt&&Dt(-Wt/B.duration()*(B._caScrollDist||0))}},F.enable=function(At,on){F.enabled||(F.enabled=!0,Da(Z,"resize",dx),le||Da(Z,"scroll",Rm),J&&Da(n,"refreshInit",J),At!==!1&&(F.progress=_e=0,Pt=rn=Le=Ne()),on!==!1&&F.refresh())},F.getTween=function(At){return At&&Xe?Xe.tween:fe},F.setPositions=function(At,on,Yt,Wt){if(B){var Di=B.scrollTrigger,hn=B.duration(),Zn=Di.end-Di.start;At=Di.start+Zn*At/hn,on=Di.start+Zn*on/hn}F.refresh(!1,!1,{start:lC(At,Yt&&!!F._startClamp),end:lC(on,Yt&&!!F._endClamp)},Wt),F.update()},F.adjustPinSpacing=function(At){if(ft&&At){var on=ft.indexOf(L.d)+1;ft[on]=parseFloat(ft[on])+At+ha,ft[1]=parseFloat(ft[1])+At+ha,M1(ft)}},F.disable=function(At,on){if(F.enabled&&(At!==!1&&F.revert(!0,!0),F.enabled=F.isActive=!1,on||fe&&fe.pause(),$e=0,at&&(at.uncache=1),J&&Ra(n,"refreshInit",J),lt&&(lt.pause(),Xe.tween&&Xe.tween.kill()&&(Xe.tween=0)),!le)){for(var Yt=Vn.length;Yt--;)if(Vn[Yt].scroller===Z&&Vn[Yt]!==F)return;Ra(Z,"resize",dx),le||Ra(Z,"scroll",Rm)}},F.kill=function(At,on){F.disable(At,on),fe&&!on&&fe.kill(),u&&delete Fw[u];var Yt=Vn.indexOf(F);Yt>=0&&Vn.splice(Yt,1),Yt===Hs&&u4>0&&Hs--,Yt=0,Vn.forEach(function(Wt){return Wt.scroller===F.scroller&&(Yt=1)}),Yt||Gs||(F.scroll.rec=0),r&&(r.scrollTrigger=null,At&&r.revert({kill:!1}),on||r.kill()),ne&&[ne,Ge,de,it].forEach(function(Wt){return Wt.parentNode&&Wt.parentNode.removeChild(Wt)}),Lx===F&&(Lx=0),x&&(at&&(at.uncache=1),Yt=0,Vn.forEach(function(Wt){return Wt.pin===x&&Yt++}),Yt||(at.spacer=0)),i.onKill&&i.onKill(F)},Vn.push(F),F.enable(!1,!1),Zt&&Zt(F),r&&r.add&&!tt){var gn=F.update;F.update=function(){F.update=gn,Wn.cache++,dt||Fe||F.refresh()},Xt.delayedCall(.01,F.update),tt=.01,dt=Fe=0}else F.refresh();x&&wY()},n.register=function(i){return i1||(Xt=i||aO(),rO()&&window.document&&n.enable(),i1=cx),i1},n.defaults=function(i){if(i)for(var r in i)F3[r]=i[r];return F3},n.disable=function(i,r){cx=0,Vn.forEach(function(s){return s[r?"kill":"disable"](i)}),Ra(Xn,"wheel",Rm),Ra(Ki,"scroll",Rm),clearInterval(O3),Ra(Ki,"touchcancel",fc),Ra(Ri,"touchstart",fc),B3(Ra,Ki,"pointerdown,touchstart,mousedown",uC),B3(Ra,Ki,"pointerup,touchend,mouseup",cC),O4.kill(),P3(Ra);for(var a=0;a<Wn.length;a+=3)I3(Ra,Wn[a],Wn[a+1]),I3(Ra,Wn[a],Wn[a+2])},n.enable=function(){if(Xn=window,Ki=document,Wo=Ki.documentElement,Ri=Ki.body,Xt&&(lv=Xt.utils.toArray,Cx=Xt.utils.clamp,Bw=Xt.core.context||fc,r6=Xt.core.suppressOverwrites||fc,PT=Xn.history.scrollRestoration||"auto",Vw=Xn.pageYOffset||0,Xt.core.globals("ScrollTrigger",n),Ri)){cx=1,S1=document.createElement("div"),S1.style.height="100vh",S1.style.position="absolute",pO(),yY(),Hr.register(Xt),n.isTouch=Hr.isTouch,Vh=Hr.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),Pw=Hr.isTouch===1,Da(Xn,"wheel",Rm),UT=[Xn,Ki,Wo,Ri],Xt.matchMedia?(n.matchMedia=function(f){var d=Xt.matchMedia(),g;for(g in f)d.add(g,f[g]);return d},Xt.addEventListener("matchMediaInit",function(){return GT()}),Xt.addEventListener("matchMediaRevert",function(){return hO()}),Xt.addEventListener("matchMedia",function(){Gd(0,1),lp("matchMedia")}),Xt.matchMedia().add("(orientation: portrait)",function(){return l6(),l6})):console.warn("Requires GSAP 3.11.0 or later"),l6(),Da(Ki,"scroll",Rm);var i=Ri.hasAttribute("style"),r=Ri.style,a=r.borderTopStyle,s=Xt.core.Animation.prototype,o,u;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",o=Sf(Ri),pa.m=Math.round(o.top+pa.sc())||0,qs.m=Math.round(o.left+qs.sc())||0,a?r.borderTopStyle=a:r.removeProperty("border-top-style"),i||(Ri.setAttribute("style",""),Ri.removeAttribute("style")),O3=setInterval(dC,250),Xt.delayedCall(.5,function(){return U3=0}),Da(Ki,"touchcancel",fc),Da(Ri,"touchstart",fc),B3(Da,Ki,"pointerdown,touchstart,mousedown",uC),B3(Da,Ki,"pointerup,touchend,mouseup",cC),Uw=Xt.utils.checkPrefix("transform"),c4.push(Uw),i1=ls(),O4=Xt.delayedCall(.2,Gd).pause(),r1=[Ki,"visibilitychange",function(){var f=Xn.innerWidth,d=Xn.innerHeight;Ki.hidden?(aC=f,sC=d):(aC!==f||sC!==d)&&dx()},Ki,"DOMContentLoaded",Gd,Xn,"load",Gd,Xn,"resize",dx],P3(Da),Vn.forEach(function(f){return f.enable(0,1)}),u=0;u<Wn.length;u+=3)I3(Ra,Wn[u],Wn[u+1]),I3(Ra,Wn[u],Wn[u+2])}},n.config=function(i){"limitCallbacks"in i&&(a6=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(O3)||(O3=r)&&setInterval(dC,r),"ignoreMobileResize"in i&&(Pw=n.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(P3(Ra)||P3(Da,i.autoRefreshEvents||"none"),tO=(i.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(i,r){var a=ho(i),s=Wn.indexOf(a),o=sp(a);~s&&Wn.splice(s,o?6:2),r&&(o?Mc.unshift(Xn,r,Ri,r,Wo,r):Mc.unshift(a,r))},n.clearMatchMedia=function(i){Vn.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,a){var s=(qo(i)?ho(i):i).getBoundingClientRect(),o=s[a?$d:ep]*r||0;return a?s.right-o>0&&s.left+o<Xn.innerWidth:s.bottom-o>0&&s.top+o<Xn.innerHeight},n.positionInViewport=function(i,r,a){qo(i)&&(i=ho(i));var s=i.getBoundingClientRect(),o=s[a?$d:ep],u=r==null?o/2:r in B4?B4[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return a?(s.left+u)/Xn.innerWidth:(s.top+u)/Xn.innerHeight},n.killAll=function(i){if(Vn.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),i!==!0){var r=op.killAll||[];op={},r.forEach(function(a){return a()})}},n})();bn.version="3.13.0";bn.saveStyles=function(n){return n?lv(n).forEach(function(e){if(e&&e.style){var t=jo.indexOf(e);t>=0&&jo.splice(t,5),jo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Xt.core.getCache(e),Bw())}}):jo};bn.revert=function(n,e){return GT(!n,e)};bn.create=function(n,e){return new bn(n,e)};bn.refresh=function(n){return n?dx(!0):(i1||bn.register())&&Gd(!0)};bn.update=function(n){return++Wn.cache&&Ef(n===!0?2:0)};bn.clearScrollMemory=dO;bn.maxScroll=function(n,e){return gc(n,e?qs:pa)};bn.getScrollFunc=function(n,e){return o0(ho(n),e?qs:pa)};bn.getById=function(n){return Fw[n]};bn.getAll=function(){return Vn.filter(function(n){return n.vars.id!=="ScrollSmoother"})};bn.isScrolling=function(){return!!Il};bn.snapDirectional=HT;bn.addEventListener=function(n,e){var t=op[n]||(op[n]=[]);~t.indexOf(e)||t.push(e)};bn.removeEventListener=function(n,e){var t=op[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};bn.batch=function(n,e){var t=[],i={},r=e.interval||.016,a=e.batchMax||1e9,s=function(f,d){var g=[],y=[],x=Xt.delayedCall(r,function(){d(g,y),g=[],y=[]}).pause();return function(_){g.length||x.restart(!0),g.push(_.trigger),y.push(_),a<=g.length&&x.progress(1)}},o;for(o in e)i[o]=o.substr(0,2)==="on"&&fs(e[o])&&o!=="onRefreshInit"?s(o,e[o]):e[o];return fs(a)&&(a=a(),Da(bn,"refresh",function(){return a=e.batchMax()})),lv(n).forEach(function(u){var f={};for(o in i)f[o]=i[o];f.trigger=u,t.push(bn.create(f))}),t};var vC=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},c6=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(Hr.isTouch?" pinch-zoom":""):"none",e===Wo&&n(Ri,t)},j3={auto:1,scroll:1},RY=function(e){var t=e.event,i=e.target,r=e.axis,a=(t.changedTouches?t.changedTouches[0]:t).target,s=a._gsap||Xt.core.getCache(a),o=ls(),u;if(!s._isScrollT||o-s._isScrollT>2e3){for(;a&&a!==Ri&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(j3[(u=Nl(a)).overflowY]||j3[u.overflowX]));)a=a.parentNode;s._isScroll=a&&a!==i&&!sp(a)&&(j3[(u=Nl(a)).overflowY]||j3[u.overflowX]),s._isScrollT=o}(s._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},gO=function(e,t,i,r){return Hr.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&RY,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&Da(Ki,Hr.eventTypes[0],_C,!1,!0)},onDisable:function(){return Ra(Ki,Hr.eventTypes[0],_C,!0)}})},DY=/(input|label|select|textarea)/i,bC,_C=function(e){var t=DY.test(e.target.tagName);(t||bC)&&(e._gsapAllow=!0,bC=t)},NY=function(e){Pd(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,r=t.momentum,a=t.allowNestedScroll,s=t.onRelease,o,u,f=ho(e.target)||Wo,d=Xt.core.globals().ScrollSmoother,g=d&&d.get(),y=Vh&&(e.content&&ho(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),x=o0(f,pa),_=o0(f,qs),M=1,w=(Hr.isTouch&&Xn.visualViewport?Xn.visualViewport.scale*Xn.visualViewport.width:Xn.outerWidth)/Xn.innerWidth,S=0,E=fs(r)?function(){return r(o)}:function(){return r||2.8},R,N,O=gO(f,e.type,!0,a),z=function(){return N=!1},B=fc,G=fc,U=function(){u=gc(f,pa),G=Cx(Vh?1:0,u),i&&(B=Cx(0,gc(f,qs))),R=tp},L=function(){y._gsap.y=fx(parseFloat(y._gsap.y)+x.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},j=function(){if(N){requestAnimationFrame(z);var re=fx(o.deltaY/2),ve=G(x.v-re);if(y&&ve!==x.v+x.offset){x.offset=ve-x.v;var F=fx((parseFloat(y&&y._gsap.y)||0)-x.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+F+", 0, 1)",y._gsap.y=F+"px",x.cacheID=Wn.cache,Ef()}return!0}x.offset&&L(),N=!0},Z,oe,le,ae,W=function(){U(),Z.isActive()&&Z.vars.scrollY>u&&(x()>u?Z.progress(1)&&x(u):Z.resetTo("scrollY",u))};return y&&Xt.set(y,{y:"+=0"}),e.ignoreCheck=function(te){return Vh&&te.type==="touchmove"&&j()||M>1.05&&te.type!=="touchstart"||o.isGesturing||te.touches&&te.touches.length>1},e.onPress=function(){N=!1;var te=M;M=fx((Xn.visualViewport&&Xn.visualViewport.scale||1)/w),Z.pause(),te!==M&&c6(f,M>1.01?!0:i?!1:"x"),oe=_(),le=x(),U(),R=tp},e.onRelease=e.onGestureStart=function(te,re){if(x.offset&&L(),!re)ae.restart(!0);else{Wn.cache++;var ve=E(),F,J;i&&(F=_(),J=F+ve*.05*-te.velocityX/.227,ve*=vC(_,F,J,gc(f,qs)),Z.vars.scrollX=B(J)),F=x(),J=F+ve*.05*-te.velocityY/.227,ve*=vC(x,F,J,gc(f,pa)),Z.vars.scrollY=G(J),Z.invalidate().duration(ve).play(.01),(Vh&&Z.vars.scrollY>=u||F>=u-1)&&Xt.to({},{onUpdate:W,duration:ve})}s&&s(te)},e.onWheel=function(){Z._ts&&Z.pause(),ls()-S>1e3&&(R=0,S=ls())},e.onChange=function(te,re,ve,F,J){if(tp!==R&&U(),re&&i&&_(B(F[2]===re?oe+(te.startX-te.x):_()+re-F[1])),ve){x.offset&&L();var ye=J[2]===ve,K=ye?le+te.startY-te.y:x()+ve-J[1],Le=G(K);ye&&K!==Le&&(le+=Le-K),x(Le)}(ve||re)&&Ef()},e.onEnable=function(){c6(f,i?!1:"x"),bn.addEventListener("refresh",W),Da(Xn,"resize",W),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=_.smooth=!1),O.enable()},e.onDisable=function(){c6(f,!0),Ra(Xn,"resize",W),bn.removeEventListener("refresh",W),O.kill()},e.lockAxis=e.lockAxis!==!1,o=new Hr(e),o.iOS=Vh,Vh&&!x()&&x(1),Vh&&Xt.ticker.add(fc),ae=o._dc,Z=Xt.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:mO(x,x(),function(){return Z.pause()})},onUpdate:Ef,onComplete:ae.vars.onComplete}),o};bn.sort=function(n){if(fs(n))return Vn.sort(n);var e=Xn.pageYOffset||0;return bn.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+Xn.innerHeight}),Vn.sort(n||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};bn.observe=function(n){return new Hr(n)};bn.normalizeScroll=function(n){if(typeof n>"u")return Vs;if(n===!0&&Vs)return Vs.enable();if(n===!1){Vs&&Vs.kill(),Vs=n;return}var e=n instanceof Hr?n:NY(n);return Vs&&Vs.target===e.target&&Vs.kill(),sp(e.target)&&(Vs=e),e};bn.core={_getVelocityProp:Ow,_inputObserver:gO,_scrollers:Wn,_proxies:Mc,bridge:{ss:function(){Il||lp("scrollStart"),Il=ls()},ref:function(){return os}}};aO()&&Xt.registerPlugin(bn);var f6={exports:{}},cf={};var SC;function zY(){return SC||(SC=1,cf.ConcurrentRoot=1,cf.ContinuousEventPriority=8,cf.DefaultEventPriority=32,cf.DiscreteEventPriority=2,cf.IdleEventPriority=268435456,cf.LegacyRoot=0,cf.NoEventPriority=0),cf}var MC;function LY(){return MC||(MC=1,f6.exports=zY()),f6.exports}var h4=LY();const K_="181",kY={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},OY={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},yO=0,Gw=1,xO=2,UY=3,vO=0,Q_=1,kx=2,bu=3,Uf=0,Ks=1,pc=2,wc=0,np=1,jw=2,qw=3,Xw=4,bO=5,Gh=100,_O=101,SO=102,MO=103,wO=104,AO=200,TO=201,EO=202,CO=203,I4=204,F4=205,RO=206,DO=207,NO=208,zO=209,LO=210,kO=211,OO=212,UO=213,PO=214,V4=0,H4=1,G4=2,up=3,j4=4,q4=5,X4=6,W4=7,Gv=0,BO=1,IO=2,Ac=0,FO=1,VO=2,HO=3,jT=4,GO=5,jO=6,qO=7,Ww="attached",XO="detached",J_=300,Pf=301,l0=302,cv=303,fv=304,ng=306,hv=1e3,xo=1001,dv=1002,ja=1003,qT=1004,PY=1004,p1=1005,BY=1005,Gr=1006,Ox=1007,IY=1007,yc=1008,FY=1008,Fl=1009,XT=1010,WT=1011,U1=1012,$_=1013,Bf=1014,vo=1015,mp=1016,eS=1017,tS=1018,P1=1020,YT=35902,ZT=35899,KT=1021,QT=1022,ds=1023,B1=1026,I1=1027,nS=1028,jv=1029,iS=1030,rS=1031,VY=1032,aS=1033,Ux=33776,Px=33777,Bx=33778,Ix=33779,Y4=35840,Z4=35841,K4=35842,Q4=35843,J4=36196,$4=37492,e_=37496,t_=37808,n_=37809,i_=37810,r_=37811,a_=37812,s_=37813,o_=37814,l_=37815,u_=37816,c_=37817,f_=37818,h_=37819,d_=37820,p_=37821,m_=36492,g_=36494,y_=36495,x_=36283,v_=36284,b_=36285,__=36286,WO=2200,YO=2201,ZO=2202,pv=2300,S_=2301,d4=2302,jd=2400,qd=2401,mv=2402,sS=2500,JT=2501,HY=0,GY=1,jY=2,KO=3200,QO=3201,qY=3202,XY=3203,y0=0,JO=1,Mf="",us="srgb",u0="srgb-linear",gv="linear",Oi="srgb",WY=0,Bd=7680,YY=7681,ZY=7682,KY=7683,QY=34055,JY=34056,$Y=5386,eZ=512,tZ=513,nZ=514,iZ=515,rZ=516,aZ=517,sZ=518,Yw=519,$O=512,eU=513,tU=514,$T=515,nU=516,iU=517,rU=518,aU=519,yv=35044,oZ=35048,lZ=35040,uZ=35045,cZ=35049,fZ=35041,hZ=35046,dZ=35050,pZ=35042,mZ="100",Zw="300 es",Jo=2e3,F1=2001,gZ={COMPUTE:"compute",RENDER:"render"},yZ={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},xZ={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function sU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const vZ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function m1(n,e){return new vZ[n](e)}function xv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function oU(){const n=xv("canvas");return n.style.display="block",n}const wC={};let c0=null;function bZ(n){c0=n}function _Z(){return c0}function vv(...n){const e="THREE."+n.shift();c0?c0("log",e,...n):console.log(e,...n)}function kt(...n){const e="THREE."+n.shift();c0?c0("warn",e,...n):console.warn(e,...n)}function Mn(...n){const e="THREE."+n.shift();c0?c0("error",e,...n):console.error(e,...n)}function V1(...n){const e=n.join(" ");e in wC||(wC[e]=!0,kt(...n))}function SZ(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}class Rc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,s=r.length;a<s;a++)r[a].call(this,e);e.target=null}}}const rs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let AC=1234567;const ip=Math.PI/180,H1=180/Math.PI;function el(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(rs[n&255]+rs[n>>8&255]+rs[n>>16&255]+rs[n>>24&255]+"-"+rs[e&255]+rs[e>>8&255]+"-"+rs[e>>16&15|64]+rs[e>>24&255]+"-"+rs[t&63|128]+rs[t>>8&255]+"-"+rs[t>>16&255]+rs[t>>24&255]+rs[i&255]+rs[i>>8&255]+rs[i>>16&255]+rs[i>>24&255]).toLowerCase()}function mn(n,e,t){return Math.max(e,Math.min(t,n))}function e7(n,e){return(n%e+e)%e}function MZ(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function wZ(n,e,t){return n!==e?(t-n)/(e-n):0}function Fx(n,e,t){return(1-t)*n+t*e}function AZ(n,e,t,i){return Fx(n,e,1-Math.exp(-t*i))}function TZ(n,e=1){return e-Math.abs(e7(n,e*2)-e)}function EZ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function CZ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function RZ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function DZ(n,e){return n+Math.random()*(e-n)}function NZ(n){return n*(.5-Math.random())}function zZ(n){n!==void 0&&(AC=n);let e=AC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function LZ(n){return n*ip}function kZ(n){return n*H1}function OZ(n){return(n&n-1)===0&&n!==0}function UZ(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function PZ(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function BZ(n,e,t,i,r){const a=Math.cos,s=Math.sin,o=a(t/2),u=s(t/2),f=a((e+i)/2),d=s((e+i)/2),g=a((e-i)/2),y=s((e-i)/2),x=a((i-e)/2),_=s((i-e)/2);switch(r){case"XYX":n.set(o*d,u*g,u*y,o*f);break;case"YZY":n.set(u*y,o*d,u*g,o*f);break;case"ZXZ":n.set(u*g,u*y,o*d,o*f);break;case"XZX":n.set(o*d,u*_,u*x,o*f);break;case"YXY":n.set(u*x,o*d,u*_,o*f);break;case"ZYZ":n.set(u*_,u*x,o*d,o*f);break;default:kt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Xs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Nn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const IZ={DEG2RAD:ip,RAD2DEG:H1,generateUUID:el,clamp:mn,euclideanModulo:e7,mapLinear:MZ,inverseLerp:wZ,lerp:Fx,damp:AZ,pingpong:TZ,smoothstep:EZ,smootherstep:CZ,randInt:RZ,randFloat:DZ,randFloatSpread:NZ,seededRandom:zZ,degToRad:LZ,radToDeg:kZ,isPowerOfTwo:OZ,ceilPowerOfTwo:UZ,floorPowerOfTwo:PZ,setQuaternionFromProperEuler:BZ,normalize:Nn,denormalize:Xs};class rt{constructor(e=0,t=0){rt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*i-s*r+e.x,this.y=a*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wo{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,s,o){let u=i[r+0],f=i[r+1],d=i[r+2],g=i[r+3],y=a[s+0],x=a[s+1],_=a[s+2],M=a[s+3];if(o<=0){e[t+0]=u,e[t+1]=f,e[t+2]=d,e[t+3]=g;return}if(o>=1){e[t+0]=y,e[t+1]=x,e[t+2]=_,e[t+3]=M;return}if(g!==M||u!==y||f!==x||d!==_){let w=u*y+f*x+d*_+g*M;w<0&&(y=-y,x=-x,_=-_,M=-M,w=-w);let S=1-o;if(w<.9995){const E=Math.acos(w),R=Math.sin(E);S=Math.sin(S*E)/R,o=Math.sin(o*E)/R,u=u*S+y*o,f=f*S+x*o,d=d*S+_*o,g=g*S+M*o}else{u=u*S+y*o,f=f*S+x*o,d=d*S+_*o,g=g*S+M*o;const E=1/Math.sqrt(u*u+f*f+d*d+g*g);u*=E,f*=E,d*=E,g*=E}}e[t]=u,e[t+1]=f,e[t+2]=d,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,s){const o=i[r],u=i[r+1],f=i[r+2],d=i[r+3],g=a[s],y=a[s+1],x=a[s+2],_=a[s+3];return e[t]=o*_+d*g+u*x-f*y,e[t+1]=u*_+d*y+f*g-o*x,e[t+2]=f*_+d*x+o*y-u*g,e[t+3]=d*_-o*g-u*y-f*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,s=e._order,o=Math.cos,u=Math.sin,f=o(i/2),d=o(r/2),g=o(a/2),y=u(i/2),x=u(r/2),_=u(a/2);switch(s){case"XYZ":this._x=y*d*g+f*x*_,this._y=f*x*g-y*d*_,this._z=f*d*_+y*x*g,this._w=f*d*g-y*x*_;break;case"YXZ":this._x=y*d*g+f*x*_,this._y=f*x*g-y*d*_,this._z=f*d*_-y*x*g,this._w=f*d*g+y*x*_;break;case"ZXY":this._x=y*d*g-f*x*_,this._y=f*x*g+y*d*_,this._z=f*d*_+y*x*g,this._w=f*d*g-y*x*_;break;case"ZYX":this._x=y*d*g-f*x*_,this._y=f*x*g+y*d*_,this._z=f*d*_-y*x*g,this._w=f*d*g+y*x*_;break;case"YZX":this._x=y*d*g+f*x*_,this._y=f*x*g+y*d*_,this._z=f*d*_-y*x*g,this._w=f*d*g-y*x*_;break;case"XZY":this._x=y*d*g-f*x*_,this._y=f*x*g-y*d*_,this._z=f*d*_+y*x*g,this._w=f*d*g+y*x*_;break;default:kt("Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],s=t[1],o=t[5],u=t[9],f=t[2],d=t[6],g=t[10],y=i+o+g;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(d-u)*x,this._y=(a-f)*x,this._z=(s-r)*x}else if(i>o&&i>g){const x=2*Math.sqrt(1+i-o-g);this._w=(d-u)/x,this._x=.25*x,this._y=(r+s)/x,this._z=(a+f)/x}else if(o>g){const x=2*Math.sqrt(1+o-i-g);this._w=(a-f)/x,this._x=(r+s)/x,this._y=.25*x,this._z=(u+d)/x}else{const x=2*Math.sqrt(1+g-i-o);this._w=(s-r)/x,this._x=(a+f)/x,this._y=(u+d)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,s=e._w,o=t._x,u=t._y,f=t._z,d=t._w;return this._x=i*d+s*o+r*f-a*u,this._y=r*d+s*u+a*o-i*f,this._z=a*d+s*f+i*u-r*o,this._w=s*d-i*o-r*u-a*f,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,r=e._y,a=e._z,s=e._w,o=this.dot(e);o<0&&(i=-i,r=-r,a=-a,s=-s,o=-o);let u=1-t;if(o<.9995){const f=Math.acos(o),d=Math.sin(f);u=Math.sin(u*f)/d,t=Math.sin(t*f)/d,this._x=this._x*u+i*t,this._y=this._y*u+r*t,this._z=this._z*u+a*t,this._w=this._w*u+s*t,this._onChangeCallback()}else this._x=this._x*u+i*t,this._y=this._y*u+r*t,this._z=this._z*u+a*t,this._w=this._w*u+s*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,t=0,i=0){se.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(TC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(TC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,s=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*s,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*s,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,s=e.y,o=e.z,u=e.w,f=2*(s*r-o*i),d=2*(o*t-a*r),g=2*(a*i-s*t);return this.x=t+u*f+s*g-o*d,this.y=i+u*d+o*f-a*g,this.z=r+u*g+a*d-s*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this.z=mn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this.z=mn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,s=t.x,o=t.y,u=t.z;return this.x=r*u-a*o,this.y=a*s-i*u,this.z=i*o-r*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return h6.copy(this).projectOnVector(e),this.sub(h6)}reflect(e){return this.sub(h6.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const h6=new se,TC=new wo;class Dn{constructor(e,t,i,r,a,s,o,u,f){Dn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,o,u,f)}set(e,t,i,r,a,s,o,u,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=o,d[3]=t,d[4]=a,d[5]=u,d[6]=i,d[7]=s,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],o=i[3],u=i[6],f=i[1],d=i[4],g=i[7],y=i[2],x=i[5],_=i[8],M=r[0],w=r[3],S=r[6],E=r[1],R=r[4],N=r[7],O=r[2],z=r[5],B=r[8];return a[0]=s*M+o*E+u*O,a[3]=s*w+o*R+u*z,a[6]=s*S+o*N+u*B,a[1]=f*M+d*E+g*O,a[4]=f*w+d*R+g*z,a[7]=f*S+d*N+g*B,a[2]=y*M+x*E+_*O,a[5]=y*w+x*R+_*z,a[8]=y*S+x*N+_*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],f=e[7],d=e[8];return t*s*d-t*o*f-i*a*d+i*o*u+r*a*f-r*s*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],f=e[7],d=e[8],g=d*s-o*f,y=o*u-d*a,x=f*a-s*u,_=t*g+i*y+r*x;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/_;return e[0]=g*M,e[1]=(r*f-d*i)*M,e[2]=(o*i-r*s)*M,e[3]=y*M,e[4]=(d*t-r*u)*M,e[5]=(r*a-o*t)*M,e[6]=x*M,e[7]=(i*u-f*t)*M,e[8]=(s*t-i*a)*M,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,s,o){const u=Math.cos(a),f=Math.sin(a);return this.set(i*u,i*f,-i*(u*s+f*o)+s+e,-r*f,r*u,-r*(-f*s+u*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(d6.makeScale(e,t)),this}rotate(e){return this.premultiply(d6.makeRotation(-e)),this}translate(e,t){return this.premultiply(d6.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const d6=new Dn,EC=new Dn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),CC=new Dn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function FZ(){const n={enabled:!0,workingColorSpace:u0,spaces:{},convert:function(r,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Oi&&(r.r=Cf(r.r),r.g=Cf(r.g),r.b=Cf(r.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Oi&&(r.r=w1(r.r),r.g=w1(r.g),r.b=w1(r.b))),r},workingToColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},colorSpaceToWorking:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Mf?gv:this.spaces[r].transfer},getToneMappingMode:function(r){return this.spaces[r].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,s){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,a){return V1("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,a)},toWorkingColorSpace:function(r,a){return V1("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[u0]:{primaries:e,whitePoint:i,transfer:gv,toXYZ:EC,fromXYZ:CC,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:us},outputColorSpaceConfig:{drawingBufferColorSpace:us}},[us]:{primaries:e,whitePoint:i,transfer:Oi,toXYZ:EC,fromXYZ:CC,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:us}}}),n}const ui=FZ();function Cf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function w1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Dm;class lU{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Dm===void 0&&(Dm=xv("canvas")),Dm.width=e.width,Dm.height=e.height;const r=Dm.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Dm}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=xv("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let s=0;s<a.length;s++)a[s]=Cf(a[s]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Cf(t[i]/255)*255):t[i]=Cf(t[i]);return{data:t,width:e.width,height:e.height}}else return kt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let VZ=0;class Kh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:VZ++}),this.uuid=el(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let s=0,o=r.length;s<o;s++)r[s].isDataTexture?a.push(p6(r[s].image)):a.push(p6(r[s]))}else a=p6(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function p6(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?lU.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(kt("Texture: Unable to serialize Texture."),{})}let HZ=0;const m6=new se;class zr extends Rc{constructor(e=zr.DEFAULT_IMAGE,t=zr.DEFAULT_MAPPING,i=xo,r=xo,a=Gr,s=yc,o=ds,u=Fl,f=zr.DEFAULT_ANISOTROPY,d=Mf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:HZ++}),this.uuid=el(),this.name="",this.source=new Kh(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=s,this.anisotropy=f,this.format=o,this.internalFormat=null,this.type=u,this.offset=new rt(0,0),this.repeat=new rt(1,1),this.center=new rt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(m6).x}get height(){return this.source.getSize(m6).y}get depth(){return this.source.getSize(m6).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){kt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){kt(`Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case hv:e.x=e.x-Math.floor(e.x);break;case xo:e.x=e.x<0?0:1;break;case dv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case hv:e.y=e.y-Math.floor(e.y);break;case xo:e.y=e.y<0?0:1;break;case dv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}zr.DEFAULT_IMAGE=null;zr.DEFAULT_MAPPING=J_;zr.DEFAULT_ANISOTROPY=1;class pi{constructor(e=0,t=0,i=0,r=1){pi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r+s[12]*a,this.y=s[1]*t+s[5]*i+s[9]*r+s[13]*a,this.z=s[2]*t+s[6]*i+s[10]*r+s[14]*a,this.w=s[3]*t+s[7]*i+s[11]*r+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const u=e.elements,f=u[0],d=u[4],g=u[8],y=u[1],x=u[5],_=u[9],M=u[2],w=u[6],S=u[10];if(Math.abs(d-y)<.01&&Math.abs(g-M)<.01&&Math.abs(_-w)<.01){if(Math.abs(d+y)<.1&&Math.abs(g+M)<.1&&Math.abs(_+w)<.1&&Math.abs(f+x+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(f+1)/2,N=(x+1)/2,O=(S+1)/2,z=(d+y)/4,B=(g+M)/4,G=(_+w)/4;return R>N&&R>O?R<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(R),r=z/i,a=B/i):N>O?N<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(N),i=z/r,a=G/r):O<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(O),i=B/a,r=G/a),this.set(i,r,a,t),this}let E=Math.sqrt((w-_)*(w-_)+(g-M)*(g-M)+(y-d)*(y-d));return Math.abs(E)<.001&&(E=1),this.x=(w-_)/E,this.y=(g-M)/E,this.z=(y-d)/E,this.w=Math.acos((f+x+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=mn(this.x,e.x,t.x),this.y=mn(this.y,e.y,t.y),this.z=mn(this.z,e.z,t.z),this.w=mn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=mn(this.x,e,t),this.y=mn(this.y,e,t),this.z=mn(this.z,e,t),this.w=mn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(mn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class t7 extends Rc{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Gr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new pi(0,0,e,t),this.scissorTest=!1,this.viewport=new pi(0,0,e,t);const r={width:e,height:t,depth:i.depth},a=new zr(r);this.textures=[];const s=i.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:Gr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isData3DTexture!==!0&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new Kh(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ec extends t7{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class oS extends zr{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ja,this.minFilter=ja,this.wrapR=xo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class GZ extends Ec{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new oS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class lS extends zr{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=ja,this.minFilter=ja,this.wrapR=xo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class jZ extends Ec{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new lS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class gs{constructor(e=new se(1/0,1/0,1/0),t=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(mu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(mu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=mu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,mu):mu.fromBufferAttribute(a,s),mu.applyMatrix4(e.matrixWorld),this.expandByPoint(mu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),q3.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),q3.copy(i.boundingBox)),q3.applyMatrix4(e.matrixWorld),this.union(q3)}const r=e.children;for(let a=0,s=r.length;a<s;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,mu),mu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gy),X3.subVectors(this.max,Gy),Nm.subVectors(e.a,Gy),zm.subVectors(e.b,Gy),Lm.subVectors(e.c,Gy),Dh.subVectors(zm,Nm),Nh.subVectors(Lm,zm),yd.subVectors(Nm,Lm);let t=[0,-Dh.z,Dh.y,0,-Nh.z,Nh.y,0,-yd.z,yd.y,Dh.z,0,-Dh.x,Nh.z,0,-Nh.x,yd.z,0,-yd.x,-Dh.y,Dh.x,0,-Nh.y,Nh.x,0,-yd.y,yd.x,0];return!g6(t,Nm,zm,Lm,X3)||(t=[1,0,0,0,1,0,0,0,1],!g6(t,Nm,zm,Lm,X3))?!1:(W3.crossVectors(Dh,Nh),t=[W3.x,W3.y,W3.z],g6(t,Nm,zm,Lm,X3))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(mu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ff[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ff[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ff[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ff[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ff[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ff[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ff[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ff[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ff),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ff=[new se,new se,new se,new se,new se,new se,new se,new se],mu=new se,q3=new gs,Nm=new se,zm=new se,Lm=new se,Dh=new se,Nh=new se,yd=new se,Gy=new se,X3=new se,W3=new se,xd=new se;function g6(n,e,t,i,r){for(let a=0,s=n.length-3;a<=s;a+=3){xd.fromArray(n,a);const o=r.x*Math.abs(xd.x)+r.y*Math.abs(xd.y)+r.z*Math.abs(xd.z),u=e.dot(xd),f=t.dot(xd),d=i.dot(xd);if(Math.max(-Math.max(u,f,d),Math.min(u,f,d))>o)return!1}return!0}const qZ=new gs,jy=new se,y6=new se;class qa{constructor(e=new se,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):qZ.setFromPoints(e).getCenter(i);let r=0;for(let a=0,s=e.length;a<s;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jy.subVectors(e,this.center);const t=jy.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(jy,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(y6.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jy.copy(e.center).add(y6)),this.expandByPoint(jy.copy(e.center).sub(y6))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const hf=new se,x6=new se,Y3=new se,zh=new se,v6=new se,Z3=new se,b6=new se;class ig{constructor(e=new se,t=new se(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,hf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=hf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hf.copy(this.origin).addScaledVector(this.direction,t),hf.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){x6.copy(e).add(t).multiplyScalar(.5),Y3.copy(t).sub(e).normalize(),zh.copy(this.origin).sub(x6);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Y3),o=zh.dot(this.direction),u=-zh.dot(Y3),f=zh.lengthSq(),d=Math.abs(1-s*s);let g,y,x,_;if(d>0)if(g=s*u-o,y=s*o-u,_=a*d,g>=0)if(y>=-_)if(y<=_){const M=1/d;g*=M,y*=M,x=g*(g+s*y+2*o)+y*(s*g+y+2*u)+f}else y=a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*u)+f;else y=-a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*u)+f;else y<=-_?(g=Math.max(0,-(-s*a+o)),y=g>0?-a:Math.min(Math.max(-a,-u),a),x=-g*g+y*(y+2*u)+f):y<=_?(g=0,y=Math.min(Math.max(-a,-u),a),x=y*(y+2*u)+f):(g=Math.max(0,-(s*a+o)),y=g>0?a:Math.min(Math.max(-a,-u),a),x=-g*g+y*(y+2*u)+f);else y=s>0?-a:a,g=Math.max(0,-(s*y+o)),x=-g*g+y*(y+2*u)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(x6).addScaledVector(Y3,y),x}intersectSphere(e,t){hf.subVectors(e.center,this.origin);const i=hf.dot(this.direction),r=hf.dot(hf)-i*i,a=e.radius*e.radius;if(r>a)return null;const s=Math.sqrt(a-r),o=i-s,u=i+s;return u<0?null:o<0?this.at(u,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,s,o,u;const f=1/this.direction.x,d=1/this.direction.y,g=1/this.direction.z,y=this.origin;return f>=0?(i=(e.min.x-y.x)*f,r=(e.max.x-y.x)*f):(i=(e.max.x-y.x)*f,r=(e.min.x-y.x)*f),d>=0?(a=(e.min.y-y.y)*d,s=(e.max.y-y.y)*d):(a=(e.max.y-y.y)*d,s=(e.min.y-y.y)*d),i>s||a>r||((a>i||isNaN(i))&&(i=a),(s<r||isNaN(r))&&(r=s),g>=0?(o=(e.min.z-y.z)*g,u=(e.max.z-y.z)*g):(o=(e.max.z-y.z)*g,u=(e.min.z-y.z)*g),i>u||o>r)||((o>i||i!==i)&&(i=o),(u<r||r!==r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,hf)!==null}intersectTriangle(e,t,i,r,a){v6.subVectors(t,e),Z3.subVectors(i,e),b6.crossVectors(v6,Z3);let s=this.direction.dot(b6),o;if(s>0){if(r)return null;o=1}else if(s<0)o=-1,s=-s;else return null;zh.subVectors(this.origin,e);const u=o*this.direction.dot(Z3.crossVectors(zh,Z3));if(u<0)return null;const f=o*this.direction.dot(v6.cross(zh));if(f<0||u+f>s)return null;const d=-o*zh.dot(b6);return d<0?null:this.at(d/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _n{constructor(e,t,i,r,a,s,o,u,f,d,g,y,x,_,M,w){_n.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,s,o,u,f,d,g,y,x,_,M,w)}set(e,t,i,r,a,s,o,u,f,d,g,y,x,_,M,w){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=a,S[5]=s,S[9]=o,S[13]=u,S[2]=f,S[6]=d,S[10]=g,S[14]=y,S[3]=x,S[7]=_,S[11]=M,S[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _n().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/km.setFromMatrixColumn(e,0).length(),a=1/km.setFromMatrixColumn(e,1).length(),s=1/km.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,s=Math.cos(i),o=Math.sin(i),u=Math.cos(r),f=Math.sin(r),d=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=s*d,x=s*g,_=o*d,M=o*g;t[0]=u*d,t[4]=-u*g,t[8]=f,t[1]=x+_*f,t[5]=y-M*f,t[9]=-o*u,t[2]=M-y*f,t[6]=_+x*f,t[10]=s*u}else if(e.order==="YXZ"){const y=u*d,x=u*g,_=f*d,M=f*g;t[0]=y+M*o,t[4]=_*o-x,t[8]=s*f,t[1]=s*g,t[5]=s*d,t[9]=-o,t[2]=x*o-_,t[6]=M+y*o,t[10]=s*u}else if(e.order==="ZXY"){const y=u*d,x=u*g,_=f*d,M=f*g;t[0]=y-M*o,t[4]=-s*g,t[8]=_+x*o,t[1]=x+_*o,t[5]=s*d,t[9]=M-y*o,t[2]=-s*f,t[6]=o,t[10]=s*u}else if(e.order==="ZYX"){const y=s*d,x=s*g,_=o*d,M=o*g;t[0]=u*d,t[4]=_*f-x,t[8]=y*f+M,t[1]=u*g,t[5]=M*f+y,t[9]=x*f-_,t[2]=-f,t[6]=o*u,t[10]=s*u}else if(e.order==="YZX"){const y=s*u,x=s*f,_=o*u,M=o*f;t[0]=u*d,t[4]=M-y*g,t[8]=_*g+x,t[1]=g,t[5]=s*d,t[9]=-o*d,t[2]=-f*d,t[6]=x*g+_,t[10]=y-M*g}else if(e.order==="XZY"){const y=s*u,x=s*f,_=o*u,M=o*f;t[0]=u*d,t[4]=-g,t[8]=f*d,t[1]=y*g+M,t[5]=s*d,t[9]=x*g-_,t[2]=_*g-x,t[6]=o*d,t[10]=M*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(XZ,e,WZ)}lookAt(e,t,i){const r=this.elements;return Vo.subVectors(e,t),Vo.lengthSq()===0&&(Vo.z=1),Vo.normalize(),Lh.crossVectors(i,Vo),Lh.lengthSq()===0&&(Math.abs(i.z)===1?Vo.x+=1e-4:Vo.z+=1e-4,Vo.normalize(),Lh.crossVectors(i,Vo)),Lh.normalize(),K3.crossVectors(Vo,Lh),r[0]=Lh.x,r[4]=K3.x,r[8]=Vo.x,r[1]=Lh.y,r[5]=K3.y,r[9]=Vo.y,r[2]=Lh.z,r[6]=K3.z,r[10]=Vo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,s=i[0],o=i[4],u=i[8],f=i[12],d=i[1],g=i[5],y=i[9],x=i[13],_=i[2],M=i[6],w=i[10],S=i[14],E=i[3],R=i[7],N=i[11],O=i[15],z=r[0],B=r[4],G=r[8],U=r[12],L=r[1],j=r[5],Z=r[9],oe=r[13],le=r[2],ae=r[6],W=r[10],te=r[14],re=r[3],ve=r[7],F=r[11],J=r[15];return a[0]=s*z+o*L+u*le+f*re,a[4]=s*B+o*j+u*ae+f*ve,a[8]=s*G+o*Z+u*W+f*F,a[12]=s*U+o*oe+u*te+f*J,a[1]=d*z+g*L+y*le+x*re,a[5]=d*B+g*j+y*ae+x*ve,a[9]=d*G+g*Z+y*W+x*F,a[13]=d*U+g*oe+y*te+x*J,a[2]=_*z+M*L+w*le+S*re,a[6]=_*B+M*j+w*ae+S*ve,a[10]=_*G+M*Z+w*W+S*F,a[14]=_*U+M*oe+w*te+S*J,a[3]=E*z+R*L+N*le+O*re,a[7]=E*B+R*j+N*ae+O*ve,a[11]=E*G+R*Z+N*W+O*F,a[15]=E*U+R*oe+N*te+O*J,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],s=e[1],o=e[5],u=e[9],f=e[13],d=e[2],g=e[6],y=e[10],x=e[14],_=e[3],M=e[7],w=e[11],S=e[15];return _*(+a*u*g-r*f*g-a*o*y+i*f*y+r*o*x-i*u*x)+M*(+t*u*x-t*f*y+a*s*y-r*s*x+r*f*d-a*u*d)+w*(+t*f*g-t*o*x-a*s*g+i*s*x+a*o*d-i*f*d)+S*(-r*o*d-t*u*g+t*o*y+r*s*g-i*s*y+i*u*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],s=e[4],o=e[5],u=e[6],f=e[7],d=e[8],g=e[9],y=e[10],x=e[11],_=e[12],M=e[13],w=e[14],S=e[15],E=g*w*f-M*y*f+M*u*x-o*w*x-g*u*S+o*y*S,R=_*y*f-d*w*f-_*u*x+s*w*x+d*u*S-s*y*S,N=d*M*f-_*g*f+_*o*x-s*M*x-d*o*S+s*g*S,O=_*g*u-d*M*u-_*o*y+s*M*y+d*o*w-s*g*w,z=t*E+i*R+r*N+a*O;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/z;return e[0]=E*B,e[1]=(M*y*a-g*w*a-M*r*x+i*w*x+g*r*S-i*y*S)*B,e[2]=(o*w*a-M*u*a+M*r*f-i*w*f-o*r*S+i*u*S)*B,e[3]=(g*u*a-o*y*a-g*r*f+i*y*f+o*r*x-i*u*x)*B,e[4]=R*B,e[5]=(d*w*a-_*y*a+_*r*x-t*w*x-d*r*S+t*y*S)*B,e[6]=(_*u*a-s*w*a-_*r*f+t*w*f+s*r*S-t*u*S)*B,e[7]=(s*y*a-d*u*a+d*r*f-t*y*f-s*r*x+t*u*x)*B,e[8]=N*B,e[9]=(_*g*a-d*M*a-_*i*x+t*M*x+d*i*S-t*g*S)*B,e[10]=(s*M*a-_*o*a+_*i*f-t*M*f-s*i*S+t*o*S)*B,e[11]=(d*o*a-s*g*a-d*i*f+t*g*f+s*i*x-t*o*x)*B,e[12]=O*B,e[13]=(d*M*r-_*g*r+_*i*y-t*M*y-d*i*w+t*g*w)*B,e[14]=(_*o*r-s*M*r-_*i*u+t*M*u+s*i*w-t*o*w)*B,e[15]=(s*g*r-d*o*r+d*i*u-t*g*u-s*i*y+t*o*y)*B,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,s=e.x,o=e.y,u=e.z,f=a*s,d=a*o;return this.set(f*s+i,f*o-r*u,f*u+r*o,0,f*o+r*u,d*o+i,d*u-r*s,0,f*u-r*o,d*u+r*s,a*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,s){return this.set(1,i,a,0,e,1,s,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,s=t._y,o=t._z,u=t._w,f=a+a,d=s+s,g=o+o,y=a*f,x=a*d,_=a*g,M=s*d,w=s*g,S=o*g,E=u*f,R=u*d,N=u*g,O=i.x,z=i.y,B=i.z;return r[0]=(1-(M+S))*O,r[1]=(x+N)*O,r[2]=(_-R)*O,r[3]=0,r[4]=(x-N)*z,r[5]=(1-(y+S))*z,r[6]=(w+E)*z,r[7]=0,r[8]=(_+R)*B,r[9]=(w-E)*B,r[10]=(1-(y+M))*B,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=km.set(r[0],r[1],r[2]).length();const s=km.set(r[4],r[5],r[6]).length(),o=km.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],gu.copy(this);const f=1/a,d=1/s,g=1/o;return gu.elements[0]*=f,gu.elements[1]*=f,gu.elements[2]*=f,gu.elements[4]*=d,gu.elements[5]*=d,gu.elements[6]*=d,gu.elements[8]*=g,gu.elements[9]*=g,gu.elements[10]*=g,t.setFromRotationMatrix(gu),i.x=a,i.y=s,i.z=o,this}makePerspective(e,t,i,r,a,s,o=Jo,u=!1){const f=this.elements,d=2*a/(t-e),g=2*a/(i-r),y=(t+e)/(t-e),x=(i+r)/(i-r);let _,M;if(u)_=a/(s-a),M=s*a/(s-a);else if(o===Jo)_=-(s+a)/(s-a),M=-2*s*a/(s-a);else if(o===F1)_=-s/(s-a),M=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return f[0]=d,f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=g,f[9]=x,f[13]=0,f[2]=0,f[6]=0,f[10]=_,f[14]=M,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,i,r,a,s,o=Jo,u=!1){const f=this.elements,d=2/(t-e),g=2/(i-r),y=-(t+e)/(t-e),x=-(i+r)/(i-r);let _,M;if(u)_=1/(s-a),M=s/(s-a);else if(o===Jo)_=-2/(s-a),M=-(s+a)/(s-a);else if(o===F1)_=-1/(s-a),M=-a/(s-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return f[0]=d,f[4]=0,f[8]=0,f[12]=y,f[1]=0,f[5]=g,f[9]=0,f[13]=x,f[2]=0,f[6]=0,f[10]=_,f[14]=M,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const km=new se,gu=new _n,XZ=new se(0,0,0),WZ=new se(1,1,1),Lh=new se,K3=new se,Vo=new se,RC=new _n,DC=new wo;class al{constructor(e=0,t=0,i=0,r=al.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],s=r[4],o=r[8],u=r[1],f=r[5],d=r[9],g=r[2],y=r[6],x=r[10];switch(t){case"XYZ":this._y=Math.asin(mn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,x),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(y,f),this._z=0);break;case"YXZ":this._x=Math.asin(-mn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,x),this._z=Math.atan2(u,f)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(mn(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-s,f)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-mn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,f));break;case"YZX":this._z=Math.asin(mn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(o,x));break;case"XZY":this._z=Math.asin(-mn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(y,f),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-d,x),this._y=0);break;default:kt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return RC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return DC.setFromEuler(this),this.setFromQuaternion(DC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}al.DEFAULT_ORDER="XYZ";class G1{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let YZ=0;const NC=new se,Om=new wo,df=new _n,Q3=new se,qy=new se,ZZ=new se,KZ=new wo,zC=new se(1,0,0),LC=new se(0,1,0),kC=new se(0,0,1),OC={type:"added"},QZ={type:"removed"},Um={type:"childadded",child:null},_6={type:"childremoved",child:null};class mi extends Rc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:YZ++}),this.uuid=el(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mi.DEFAULT_UP.clone();const e=new se,t=new al,i=new wo,r=new se(1,1,1);function a(){i.setFromEuler(t,!1)}function s(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _n},normalMatrix:{value:new Dn}}),this.matrix=new _n,this.matrixWorld=new _n,this.matrixAutoUpdate=mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new G1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Om.setFromAxisAngle(e,t),this.quaternion.multiply(Om),this}rotateOnWorldAxis(e,t){return Om.setFromAxisAngle(e,t),this.quaternion.premultiply(Om),this}rotateX(e){return this.rotateOnAxis(zC,e)}rotateY(e){return this.rotateOnAxis(LC,e)}rotateZ(e){return this.rotateOnAxis(kC,e)}translateOnAxis(e,t){return NC.copy(e).applyQuaternion(this.quaternion),this.position.add(NC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(zC,e)}translateY(e){return this.translateOnAxis(LC,e)}translateZ(e){return this.translateOnAxis(kC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(df.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Q3.copy(e):Q3.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),qy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?df.lookAt(qy,Q3,this.up):df.lookAt(Q3,qy,this.up),this.quaternion.setFromRotationMatrix(df),r&&(df.extractRotation(r.matrixWorld),Om.setFromRotationMatrix(df),this.quaternion.premultiply(Om.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Mn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(OC),Um.child=e,this.dispatchEvent(Um),Um.child=null):Mn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(QZ),_6.child=e,this.dispatchEvent(_6),_6.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),df.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),df.multiply(e.parent.matrixWorld)),e.applyMatrix4(df),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(OC),Um.child=e,this.dispatchEvent(Um),Um.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qy,e,ZZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qy,KZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,s=r.length;a<s;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function a(o,u){return o[u.uuid]===void 0&&(o[u.uuid]=u.toJSON(e)),u.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const u=o.shapes;if(Array.isArray(u))for(let f=0,d=u.length;f<d;f++){const g=u[f];a(e.shapes,g)}else a(e.shapes,u)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let u=0,f=this.material.length;u<f;u++)o.push(a(e.materials,this.material[u]));r.material=o}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const u=this.animations[o];r.animations.push(a(e.animations,u))}}if(t){const o=s(e.geometries),u=s(e.materials),f=s(e.textures),d=s(e.images),g=s(e.shapes),y=s(e.skeletons),x=s(e.animations),_=s(e.nodes);o.length>0&&(i.geometries=o),u.length>0&&(i.materials=u),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),x.length>0&&(i.animations=x),_.length>0&&(i.nodes=_)}return i.object=r,i;function s(o){const u=[];for(const f in o){const d=o[f];delete d.metadata,u.push(d)}return u}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}mi.DEFAULT_UP=new se(0,1,0);mi.DEFAULT_MATRIX_AUTO_UPDATE=!0;mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const yu=new se,pf=new se,S6=new se,mf=new se,Pm=new se,Bm=new se,UC=new se,M6=new se,w6=new se,A6=new se,T6=new pi,E6=new pi,C6=new pi;class go{constructor(e=new se,t=new se,i=new se){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),yu.subVectors(e,t),r.cross(yu);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){yu.subVectors(r,t),pf.subVectors(i,t),S6.subVectors(e,t);const s=yu.dot(yu),o=yu.dot(pf),u=yu.dot(S6),f=pf.dot(pf),d=pf.dot(S6),g=s*f-o*o;if(g===0)return a.set(0,0,0),null;const y=1/g,x=(f*u-o*d)*y,_=(s*d-o*u)*y;return a.set(1-x-_,_,x)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,mf)===null?!1:mf.x>=0&&mf.y>=0&&mf.x+mf.y<=1}static getInterpolation(e,t,i,r,a,s,o,u){return this.getBarycoord(e,t,i,r,mf)===null?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(a,mf.x),u.addScaledVector(s,mf.y),u.addScaledVector(o,mf.z),u)}static getInterpolatedAttribute(e,t,i,r,a,s){return T6.setScalar(0),E6.setScalar(0),C6.setScalar(0),T6.fromBufferAttribute(e,t),E6.fromBufferAttribute(e,i),C6.fromBufferAttribute(e,r),s.setScalar(0),s.addScaledVector(T6,a.x),s.addScaledVector(E6,a.y),s.addScaledVector(C6,a.z),s}static isFrontFacing(e,t,i,r){return yu.subVectors(i,t),pf.subVectors(e,t),yu.cross(pf).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return yu.subVectors(this.c,this.b),pf.subVectors(this.a,this.b),yu.cross(pf).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return go.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return go.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return go.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return go.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return go.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let s,o;Pm.subVectors(r,i),Bm.subVectors(a,i),M6.subVectors(e,i);const u=Pm.dot(M6),f=Bm.dot(M6);if(u<=0&&f<=0)return t.copy(i);w6.subVectors(e,r);const d=Pm.dot(w6),g=Bm.dot(w6);if(d>=0&&g<=d)return t.copy(r);const y=u*g-d*f;if(y<=0&&u>=0&&d<=0)return s=u/(u-d),t.copy(i).addScaledVector(Pm,s);A6.subVectors(e,a);const x=Pm.dot(A6),_=Bm.dot(A6);if(_>=0&&x<=_)return t.copy(a);const M=x*f-u*_;if(M<=0&&f>=0&&_<=0)return o=f/(f-_),t.copy(i).addScaledVector(Bm,o);const w=d*_-x*g;if(w<=0&&g-d>=0&&x-_>=0)return UC.subVectors(a,r),o=(g-d)/(g-d+(x-_)),t.copy(r).addScaledVector(UC,o);const S=1/(w+M+y);return s=M*S,o=y*S,t.copy(i).addScaledVector(Pm,s).addScaledVector(Bm,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kh={h:0,s:0,l:0},J3={h:0,s:0,l:0};function R6(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class It{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=us){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ui.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=ui.workingColorSpace){return this.r=e,this.g=t,this.b=i,ui.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=ui.workingColorSpace){if(e=e7(e,1),t=mn(t,0,1),i=mn(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,s=2*i-a;this.r=R6(s,a,e+1/3),this.g=R6(s,a,e),this.b=R6(s,a,e-1/3)}return ui.colorSpaceToWorking(this,r),this}setStyle(e,t=us){function i(a){a!==void 0&&parseFloat(a)<1&&kt("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=r[1],o=r[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:kt("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);kt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=us){const i=uU[e.toLowerCase()];return i!==void 0?this.setHex(i,t):kt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cf(e.r),this.g=Cf(e.g),this.b=Cf(e.b),this}copyLinearToSRGB(e){return this.r=w1(e.r),this.g=w1(e.g),this.b=w1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=us){return ui.workingToColorSpace(as.copy(this),e),Math.round(mn(as.r*255,0,255))*65536+Math.round(mn(as.g*255,0,255))*256+Math.round(mn(as.b*255,0,255))}getHexString(e=us){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ui.workingColorSpace){ui.workingToColorSpace(as.copy(this),t);const i=as.r,r=as.g,a=as.b,s=Math.max(i,r,a),o=Math.min(i,r,a);let u,f;const d=(o+s)/2;if(o===s)u=0,f=0;else{const g=s-o;switch(f=d<=.5?g/(s+o):g/(2-s-o),s){case i:u=(r-a)/g+(r<a?6:0);break;case r:u=(a-i)/g+2;break;case a:u=(i-r)/g+4;break}u/=6}return e.h=u,e.s=f,e.l=d,e}getRGB(e,t=ui.workingColorSpace){return ui.workingToColorSpace(as.copy(this),t),e.r=as.r,e.g=as.g,e.b=as.b,e}getStyle(e=us){ui.workingToColorSpace(as.copy(this),e);const t=as.r,i=as.g,r=as.b;return e!==us?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(kh),this.setHSL(kh.h+e,kh.s+t,kh.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(kh),e.getHSL(J3);const i=Fx(kh.h,J3.h,t),r=Fx(kh.s,J3.s,t),a=Fx(kh.l,J3.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const as=new It;It.NAMES=uU;let JZ=0;class ys extends Rc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:JZ++}),this.uuid=el(),this.name="",this.type="Material",this.blending=np,this.side=Uf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=I4,this.blendDst=F4,this.blendEquation=Gh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new It(0,0,0),this.blendAlpha=0,this.depthFunc=up,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Yw,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Bd,this.stencilZFail=Bd,this.stencilZPass=Bd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){kt(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){kt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==np&&(i.blending=this.blending),this.side!==Uf&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==I4&&(i.blendSrc=this.blendSrc),this.blendDst!==F4&&(i.blendDst=this.blendDst),this.blendEquation!==Gh&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==up&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Yw&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Bd&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Bd&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Bd&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const s=[];for(const o in a){const u=a[o];delete u.metadata,s.push(u)}return s}if(t){const a=r(e.textures),s=r(e.images);a.length>0&&(i.textures=a),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class x0 extends ys{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=Gv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wf=$Z();function $Z(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let u=0;u<256;++u){const f=u-127;f<-27?(i[u]=0,i[u|256]=32768,r[u]=24,r[u|256]=24):f<-14?(i[u]=1024>>-f-14,i[u|256]=1024>>-f-14|32768,r[u]=-f-1,r[u|256]=-f-1):f<=15?(i[u]=f+15<<10,i[u|256]=f+15<<10|32768,r[u]=13,r[u|256]=13):f<128?(i[u]=31744,i[u|256]=64512,r[u]=24,r[u|256]=24):(i[u]=31744,i[u|256]=64512,r[u]=13,r[u|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let u=1;u<1024;++u){let f=u<<13,d=0;for(;(f&8388608)===0;)f<<=1,d-=8388608;f&=-8388609,d+=947912704,a[u]=f|d}for(let u=1024;u<2048;++u)a[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)s[u]=u<<23;s[31]=1199570944,s[32]=2147483648;for(let u=33;u<63;++u)s[u]=2147483648+(u-32<<23);s[63]=3347054592;for(let u=1;u<64;++u)u!==32&&(o[u]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:s,offsetTable:o}}function uo(n){Math.abs(n)>65504&&kt("DataUtils.toHalfFloat(): Value out of range."),n=mn(n,-65504,65504),wf.floatView[0]=n;const e=wf.uint32View[0],t=e>>23&511;return wf.baseTable[t]+((e&8388607)>>wf.shiftTable[t])}function px(n){const e=n>>10;return wf.uint32View[0]=wf.mantissaTable[wf.offsetTable[e]+(n&1023)]+wf.exponentTable[e],wf.floatView[0]}class eK{static toHalfFloat(e){return uo(e)}static fromHalfFloat(e){return px(e)}}const Kr=new se,$3=new rt;let tK=0;class Fi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:tK++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=yv,this.updateRanges=[],this.gpuType=vo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)$3.fromBufferAttribute(this,t),$3.applyMatrix3(e),this.setXY(t,$3.x,$3.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.applyMatrix3(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.applyMatrix4(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.applyNormalMatrix(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Kr.fromBufferAttribute(this,t),Kr.transformDirection(e),this.setXYZ(t,Kr.x,Kr.y,Kr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Xs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Nn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Xs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Xs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Xs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Xs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array),a=Nn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==yv&&(e.usage=this.usage),e}}class nK extends Fi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class iK extends Fi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class rK extends Fi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class aK extends Fi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class n7 extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class sK extends Fi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class i7 extends Fi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class oK extends Fi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=px(this.array[e*this.itemSize]);return this.normalized&&(t=Xs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize]=uo(t),this}getY(e){let t=px(this.array[e*this.itemSize+1]);return this.normalized&&(t=Xs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+1]=uo(t),this}getZ(e){let t=px(this.array[e*this.itemSize+2]);return this.normalized&&(t=Xs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+2]=uo(t),this}getW(e){let t=px(this.array[e*this.itemSize+3]);return this.normalized&&(t=Xs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Nn(t,this.array)),this.array[e*this.itemSize+3]=uo(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(i),this.array[e+2]=uo(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array),a=Nn(a,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(i),this.array[e+2]=uo(r),this.array[e+3]=uo(a),this}}class Ht extends Fi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let lK=0;const El=new _n,D6=new mi,Im=new se,Ho=new gs,Xy=new gs,Ca=new se;class wn extends Rc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lK++}),this.uuid=el(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sU(e)?i7:n7)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Dn().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return El.makeRotationFromQuaternion(e),this.applyMatrix4(El),this}rotateX(e){return El.makeRotationX(e),this.applyMatrix4(El),this}rotateY(e){return El.makeRotationY(e),this.applyMatrix4(El),this}rotateZ(e){return El.makeRotationZ(e),this.applyMatrix4(El),this}translate(e,t,i){return El.makeTranslation(e,t,i),this.applyMatrix4(El),this}scale(e,t,i){return El.makeScale(e,t,i),this.applyMatrix4(El),this}lookAt(e){return D6.lookAt(e),D6.updateMatrix(),this.applyMatrix4(D6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Im).negate(),this.translate(Im.x,Im.y,Im.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const s=e[r];i.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&kt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Mn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Ho.setFromBufferAttribute(a),this.morphTargetsRelative?(Ca.addVectors(this.boundingBox.min,Ho.min),this.boundingBox.expandByPoint(Ca),Ca.addVectors(this.boundingBox.max,Ho.max),this.boundingBox.expandByPoint(Ca)):(this.boundingBox.expandByPoint(Ho.min),this.boundingBox.expandByPoint(Ho.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Mn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Mn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new se,1/0);return}if(e){const i=this.boundingSphere.center;if(Ho.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];Xy.setFromBufferAttribute(o),this.morphTargetsRelative?(Ca.addVectors(Ho.min,Xy.min),Ho.expandByPoint(Ca),Ca.addVectors(Ho.max,Xy.max),Ho.expandByPoint(Ca)):(Ho.expandByPoint(Xy.min),Ho.expandByPoint(Xy.max))}Ho.getCenter(i);let r=0;for(let a=0,s=e.count;a<s;a++)Ca.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Ca));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],u=this.morphTargetsRelative;for(let f=0,d=o.count;f<d;f++)Ca.fromBufferAttribute(o,f),u&&(Im.fromBufferAttribute(e,f),Ca.add(Im)),r=Math.max(r,i.distanceToSquared(Ca))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&Mn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Mn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fi(new Float32Array(4*i.count),4));const s=this.getAttribute("tangent"),o=[],u=[];for(let G=0;G<i.count;G++)o[G]=new se,u[G]=new se;const f=new se,d=new se,g=new se,y=new rt,x=new rt,_=new rt,M=new se,w=new se;function S(G,U,L){f.fromBufferAttribute(i,G),d.fromBufferAttribute(i,U),g.fromBufferAttribute(i,L),y.fromBufferAttribute(a,G),x.fromBufferAttribute(a,U),_.fromBufferAttribute(a,L),d.sub(f),g.sub(f),x.sub(y),_.sub(y);const j=1/(x.x*_.y-_.x*x.y);isFinite(j)&&(M.copy(d).multiplyScalar(_.y).addScaledVector(g,-x.y).multiplyScalar(j),w.copy(g).multiplyScalar(x.x).addScaledVector(d,-_.x).multiplyScalar(j),o[G].add(M),o[U].add(M),o[L].add(M),u[G].add(w),u[U].add(w),u[L].add(w))}let E=this.groups;E.length===0&&(E=[{start:0,count:e.count}]);for(let G=0,U=E.length;G<U;++G){const L=E[G],j=L.start,Z=L.count;for(let oe=j,le=j+Z;oe<le;oe+=3)S(e.getX(oe+0),e.getX(oe+1),e.getX(oe+2))}const R=new se,N=new se,O=new se,z=new se;function B(G){O.fromBufferAttribute(r,G),z.copy(O);const U=o[G];R.copy(U),R.sub(O.multiplyScalar(O.dot(U))).normalize(),N.crossVectors(z,U);const j=N.dot(u[G])<0?-1:1;s.setXYZW(G,R.x,R.y,R.z,j)}for(let G=0,U=E.length;G<U;++G){const L=E[G],j=L.start,Z=L.count;for(let oe=j,le=j+Z;oe<le;oe+=3)B(e.getX(oe+0)),B(e.getX(oe+1)),B(e.getX(oe+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Fi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,x=i.count;y<x;y++)i.setXYZ(y,0,0,0);const r=new se,a=new se,s=new se,o=new se,u=new se,f=new se,d=new se,g=new se;if(e)for(let y=0,x=e.count;y<x;y+=3){const _=e.getX(y+0),M=e.getX(y+1),w=e.getX(y+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,M),s.fromBufferAttribute(t,w),d.subVectors(s,a),g.subVectors(r,a),d.cross(g),o.fromBufferAttribute(i,_),u.fromBufferAttribute(i,M),f.fromBufferAttribute(i,w),o.add(d),u.add(d),f.add(d),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(w,f.x,f.y,f.z)}else for(let y=0,x=t.count;y<x;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,a),g.subVectors(r,a),d.cross(g),i.setXYZ(y+0,d.x,d.y,d.z),i.setXYZ(y+1,d.x,d.y,d.z),i.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Ca.fromBufferAttribute(e,t),Ca.normalize(),e.setXYZ(t,Ca.x,Ca.y,Ca.z)}toNonIndexed(){function e(o,u){const f=o.array,d=o.itemSize,g=o.normalized,y=new f.constructor(u.length*d);let x=0,_=0;for(let M=0,w=u.length;M<w;M++){o.isInterleavedBufferAttribute?x=u[M]*o.data.stride+o.offset:x=u[M]*d;for(let S=0;S<d;S++)y[_++]=f[x++]}return new Fi(y,d,g)}if(this.index===null)return kt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wn,i=this.index.array,r=this.attributes;for(const o in r){const u=r[o],f=e(u,i);t.setAttribute(o,f)}const a=this.morphAttributes;for(const o in a){const u=[],f=a[o];for(let d=0,g=f.length;d<g;d++){const y=f[d],x=e(y,i);u.push(x)}t.morphAttributes[o]=u}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,u=s.length;o<u;o++){const f=s[o];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const u=this.parameters;for(const f in u)u[f]!==void 0&&(e[f]=u[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i){const f=i[u];e.data.attributes[u]=f.toJSON(e.data)}const r={};let a=!1;for(const u in this.morphAttributes){const f=this.morphAttributes[u],d=[];for(let g=0,y=f.length;g<y;g++){const x=f[g];d.push(x.toJSON(e.data))}d.length>0&&(r[u]=d,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const a=e.morphAttributes;for(const f in a){const d=[],g=a[f];for(let y=0,x=g.length;y<x;y++)d.push(g[y].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let f=0,d=s.length;f<d;f++){const g=s[f];this.addGroup(g.start,g.count,g.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const PC=new _n,vd=new ig,eb=new qa,BC=new se,tb=new se,nb=new se,ib=new se,N6=new se,rb=new se,IC=new se,ab=new se;class ma extends mi{constructor(e=new wn,t=new x0){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,s=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(a&&o){rb.set(0,0,0);for(let u=0,f=a.length;u<f;u++){const d=o[u],g=a[u];d!==0&&(N6.fromBufferAttribute(g,e),s?rb.addScaledVector(N6,d):rb.addScaledVector(N6.sub(t),d))}t.add(rb)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),eb.copy(i.boundingSphere),eb.applyMatrix4(a),vd.copy(e.ray).recast(e.near),!(eb.containsPoint(vd.origin)===!1&&(vd.intersectSphere(eb,BC)===null||vd.origin.distanceToSquared(BC)>(e.far-e.near)**2))&&(PC.copy(a).invert(),vd.copy(e.ray).applyMatrix4(PC),!(i.boundingBox!==null&&vd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,vd)))}_computeIntersections(e,t,i){let r;const a=this.geometry,s=this.material,o=a.index,u=a.attributes.position,f=a.attributes.uv,d=a.attributes.uv1,g=a.attributes.normal,y=a.groups,x=a.drawRange;if(o!==null)if(Array.isArray(s))for(let _=0,M=y.length;_<M;_++){const w=y[_],S=s[w.materialIndex],E=Math.max(w.start,x.start),R=Math.min(o.count,Math.min(w.start+w.count,x.start+x.count));for(let N=E,O=R;N<O;N+=3){const z=o.getX(N),B=o.getX(N+1),G=o.getX(N+2);r=sb(this,S,e,i,f,d,g,z,B,G),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(o.count,x.start+x.count);for(let w=_,S=M;w<S;w+=3){const E=o.getX(w),R=o.getX(w+1),N=o.getX(w+2);r=sb(this,s,e,i,f,d,g,E,R,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}else if(u!==void 0)if(Array.isArray(s))for(let _=0,M=y.length;_<M;_++){const w=y[_],S=s[w.materialIndex],E=Math.max(w.start,x.start),R=Math.min(u.count,Math.min(w.start+w.count,x.start+x.count));for(let N=E,O=R;N<O;N+=3){const z=N,B=N+1,G=N+2;r=sb(this,S,e,i,f,d,g,z,B,G),r&&(r.faceIndex=Math.floor(N/3),r.face.materialIndex=w.materialIndex,t.push(r))}}else{const _=Math.max(0,x.start),M=Math.min(u.count,x.start+x.count);for(let w=_,S=M;w<S;w+=3){const E=w,R=w+1,N=w+2;r=sb(this,s,e,i,f,d,g,E,R,N),r&&(r.faceIndex=Math.floor(w/3),t.push(r))}}}}function uK(n,e,t,i,r,a,s,o){let u;if(e.side===Ks?u=i.intersectTriangle(s,a,r,!0,o):u=i.intersectTriangle(r,a,s,e.side===Uf,o),u===null)return null;ab.copy(o),ab.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(ab);return f<t.near||f>t.far?null:{distance:f,point:ab.clone(),object:n}}function sb(n,e,t,i,r,a,s,o,u,f){n.getVertexPosition(o,tb),n.getVertexPosition(u,nb),n.getVertexPosition(f,ib);const d=uK(n,e,t,i,tb,nb,ib,IC);if(d){const g=new se;go.getBarycoord(IC,tb,nb,ib,g),r&&(d.uv=go.getInterpolatedAttribute(r,o,u,f,g,new rt)),a&&(d.uv1=go.getInterpolatedAttribute(a,o,u,f,g,new rt)),s&&(d.normal=go.getInterpolatedAttribute(s,o,u,f,g,new se),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const y={a:o,b:u,c:f,normal:new se,materialIndex:0};go.getNormal(tb,nb,ib,y.normal),d.face=y,d.barycoord=g}return d}class gp extends wn{constructor(e=1,t=1,i=1,r=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:s};const o=this;r=Math.floor(r),a=Math.floor(a),s=Math.floor(s);const u=[],f=[],d=[],g=[];let y=0,x=0;_("z","y","x",-1,-1,i,t,e,s,a,0),_("z","y","x",1,-1,i,t,-e,s,a,1),_("x","z","y",1,1,e,i,t,r,s,2),_("x","z","y",1,-1,e,i,-t,r,s,3),_("x","y","z",1,-1,e,t,i,r,a,4),_("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(u),this.setAttribute("position",new Ht(f,3)),this.setAttribute("normal",new Ht(d,3)),this.setAttribute("uv",new Ht(g,2));function _(M,w,S,E,R,N,O,z,B,G,U){const L=N/B,j=O/G,Z=N/2,oe=O/2,le=z/2,ae=B+1,W=G+1;let te=0,re=0;const ve=new se;for(let F=0;F<W;F++){const J=F*j-oe;for(let ye=0;ye<ae;ye++){const K=ye*L-Z;ve[M]=K*E,ve[w]=J*R,ve[S]=le,f.push(ve.x,ve.y,ve.z),ve[M]=0,ve[w]=0,ve[S]=z>0?1:-1,d.push(ve.x,ve.y,ve.z),g.push(ye/B),g.push(1-F/G),te+=1}}for(let F=0;F<G;F++)for(let J=0;J<B;J++){const ye=y+J+ae*F,K=y+J+ae*(F+1),Le=y+(J+1)+ae*(F+1),Ye=y+(J+1)+ae*F;u.push(ye,K,Ye),u.push(K,Le,Ye),re+=6}o.addGroup(x,re,U),x+=re,y+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function j1(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(kt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Fs(n){const e={};for(let t=0;t<n.length;t++){const i=j1(n[t]);for(const r in i)e[r]=i[r]}return e}function cK(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function cU(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ui.workingColorSpace}const fU={clone:j1,merge:Fs};var fK=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,hK=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vl extends ys{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=fK,this.fragmentShader=hK,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=j1(e.uniforms),this.uniformsGroups=cK(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?t.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[r]={type:"m4",value:s.toArray()}:t.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class uS extends mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _n,this.projectionMatrix=new _n,this.projectionMatrixInverse=new _n,this.coordinateSystem=Jo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Oh=new se,FC=new rt,VC=new rt;class Na extends uS{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=H1*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ip*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return H1*2*Math.atan(Math.tan(ip*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Oh.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Oh.x,Oh.y).multiplyScalar(-e/Oh.z),Oh.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Oh.x,Oh.y).multiplyScalar(-e/Oh.z)}getViewSize(e,t){return this.getViewBounds(e,FC,VC),t.subVectors(VC,FC)}setViewOffset(e,t,i,r,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(ip*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const u=s.fullWidth,f=s.fullHeight;a+=s.offsetX*r/u,t-=s.offsetY*i/f,r*=s.width/u,i*=s.height/f}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Fm=-90,Vm=1;class hU extends mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Na(Fm,Vm,e,t);r.layers=this.layers,this.add(r);const a=new Na(Fm,Vm,e,t);a.layers=this.layers,this.add(a);const s=new Na(Fm,Vm,e,t);s.layers=this.layers,this.add(s);const o=new Na(Fm,Vm,e,t);o.layers=this.layers,this.add(o);const u=new Na(Fm,Vm,e,t);u.layers=this.layers,this.add(u);const f=new Na(Fm,Vm,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,s,o,u]=t;for(const f of t)this.remove(f);if(e===Jo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else if(e===F1)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,u,f,d]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const M=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,s),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=M,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(g,y,x),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class qv extends zr{constructor(e=[],t=Pf,i,r,a,s,o,u,f,d){super(e,t,i,r,a,s,o,u,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class dU extends Ec{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new qv(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new gp(5,5,5),a=new Vl({name:"CubemapFromEquirect",uniforms:j1(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ks,blending:wc});a.uniforms.tEquirect.value=t;const s=new ma(r,a),o=t.minFilter;return t.minFilter===yc&&(t.minFilter=Gr),new hU(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,i,r);e.setRenderTarget(a)}}class g1 extends mi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dK={type:"move"};class p4{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new g1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new g1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new g1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,s=null;const o=this._targetRay,u=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){s=!0;for(const M of e.hand.values()){const w=t.getJointPose(M,i),S=this._getHandJoint(f,M);w!==null&&(S.matrix.fromArray(w.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=w.radius),S.visible=w!==null}const d=f.joints["index-finger-tip"],g=f.joints["thumb-tip"],y=d.position.distanceTo(g.position),x=.02,_=.005;f.inputState.pinching&&y>x+_?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&y<=x-_&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else u!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dK)))}return o!==null&&(o.visible=r!==null),u!==null&&(u.visible=a!==null),f!==null&&(f.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new g1;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class cS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new It(e),this.density=t}clone(){return new cS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class fS{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new It(e),this.near=t,this.far=i}clone(){return new fS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class r7 extends mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new al,this.environmentIntensity=1,this.environmentRotation=new al,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class hS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=yv,this.updateRanges=[],this.version=0,this.uuid=el()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=el()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=el()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ps=new se;class cp{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Ps.fromBufferAttribute(this,t),Ps.applyMatrix4(e),this.setXYZ(t,Ps.x,Ps.y,Ps.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ps.fromBufferAttribute(this,t),Ps.applyNormalMatrix(e),this.setXYZ(t,Ps.x,Ps.y,Ps.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ps.fromBufferAttribute(this,t),Ps.transformDirection(e),this.setXYZ(t,Ps.x,Ps.y,Ps.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Xs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Nn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Nn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Nn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Xs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Xs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Xs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Xs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Nn(t,this.array),i=Nn(i,this.array),r=Nn(r,this.array),a=Nn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){vv("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Fi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){vv("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class a7 extends ys{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Hm;const Wy=new se,Gm=new se,jm=new se,qm=new rt,Yy=new rt,pU=new _n,ob=new se,Zy=new se,lb=new se,HC=new rt,z6=new rt,GC=new rt;class mU extends mi{constructor(e=new a7){if(super(),this.isSprite=!0,this.type="Sprite",Hm===void 0){Hm=new wn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new hS(t,5);Hm.setIndex([0,1,2,0,2,3]),Hm.setAttribute("position",new cp(i,3,0,!1)),Hm.setAttribute("uv",new cp(i,2,3,!1))}this.geometry=Hm,this.material=e,this.center=new rt(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Mn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gm.setFromMatrixScale(this.matrixWorld),pU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gm.multiplyScalar(-jm.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const s=this.center;ub(ob.set(-.5,-.5,0),jm,s,Gm,r,a),ub(Zy.set(.5,-.5,0),jm,s,Gm,r,a),ub(lb.set(.5,.5,0),jm,s,Gm,r,a),HC.set(0,0),z6.set(1,0),GC.set(1,1);let o=e.ray.intersectTriangle(ob,Zy,lb,!1,Wy);if(o===null&&(ub(Zy.set(-.5,.5,0),jm,s,Gm,r,a),z6.set(0,1),o=e.ray.intersectTriangle(ob,lb,Zy,!1,Wy),o===null))return;const u=e.ray.origin.distanceTo(Wy);u<e.near||u>e.far||t.push({distance:u,point:Wy.clone(),uv:go.getInterpolation(Wy,ob,Zy,lb,HC,z6,GC,new rt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function ub(n,e,t,i,r,a){qm.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Yy.x=a*qm.x-r*qm.y,Yy.y=r*qm.x+a*qm.y):Yy.copy(qm),n.copy(e),n.x+=Yy.x,n.y+=Yy.y,n.applyMatrix4(pU)}const cb=new se,jC=new se;class gU extends mi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){cb.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(cb);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){cb.setFromMatrixPosition(e.matrixWorld),jC.setFromMatrixPosition(this.matrixWorld);const i=cb.distanceTo(jC)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),i>=s)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const s=i[r];t.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return t}}const qC=new se,XC=new pi,WC=new pi,pK=new se,YC=new _n,fb=new se,L6=new qa,ZC=new _n,k6=new ig;class yU extends ma{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Ww,this.bindMatrix=new _n,this.bindMatrixInverse=new _n,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new gs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,fb),this.boundingBox.expandByPoint(fb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qa),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,fb),this.boundingSphere.expandByPoint(fb)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),L6.copy(this.boundingSphere),L6.applyMatrix4(r),e.ray.intersectsSphere(L6)!==!1&&(ZC.copy(r).invert(),k6.copy(e.ray).applyMatrix4(ZC),!(this.boundingBox!==null&&k6.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,k6)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pi,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Ww?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===XO?this.bindMatrixInverse.copy(this.bindMatrix).invert():kt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;XC.fromBufferAttribute(r.attributes.skinIndex,e),WC.fromBufferAttribute(r.attributes.skinWeight,e),qC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=WC.getComponent(a);if(s!==0){const o=XC.getComponent(a);YC.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(pK.copy(qC).applyMatrix4(YC),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class s7 extends mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class wu extends zr{constructor(e=null,t=1,i=1,r,a,s,o,u,f=ja,d=ja,g,y){super(null,s,o,u,f,d,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KC=new _n,mK=new _n;class dS{constructor(e=[],t=[]){this.uuid=el(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){kt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new _n)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new _n;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:mK;KC.multiplyMatrices(o,t[a]),KC.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new dS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new wu(t,e,e,ds,vo);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let s=t[a];s===void 0&&(kt("Skeleton: No bone found with UUID:",a),s=new s7),this.bones.push(s),this.boneInverses.push(new _n().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const s=t[r];e.bones.push(s.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class q1 extends Fi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xm=new _n,QC=new _n,hb=[],JC=new gs,gK=new _n,Ky=new ma,Qy=new qa;class xU extends ma{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new q1(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,gK)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new gs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Xm),JC.copy(e.boundingBox).applyMatrix4(Xm),this.boundingBox.union(JC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new qa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Xm),Qy.copy(e.boundingSphere).applyMatrix4(Xm),this.boundingSphere.union(Qy)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,s=e*a+1;for(let o=0;o<i.length;o++)i[o]=r[s+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ky.geometry=this.geometry,Ky.material=this.material,Ky.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qy.copy(this.boundingSphere),Qy.applyMatrix4(i),e.ray.intersectsSphere(Qy)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Xm),QC.multiplyMatrices(i,Xm),Ky.matrixWorld=QC,Ky.raycast(e,hb);for(let s=0,o=hb.length;s<o;s++){const u=hb[s];u.instanceId=a,u.object=this,t.push(u)}hb.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new q1(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new wu(new Float32Array(r*this.count),r,this.count,nS,vo));const a=this.morphTexture.source.data.data;let s=0;for(let f=0;f<i.length;f++)s+=i[f];const o=this.geometry.morphTargetsRelative?1:1-s,u=r*e;a[u]=o,a.set(i,u+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const O6=new se,yK=new se,xK=new Dn;class Hh{constructor(e=new se(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=O6.subVectors(i,t).cross(yK.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(O6),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||xK.getNormalMatrix(e),r=this.coplanarPoint(O6).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const bd=new qa,vK=new rt(.5,.5),db=new se;class rg{constructor(e=new Hh,t=new Hh,i=new Hh,r=new Hh,a=new Hh,s=new Hh){this.planes=[e,t,i,r,a,s]}set(e,t,i,r,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Jo,i=!1){const r=this.planes,a=e.elements,s=a[0],o=a[1],u=a[2],f=a[3],d=a[4],g=a[5],y=a[6],x=a[7],_=a[8],M=a[9],w=a[10],S=a[11],E=a[12],R=a[13],N=a[14],O=a[15];if(r[0].setComponents(f-s,x-d,S-_,O-E).normalize(),r[1].setComponents(f+s,x+d,S+_,O+E).normalize(),r[2].setComponents(f+o,x+g,S+M,O+R).normalize(),r[3].setComponents(f-o,x-g,S-M,O-R).normalize(),i)r[4].setComponents(u,y,w,N).normalize(),r[5].setComponents(f-u,x-y,S-w,O-N).normalize();else if(r[4].setComponents(f-u,x-y,S-w,O-N).normalize(),t===Jo)r[5].setComponents(f+u,x+y,S+w,O+N).normalize();else if(t===F1)r[5].setComponents(u,y,w,N).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),bd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),bd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(bd)}intersectsSprite(e){bd.center.set(0,0,0);const t=vK.distanceTo(e.center);return bd.radius=.7071067811865476+t,bd.applyMatrix4(e.matrixWorld),this.intersectsSphere(bd)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(db.x=r.normal.x>0?e.max.x:e.min.x,db.y=r.normal.y>0?e.max.y:e.min.y,db.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(db)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const oc=new _n,lc=new rg;class pS{constructor(){this.coordinateSystem=Jo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(oc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),lc.setFromProjectionMatrix(oc,r.coordinateSystem,r.reversedDepth),lc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(oc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),lc.setFromProjectionMatrix(oc,r.coordinateSystem,r.reversedDepth),lc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(oc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),lc.setFromProjectionMatrix(oc,r.coordinateSystem,r.reversedDepth),lc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(oc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),lc.setFromProjectionMatrix(oc,r.coordinateSystem,r.reversedDepth),lc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(oc.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),lc.setFromProjectionMatrix(oc,r.coordinateSystem,r.reversedDepth),lc.containsPoint(e))return!0}return!1}clone(){return new pS}}function U6(n,e){return n-e}function bK(n,e){return n.z-e.z}function _K(n,e){return e.z-n.z}class SK{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,s=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const o=a[this.index];s.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const lo=new _n,MK=new It(1,1,1),$C=new rg,wK=new pS,pb=new gs,_d=new qa,Jy=new se,eR=new se,AK=new se,P6=new SK,ss=new ma,mb=[];function TK(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let s=0;s<i;s++)e.setComponent(a+t,s,n.getComponent(a,s))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Sd(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class vU extends ma{constructor(e,t,i=t*2,r){super(new wn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new wu(t,e,e,ds,vo);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new wu(t,e,e,jv,Bf);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new wu(t,e,e,ds,vo);i.colorSpace=ui.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const s=e.getAttribute(a),{array:o,itemSize:u,normalized:f}=s,d=new o.constructor(i*u),g=new Fi(d,u,f);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Fi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,lo),this.getBoundingBoxAt(a,pb).applyMatrix4(lo),e.union(pb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qa);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,lo),this.getBoundingSphereAt(a,_d).applyMatrix4(lo),e.union(_d)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(U6),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;lo.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const s=this._colorsTexture;return s&&(MK.toArray(s.image.data,r*4),s.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const s=e.getIndex();if(s!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?s.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let u;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(U6),u=this._availableGeometryIds.shift(),a[u]=r):(u=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(u,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),s=t.getIndex(),o=this._geometryInfo[e];if(r&&s.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const u=o.vertexStart,f=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const d in i.attributes){const g=t.getAttribute(d),y=i.getAttribute(d);TK(g,y,u);const x=g.itemSize;for(let _=g.count,M=f;_<M;_++){const w=u+_;for(let S=0;S<x;S++)y.setComponent(w,S,0)}y.needsUpdate=!0,y.addUpdateRange(u*x,f*x)}if(r){const d=o.indexStart,g=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let y=0;y<s.count;y++)a.setX(d+y,u+s.getX(y));for(let y=s.count,x=g;y<x;y++)a.setX(d+y,u);a.needsUpdate=!0,a.addUpdateRange(d,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((s,o)=>o).sort((s,o)=>i[s].vertexStart-i[o].vertexStart),a=this.geometry;for(let s=0,o=i.length;s<o;s++){const u=r[s],f=i[u];if(f.active!==!1){if(a.index!==null){if(f.indexStart!==t){const{indexStart:d,vertexStart:g,reservedIndexCount:y}=f,x=a.index,_=x.array,M=e-g;for(let w=d;w<d+y;w++)_[w]=_[w]+M;x.array.copyWithin(t,d,d+y),x.addUpdateRange(t,y),f.indexStart=t}t+=f.reservedIndexCount}if(f.vertexStart!==e){const{vertexStart:d,reservedVertexCount:g}=f,y=a.attributes;for(const x in y){const _=y[x],{array:M,itemSize:w}=_;M.copyWithin(e*w,d*w,(d+g)*w),_.addUpdateRange(e*w,g*w)}f.vertexStart=e}e+=f.reservedVertexCount,f.start=a.index?f.indexStart:f.vertexStart,this._nextIndexStart=a.index?f.indexStart+f.reservedIndexCount:0,this._nextVertexStart=f.vertexStart+f.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new gs,s=i.index,o=i.attributes.position;for(let u=r.start,f=r.start+r.count;u<f;u++){let d=u;s&&(d=s.getX(d)),a.expandByPoint(Jy.fromBufferAttribute(o,d))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new qa;this.getBoundingBoxAt(e,pb),pb.getCenter(a.center);const s=i.index,o=i.attributes.position;let u=0;for(let f=r.start,d=r.start+r.count;f<d;f++){let g=f;s&&(g=s.getX(g)),Jy.fromBufferAttribute(o,g),u=Math.max(u,a.center.distanceToSquared(Jy))}a.radius=Math.sqrt(u),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(U6);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Sd(this._multiDrawCounts,r),Sd(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const s=this._indirectTexture,o=this._matricesTexture,u=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Sd(s.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),Sd(o.image.data,this._matricesTexture.image.data),u&&(u.dispose(),this._initColorsTexture(),Sd(u.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(u=>u.indexStart+u.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new wn,this._initializeGeometry(a));const s=this.geometry;a.index&&Sd(a.index.array,s.index.array);for(const o in a.attributes)Sd(a.attributes[o].array,s.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,s=this.geometry;ss.material=this.material,ss.geometry.index=s.index,ss.geometry.attributes=s.attributes,ss.geometry.boundingBox===null&&(ss.geometry.boundingBox=new gs),ss.geometry.boundingSphere===null&&(ss.geometry.boundingSphere=new qa);for(let o=0,u=i.length;o<u;o++){if(!i[o].visible||!i[o].active)continue;const f=i[o].geometryIndex,d=r[f];ss.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(o,ss.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,ss.geometry.boundingBox),this.getBoundingSphereAt(f,ss.geometry.boundingSphere),ss.raycast(e,mb);for(let g=0,y=mb.length;g<y;g++){const x=mb[g];x.object=this,x.batchId=o,t.push(x)}mb.length=0}ss.material=null,ss.geometry.index=null,ss.geometry.attributes={},ss.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=r.getIndex(),o=s===null?1:s.array.BYTES_PER_ELEMENT,u=this._instanceInfo,f=this._multiDrawStarts,d=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,x=this._indirectTexture,_=x.image.data,M=i.isArrayCamera?wK:$C;y&&!i.isArrayCamera&&(lo.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),$C.setFromProjectionMatrix(lo,i.coordinateSystem,i.reversedDepth));let w=0;if(this.sortObjects){lo.copy(this.matrixWorld).invert(),Jy.setFromMatrixPosition(i.matrixWorld).applyMatrix4(lo),eR.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(lo);for(let R=0,N=u.length;R<N;R++)if(u[R].visible&&u[R].active){const O=u[R].geometryIndex;this.getMatrixAt(R,lo),this.getBoundingSphereAt(O,_d).applyMatrix4(lo);let z=!1;if(y&&(z=!M.intersectsSphere(_d,i)),!z){const B=g[O],G=AK.subVectors(_d.center,Jy).dot(eR);P6.push(B.start,B.count,G,R)}}const S=P6.list,E=this.customSort;E===null?S.sort(a.transparent?_K:bK):E.call(this,S,i);for(let R=0,N=S.length;R<N;R++){const O=S[R];f[w]=O.start*o,d[w]=O.count,_[w]=O.index,w++}P6.reset()}else for(let S=0,E=u.length;S<E;S++)if(u[S].visible&&u[S].active){const R=u[S].geometryIndex;let N=!1;if(y&&(this.getMatrixAt(S,lo),this.getBoundingSphereAt(R,_d).applyMatrix4(lo),N=!M.intersectsSphere(_d,i)),!N){const O=g[R];f[w]=O.start*o,d[w]=O.count,_[w]=S,w++}}x.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,s){this.onBeforeRender(e,null,r,a,s)}}class Qs extends ys{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new It(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const M_=new se,w_=new se,tR=new _n,$y=new ig,gb=new qa,B6=new se,nR=new se;class f0 extends mi{constructor(e=new wn,t=new Qs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)M_.fromBufferAttribute(t,r-1),w_.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=M_.distanceTo(w_);e.setAttribute("lineDistance",new Ht(i,1))}else kt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),gb.copy(i.boundingSphere),gb.applyMatrix4(r),gb.radius+=a,e.ray.intersectsSphere(gb)===!1)return;tR.copy(r).invert(),$y.copy(e.ray).applyMatrix4(tR);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,f=this.isLineSegments?2:1,d=i.index,y=i.attributes.position;if(d!==null){const x=Math.max(0,s.start),_=Math.min(d.count,s.start+s.count);for(let M=x,w=_-1;M<w;M+=f){const S=d.getX(M),E=d.getX(M+1),R=yb(this,e,$y,u,S,E,M);R&&t.push(R)}if(this.isLineLoop){const M=d.getX(_-1),w=d.getX(x),S=yb(this,e,$y,u,M,w,_-1);S&&t.push(S)}}else{const x=Math.max(0,s.start),_=Math.min(y.count,s.start+s.count);for(let M=x,w=_-1;M<w;M+=f){const S=yb(this,e,$y,u,M,M+1,M);S&&t.push(S)}if(this.isLineLoop){const M=yb(this,e,$y,u,_-1,x,_-1);M&&t.push(M)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function yb(n,e,t,i,r,a,s){const o=n.geometry.attributes.position;if(M_.fromBufferAttribute(o,r),w_.fromBufferAttribute(o,a),t.distanceSqToSegment(M_,w_,B6,nR)>i)return;B6.applyMatrix4(n.matrixWorld);const f=e.ray.origin.distanceTo(B6);if(!(f<e.near||f>e.far))return{distance:f,point:nR.clone().applyMatrix4(n.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:n}}const iR=new se,rR=new se;class Dc extends f0{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)iR.fromBufferAttribute(t,r),rR.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+iR.distanceTo(rR);e.setAttribute("lineDistance",new Ht(i,1))}else kt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class bU extends f0{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class o7 extends ys{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const aR=new _n,Kw=new ig,xb=new qa,vb=new se;class _U extends mi{constructor(e=new wn,t=new o7){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),xb.copy(i.boundingSphere),xb.applyMatrix4(r),xb.radius+=a,e.ray.intersectsSphere(xb)===!1)return;aR.copy(r).invert(),Kw.copy(e.ray).applyMatrix4(aR);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,f=i.index,g=i.attributes.position;if(f!==null){const y=Math.max(0,s.start),x=Math.min(f.count,s.start+s.count);for(let _=y,M=x;_<M;_++){const w=f.getX(_);vb.fromBufferAttribute(g,w),sR(vb,w,u,r,e,t,this)}}else{const y=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let _=y,M=x;_<M;_++)vb.fromBufferAttribute(g,_),sR(vb,_,u,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=r.length;a<s;a++){const o=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function sR(n,e,t,i,r,a,s){const o=Kw.distanceSqToPoint(n);if(o<t){const u=new se;Kw.closestPointToPoint(n,u),u.applyMatrix4(i);const f=r.ray.origin.distanceTo(u);if(f<r.near||f>r.far)return;a.push({distance:f,distanceToRay:Math.sqrt(o),point:u,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class SU extends zr{constructor(e,t,i,r,a=Gr,s=Gr,o,u,f){super(e,t,i,r,a,s,o,u,f),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function g(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class EK extends SU{constructor(e,t,i,r,a,s,o,u){super({},e,t,i,r,a,s,o,u),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class CK extends zr{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ja,this.minFilter=ja,this.generateMipmaps=!1,this.needsUpdate=!0}}class mS extends zr{constructor(e,t,i,r,a,s,o,u,f,d,g,y){super(null,s,o,u,f,d,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class RK extends mS{constructor(e,t,i,r,a,s){super(e,t,i,a,s),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=xo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DK extends mS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Pf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class NK extends zr{constructor(e,t,i,r,a,s,o,u,f){super(e,t,i,r,a,s,o,u,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class l7 extends zr{constructor(e,t,i=Bf,r,a,s,o=ja,u=ja,f,d=B1,g=1){if(d!==B1&&d!==I1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,r,a,s,o,u,d,i,f),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Kh(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class u7 extends zr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class gS extends wn{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const s=[],o=[],u=[],f=[],d=t/2,g=Math.PI/2*e,y=t,x=2*g+y,_=i*2+a,M=r+1,w=new se,S=new se;for(let E=0;E<=_;E++){let R=0,N=0,O=0,z=0;if(E<=i){const U=E/i,L=U*Math.PI/2;N=-d-e*Math.cos(L),O=e*Math.sin(L),z=-e*Math.cos(L),R=U*g}else if(E<=i+a){const U=(E-i)/a;N=-d+U*t,O=e,z=0,R=g+U*y}else{const U=(E-i-a)/i,L=U*Math.PI/2;N=d+e*Math.sin(L),O=e*Math.cos(L),z=e*Math.sin(L),R=g+y+U*g}const B=Math.max(0,Math.min(1,R/x));let G=0;E===0?G=.5/r:E===_&&(G=-.5/r);for(let U=0;U<=r;U++){const L=U/r,j=L*Math.PI*2,Z=Math.sin(j),oe=Math.cos(j);S.x=-O*oe,S.y=N,S.z=O*Z,o.push(S.x,S.y,S.z),w.set(-O*oe,z,O*Z),w.normalize(),u.push(w.x,w.y,w.z),f.push(L+G,B)}if(E>0){const U=(E-1)*M;for(let L=0;L<r;L++){const j=U+L,Z=U+L+1,oe=E*M+L,le=E*M+L+1;s.push(j,Z,oe),s.push(Z,le,oe)}}}this.setIndex(s),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class yS extends wn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],s=[],o=[],u=[],f=new se,d=new rt;s.push(0,0,0),o.push(0,0,1),u.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const x=i+g/t*r;f.x=e*Math.cos(x),f.y=e*Math.sin(x),s.push(f.x,f.y,f.z),o.push(0,0,1),d.x=(s[y]/e+1)/2,d.y=(s[y+1]/e+1)/2,u.push(d.x,d.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Xv extends wn{constructor(e=1,t=1,i=1,r=32,a=1,s=!1,o=0,u=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:u};const f=this;r=Math.floor(r),a=Math.floor(a);const d=[],g=[],y=[],x=[];let _=0;const M=[],w=i/2;let S=0;E(),s===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(d),this.setAttribute("position",new Ht(g,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(x,2));function E(){const N=new se,O=new se;let z=0;const B=(t-e)/i;for(let G=0;G<=a;G++){const U=[],L=G/a,j=L*(t-e)+e;for(let Z=0;Z<=r;Z++){const oe=Z/r,le=oe*u+o,ae=Math.sin(le),W=Math.cos(le);O.x=j*ae,O.y=-L*i+w,O.z=j*W,g.push(O.x,O.y,O.z),N.set(ae,B,W).normalize(),y.push(N.x,N.y,N.z),x.push(oe,1-L),U.push(_++)}M.push(U)}for(let G=0;G<r;G++)for(let U=0;U<a;U++){const L=M[U][G],j=M[U+1][G],Z=M[U+1][G+1],oe=M[U][G+1];(e>0||U!==0)&&(d.push(L,j,oe),z+=3),(t>0||U!==a-1)&&(d.push(j,Z,oe),z+=3)}f.addGroup(S,z,0),S+=z}function R(N){const O=_,z=new rt,B=new se;let G=0;const U=N===!0?e:t,L=N===!0?1:-1;for(let Z=1;Z<=r;Z++)g.push(0,w*L,0),y.push(0,L,0),x.push(.5,.5),_++;const j=_;for(let Z=0;Z<=r;Z++){const le=Z/r*u+o,ae=Math.cos(le),W=Math.sin(le);B.x=U*W,B.y=w*L,B.z=U*ae,g.push(B.x,B.y,B.z),y.push(0,L,0),z.x=ae*.5+.5,z.y=W*.5*L+.5,x.push(z.x,z.y),_++}for(let Z=0;Z<r;Z++){const oe=O+Z,le=j+Z;N===!0?d.push(le,le+1,oe):d.push(le+1,le,oe),G+=3}f.addGroup(S,G,N===!0?1:2),S+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Wv extends Xv{constructor(e=1,t=1,i=32,r=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,i,r,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Wv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class v0 extends wn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],s=[];o(r),f(i),d(),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(a.slice(),3)),this.setAttribute("uv",new Ht(s,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(E){const R=new se,N=new se,O=new se;for(let z=0;z<t.length;z+=3)x(t[z+0],R),x(t[z+1],N),x(t[z+2],O),u(R,N,O,E)}function u(E,R,N,O){const z=O+1,B=[];for(let G=0;G<=z;G++){B[G]=[];const U=E.clone().lerp(N,G/z),L=R.clone().lerp(N,G/z),j=z-G;for(let Z=0;Z<=j;Z++)Z===0&&G===z?B[G][Z]=U:B[G][Z]=U.clone().lerp(L,Z/j)}for(let G=0;G<z;G++)for(let U=0;U<2*(z-G)-1;U++){const L=Math.floor(U/2);U%2===0?(y(B[G][L+1]),y(B[G+1][L]),y(B[G][L])):(y(B[G][L+1]),y(B[G+1][L+1]),y(B[G+1][L]))}}function f(E){const R=new se;for(let N=0;N<a.length;N+=3)R.x=a[N+0],R.y=a[N+1],R.z=a[N+2],R.normalize().multiplyScalar(E),a[N+0]=R.x,a[N+1]=R.y,a[N+2]=R.z}function d(){const E=new se;for(let R=0;R<a.length;R+=3){E.x=a[R+0],E.y=a[R+1],E.z=a[R+2];const N=w(E)/2/Math.PI+.5,O=S(E)/Math.PI+.5;s.push(N,1-O)}_(),g()}function g(){for(let E=0;E<s.length;E+=6){const R=s[E+0],N=s[E+2],O=s[E+4],z=Math.max(R,N,O),B=Math.min(R,N,O);z>.9&&B<.1&&(R<.2&&(s[E+0]+=1),N<.2&&(s[E+2]+=1),O<.2&&(s[E+4]+=1))}}function y(E){a.push(E.x,E.y,E.z)}function x(E,R){const N=E*3;R.x=e[N+0],R.y=e[N+1],R.z=e[N+2]}function _(){const E=new se,R=new se,N=new se,O=new se,z=new rt,B=new rt,G=new rt;for(let U=0,L=0;U<a.length;U+=9,L+=6){E.set(a[U+0],a[U+1],a[U+2]),R.set(a[U+3],a[U+4],a[U+5]),N.set(a[U+6],a[U+7],a[U+8]),z.set(s[L+0],s[L+1]),B.set(s[L+2],s[L+3]),G.set(s[L+4],s[L+5]),O.copy(E).add(R).add(N).divideScalar(3);const j=w(O);M(z,L+0,E,j),M(B,L+2,R,j),M(G,L+4,N,j)}}function M(E,R,N,O){O<0&&E.x===1&&(s[R]=E.x-1),N.x===0&&N.z===0&&(s[R]=O/2/Math.PI+.5)}function w(E){return Math.atan2(E.z,-E.x)}function S(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v0(e.vertices,e.indices,e.radius,e.details)}}class xS extends v0{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xS(e.radius,e.detail)}}const bb=new se,_b=new se,I6=new se,Sb=new go;class MU extends wn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(ip*t),s=e.getIndex(),o=e.getAttribute("position"),u=s?s.count:o.count,f=[0,0,0],d=["a","b","c"],g=new Array(3),y={},x=[];for(let _=0;_<u;_+=3){s?(f[0]=s.getX(_),f[1]=s.getX(_+1),f[2]=s.getX(_+2)):(f[0]=_,f[1]=_+1,f[2]=_+2);const{a:M,b:w,c:S}=Sb;if(M.fromBufferAttribute(o,f[0]),w.fromBufferAttribute(o,f[1]),S.fromBufferAttribute(o,f[2]),Sb.getNormal(I6),g[0]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[1]=`${Math.round(w.x*r)},${Math.round(w.y*r)},${Math.round(w.z*r)}`,g[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let E=0;E<3;E++){const R=(E+1)%3,N=g[E],O=g[R],z=Sb[d[E]],B=Sb[d[R]],G=`${N}_${O}`,U=`${O}_${N}`;U in y&&y[U]?(I6.dot(y[U].normal)<=a&&(x.push(z.x,z.y,z.z),x.push(B.x,B.y,B.z)),y[U]=null):G in y||(y[G]={index0:f[E],index1:f[R],normal:I6.clone()})}}for(const _ in y)if(y[_]){const{index0:M,index1:w}=y[_];bb.fromBufferAttribute(o,M),_b.fromBufferAttribute(o,w),x.push(bb.x,bb.y,bb.z),x.push(_b.x,_b.y,_b.z)}this.setAttribute("position",new Ht(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Cu{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){kt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let s;t?s=t:s=e*i[a-1];let o=0,u=a-1,f;for(;o<=u;)if(r=Math.floor(o+(u-o)/2),f=i[r]-s,f<0)o=r+1;else if(f>0)u=r-1;else{u=r;break}if(r=u,i[r]===s)return r/(a-1);const d=i[r],y=i[r+1]-d,x=(s-d)/y;return(r+x)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const s=this.getPoint(r),o=this.getPoint(a),u=t||(s.isVector2?new rt:new se);return u.copy(o).sub(s).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new se,r=[],a=[],s=[],o=new se,u=new _n;for(let x=0;x<=e;x++){const _=x/e;r[x]=this.getTangentAt(_,new se)}a[0]=new se,s[0]=new se;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),g<=f&&(f=g,i.set(0,1,0)),y<=f&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],o),s[0].crossVectors(r[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),s[x]=s[x-1].clone(),o.crossVectors(r[x-1],r[x]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(mn(r[x-1].dot(r[x]),-1,1));a[x].applyMatrix4(u.makeRotationAxis(o,_))}s[x].crossVectors(r[x],a[x])}if(t===!0){let x=Math.acos(mn(a[0].dot(a[e]),-1,1));x/=e,r[0].dot(o.crossVectors(a[0],a[e]))>0&&(x=-x);for(let _=1;_<=e;_++)a[_].applyMatrix4(u.makeRotationAxis(r[_],x*_)),s[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class vS extends Cu{constructor(e=0,t=0,i=1,r=1,a=0,s=Math.PI*2,o=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=u}getPoint(e,t=new rt){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(s?a=0:a=r),this.aClockwise===!0&&!s&&(a===r?a=-r:a=a-r);const o=this.aStartAngle+e*a;let u=this.aX+this.xRadius*Math.cos(o),f=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const d=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=u-this.aX,x=f-this.aY;u=y*d-x*g+this.aX,f=y*g+x*d+this.aY}return i.set(u,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wU extends vS{constructor(e,t,i,r,a,s){super(e,t,i,i,r,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function c7(){let n=0,e=0,t=0,i=0;function r(a,s,o,u){n=a,e=o,t=-3*a+3*s-2*o-u,i=2*a-2*s+o+u}return{initCatmullRom:function(a,s,o,u,f){r(s,o,f*(o-a),f*(u-s))},initNonuniformCatmullRom:function(a,s,o,u,f,d,g){let y=(s-a)/f-(o-a)/(f+d)+(o-s)/d,x=(o-s)/d-(u-s)/(d+g)+(u-o)/g;y*=d,x*=d,r(s,o,y,x)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+i*o}}}const Mb=new se,F6=new c7,V6=new c7,H6=new c7;class AU extends Cu{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new se){const i=t,r=this.points,a=r.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),u=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:u===0&&o===a-1&&(o=a-2,u=1);let f,d;this.closed||o>0?f=r[(o-1)%a]:(Mb.subVectors(r[0],r[1]).add(r[0]),f=Mb);const g=r[o%a],y=r[(o+1)%a];if(this.closed||o+2<a?d=r[(o+2)%a]:(Mb.subVectors(r[a-1],r[a-2]).add(r[a-1]),d=Mb),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let _=Math.pow(f.distanceToSquared(g),x),M=Math.pow(g.distanceToSquared(y),x),w=Math.pow(y.distanceToSquared(d),x);M<1e-4&&(M=1),_<1e-4&&(_=M),w<1e-4&&(w=M),F6.initNonuniformCatmullRom(f.x,g.x,y.x,d.x,_,M,w),V6.initNonuniformCatmullRom(f.y,g.y,y.y,d.y,_,M,w),H6.initNonuniformCatmullRom(f.z,g.z,y.z,d.z,_,M,w)}else this.curveType==="catmullrom"&&(F6.initCatmullRom(f.x,g.x,y.x,d.x,this.tension),V6.initCatmullRom(f.y,g.y,y.y,d.y,this.tension),H6.initCatmullRom(f.z,g.z,y.z,d.z,this.tension));return i.set(F6.calc(u),V6.calc(u),H6.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new se().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function oR(n,e,t,i,r){const a=(i-e)*.5,s=(r-t)*.5,o=n*n,u=n*o;return(2*t-2*i+a+s)*u+(-3*t+3*i-2*a-s)*o+a*n+t}function zK(n,e){const t=1-n;return t*t*e}function LK(n,e){return 2*(1-n)*n*e}function kK(n,e){return n*n*e}function Vx(n,e,t,i){return zK(n,e)+LK(n,t)+kK(n,i)}function OK(n,e){const t=1-n;return t*t*t*e}function UK(n,e){const t=1-n;return 3*t*t*n*e}function PK(n,e){return 3*(1-n)*n*n*e}function BK(n,e){return n*n*n*e}function Hx(n,e,t,i,r){return OK(n,e)+UK(n,t)+PK(n,i)+BK(n,r)}class f7 extends Cu{constructor(e=new rt,t=new rt,i=new rt,r=new rt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new rt){const i=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Hx(e,r.x,a.x,s.x,o.x),Hx(e,r.y,a.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class TU extends Cu{constructor(e=new se,t=new se,i=new se,r=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new se){const i=t,r=this.v0,a=this.v1,s=this.v2,o=this.v3;return i.set(Hx(e,r.x,a.x,s.x,o.x),Hx(e,r.y,a.y,s.y,o.y),Hx(e,r.z,a.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h7 extends Cu{constructor(e=new rt,t=new rt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new rt){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new rt){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EU extends Cu{constructor(e=new se,t=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new se){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class d7 extends Cu{constructor(e=new rt,t=new rt,i=new rt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new rt){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(Vx(e,r.x,a.x,s.x),Vx(e,r.y,a.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p7 extends Cu{constructor(e=new se,t=new se,i=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new se){const i=t,r=this.v0,a=this.v1,s=this.v2;return i.set(Vx(e,r.x,a.x,s.x),Vx(e,r.y,a.y,s.y),Vx(e,r.z,a.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m7 extends Cu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new rt){const i=t,r=this.points,a=(r.length-1)*e,s=Math.floor(a),o=a-s,u=r[s===0?s:s-1],f=r[s],d=r[s>r.length-2?r.length-1:s+1],g=r[s>r.length-3?r.length-1:s+2];return i.set(oR(o,u.x,f.x,d.x,g.x),oR(o,u.y,f.y,d.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new rt().fromArray(r))}return this}}var A_=Object.freeze({__proto__:null,ArcCurve:wU,CatmullRomCurve3:AU,CubicBezierCurve:f7,CubicBezierCurve3:TU,EllipseCurve:vS,LineCurve:h7,LineCurve3:EU,QuadraticBezierCurve:d7,QuadraticBezierCurve3:p7,SplineCurve:m7});class CU extends Cu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new A_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const s=r[a]-i,o=this.curves[a],u=o.getLength(),f=u===0?0:1-s/u;return o.getPointAt(f,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const s=a[r],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,u=s.getPoints(o);for(let f=0;f<u.length;f++){const d=u[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new A_[r.type]().fromJSON(r))}return this}}class T_ extends CU{constructor(e){super(),this.type="Path",this.currentPoint=new rt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new h7(this.currentPoint.clone(),new rt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new d7(this.currentPoint.clone(),new rt(e,t),new rt(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,s){const o=new f7(this.currentPoint.clone(),new rt(e,t),new rt(i,r),new rt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new m7(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,s){const o=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+o,t+u,i,r,a,s),this}absarc(e,t,i,r,a,s){return this.absellipse(e,t,i,i,r,a,s),this}ellipse(e,t,i,r,a,s,o,u){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,a,s,o,u),this}absellipse(e,t,i,r,a,s,o,u){const f=new vS(e,t,i,r,a,s,o,u);if(this.curves.length>0){const g=f.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class rp extends T_{constructor(e){super(e),this.uuid=el(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new T_().fromJSON(r))}return this}}function IK(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=RU(n,0,r,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,u,f;if(i&&(a=jK(n,e,a,t)),n.length>80*t){o=n[0],u=n[1];let d=o,g=u;for(let y=t;y<r;y+=t){const x=n[y],_=n[y+1];x<o&&(o=x),_<u&&(u=_),x>d&&(d=x),_>g&&(g=_)}f=Math.max(d-o,g-u),f=f!==0?32767/f:0}return bv(a,s,t,o,u,f,0),s}function RU(n,e,t,i,r){let a;if(r===tQ(n,e,t,i)>0)for(let s=e;s<t;s+=i)a=lR(s/i|0,n[s],n[s+1],a);else for(let s=t-i;s>=e;s-=i)a=lR(s/i|0,n[s],n[s+1],a);return a&&X1(a,a.next)&&(Sv(a),a=a.next),a}function fp(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(X1(t,t.next)||Sr(t.prev,t,t.next)===0)){if(Sv(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function bv(n,e,t,i,r,a,s){if(!n)return;!s&&a&&ZK(n,i,r,a);let o=n;for(;n.prev!==n.next;){const u=n.prev,f=n.next;if(a?VK(n,i,r,a):FK(n)){e.push(u.i,n.i,f.i),Sv(n),n=f.next,o=f.next;continue}if(n=f,n===o){s?s===1?(n=HK(fp(n),e),bv(n,e,t,i,r,a,2)):s===2&&GK(n,e,t,i,r,a):bv(fp(n),e,t,i,r,a,1);break}}}function FK(n){const e=n.prev,t=n,i=n.next;if(Sr(e,t,i)>=0)return!1;const r=e.x,a=t.x,s=i.x,o=e.y,u=t.y,f=i.y,d=Math.min(r,a,s),g=Math.min(o,u,f),y=Math.max(r,a,s),x=Math.max(o,u,f);let _=i.next;for(;_!==e;){if(_.x>=d&&_.x<=y&&_.y>=g&&_.y<=x&&mx(r,o,a,u,s,f,_.x,_.y)&&Sr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function VK(n,e,t,i){const r=n.prev,a=n,s=n.next;if(Sr(r,a,s)>=0)return!1;const o=r.x,u=a.x,f=s.x,d=r.y,g=a.y,y=s.y,x=Math.min(o,u,f),_=Math.min(d,g,y),M=Math.max(o,u,f),w=Math.max(d,g,y),S=Qw(x,_,e,t,i),E=Qw(M,w,e,t,i);let R=n.prevZ,N=n.nextZ;for(;R&&R.z>=S&&N&&N.z<=E;){if(R.x>=x&&R.x<=M&&R.y>=_&&R.y<=w&&R!==r&&R!==s&&mx(o,d,u,g,f,y,R.x,R.y)&&Sr(R.prev,R,R.next)>=0||(R=R.prevZ,N.x>=x&&N.x<=M&&N.y>=_&&N.y<=w&&N!==r&&N!==s&&mx(o,d,u,g,f,y,N.x,N.y)&&Sr(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=S;){if(R.x>=x&&R.x<=M&&R.y>=_&&R.y<=w&&R!==r&&R!==s&&mx(o,d,u,g,f,y,R.x,R.y)&&Sr(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=E;){if(N.x>=x&&N.x<=M&&N.y>=_&&N.y<=w&&N!==r&&N!==s&&mx(o,d,u,g,f,y,N.x,N.y)&&Sr(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function HK(n,e){let t=n;do{const i=t.prev,r=t.next.next;!X1(i,r)&&NU(i,t,t.next,r)&&_v(i,r)&&_v(r,i)&&(e.push(i.i,t.i,r.i),Sv(t),Sv(t.next),t=n=r),t=t.next}while(t!==n);return fp(t)}function GK(n,e,t,i,r,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&JK(s,o)){let u=zU(s,o);s=fp(s,s.next),u=fp(u,u.next),bv(s,e,t,i,r,a,0),bv(u,e,t,i,r,a,0);return}o=o.next}s=s.next}while(s!==n)}function jK(n,e,t,i){const r=[];for(let a=0,s=e.length;a<s;a++){const o=e[a]*i,u=a<s-1?e[a+1]*i:n.length,f=RU(n,o,u,i,!1);f===f.next&&(f.steiner=!0),r.push(QK(f))}r.sort(qK);for(let a=0;a<r.length;a++)t=XK(r[a],t);return t}function qK(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function XK(n,e){const t=WK(n,e);if(!t)return e;const i=zU(t,n);return fp(i,i.next),fp(t,t.next)}function WK(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,s;if(X1(n,t))return t;do{if(X1(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,s=t.x<t.next.x?t:t.next,g===i))return s}t=t.next}while(t!==e);if(!s)return null;const o=s,u=s.x,f=s.y;let d=1/0;t=s;do{if(i>=t.x&&t.x>=u&&i!==t.x&&DU(r<f?i:a,r,u,f,r<f?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);_v(t,n)&&(g<d||g===d&&(t.x>s.x||t.x===s.x&&YK(s,t)))&&(s=t,d=g)}t=t.next}while(t!==o);return s}function YK(n,e){return Sr(n.prev,n,e.prev)<0&&Sr(e.next,n,n.next)<0}function ZK(n,e,t,i){let r=n;do r.z===0&&(r.z=Qw(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,KK(r)}function KK(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let s=i,o=0;for(let f=0;f<t&&(o++,s=s.nextZ,!!s);f++);let u=t;for(;o>0||u>0&&s;)o!==0&&(u===0||!s||i.z<=s.z)?(r=i,i=i.nextZ,o--):(r=s,s=s.nextZ,u--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=s}a.nextZ=null,t*=2}while(e>1);return n}function Qw(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function QK(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function DU(n,e,t,i,r,a,s,o){return(r-s)*(e-o)>=(n-s)*(a-o)&&(n-s)*(i-o)>=(t-s)*(e-o)&&(t-s)*(a-o)>=(r-s)*(i-o)}function mx(n,e,t,i,r,a,s,o){return!(n===s&&e===o)&&DU(n,e,t,i,r,a,s,o)}function JK(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!$K(n,e)&&(_v(n,e)&&_v(e,n)&&eQ(n,e)&&(Sr(n.prev,n,e.prev)||Sr(n,e.prev,e))||X1(n,e)&&Sr(n.prev,n,n.next)>0&&Sr(e.prev,e,e.next)>0)}function Sr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function X1(n,e){return n.x===e.x&&n.y===e.y}function NU(n,e,t,i){const r=Ab(Sr(n,e,t)),a=Ab(Sr(n,e,i)),s=Ab(Sr(t,i,n)),o=Ab(Sr(t,i,e));return!!(r!==a&&s!==o||r===0&&wb(n,t,e)||a===0&&wb(n,i,e)||s===0&&wb(t,n,i)||o===0&&wb(t,e,i))}function wb(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ab(n){return n>0?1:n<0?-1:0}function $K(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&NU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function _v(n,e){return Sr(n.prev,n,n.next)<0?Sr(n,e,n.next)>=0&&Sr(n,n.prev,e)>=0:Sr(n,e,n.prev)<0||Sr(n,n.next,e)<0}function eQ(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function zU(n,e){const t=Jw(n.i,n.x,n.y),i=Jw(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function lR(n,e,t,i){const r=Jw(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Sv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Jw(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tQ(n,e,t,i){let r=0;for(let a=e,s=t-i;a<t;a+=i)r+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return r}class nQ{static triangulate(e,t,i=2){return IK(e,t,i)}}class Mu{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return Mu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];uR(e),cR(i,e);let s=e.length;t.forEach(uR);for(let u=0;u<t.length;u++)r.push(s),s+=t[u].length,cR(i,t[u]);const o=nQ.triangulate(i,r);for(let u=0;u<o.length;u+=3)a.push(o.slice(u,u+3));return a}}function uR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function cR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class bS extends wn{constructor(e=new rp([new rt(.5,.5),new rt(-.5,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let o=0,u=e.length;o<u;o++){const f=e[o];s(f)}this.setAttribute("position",new Ht(r,3)),this.setAttribute("uv",new Ht(a,2)),this.computeVertexNormals();function s(o){const u=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:x-.1,M=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,E=t.UVGenerator!==void 0?t.UVGenerator:iQ;let R,N=!1,O,z,B,G;S&&(R=S.getSpacedPoints(d),N=!0,y=!1,O=S.computeFrenetFrames(d,!1),z=new se,B=new se,G=new se),y||(w=0,x=0,_=0,M=0);const U=o.extractPoints(f);let L=U.shape;const j=U.holes;if(!Mu.isClockWise(L)){L=L.reverse();for(let Fe=0,ne=j.length;Fe<ne;Fe++){const Ge=j[Fe];Mu.isClockWise(Ge)&&(j[Fe]=Ge.reverse())}}function oe(Fe){const Ge=10000000000000001e-36;let de=Fe[0];for(let it=1;it<=Fe.length;it++){const Ze=it%Fe.length,xt=Fe[Ze],tt=xt.x-de.x,Mt=xt.y-de.y,ie=tt*tt+Mt*Mt,X=Math.max(Math.abs(xt.x),Math.abs(xt.y),Math.abs(de.x),Math.abs(de.y)),Ae=Ge*X*X;if(ie<=Ae){Fe.splice(Ze,1),it--;continue}de=xt}}oe(L),j.forEach(oe);const le=j.length,ae=L;for(let Fe=0;Fe<le;Fe++){const ne=j[Fe];L=L.concat(ne)}function W(Fe,ne,Ge){return ne||Mn("ExtrudeGeometry: vec does not exist"),Fe.clone().addScaledVector(ne,Ge)}const te=L.length;function re(Fe,ne,Ge){let de,it,Ze;const xt=Fe.x-ne.x,tt=Fe.y-ne.y,Mt=Ge.x-Fe.x,ie=Ge.y-Fe.y,X=xt*xt+tt*tt,Ae=xt*ie-tt*Mt;if(Math.abs(Ae)>Number.EPSILON){const ce=Math.sqrt(X),xe=Math.sqrt(Mt*Mt+ie*ie),Me=ne.x-tt/ce,nt=ne.y+xt/ce,Qe=Ge.x-ie/xe,Rt=Ge.y+Mt/xe,ft=((Qe-Me)*ie-(Rt-nt)*Mt)/(xt*ie-tt*Mt);de=Me+xt*ft-Fe.x,it=nt+tt*ft-Fe.y;const He=de*de+it*it;if(He<=2)return new rt(de,it);Ze=Math.sqrt(He/2)}else{let ce=!1;xt>Number.EPSILON?Mt>Number.EPSILON&&(ce=!0):xt<-Number.EPSILON?Mt<-Number.EPSILON&&(ce=!0):Math.sign(tt)===Math.sign(ie)&&(ce=!0),ce?(de=-tt,it=xt,Ze=Math.sqrt(X)):(de=xt,it=tt,Ze=Math.sqrt(X/2))}return new rt(de/Ze,it/Ze)}const ve=[];for(let Fe=0,ne=ae.length,Ge=ne-1,de=Fe+1;Fe<ne;Fe++,Ge++,de++)Ge===ne&&(Ge=0),de===ne&&(de=0),ve[Fe]=re(ae[Fe],ae[Ge],ae[de]);const F=[];let J,ye=ve.concat();for(let Fe=0,ne=le;Fe<ne;Fe++){const Ge=j[Fe];J=[];for(let de=0,it=Ge.length,Ze=it-1,xt=de+1;de<it;de++,Ze++,xt++)Ze===it&&(Ze=0),xt===it&&(xt=0),J[de]=re(Ge[de],Ge[Ze],Ge[xt]);F.push(J),ye=ye.concat(J)}let K;if(w===0)K=Mu.triangulateShape(ae,j);else{const Fe=[],ne=[];for(let Ge=0;Ge<w;Ge++){const de=Ge/w,it=x*Math.cos(de*Math.PI/2),Ze=_*Math.sin(de*Math.PI/2)+M;for(let xt=0,tt=ae.length;xt<tt;xt++){const Mt=W(ae[xt],ve[xt],Ze);at(Mt.x,Mt.y,-it),de===0&&Fe.push(Mt)}for(let xt=0,tt=le;xt<tt;xt++){const Mt=j[xt];J=F[xt];const ie=[];for(let X=0,Ae=Mt.length;X<Ae;X++){const ce=W(Mt[X],J[X],Ze);at(ce.x,ce.y,-it),de===0&&ie.push(ce)}de===0&&ne.push(ie)}}K=Mu.triangulateShape(Fe,ne)}const Le=K.length,Ye=_+M;for(let Fe=0;Fe<te;Fe++){const ne=y?W(L[Fe],ye[Fe],Ye):L[Fe];N?(B.copy(O.normals[0]).multiplyScalar(ne.x),z.copy(O.binormals[0]).multiplyScalar(ne.y),G.copy(R[0]).add(B).add(z),at(G.x,G.y,G.z)):at(ne.x,ne.y,0)}for(let Fe=1;Fe<=d;Fe++)for(let ne=0;ne<te;ne++){const Ge=y?W(L[ne],ye[ne],Ye):L[ne];N?(B.copy(O.normals[Fe]).multiplyScalar(Ge.x),z.copy(O.binormals[Fe]).multiplyScalar(Ge.y),G.copy(R[Fe]).add(B).add(z),at(G.x,G.y,G.z)):at(Ge.x,Ge.y,g/d*Fe)}for(let Fe=w-1;Fe>=0;Fe--){const ne=Fe/w,Ge=x*Math.cos(ne*Math.PI/2),de=_*Math.sin(ne*Math.PI/2)+M;for(let it=0,Ze=ae.length;it<Ze;it++){const xt=W(ae[it],ve[it],de);at(xt.x,xt.y,g+Ge)}for(let it=0,Ze=j.length;it<Ze;it++){const xt=j[it];J=F[it];for(let tt=0,Mt=xt.length;tt<Mt;tt++){const ie=W(xt[tt],J[tt],de);N?at(ie.x,ie.y+R[d-1].y,R[d-1].x+Ge):at(ie.x,ie.y,g+Ge)}}}_e(),Ne();function _e(){const Fe=r.length/3;if(y){let ne=0,Ge=te*ne;for(let de=0;de<Le;de++){const it=K[de];_t(it[2]+Ge,it[1]+Ge,it[0]+Ge)}ne=d+w*2,Ge=te*ne;for(let de=0;de<Le;de++){const it=K[de];_t(it[0]+Ge,it[1]+Ge,it[2]+Ge)}}else{for(let ne=0;ne<Le;ne++){const Ge=K[ne];_t(Ge[2],Ge[1],Ge[0])}for(let ne=0;ne<Le;ne++){const Ge=K[ne];_t(Ge[0]+te*d,Ge[1]+te*d,Ge[2]+te*d)}}i.addGroup(Fe,r.length/3-Fe,0)}function Ne(){const Fe=r.length/3;let ne=0;Xe(ae,ne),ne+=ae.length;for(let Ge=0,de=j.length;Ge<de;Ge++){const it=j[Ge];Xe(it,ne),ne+=it.length}i.addGroup(Fe,r.length/3-Fe,1)}function Xe(Fe,ne){let Ge=Fe.length;for(;--Ge>=0;){const de=Ge;let it=Ge-1;it<0&&(it=Fe.length-1);for(let Ze=0,xt=d+w*2;Ze<xt;Ze++){const tt=te*Ze,Mt=te*(Ze+1),ie=ne+de+tt,X=ne+it+tt,Ae=ne+it+Mt,ce=ne+de+Mt;Pt(ie,X,Ae,ce)}}}function at(Fe,ne,Ge){u.push(Fe),u.push(ne),u.push(Ge)}function _t(Fe,ne,Ge){rn(Fe),rn(ne),rn(Ge);const de=r.length/3,it=E.generateTopUV(i,r,de-3,de-2,de-1);dt(it[0]),dt(it[1]),dt(it[2])}function Pt(Fe,ne,Ge,de){rn(Fe),rn(ne),rn(de),rn(ne),rn(Ge),rn(de);const it=r.length/3,Ze=E.generateSideWallUV(i,r,it-6,it-3,it-2,it-1);dt(Ze[0]),dt(Ze[1]),dt(Ze[3]),dt(Ze[1]),dt(Ze[2]),dt(Ze[3])}function rn(Fe){r.push(u[Fe*3+0]),r.push(u[Fe*3+1]),r.push(u[Fe*3+2])}function dt(Fe){a.push(Fe.x),a.push(Fe.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return rQ(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new A_[r.type]().fromJSON(r)),new bS(i,e.options)}}const iQ={generateTopUV:function(n,e,t,i,r){const a=e[t*3],s=e[t*3+1],o=e[i*3],u=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new rt(a,s),new rt(o,u),new rt(f,d)]},generateSideWallUV:function(n,e,t,i,r,a){const s=e[t*3],o=e[t*3+1],u=e[t*3+2],f=e[i*3],d=e[i*3+1],g=e[i*3+2],y=e[r*3],x=e[r*3+1],_=e[r*3+2],M=e[a*3],w=e[a*3+1],S=e[a*3+2];return Math.abs(o-d)<Math.abs(s-f)?[new rt(s,1-u),new rt(f,1-g),new rt(y,1-_),new rt(M,1-S)]:[new rt(o,1-u),new rt(d,1-g),new rt(x,1-_),new rt(w,1-S)]}};function rQ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class _S extends v0{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _S(e.radius,e.detail)}}class SS extends wn{constructor(e=[new rt(0,-.5),new rt(.5,0),new rt(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=mn(r,0,Math.PI*2);const a=[],s=[],o=[],u=[],f=[],d=1/t,g=new se,y=new rt,x=new se,_=new se,M=new se;let w=0,S=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:w=e[E+1].x-e[E].x,S=e[E+1].y-e[E].y,x.x=S*1,x.y=-w,x.z=S*0,M.copy(x),x.normalize(),u.push(x.x,x.y,x.z);break;case e.length-1:u.push(M.x,M.y,M.z);break;default:w=e[E+1].x-e[E].x,S=e[E+1].y-e[E].y,x.x=S*1,x.y=-w,x.z=S*0,_.copy(x),x.x+=M.x,x.y+=M.y,x.z+=M.z,x.normalize(),u.push(x.x,x.y,x.z),M.copy(_)}for(let E=0;E<=t;E++){const R=i+E*d*r,N=Math.sin(R),O=Math.cos(R);for(let z=0;z<=e.length-1;z++){g.x=e[z].x*N,g.y=e[z].y,g.z=e[z].x*O,s.push(g.x,g.y,g.z),y.x=E/t,y.y=z/(e.length-1),o.push(y.x,y.y);const B=u[3*z+0]*N,G=u[3*z+1],U=u[3*z+0]*O;f.push(B,G,U)}}for(let E=0;E<t;E++)for(let R=0;R<e.length-1;R++){const N=R+E*e.length,O=N,z=N+e.length,B=N+e.length+1,G=N+1;a.push(O,z,G),a.push(B,G,z)}this.setIndex(a),this.setAttribute("position",new Ht(s,3)),this.setAttribute("uv",new Ht(o,2)),this.setAttribute("normal",new Ht(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new SS(e.points,e.segments,e.phiStart,e.phiLength)}}class Yv extends v0{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Yv(e.radius,e.detail)}}class ag extends wn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,s=t/2,o=Math.floor(i),u=Math.floor(r),f=o+1,d=u+1,g=e/o,y=t/u,x=[],_=[],M=[],w=[];for(let S=0;S<d;S++){const E=S*y-s;for(let R=0;R<f;R++){const N=R*g-a;_.push(N,-E,0),M.push(0,0,1),w.push(R/o),w.push(1-S/u)}}for(let S=0;S<u;S++)for(let E=0;E<o;E++){const R=E+f*S,N=E+f*(S+1),O=E+1+f*(S+1),z=E+1+f*S;x.push(R,N,z),x.push(N,O,z)}this.setIndex(x),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(M,3)),this.setAttribute("uv",new Ht(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ag(e.width,e.height,e.widthSegments,e.heightSegments)}}class MS extends wn{constructor(e=.5,t=1,i=32,r=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:s},i=Math.max(3,i),r=Math.max(1,r);const o=[],u=[],f=[],d=[];let g=e;const y=(t-e)/r,x=new se,_=new rt;for(let M=0;M<=r;M++){for(let w=0;w<=i;w++){const S=a+w/i*s;x.x=g*Math.cos(S),x.y=g*Math.sin(S),u.push(x.x,x.y,x.z),f.push(0,0,1),_.x=(x.x/t+1)/2,_.y=(x.y/t+1)/2,d.push(_.x,_.y)}g+=y}for(let M=0;M<r;M++){const w=M*(i+1);for(let S=0;S<i;S++){const E=S+w,R=E,N=E+i+1,O=E+i+2,z=E+1;o.push(R,N,z),o.push(N,O,z)}}this.setIndex(o),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class wS extends wn{constructor(e=new rp([new rt(0,.5),new rt(-.5,-.5),new rt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],s=[];let o=0,u=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(o,u,d),o+=u,u=0;this.setIndex(i),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(a,3)),this.setAttribute("uv",new Ht(s,2));function f(d){const g=r.length/3,y=d.extractPoints(t);let x=y.shape;const _=y.holes;Mu.isClockWise(x)===!1&&(x=x.reverse());for(let w=0,S=_.length;w<S;w++){const E=_[w];Mu.isClockWise(E)===!0&&(_[w]=E.reverse())}const M=Mu.triangulateShape(x,_);for(let w=0,S=_.length;w<S;w++){const E=_[w];x=x.concat(E)}for(let w=0,S=x.length;w<S;w++){const E=x[w];r.push(E.x,E.y,0),a.push(0,0,1),s.push(E.x,E.y)}for(let w=0,S=M.length;w<S;w++){const E=M[w],R=E[0]+g,N=E[1]+g,O=E[2]+g;i.push(R,N,O),u+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return aQ(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const s=t[e.shapes[r]];i.push(s)}return new wS(i,e.curveSegments)}}function aQ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Zv extends wn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const u=Math.min(s+o,Math.PI);let f=0;const d=[],g=new se,y=new se,x=[],_=[],M=[],w=[];for(let S=0;S<=i;S++){const E=[],R=S/i;let N=0;S===0&&s===0?N=.5/t:S===i&&u===Math.PI&&(N=-.5/t);for(let O=0;O<=t;O++){const z=O/t;g.x=-e*Math.cos(r+z*a)*Math.sin(s+R*o),g.y=e*Math.cos(s+R*o),g.z=e*Math.sin(r+z*a)*Math.sin(s+R*o),_.push(g.x,g.y,g.z),y.copy(g).normalize(),M.push(y.x,y.y,y.z),w.push(z+N,1-R),E.push(f++)}d.push(E)}for(let S=0;S<i;S++)for(let E=0;E<t;E++){const R=d[S][E+1],N=d[S][E],O=d[S+1][E],z=d[S+1][E+1];(S!==0||s>0)&&x.push(R,N,z),(S!==i-1||u<Math.PI)&&x.push(N,O,z)}this.setIndex(x),this.setAttribute("position",new Ht(_,3)),this.setAttribute("normal",new Ht(M,3)),this.setAttribute("uv",new Ht(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class AS extends v0{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new AS(e.radius,e.detail)}}class TS extends wn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const s=[],o=[],u=[],f=[],d=new se,g=new se,y=new se;for(let x=0;x<=i;x++)for(let _=0;_<=r;_++){const M=_/r*a,w=x/i*Math.PI*2;g.x=(e+t*Math.cos(w))*Math.cos(M),g.y=(e+t*Math.cos(w))*Math.sin(M),g.z=t*Math.sin(w),o.push(g.x,g.y,g.z),d.x=e*Math.cos(M),d.y=e*Math.sin(M),y.subVectors(g,d).normalize(),u.push(y.x,y.y,y.z),f.push(_/r),f.push(x/i)}for(let x=1;x<=i;x++)for(let _=1;_<=r;_++){const M=(r+1)*x+_-1,w=(r+1)*(x-1)+_-1,S=(r+1)*(x-1)+_,E=(r+1)*x+_;s.push(M,w,E),s.push(w,S,E)}this.setIndex(s),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ES extends wn{constructor(e=1,t=.4,i=64,r=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:s},i=Math.floor(i),r=Math.floor(r);const o=[],u=[],f=[],d=[],g=new se,y=new se,x=new se,_=new se,M=new se,w=new se,S=new se;for(let R=0;R<=i;++R){const N=R/i*a*Math.PI*2;E(N,a,s,e,x),E(N+.01,a,s,e,_),w.subVectors(_,x),S.addVectors(_,x),M.crossVectors(w,S),S.crossVectors(M,w),M.normalize(),S.normalize();for(let O=0;O<=r;++O){const z=O/r*Math.PI*2,B=-t*Math.cos(z),G=t*Math.sin(z);g.x=x.x+(B*S.x+G*M.x),g.y=x.y+(B*S.y+G*M.y),g.z=x.z+(B*S.z+G*M.z),u.push(g.x,g.y,g.z),y.subVectors(g,x).normalize(),f.push(y.x,y.y,y.z),d.push(R/i),d.push(O/r)}}for(let R=1;R<=i;R++)for(let N=1;N<=r;N++){const O=(r+1)*(R-1)+(N-1),z=(r+1)*R+(N-1),B=(r+1)*R+N,G=(r+1)*(R-1)+N;o.push(O,z,G),o.push(z,B,G)}this.setIndex(o),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(d,2));function E(R,N,O,z,B){const G=Math.cos(R),U=Math.sin(R),L=O/N*R,j=Math.cos(L);B.x=z*(2+j)*.5*G,B.y=z*(2+j)*U*.5,B.z=z*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ES(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class CS extends wn{constructor(e=new p7(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new se,u=new se,f=new rt;let d=new se;const g=[],y=[],x=[],_=[];M(),this.setIndex(_),this.setAttribute("position",new Ht(g,3)),this.setAttribute("normal",new Ht(y,3)),this.setAttribute("uv",new Ht(x,2));function M(){for(let R=0;R<t;R++)w(R);w(a===!1?t:0),E(),S()}function w(R){d=e.getPointAt(R/t,d);const N=s.normals[R],O=s.binormals[R];for(let z=0;z<=r;z++){const B=z/r*Math.PI*2,G=Math.sin(B),U=-Math.cos(B);u.x=U*N.x+G*O.x,u.y=U*N.y+G*O.y,u.z=U*N.z+G*O.z,u.normalize(),y.push(u.x,u.y,u.z),o.x=d.x+i*u.x,o.y=d.y+i*u.y,o.z=d.z+i*u.z,g.push(o.x,o.y,o.z)}}function S(){for(let R=1;R<=t;R++)for(let N=1;N<=r;N++){const O=(r+1)*(R-1)+(N-1),z=(r+1)*R+(N-1),B=(r+1)*R+N,G=(r+1)*(R-1)+N;_.push(O,z,G),_.push(z,B,G)}}function E(){for(let R=0;R<=t;R++)for(let N=0;N<=r;N++)f.x=R/t,f.y=N/r,x.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new CS(new A_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class LU extends wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new se,a=new se;if(e.index!==null){const s=e.attributes.position,o=e.index;let u=e.groups;u.length===0&&(u=[{start:0,count:o.count,materialIndex:0}]);for(let f=0,d=u.length;f<d;++f){const g=u[f],y=g.start,x=g.count;for(let _=y,M=y+x;_<M;_+=3)for(let w=0;w<3;w++){const S=o.getX(_+w),E=o.getX(_+(w+1)%3);r.fromBufferAttribute(s,S),a.fromBufferAttribute(s,E),fR(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,u=s.count/3;o<u;o++)for(let f=0;f<3;f++){const d=3*o+f,g=3*o+(f+1)%3;r.fromBufferAttribute(s,d),a.fromBufferAttribute(s,g),fR(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function fR(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var hR=Object.freeze({__proto__:null,BoxGeometry:gp,CapsuleGeometry:gS,CircleGeometry:yS,ConeGeometry:Wv,CylinderGeometry:Xv,DodecahedronGeometry:xS,EdgesGeometry:MU,ExtrudeGeometry:bS,IcosahedronGeometry:_S,LatheGeometry:SS,OctahedronGeometry:Yv,PlaneGeometry:ag,PolyhedronGeometry:v0,RingGeometry:MS,ShapeGeometry:wS,SphereGeometry:Zv,TetrahedronGeometry:AS,TorusGeometry:TS,TorusKnotGeometry:ES,TubeGeometry:CS,WireframeGeometry:LU});class kU extends ys{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new It(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class OU extends Vl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class g7 extends ys{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new It(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UU extends g7{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new rt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new It(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new It(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new It(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class PU extends ys{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new It(16777215),this.specular=new It(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=Gv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BU extends ys{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new It(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class IU extends ys{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class FU extends ys{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new al,this.combine=Gv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y7 extends ys{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=KO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class x7 extends ys{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class VU extends ys{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new It(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=y0,this.normalScale=new rt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HU extends Qs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xd(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function GU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function jU(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function $w(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,s=0;s!==i;++a){const o=t[a]*e;for(let u=0;u!==e;++u)r[s++]=n[o+u]}return r}function v7(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let s=a[i];if(s!==void 0)if(Array.isArray(s))do s=a[i],s!==void 0&&(e.push(a.time),t.push(...s)),a=n[r++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[i],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do s=a[i],s!==void 0&&(e.push(a.time),t.push(s)),a=n[r++];while(a!==void 0)}function sQ(n,e,t,i,r=30){const a=n.clone();a.name=e;const s=[];for(let u=0;u<a.tracks.length;++u){const f=a.tracks[u],d=f.getValueSize(),g=[],y=[];for(let x=0;x<f.times.length;++x){const _=f.times[x]*r;if(!(_<t||_>=i)){g.push(f.times[x]);for(let M=0;M<d;++M)y.push(f.values[x*d+M])}}g.length!==0&&(f.times=Xd(g,f.times.constructor),f.values=Xd(y,f.values.constructor),s.push(f))}a.tracks=s;let o=1/0;for(let u=0;u<a.tracks.length;++u)o>a.tracks[u].times[0]&&(o=a.tracks[u].times[0]);for(let u=0;u<a.tracks.length;++u)a.tracks[u].shift(-1*o);return a.resetDuration(),a}function oQ(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let s=0;s<r;++s){const o=t.tracks[s],u=o.ValueTypeName;if(u==="bool"||u==="string")continue;const f=n.tracks.find(function(S){return S.name===o.name&&S.ValueTypeName===u});if(f===void 0)continue;let d=0;const g=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=g/3);let y=0;const x=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=x/3);const _=o.times.length-1;let M;if(a<=o.times[0]){const S=d,E=g-d;M=o.values.slice(S,E)}else if(a>=o.times[_]){const S=_*g+d,E=S+g-d;M=o.values.slice(S,E)}else{const S=o.createInterpolant(),E=d,R=g-d;S.evaluate(a),M=S.resultBuffer.slice(E,R)}u==="quaternion"&&new wo().fromArray(M).normalize().conjugate().toArray(M);const w=f.times.length;for(let S=0;S<w;++S){const E=S*x+y;if(u==="quaternion")wo.multiplyQuaternionsFlat(f.values,E,M,0,f.values,E);else{const R=x-y*2;for(let N=0;N<R;++N)f.values[E+N]-=M[N]}}}return n.blendMode=JT,n}class lQ{static convertArray(e,t){return Xd(e,t)}static isTypedArray(e){return GU(e)}static getKeyframeOrder(e){return jU(e)}static sortedArray(e,t,i){return $w(e,t,i)}static flattenJSON(e,t,i,r){v7(e,t,i,r)}static subclip(e,t,i,r,a=30){return sQ(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return oQ(e,t,i,r)}}class Kv{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let s;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(a=r,r=t[++i],e<r)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(i=2,a=o);for(let u=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=a,a=t[--i-1],e>=a)break t}s=i,i=0;break n}break e}for(;i<s;){const o=i+s>>>1;e<t[o]?s=o:i=o+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let s=0;s!==r;++s)t[s]=i[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class qU extends Kv{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:jd,endingEnd:jd}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,s=e+1,o=r[a],u=r[s];if(o===void 0)switch(this.getSettings_().endingStart){case qd:a=e,o=2*t-i;break;case mv:a=r.length-2,o=t+r[a]-r[a+1];break;default:a=e,o=i}if(u===void 0)switch(this.getSettings_().endingEnd){case qd:s=e,u=2*i-t;break;case mv:s=1,u=i+r[1]-r[0];break;default:s=e-1,u=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-o),this._weightNext=f/(u-i),this._offsetPrev=a*d,this._offsetNext=s*d}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=e*o,f=u-o,d=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,x=this._weightNext,_=(i-t)/(r-t),M=_*_,w=M*_,S=-y*w+2*y*M-y*_,E=(1+y)*w+(-1.5-2*y)*M+(-.5+y)*_+1,R=(-1-x)*w+(1.5+x)*M+.5*_,N=x*w-x*M;for(let O=0;O!==o;++O)a[O]=S*s[d+O]+E*s[f+O]+R*s[u+O]+N*s[g+O];return a}}class b7 extends Kv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=e*o,f=u-o,d=(i-t)/(r-t),g=1-d;for(let y=0;y!==o;++y)a[y]=s[f+y]*g+s[u+y]*d;return a}}class XU extends Kv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class jl{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Xd(t,this.TimeBufferType),this.values=Xd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Xd(e.times,Array),values:Xd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new XU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new b7(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new qU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case pv:t=this.InterpolantFactoryMethodDiscrete;break;case S_:t=this.InterpolantFactoryMethodLinear;break;case d4:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return kt("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return pv;case this.InterpolantFactoryMethodLinear:return S_;case this.InterpolantFactoryMethodSmooth:return d4}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,s=r-1;for(;a!==r&&i[a]<e;)++a;for(;s!==-1&&i[s]>t;)--s;if(++s,a!==0||s!==r){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=i.slice(a,s),this.values=this.values.slice(a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Mn("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(Mn("KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const u=i[o];if(typeof u=="number"&&isNaN(u)){Mn("KeyframeTrack: Time is not a valid number.",this,o,u),e=!1;break}if(s!==null&&s>u){Mn("KeyframeTrack: Out of order keys.",this,o,u,s),e=!1;break}s=u}if(r!==void 0&&GU(r))for(let o=0,u=r.length;o!==u;++o){const f=r[o];if(isNaN(f)){Mn("KeyframeTrack: Value is not a valid number.",this,o,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===d4,a=e.length-1;let s=1;for(let o=1;o<a;++o){let u=!1;const f=e[o],d=e[o+1];if(f!==d&&(o!==1||f!==e[0]))if(r)u=!0;else{const g=o*i,y=g-i,x=g+i;for(let _=0;_!==i;++_){const M=t[g+_];if(M!==t[y+_]||M!==t[x+_]){u=!0;break}}}if(u){if(o!==s){e[s]=e[o];const g=o*i,y=s*i;for(let x=0;x!==i;++x)t[y+x]=t[g+x]}++s}}if(a>0){e[s]=e[a];for(let o=a*i,u=s*i,f=0;f!==i;++f)t[u+f]=t[o+f];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=t.slice(0,s*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}jl.prototype.ValueTypeName="";jl.prototype.TimeBufferType=Float32Array;jl.prototype.ValueBufferType=Float32Array;jl.prototype.DefaultInterpolation=S_;class yp extends jl{constructor(e,t,i){super(e,t,i)}}yp.prototype.ValueTypeName="bool";yp.prototype.ValueBufferType=Array;yp.prototype.DefaultInterpolation=pv;yp.prototype.InterpolantFactoryMethodLinear=void 0;yp.prototype.InterpolantFactoryMethodSmooth=void 0;class _7 extends jl{constructor(e,t,i,r){super(e,t,i,r)}}_7.prototype.ValueTypeName="color";class Mv extends jl{constructor(e,t,i,r){super(e,t,i,r)}}Mv.prototype.ValueTypeName="number";class WU extends Kv{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,u=(i-t)/(r-t);let f=e*o;for(let d=f+o;f!==d;f+=4)wo.slerpFlat(a,0,s,f-o,s,f,u);return a}}class Qv extends jl{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new WU(this.times,this.values,this.getValueSize(),e)}}Qv.prototype.ValueTypeName="quaternion";Qv.prototype.InterpolantFactoryMethodSmooth=void 0;class xp extends jl{constructor(e,t,i){super(e,t,i)}}xp.prototype.ValueTypeName="string";xp.prototype.ValueBufferType=Array;xp.prototype.DefaultInterpolation=pv;xp.prototype.InterpolantFactoryMethodLinear=void 0;xp.prototype.InterpolantFactoryMethodSmooth=void 0;class wv extends jl{constructor(e,t,i,r){super(e,t,i,r)}}wv.prototype.ValueTypeName="vector";class Av{constructor(e="",t=-1,i=[],r=sS){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=el(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let s=0,o=i.length;s!==o;++s)t.push(cQ(i[s]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,s=i.length;a!==s;++a)t.push(jl.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,s=[];for(let o=0;o<a;o++){let u=[],f=[];u.push((o+a-1)%a,o,(o+1)%a),f.push(0,1,0);const d=jU(u);u=$w(u,1,d),f=$w(f,1,d),!r&&u[0]===0&&(u.push(a),f.push(f[0])),s.push(new Mv(".morphTargetInfluences["+t[o].name+"]",u,f).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,u=e.length;o<u;o++){const f=e[o],d=f.name.match(a);if(d&&d.length>1){const g=d[1];let y=r[g];y||(r[g]=y=[]),y.push(f)}}const s=[];for(const o in r)s.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return s}static parseAnimation(e,t){if(kt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Mn("AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,x,_,M){if(x.length!==0){const w=[],S=[];v7(x,w,S,_),w.length!==0&&M.push(new g(y,w,S))}},r=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let u=e.length||-1;const f=e.hierarchy||[];for(let g=0;g<f.length;g++){const y=f[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let M=0;M<y[_].morphTargets.length;M++)x[y[_].morphTargets[M]]=-1;for(const M in x){const w=[],S=[];for(let E=0;E!==y[_].morphTargets.length;++E){const R=y[_];w.push(R.time),S.push(R.morphTarget===M?1:0)}r.push(new Mv(".morphTargetInfluence["+M+"]",w,S))}u=x.length*s}else{const x=".bones["+t[g].name+"]";i(wv,x+".position",y,"pos",r),i(Qv,x+".quaternion",y,"rot",r),i(wv,x+".scale",y,"scl",r)}}return r.length===0?null:new this(a,u,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function uQ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mv;case"vector":case"vector2":case"vector3":case"vector4":return wv;case"color":return _7;case"quaternion":return Qv;case"bool":case"boolean":return yp;case"string":return xp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function cQ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=uQ(n.type);if(n.times===void 0){const t=[],i=[];v7(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const xc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class S7{constructor(e,t,i){const r=this;let a=!1,s=0,o=0,u;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(d){o++,a===!1&&r.onStart!==void 0&&r.onStart(d,s,o),a=!0},this.itemEnd=function(d){s++,r.onProgress!==void 0&&r.onProgress(d,s,o),s===o&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return u?u(d):d},this.setURLModifier=function(d){return u=d,this},this.addHandler=function(d,g){return f.push(d,g),this},this.removeHandler=function(d){const g=f.indexOf(d);return g!==-1&&f.splice(g,2),this},this.getHandler=function(d){for(let g=0,y=f.length;g<y;g+=2){const x=f[g],_=f[g+1];if(x.global&&(x.lastIndex=0),x.test(d))return _}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const YU=new S7;class To{constructor(e){this.manager=e!==void 0?e:YU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}To.DEFAULT_MATERIAL_NAME="__DEFAULT";const gf={};class fQ extends Error{constructor(e,t){super(e),this.response=t}}class If extends To{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=xc.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(gf[e]!==void 0){gf[e].push({onLoad:t,onProgress:i,onError:r});return}gf[e]=[],gf[e].push({onLoad:t,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,u=this.responseType;fetch(s).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&kt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||f.body===void 0||f.body.getReader===void 0)return f;const d=gf[e],g=f.body.getReader(),y=f.headers.get("X-File-Size")||f.headers.get("Content-Length"),x=y?parseInt(y):0,_=x!==0;let M=0;const w=new ReadableStream({start(S){E();function E(){g.read().then(({done:R,value:N})=>{if(R)S.close();else{M+=N.byteLength;const O=new ProgressEvent("progress",{lengthComputable:_,loaded:M,total:x});for(let z=0,B=d.length;z<B;z++){const G=d[z];G.onProgress&&G.onProgress(O)}S.enqueue(N),E()}},R=>{S.error(R)})}}});return new Response(w)}else throw new fQ(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(u){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,o));case"json":return f.json();default:if(o==="")return f.text();{const g=/charset="?([^;"\s]*)"?/i.exec(o),y=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(y);return f.arrayBuffer().then(_=>x.decode(_))}}}).then(f=>{xc.add(`file:${e}`,f);const d=gf[e];delete gf[e];for(let g=0,y=d.length;g<y;g++){const x=d[g];x.onLoad&&x.onLoad(f)}}).catch(f=>{const d=gf[e];if(d===void 0)throw this.manager.itemError(e),f;delete gf[e];for(let g=0,y=d.length;g<y;g++){const x=d[g];x.onError&&x.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class hQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new If(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){r?r(u):Mn(u),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=Av.parse(e[i]);t.push(r)}return t}}class dQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=[],o=new mS,u=new If(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(a.withCredentials);let f=0;function d(g){u.load(e[g],function(y){const x=a.parse(y,!0);s[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},f+=1,f===6&&(x.mipmapCount===1&&(o.minFilter=Gr),o.image=s,o.format=x.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)d(g);else u.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const x=y.mipmaps.length/y.mipmapCount;for(let _=0;_<x;_++){s[_]={mipmaps:[]};for(let M=0;M<y.mipmapCount;M++)s[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+M]),s[_].format=y.format,s[_].width=y.width,s[_].height=y.height}o.image=s}else o.image.width=y.width,o.image.height=y.height,o.mipmaps=y.mipmaps;y.mipmapCount===1&&(o.minFilter=Gr),o.format=y.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const Wm=new WeakMap;class Tv extends To{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=xc.get(`image:${e}`);if(s!==void 0){if(s.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0);else{let g=Wm.get(s);g===void 0&&(g=[],Wm.set(s,g)),g.push({onLoad:t,onError:r})}return s}const o=xv("img");function u(){d(),t&&t(this);const g=Wm.get(this)||[];for(let y=0;y<g.length;y++){const x=g[y];x.onLoad&&x.onLoad(this)}Wm.delete(this),a.manager.itemEnd(e)}function f(g){d(),r&&r(g),xc.remove(`image:${e}`);const y=Wm.get(this)||[];for(let x=0;x<y.length;x++){const _=y[x];_.onError&&_.onError(g)}Wm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){o.removeEventListener("load",u,!1),o.removeEventListener("error",f,!1)}return o.addEventListener("load",u,!1),o.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),xc.add(`image:${e}`,o),a.manager.itemStart(e),o.src=e,o}}class pQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=new qv;a.colorSpace=us;const s=new Tv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function u(f){s.load(e[f],function(d){a.images[f]=d,o++,o===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let f=0;f<e.length;++f)u(f);return a}}class mQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new wu,o=new If(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(u){let f;try{f=a.parse(u)}catch(d){if(r!==void 0)r(d);else{d(d);return}}f.image!==void 0?s.image=f.image:f.data!==void 0&&(s.image.width=f.width,s.image.height=f.height,s.image.data=f.data),s.wrapS=f.wrapS!==void 0?f.wrapS:xo,s.wrapT=f.wrapT!==void 0?f.wrapT:xo,s.magFilter=f.magFilter!==void 0?f.magFilter:Gr,s.minFilter=f.minFilter!==void 0?f.minFilter:Gr,s.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0&&(s.colorSpace=f.colorSpace),f.flipY!==void 0&&(s.flipY=f.flipY),f.format!==void 0&&(s.format=f.format),f.type!==void 0&&(s.type=f.type),f.mipmaps!==void 0&&(s.mipmaps=f.mipmaps,s.minFilter=yc),f.mipmapCount===1&&(s.minFilter=Gr),f.generateMipmaps!==void 0&&(s.generateMipmaps=f.generateMipmaps),s.needsUpdate=!0,t&&t(s,f)},i,r),s}}class gQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=new zr,s=new Tv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class b0 extends mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new It(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class ZU extends b0{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new It(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const G6=new _n,dR=new se,pR=new se;class M7{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new rt(512,512),this.mapType=Fl,this.map=null,this.mapPass=null,this.matrix=new _n,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new rg,this._frameExtents=new rt(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;dR.setFromMatrixPosition(e.matrixWorld),t.position.copy(dR),pR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(pR),t.updateMatrixWorld(),G6.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(G6,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(G6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yQ extends M7{constructor(){super(new Na(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=H1*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class KU extends b0{constructor(e,t,i=0,r=Math.PI/3,a=0,s=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.distance=i,this.angle=r,this.penumbra=a,this.decay=s,this.map=null,this.shadow=new yQ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const mR=new _n,ex=new se,j6=new se;class xQ extends M7{constructor(){super(new Na(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new rt(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),ex.setFromMatrixPosition(e.matrixWorld),i.position.copy(ex),j6.copy(i.position),j6.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(j6),i.updateMatrixWorld(),r.makeTranslation(-ex.x,-ex.y,-ex.z),mR.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mR,i.coordinateSystem,i.reversedDepth)}}class QU extends b0{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new xQ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Jv extends uS{constructor(e=-1,t=1,i=1,r=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,s=i+e,o=r+t,u=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=f*this.view.offsetX,s=a+f*this.view.width,o-=d*this.view.offsetY,u=o-d*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,u,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class vQ extends M7{constructor(){super(new Jv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class JU extends b0{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(mi.DEFAULT_UP),this.updateMatrix(),this.target=new mi,this.shadow=new vQ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $U extends b0{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class eP extends b0{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class tP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*r),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],1.092548*(i*r)),t.addScaledVector(s[5],1.092548*(r*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(i*a)),t.addScaledVector(s[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*r),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*i),t.addScaledVector(s[4],2*.429043*i*r),t.addScaledVector(s[5],2*.429043*r*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*i*a),t.addScaledVector(s[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class nP extends b0{constructor(e=new tP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class RS extends To{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,s=new If(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){r?r(u):Mn(u),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&kt("MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new It().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(r.uniforms[a]={},s.type){case"t":r.uniforms[a].value=i(s.value);break;case"c":r.uniforms[a].value=new It().setHex(s.value);break;case"v2":r.uniforms[a].value=new rt().fromArray(s.value);break;case"v3":r.uniforms[a].value=new se().fromArray(s.value);break;case"v4":r.uniforms[a].value=new pi().fromArray(s.value);break;case"m3":r.uniforms[a].value=new Dn().fromArray(s.value);break;case"m4":r.uniforms[a].value=new _n().fromArray(s.value);break;default:r.uniforms[a].value=s.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new rt().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new rt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return RS.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:kU,SpriteMaterial:a7,RawShaderMaterial:OU,ShaderMaterial:Vl,PointsMaterial:o7,MeshPhysicalMaterial:UU,MeshStandardMaterial:g7,MeshPhongMaterial:PU,MeshToonMaterial:BU,MeshNormalMaterial:IU,MeshLambertMaterial:FU,MeshDepthMaterial:y7,MeshDistanceMaterial:x7,MeshBasicMaterial:x0,MeshMatcapMaterial:VU,LineDashedMaterial:HU,LineBasicMaterial:Qs,Material:ys};return new t[e]}}class eA{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class iP extends wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class rP extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new If(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(u){r?r(u):Mn(u),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(x,_){if(t[_]!==void 0)return t[_];const w=x.interleavedBuffers[_],S=a(x,w.buffer),E=m1(w.type,S),R=new hS(E,w.stride);return R.uuid=w.uuid,t[_]=R,R}function a(x,_){if(i[_]!==void 0)return i[_];const w=x.arrayBuffers[_],S=new Uint32Array(w).buffer;return i[_]=S,S}const s=e.isInstancedBufferGeometry?new iP:new wn,o=e.data.index;if(o!==void 0){const x=m1(o.type,o.array);s.setIndex(new Fi(x,1))}const u=e.data.attributes;for(const x in u){const _=u[x];let M;if(_.isInterleavedBufferAttribute){const w=r(e.data,_.data);M=new cp(w,_.itemSize,_.offset,_.normalized)}else{const w=m1(_.type,_.array),S=_.isInstancedBufferAttribute?q1:Fi;M=new S(w,_.itemSize,_.normalized)}_.name!==void 0&&(M.name=_.name),_.usage!==void 0&&M.setUsage(_.usage),s.setAttribute(x,M)}const f=e.data.morphAttributes;if(f)for(const x in f){const _=f[x],M=[];for(let w=0,S=_.length;w<S;w++){const E=_[w];let R;if(E.isInterleavedBufferAttribute){const N=r(e.data,E.data);R=new cp(N,E.itemSize,E.offset,E.normalized)}else{const N=m1(E.type,E.array);R=new Fi(N,E.itemSize,E.normalized)}E.name!==void 0&&(R.name=E.name),M.push(R)}s.morphAttributes[x]=M}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,_=g.length;x!==_;++x){const M=g[x];s.addGroup(M.start,M.count,M.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(s.boundingSphere=new qa().fromJSON(y)),e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class bQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=this.path===""?eA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new If(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(u){let f=null;try{f=JSON.parse(u)}catch(g){r!==void 0&&r(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),Mn("ObjectLoader: Can't load "+e);return}a.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?eA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new If(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),u=o.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),s=this.parseImages(e.images,function(){t!==void 0&&t(f)}),o=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,a,u,o,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),this.bindLightTargets(f),t!==void 0){let g=!1;for(const y in s)if(s[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,r,o,s,t),f=this.parseSkeletons(e.skeletons,u);return this.bindSkeletons(u,f),this.bindLightTargets(u),u}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new rp().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new dS().fromJSON(e[a],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new rP;for(let a=0,s=e.length;a<s;a++){let o;const u=e[a];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(u);break;default:u.type in hR?o=hR[u.type].fromJSON(u,t):kt(`ObjectLoader: Unsupported geometry type "${u.type}"`)}o.uuid=u.uuid,u.name!==void 0&&(o.name=u.name),u.userData!==void 0&&(o.userData=u.userData),i[u.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new RS;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const u=e[s];i[u.uuid]===void 0&&(i[u.uuid]=a.parse(u)),r[u.uuid]=i[u.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=Av.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function s(u){return i.manager.itemStart(u),a.load(u,function(){i.manager.itemEnd(u)},void 0,function(){i.manager.itemError(u),i.manager.itemEnd(u)})}function o(u){if(typeof u=="string"){const f=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return s(d)}else return u.data?{data:m1(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){const u=new S7(t);a=new Tv(u),a.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const g=e[f],y=g.url;if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const w=y[_],S=o(w);S!==null&&(S instanceof HTMLImageElement?x.push(S):x.push(new wu(S.data,S.width,S.height)))}r[g.uuid]=new Kh(x)}else{const x=o(g.url);r[g.uuid]=new Kh(x)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(s){if(typeof s=="string"){const o=s,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(u)}else return s.data?{data:m1(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){r=new Tv(this.manager),r.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const u=e[s],f=u.url;if(Array.isArray(f)){const d=[];for(let g=0,y=f.length;g<y;g++){const x=f[g],_=await a(x);_!==null&&(_ instanceof HTMLImageElement?d.push(_):d.push(new wu(_.data,_.width,_.height)))}i[u.uuid]=new Kh(d)}else{const d=await a(u.url);i[u.uuid]=new Kh(d)}}}return i}parseTextures(e,t){function i(a,s){return typeof a=="number"?a:(kt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const r={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&kt('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&kt("ObjectLoader: Undefined image",o.image);const u=t[o.image],f=u.data;let d;Array.isArray(f)?(d=new qv,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new wu:d=new zr,f&&(d.needsUpdate=!0)),d.source=u,d.uuid=o.uuid,o.name!==void 0&&(d.name=o.name),o.mapping!==void 0&&(d.mapping=i(o.mapping,_Q)),o.channel!==void 0&&(d.channel=o.channel),o.offset!==void 0&&d.offset.fromArray(o.offset),o.repeat!==void 0&&d.repeat.fromArray(o.repeat),o.center!==void 0&&d.center.fromArray(o.center),o.rotation!==void 0&&(d.rotation=o.rotation),o.wrap!==void 0&&(d.wrapS=i(o.wrap[0],gR),d.wrapT=i(o.wrap[1],gR)),o.format!==void 0&&(d.format=o.format),o.internalFormat!==void 0&&(d.internalFormat=o.internalFormat),o.type!==void 0&&(d.type=o.type),o.colorSpace!==void 0&&(d.colorSpace=o.colorSpace),o.minFilter!==void 0&&(d.minFilter=i(o.minFilter,yR)),o.magFilter!==void 0&&(d.magFilter=i(o.magFilter,yR)),o.anisotropy!==void 0&&(d.anisotropy=o.anisotropy),o.flipY!==void 0&&(d.flipY=o.flipY),o.generateMipmaps!==void 0&&(d.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(d.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(d.compareFunction=o.compareFunction),o.userData!==void 0&&(d.userData=o.userData),r[o.uuid]=d}return r}parseObject(e,t,i,r,a){let s;function o(y){return t[y]===void 0&&kt("ObjectLoader: Undefined geometry",y),t[y]}function u(y){if(y!==void 0){if(Array.isArray(y)){const x=[];for(let _=0,M=y.length;_<M;_++){const w=y[_];i[w]===void 0&&kt("ObjectLoader: Undefined material",w),x.push(i[w])}return x}return i[y]===void 0&&kt("ObjectLoader: Undefined material",y),i[y]}}function f(y){return r[y]===void 0&&kt("ObjectLoader: Undefined texture",y),r[y]}let d,g;switch(e.type){case"Scene":s=new r7,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new It(e.background):s.background=f(e.background)),e.environment!==void 0&&(s.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new fS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new cS(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new Na(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Jv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new $U(e.color,e.intensity);break;case"DirectionalLight":s=new JU(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new QU(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new eP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new KU(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new ZU(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new nP().fromJSON(e);break;case"SkinnedMesh":d=o(e.geometry),g=u(e.material),s=new yU(d,g),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":d=o(e.geometry),g=u(e.material),s=new ma(d,g);break;case"InstancedMesh":d=o(e.geometry),g=u(e.material);const y=e.count,x=e.instanceMatrix,_=e.instanceColor;s=new xU(d,g,y),s.instanceMatrix=new q1(new Float32Array(x.array),16),_!==void 0&&(s.instanceColor=new q1(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":d=o(e.geometry),g=u(e.material),s=new vU(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),s.geometry=d,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(M=>{let w=null,S=null;return M.boundingBox!==void 0&&(w=new gs().fromJSON(M.boundingBox)),M.boundingSphere!==void 0&&(S=new qa().fromJSON(M.boundingSphere)),{...M,boundingBox:w,boundingSphere:S}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=f(e.matricesTexture.uuid),s._indirectTexture=f(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=f(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new qa().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(s.boundingBox=new gs().fromJSON(e.boundingBox));break;case"LOD":s=new gU;break;case"Line":s=new f0(o(e.geometry),u(e.material));break;case"LineLoop":s=new bU(o(e.geometry),u(e.material));break;case"LineSegments":s=new Dc(o(e.geometry),u(e.material));break;case"PointCloud":case"Points":s=new _U(o(e.geometry),u(e.material));break;case"Sprite":s=new mU(u(e.material));break;case"Group":s=new g1;break;case"Bone":s=new s7;break;default:s=new mi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let x=0;x<y.length;x++)s.add(this.parseObject(y[x],t,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let x=0;x<y.length;x++){const _=y[x];s.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const y=e.levels;for(let x=0;x<y.length;x++){const _=y[x],M=s.getObjectByProperty("uuid",_.object);M!==void 0&&s.addLevel(M,_.distance,_.hysteresis)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?kt("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new mi}})}}const _Q={UVMapping:J_,CubeReflectionMapping:Pf,CubeRefractionMapping:l0,EquirectangularReflectionMapping:cv,EquirectangularRefractionMapping:fv,CubeUVReflectionMapping:ng},gR={RepeatWrapping:hv,ClampToEdgeWrapping:xo,MirroredRepeatWrapping:dv},yR={NearestFilter:ja,NearestMipmapNearestFilter:qT,NearestMipmapLinearFilter:p1,LinearFilter:Gr,LinearMipmapNearestFilter:Ox,LinearMipmapLinearFilter:yc},q6=new WeakMap;class SQ extends To{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&kt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&kt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=xc.get(`image-bitmap:${e}`);if(s!==void 0){if(a.manager.itemStart(e),s.then){s.then(f=>{if(q6.has(s)===!0)r&&r(q6.get(s)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(f),a.manager.itemEnd(e),f});return}return setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const u=fetch(e,o).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(f){return xc.add(`image-bitmap:${e}`,f),t&&t(f),a.manager.itemEnd(e),f}).catch(function(f){r&&r(f),q6.set(u,f),xc.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});xc.add(`image-bitmap:${e}`,u),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Tb;class w7{static getContext(){return Tb===void 0&&(Tb=new(window.AudioContext||window.webkitAudioContext)),Tb}static setContext(e){Tb=e}}class MQ extends To{constructor(e){super(e)}load(e,t,i,r){const a=this,s=new If(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(u){try{const f=u.slice(0);w7.getContext().decodeAudioData(f,function(g){t(g)}).catch(o)}catch(f){o(f)}},i,r);function o(u){r?r(u):Mn(u),a.manager.itemError(e)}}}const xR=new _n,vR=new _n,Md=new _n;class wQ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Na,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Na,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Md.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,s=t.near*Math.tan(ip*t.fov*.5)/t.zoom;let o,u;vR.elements[12]=-r,xR.elements[12]=r,o=-s*t.aspect+a,u=s*t.aspect+a,Md.elements[0]=2*t.near/(u-o),Md.elements[8]=(u+o)/(u-o),this.cameraL.projectionMatrix.copy(Md),o=-s*t.aspect-a,u=s*t.aspect-a,Md.elements[0]=2*t.near/(u-o),Md.elements[8]=(u+o)/(u-o),this.cameraR.projectionMatrix.copy(Md)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(xR)}}class aP extends Na{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class A7{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const wd=new se,X6=new wo,AQ=new se,Ad=new se,Td=new se;class TQ extends mi{constructor(){super(),this.type="AudioListener",this.context=w7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new A7}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wd,X6,AQ),Ad.set(0,0,-1).applyQuaternion(X6),Td.set(0,1,0).applyQuaternion(X6),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wd.x,i),t.positionY.linearRampToValueAtTime(wd.y,i),t.positionZ.linearRampToValueAtTime(wd.z,i),t.forwardX.linearRampToValueAtTime(Ad.x,i),t.forwardY.linearRampToValueAtTime(Ad.y,i),t.forwardZ.linearRampToValueAtTime(Ad.z,i),t.upX.linearRampToValueAtTime(Td.x,i),t.upY.linearRampToValueAtTime(Td.y,i),t.upZ.linearRampToValueAtTime(Td.z,i)}else t.setPosition(wd.x,wd.y,wd.z),t.setOrientation(Ad.x,Ad.y,Ad.z,Td.x,Td.y,Td.z)}}class sP extends mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){kt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){kt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){kt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){kt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){kt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(kt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){kt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(kt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ed=new se,bR=new wo,EQ=new se,Cd=new se;class CQ extends sP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ed,bR,EQ),Cd.set(0,0,1).applyQuaternion(bR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ed.x,i),t.positionY.linearRampToValueAtTime(Ed.y,i),t.positionZ.linearRampToValueAtTime(Ed.z,i),t.orientationX.linearRampToValueAtTime(Cd.x,i),t.orientationY.linearRampToValueAtTime(Cd.y,i),t.orientationZ.linearRampToValueAtTime(Cd.z,i)}else t.setPosition(Ed.x,Ed.y,Ed.z),t.setOrientation(Cd.x,Cd.y,Cd.z)}}class RQ{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class oP{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,s;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==r;++o)i[a+o]=i[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(i,a,0,o,r)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const u=t*this._origIndex;this._mixBufferRegion(i,r,u,1-a,t)}s>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let u=t,f=t+t;u!==f;++u)if(i[u]!==i[u+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,s=r;a!==s;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let s=0;s!==a;++s)e[t+s]=e[i+s]}_slerp(e,t,i,r){wo.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const s=this._workIndex*a;wo.multiplyQuaternionsFlat(e,s,e,t,e,i),wo.slerpFlat(e,t,e,t,e,s,r)}_lerp(e,t,i,r,a){const s=1-r;for(let o=0;o!==a;++o){const u=t+o;e[u]=e[u]*s+e[i+o]*r}}_lerpAdditive(e,t,i,r,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[i+s]*r}}}const T7="\\[\\]\\.:\\/",DQ=new RegExp("["+T7+"]","g"),E7="[^"+T7+"]",NQ="[^"+T7.replace("\\.","")+"]",zQ=/((?:WC+[\/:])*)/.source.replace("WC",E7),LQ=/(WCOD+)?/.source.replace("WCOD",NQ),kQ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",E7),OQ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",E7),UQ=new RegExp("^"+zQ+LQ+kQ+OQ+"$"),PQ=["material","materials","bones","map"];class BQ{constructor(e,t,i){const r=i||hi.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class hi{constructor(e,t,i){this.path=t,this.parsedPath=i||hi.parseTrackName(t),this.node=hi.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new hi.Composite(e,t,i):new hi(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(DQ,"")}static parseTrackName(e){const t=UQ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);PQ.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const u=i(o.children);if(u)return u}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=hi.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){kt("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){Mn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Mn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Mn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Mn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Mn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){Mn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){Mn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const s=e[r];if(s===void 0){const f=t.nodeName;Mn("PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let u=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){Mn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Mn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hi.Composite=BQ;hi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};hi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};hi.prototype.GetterByBindingType=[hi.prototype._getValue_direct,hi.prototype._getValue_array,hi.prototype._getValue_arrayElement,hi.prototype._getValue_toArray];hi.prototype.SetterByBindingTypeAndVersioning=[[hi.prototype._setValue_direct,hi.prototype._setValue_direct_setNeedsUpdate,hi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hi.prototype._setValue_array,hi.prototype._setValue_array_setNeedsUpdate,hi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hi.prototype._setValue_arrayElement,hi.prototype._setValue_arrayElement_setNeedsUpdate,hi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hi.prototype._setValue_fromArray,hi.prototype._setValue_fromArray_setNeedsUpdate,hi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class IQ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=el(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,s=a.length;let o,u=e.length,f=this.nCachedObjects_;for(let d=0,g=arguments.length;d!==g;++d){const y=arguments[d],x=y.uuid;let _=t[x];if(_===void 0){_=u++,t[x]=_,e.push(y);for(let M=0,w=s;M!==w;++M)a[M].push(new hi(y,i[M],r[M]))}else if(_<f){o=e[_];const M=--f,w=e[M];t[w.uuid]=_,e[_]=w,t[x]=M,e[M]=y;for(let S=0,E=s;S!==E;++S){const R=a[S],N=R[M];let O=R[_];R[_]=N,O===void 0&&(O=new hi(y,i[S],r[S])),R[M]=O}}else e[_]!==o&&Mn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const u=arguments[s],f=u.uuid,d=t[f];if(d!==void 0&&d>=a){const g=a++,y=e[g];t[y.uuid]=d,e[d]=y,t[f]=g,e[g]=u;for(let x=0,_=r;x!==_;++x){const M=i[x],w=M[g],S=M[d];M[d]=w,M[g]=S}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,s=e.length;for(let o=0,u=arguments.length;o!==u;++o){const f=arguments[o],d=f.uuid,g=t[d];if(g!==void 0)if(delete t[d],g<a){const y=--a,x=e[y],_=--s,M=e[_];t[x.uuid]=g,e[g]=x,t[M.uuid]=y,e[y]=M,e.pop();for(let w=0,S=r;w!==S;++w){const E=i[w],R=E[y],N=E[_];E[g]=R,E[y]=N,E.pop()}}else{const y=--s,x=e[y];y>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let _=0,M=r;_!==M;++_){const w=i[_];w[g]=w[y],w.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const s=this._paths,o=this._parsedPaths,u=this._objects,f=u.length,d=this.nCachedObjects_,g=new Array(f);r=a.length,i[e]=r,s.push(e),o.push(t),a.push(g);for(let y=d,x=u.length;y!==x;++y){const _=u[y];g[y]=new hi(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,s=this._bindings,o=s.length-1,u=s[o],f=e[o];t[f]=i,s[i]=u,s.pop(),a[i]=a[o],a.pop(),r[i]=r[o],r.pop()}}}class lP{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,s=a.length,o=new Array(s),u={endingStart:jd,endingEnd:jd};for(let f=0;f!==s;++f){const d=a[f].createInterpolant(null);o[f]=d,d.settings=u}this._interpolantSettings=u,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=YO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,s=a/r,o=r/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const u=o.parameterPositions,f=o.sampleValues;return u[0]=a,u[1]=a+i,f[0]=e/s,f[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const u=(e-a)*i;u<0||i===0?t=0:(this._startTime=null,t=i*u)}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const u=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case JT:for(let d=0,g=u.length;d!==g;++d)u[d].evaluate(s),f[d].accumulateAdditive(o);break;case sS:default:for(let d=0,g=u.length;d!==g;++d)u[d].evaluate(s),f[d].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const s=i===ZO;if(e===0)return a===-1?r:s&&(a&1)===1?t-r:r;if(i===WO){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,a+=Math.abs(o);const u=this.repetitions-a;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(u===1){const f=e<0;this._setEndings(f,!f,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(s&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=qd,r.endingEnd=qd):(e?r.endingStart=this.zeroSlopeAtStart?qd:jd:r.endingStart=mv,t?r.endingEnd=this.zeroSlopeAtEnd?qd:jd:r.endingEnd=mv)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let s=this._weightInterpolant;s===null&&(s=r._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,u=s.sampleValues;return o[0]=a,u[0]=t,o[1]=a+e,u[1]=i,this}}const FQ=new Float32Array(1);class VQ extends Rc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,s=e._propertyBindings,o=e._interpolants,u=i.uuid,f=this._bindingsByRootAndName;let d=f[u];d===void 0&&(d={},f[u]=d);for(let g=0;g!==a;++g){const y=r[g],x=y.name;let _=d[x];if(_!==void 0)++_.referenceCount,s[g]=_;else{if(_=s[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,u,x));continue}const M=t&&t._propertyBindings[g].binding.parsedPath;_=new oP(hi.create(i,x,M),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,x),s[g]=_}o[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],u=o.knownActions,f=u[u.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,u[d]=f,u.pop(),e._byClipCacheIndex=null;const g=o.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],u.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let s=r[t];s===void 0&&(s={},r[t]=s),s[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,s=this._bindingsByRootAndName,o=s[r],u=t[t.length-1],f=e._cacheIndex;u._cacheIndex=f,t[f]=u,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new b7(new Float32Array(2),new Float32Array(2),1,FQ),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let s=typeof e=="string"?Av.findByName(r,e):e;const o=s!==null?s.uuid:e,u=this._actionsByClip[o];let f=null;if(i===void 0&&(s!==null?i=s.blendMode:i=sS),u!==void 0){const g=u.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;f=u.knownActions[0],s===null&&(s=f._clip)}if(s===null)return null;const d=new lP(this,s,t,i);return this._bindAction(d,f),this._addInactiveAction(d,o,a),d}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?Av.findByName(i,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,a,s);const o=this._bindings,u=this._nActiveBindings;for(let f=0;f!==u;++f)o[f].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const s=a.knownActions;for(let o=0,u=s.length;o!==u;++o){const f=s[o];this._deactivateAction(f);const d=f._cacheIndex,g=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,g._cacheIndex=d,t[d]=g,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const s in i){const o=i[s].actionByRoot,u=o[t];u!==void 0&&(this._deactivateAction(u),this._removeInactiveAction(u))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class HQ extends t7{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new lS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class C7{constructor(e){this.value=e}clone(){return new C7(this.value.clone===void 0?this.value:this.value.clone())}}let GQ=0;class jQ extends Rc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:GQ++}),this.name="",this.usage=yv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let s=0;s<a.length;s++)this.uniforms.push(a[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class qQ extends hS{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class XQ{constructor(e,t,i,r,a,s=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.normalized=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _R=new _n;class uP{constructor(e,t,i=0,r=1/0){this.ray=new ig(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new G1,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Mn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return _R.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_R),this}intersectObject(e,t=!0,i=[]){return tA(e,this,i,t),i.sort(SR),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)tA(e[r],this,i,t);return i.sort(SR),i}}function SR(n,e){return n.distance-e.distance}function tA(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let s=0,o=a.length;s<o;s++)tA(a[s],e,t,!0)}}class WQ{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=YQ.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function YQ(){this._document.hidden===!1&&this.reset()}class ZQ{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=mn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(mn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KQ{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class R7{constructor(e,t,i,r){R7.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const MR=new rt;class QQ{constructor(e=new rt(1/0,1/0),t=new rt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=MR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,MR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wR=new se,Eb=new se,Ym=new se,Zm=new se,W6=new se,JQ=new se,$Q=new se;class eJ{constructor(e=new se,t=new se){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){wR.subVectors(e,this.start),Eb.subVectors(this.end,this.start);const i=Eb.dot(Eb);let a=Eb.dot(wR)/i;return t&&(a=mn(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=JQ,i=$Q){const r=10000000000000001e-32;let a,s;const o=this.start,u=e.start,f=this.end,d=e.end;Ym.subVectors(f,o),Zm.subVectors(d,u),W6.subVectors(o,u);const g=Ym.dot(Ym),y=Zm.dot(Zm),x=Zm.dot(W6);if(g<=r&&y<=r)return t.copy(o),i.copy(u),t.sub(i),t.dot(t);if(g<=r)a=0,s=x/y,s=mn(s,0,1);else{const _=Ym.dot(W6);if(y<=r)s=0,a=mn(-_/g,0,1);else{const M=Ym.dot(Zm),w=g*y-M*M;w!==0?a=mn((M*x-_*y)/w,0,1):a=0,s=(M*a+x)/y,s<0?(s=0,a=mn(-_/g,0,1)):s>1&&(s=1,a=mn((M-_)/g,0,1))}}return t.copy(o).add(Ym.multiplyScalar(a)),i.copy(u).add(Zm.multiplyScalar(s)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const AR=new se;class tJ extends mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new wn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,o=1,u=32;s<u;s++,o++){const f=s/u*Math.PI*2,d=o/u*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ht(r,3));const a=new Qs({fog:!1,toneMapped:!1});this.cone=new Dc(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),AR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(AR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Uh=new se,Cb=new _n,Y6=new _n;class nJ extends Dc{constructor(e){const t=cP(e),i=new wn,r=[],a=[];for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}i.setAttribute("position",new Ht(r,3)),i.setAttribute("color",new Ht(a,3));const s=new Qs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,s),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new It(255),u=new It(65280);this.setColors(o,u)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");Y6.copy(this.root.matrixWorld).invert();for(let a=0,s=0;a<t.length;a++){const o=t[a];o.parent&&o.parent.isBone&&(Cb.multiplyMatrices(Y6,o.matrixWorld),Uh.setFromMatrixPosition(Cb),r.setXYZ(s,Uh.x,Uh.y,Uh.z),Cb.multiplyMatrices(Y6,o.parent.matrixWorld),Uh.setFromMatrixPosition(Cb),r.setXYZ(s+1,Uh.x,Uh.y,Uh.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const r=this.geometry.getAttribute("color");for(let a=0;a<r.count;a+=2)r.setXYZ(a,e.r,e.g,e.b),r.setXYZ(a+1,t.r,t.g,t.b);return r.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function cP(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...cP(n.children[t]));return e}class iJ extends ma{constructor(e,t,i){const r=new Zv(t,4,2),a=new x0({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rJ=new se,TR=new It,ER=new It;class aJ extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Yv(t);r.rotateY(Math.PI*.5),this.material=new x0({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),s=new Float32Array(a.count*3);r.setAttribute("color",new Fi(s,3)),this.add(new ma(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");TR.copy(this.light.color),ER.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?TR:ER;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(rJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class sJ extends Dc{constructor(e=10,t=10,i=4473924,r=8947848){i=new It(i),r=new It(r);const a=t/2,s=e/t,o=e/2,u=[],f=[];for(let y=0,x=0,_=-o;y<=t;y++,_+=s){u.push(-o,0,_,o,0,_),u.push(_,0,-o,_,0,o);const M=y===a?i:r;M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3,M.toArray(f,x),x+=3}const d=new wn;d.setAttribute("position",new Ht(u,3)),d.setAttribute("color",new Ht(f,3));const g=new Qs({vertexColors:!0,toneMapped:!1});super(d,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class oJ extends Dc{constructor(e=10,t=16,i=8,r=64,a=4473924,s=8947848){a=new It(a),s=new It(s);const o=[],u=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),x=Math.sin(y)*e,_=Math.cos(y)*e;o.push(0,0,0),o.push(x,0,_);const M=g&1?a:s;u.push(M.r,M.g,M.b),u.push(M.r,M.g,M.b)}for(let g=0;g<i;g++){const y=g&1?a:s,x=e-e/i*g;for(let _=0;_<r;_++){let M=_/r*(Math.PI*2),w=Math.sin(M)*x,S=Math.cos(M)*x;o.push(w,0,S),u.push(y.r,y.g,y.b),M=(_+1)/r*(Math.PI*2),w=Math.sin(M)*x,S=Math.cos(M)*x,o.push(w,0,S),u.push(y.r,y.g,y.b)}}const f=new wn;f.setAttribute("position",new Ht(o,3)),f.setAttribute("color",new Ht(u,3));const d=new Qs({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const CR=new se,Rb=new se,RR=new se;class lJ extends mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new wn;r.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Qs({fog:!1,toneMapped:!1});this.lightPlane=new f0(r,a),this.add(this.lightPlane),r=new wn,r.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new f0(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),CR.setFromMatrixPosition(this.light.matrixWorld),Rb.setFromMatrixPosition(this.light.target.matrixWorld),RR.subVectors(Rb,CR),this.lightPlane.lookAt(Rb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Rb),this.targetLine.scale.z=RR.length()}}const Db=new se,Cr=new uS;class uJ extends Dc{constructor(e){const t=new wn,i=new Qs({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],s={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,M){u(_),u(M)}function u(_){r.push(0,0,0),a.push(0,0,0),s[_]===void 0&&(s[_]=[]),s[_].push(r.length/3-1)}t.setAttribute("position",new Ht(r,3)),t.setAttribute("color",new Ht(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const f=new It(16755200),d=new It(16711680),g=new It(43775),y=new It(16777215),x=new It(3355443);this.setColors(f,d,g,y,x)}setColors(e,t,i,r,a){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,a.r,a.g,a.b),o.setXYZ(41,a.r,a.g,a.b),o.setXYZ(42,a.r,a.g,a.b),o.setXYZ(43,a.r,a.g,a.b),o.setXYZ(44,a.r,a.g,a.b),o.setXYZ(45,a.r,a.g,a.b),o.setXYZ(46,a.r,a.g,a.b),o.setXYZ(47,a.r,a.g,a.b),o.setXYZ(48,a.r,a.g,a.b),o.setXYZ(49,a.r,a.g,a.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;let a,s;if(Cr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,s=0;else if(this.camera.coordinateSystem===Jo)a=-1,s=1;else if(this.camera.coordinateSystem===F1)a=0,s=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Fr("c",t,e,Cr,0,0,a),Fr("t",t,e,Cr,0,0,s),Fr("n1",t,e,Cr,-i,-r,a),Fr("n2",t,e,Cr,i,-r,a),Fr("n3",t,e,Cr,-i,r,a),Fr("n4",t,e,Cr,i,r,a),Fr("f1",t,e,Cr,-i,-r,s),Fr("f2",t,e,Cr,i,-r,s),Fr("f3",t,e,Cr,-i,r,s),Fr("f4",t,e,Cr,i,r,s),Fr("u1",t,e,Cr,i*.7,r*1.1,a),Fr("u2",t,e,Cr,-i*.7,r*1.1,a),Fr("u3",t,e,Cr,0,r*2,a),Fr("cf1",t,e,Cr,-i,0,s),Fr("cf2",t,e,Cr,i,0,s),Fr("cf3",t,e,Cr,0,-r,s),Fr("cf4",t,e,Cr,0,r,s),Fr("cn1",t,e,Cr,-i,0,a),Fr("cn2",t,e,Cr,i,0,a),Fr("cn3",t,e,Cr,0,-r,a),Fr("cn4",t,e,Cr,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Fr(n,e,t,i,r,a,s){Db.set(r,a,s).unproject(i);const o=e[n];if(o!==void 0){const u=t.getAttribute("position");for(let f=0,d=o.length;f<d;f++)u.setXYZ(o[f],Db.x,Db.y,Db.z)}}const Nb=new gs;class cJ extends Dc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),a=new wn;a.setIndex(new Fi(i,1)),a.setAttribute("position",new Fi(r,3)),super(a,new Qs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Nb.setFromObject(this.object),Nb.isEmpty())return;const e=Nb.min,t=Nb.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fJ extends Dc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new wn;a.setIndex(new Fi(i,1)),a.setAttribute("position",new Ht(r,3)),super(a,new Qs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hJ extends f0{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new wn;s.setAttribute("position",new Ht(a,3)),s.computeBoundingSphere(),super(s,new Qs({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],u=new wn;u.setAttribute("position",new Ht(o,3)),u.computeBoundingSphere(),this.add(new ma(u,new x0({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const DR=new se;let zb,Z6;class dJ extends mi{constructor(e=new se(0,0,1),t=new se(0,0,0),i=1,r=16776960,a=i*.2,s=a*.2){super(),this.type="ArrowHelper",zb===void 0&&(zb=new wn,zb.setAttribute("position",new Ht([0,0,0,0,1,0],3)),Z6=new Wv(.5,1,5,1),Z6.translate(0,-.5,0)),this.position.copy(t),this.line=new f0(zb,new Qs({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ma(Z6,new x0({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{DR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(DR,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class pJ extends Dc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new wn;r.setAttribute("position",new Ht(t,3)),r.setAttribute("color",new Ht(i,3));const a=new Qs({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new It,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class mJ{constructor(){this.type="ShapePath",this.color=new It,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new T_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,s){return this.currentPath.bezierCurveTo(e,t,i,r,a,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const E=[];for(let R=0,N=S.length;R<N;R++){const O=S[R],z=new rp;z.curves=O.curves,E.push(z)}return E}function i(S,E){const R=E.length;let N=!1;for(let O=R-1,z=0;z<R;O=z++){let B=E[O],G=E[z],U=G.x-B.x,L=G.y-B.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(B=E[z],U=-U,G=E[O],L=-L),S.y<B.y||S.y>G.y)continue;if(S.y===B.y){if(S.x===B.x)return!0}else{const j=L*(S.x-B.x)-U*(S.y-B.y);if(j===0)return!0;if(j<0)continue;N=!N}}else{if(S.y!==B.y)continue;if(G.x<=S.x&&S.x<=B.x||B.x<=S.x&&S.x<=G.x)return!0}}return N}const r=Mu.isClockWise,a=this.subPaths;if(a.length===0)return[];let s,o,u;const f=[];if(a.length===1)return o=a[0],u=new rp,u.curves=o.curves,f.push(u),f;let d=!r(a[0].getPoints());d=e?!d:d;const g=[],y=[];let x=[],_=0,M;y[_]=void 0,x[_]=[];for(let S=0,E=a.length;S<E;S++)o=a[S],M=o.getPoints(),s=r(M),s=e?!s:s,s?(!d&&y[_]&&_++,y[_]={s:new rp,p:M},y[_].s.curves=o.curves,d&&_++,x[_]=[]):x[_].push({h:o,p:M[0]});if(!y[0])return t(a);if(y.length>1){let S=!1,E=0;for(let R=0,N=y.length;R<N;R++)g[R]=[];for(let R=0,N=y.length;R<N;R++){const O=x[R];for(let z=0;z<O.length;z++){const B=O[z];let G=!0;for(let U=0;U<y.length;U++)i(B.p,y[U].p)&&(R!==U&&E++,G?(G=!1,g[U].push(B)):S=!0);G&&g[R].push(B)}}E>0&&S===!1&&(x=g)}let w;for(let S=0,E=y.length;S<E;S++){u=y[S].s,f.push(u),w=x[S];for(let R=0,N=w.length;R<N;R++)u.holes.push(w[R].h)}return f}}class gJ extends Rc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){kt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function yJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function xJ(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function vJ(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function nA(n,e,t,i){const r=bJ(i);switch(t){case KT:return n*e;case nS:return n*e/r.components*r.byteLength;case jv:return n*e/r.components*r.byteLength;case iS:return n*e*2/r.components*r.byteLength;case rS:return n*e*2/r.components*r.byteLength;case QT:return n*e*3/r.components*r.byteLength;case ds:return n*e*4/r.components*r.byteLength;case aS:return n*e*4/r.components*r.byteLength;case Ux:case Px:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Bx:case Ix:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Z4:case Q4:return Math.max(n,16)*Math.max(e,8)/4;case Y4:case K4:return Math.max(n,8)*Math.max(e,8)/2;case J4:case $4:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case e_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case t_:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case n_:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case i_:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case r_:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case a_:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case s_:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case o_:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case l_:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case u_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case c_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case f_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case h_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case d_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case p_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case m_:case g_:case y_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case x_:case v_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case b_:case __:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function bJ(n){switch(n){case Fl:case XT:return{byteLength:1,components:1};case U1:case WT:case mp:return{byteLength:2,components:1};case eS:case tS:return{byteLength:2,components:4};case Bf:case $_:case vo:return{byteLength:4,components:1};case YT:case ZT:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class _J{static contain(e,t){return yJ(e,t)}static cover(e,t){return xJ(e,t)}static fill(e){return vJ(e)}static getByteLength(e,t,i,r){return nA(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:K_}}));typeof window<"u"&&(window.__THREE__?kt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=K_);function fP(){let n=null,e=!1,t=null,i=null;function r(a,s){t(a,s),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function SJ(n){const e=new WeakMap;function t(o,u){const f=o.array,d=o.usage,g=f.byteLength,y=n.createBuffer();n.bindBuffer(u,y),n.bufferData(u,f,d),o.onUploadCallback();let x;if(f instanceof Float32Array)x=n.FLOAT;else if(typeof Float16Array<"u"&&f instanceof Float16Array)x=n.HALF_FLOAT;else if(f instanceof Uint16Array)o.isFloat16BufferAttribute?x=n.HALF_FLOAT:x=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=n.SHORT;else if(f instanceof Uint32Array)x=n.UNSIGNED_INT;else if(f instanceof Int32Array)x=n.INT;else if(f instanceof Int8Array)x=n.BYTE;else if(f instanceof Uint8Array)x=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:o.version,size:g}}function i(o,u,f){const d=u.array,g=u.updateRanges;if(n.bindBuffer(f,o),g.length===0)n.bufferSubData(f,0,d);else{g.sort((x,_)=>x.start-_.start);let y=0;for(let x=1;x<g.length;x++){const _=g[y],M=g[x];M.start<=_.start+_.count+1?_.count=Math.max(_.count,M.start+M.count-_.start):(++y,g[y]=M)}g.length=y+1;for(let x=0,_=g.length;x<_;x++){const M=g[x];n.bufferSubData(f,M.start*d.BYTES_PER_ELEMENT,d,M.start,M.count)}u.clearUpdateRanges()}u.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const u=e.get(o);u&&(n.deleteBuffer(u.buffer),e.delete(o))}function s(o,u){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const d=e.get(o);(!d||d.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const f=e.get(o);if(f===void 0)e.set(o,t(o,u));else if(f.version<o.version){if(f.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(f.buffer,o,u),f.version=o.version}}return{get:r,remove:a,update:s}}var MJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,AJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,TJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,EJ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,CJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,DJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,NJ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,zJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,LJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,OJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,UJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,PJ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BJ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,IJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,FJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,VJ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HJ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,GJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,jJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,qJ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,XJ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,WJ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,YJ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,ZJ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KJ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,QJ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,JJ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$J="gl_FragColor = linearToOutputTexel( gl_FragColor );",e$=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,t$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,n$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,i$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,r$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,a$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,s$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,o$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,l$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,u$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,c$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,f$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,h$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,d$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,p$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,m$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,g$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,y$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,x$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,v$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,b$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,_$=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,S$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,M$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,w$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,A$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,T$=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,E$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,C$=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,R$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,D$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,N$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,z$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,L$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,k$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,O$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,U$=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,P$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,B$=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,I$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,F$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,V$=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,H$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,G$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,j$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,q$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,X$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,W$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Y$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Z$=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,K$=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Q$=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,J$=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$$=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ree=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,aee=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,see=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,oee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,uee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_ee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const See=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Mee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Aee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Eee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Ree=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Dee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Nee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Lee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Uee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Pee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Vee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Gee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,jee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Wee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Qee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$ee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ete=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Un={alphahash_fragment:MJ,alphahash_pars_fragment:wJ,alphamap_fragment:AJ,alphamap_pars_fragment:TJ,alphatest_fragment:EJ,alphatest_pars_fragment:CJ,aomap_fragment:RJ,aomap_pars_fragment:DJ,batching_pars_vertex:NJ,batching_vertex:zJ,begin_vertex:LJ,beginnormal_vertex:kJ,bsdfs:OJ,iridescence_fragment:UJ,bumpmap_pars_fragment:PJ,clipping_planes_fragment:BJ,clipping_planes_pars_fragment:IJ,clipping_planes_pars_vertex:FJ,clipping_planes_vertex:VJ,color_fragment:HJ,color_pars_fragment:GJ,color_pars_vertex:jJ,color_vertex:qJ,common:XJ,cube_uv_reflection_fragment:WJ,defaultnormal_vertex:YJ,displacementmap_pars_vertex:ZJ,displacementmap_vertex:KJ,emissivemap_fragment:QJ,emissivemap_pars_fragment:JJ,colorspace_fragment:$J,colorspace_pars_fragment:e$,envmap_fragment:t$,envmap_common_pars_fragment:n$,envmap_pars_fragment:i$,envmap_pars_vertex:r$,envmap_physical_pars_fragment:m$,envmap_vertex:a$,fog_vertex:s$,fog_pars_vertex:o$,fog_fragment:l$,fog_pars_fragment:u$,gradientmap_pars_fragment:c$,lightmap_pars_fragment:f$,lights_lambert_fragment:h$,lights_lambert_pars_fragment:d$,lights_pars_begin:p$,lights_toon_fragment:g$,lights_toon_pars_fragment:y$,lights_phong_fragment:x$,lights_phong_pars_fragment:v$,lights_physical_fragment:b$,lights_physical_pars_fragment:_$,lights_fragment_begin:S$,lights_fragment_maps:M$,lights_fragment_end:w$,logdepthbuf_fragment:A$,logdepthbuf_pars_fragment:T$,logdepthbuf_pars_vertex:E$,logdepthbuf_vertex:C$,map_fragment:R$,map_pars_fragment:D$,map_particle_fragment:N$,map_particle_pars_fragment:z$,metalnessmap_fragment:L$,metalnessmap_pars_fragment:k$,morphinstance_vertex:O$,morphcolor_vertex:U$,morphnormal_vertex:P$,morphtarget_pars_vertex:B$,morphtarget_vertex:I$,normal_fragment_begin:F$,normal_fragment_maps:V$,normal_pars_fragment:H$,normal_pars_vertex:G$,normal_vertex:j$,normalmap_pars_fragment:q$,clearcoat_normal_fragment_begin:X$,clearcoat_normal_fragment_maps:W$,clearcoat_pars_fragment:Y$,iridescence_pars_fragment:Z$,opaque_fragment:K$,packing:Q$,premultiplied_alpha_fragment:J$,project_vertex:$$,dithering_fragment:eee,dithering_pars_fragment:tee,roughnessmap_fragment:nee,roughnessmap_pars_fragment:iee,shadowmap_pars_fragment:ree,shadowmap_pars_vertex:aee,shadowmap_vertex:see,shadowmask_pars_fragment:oee,skinbase_vertex:lee,skinning_pars_vertex:uee,skinning_vertex:cee,skinnormal_vertex:fee,specularmap_fragment:hee,specularmap_pars_fragment:dee,tonemapping_fragment:pee,tonemapping_pars_fragment:mee,transmission_fragment:gee,transmission_pars_fragment:yee,uv_pars_fragment:xee,uv_pars_vertex:vee,uv_vertex:bee,worldpos_vertex:_ee,background_vert:See,background_frag:Mee,backgroundCube_vert:wee,backgroundCube_frag:Aee,cube_vert:Tee,cube_frag:Eee,depth_vert:Cee,depth_frag:Ree,distanceRGBA_vert:Dee,distanceRGBA_frag:Nee,equirect_vert:zee,equirect_frag:Lee,linedashed_vert:kee,linedashed_frag:Oee,meshbasic_vert:Uee,meshbasic_frag:Pee,meshlambert_vert:Bee,meshlambert_frag:Iee,meshmatcap_vert:Fee,meshmatcap_frag:Vee,meshnormal_vert:Hee,meshnormal_frag:Gee,meshphong_vert:jee,meshphong_frag:qee,meshphysical_vert:Xee,meshphysical_frag:Wee,meshtoon_vert:Yee,meshtoon_frag:Zee,points_vert:Kee,points_frag:Qee,shadow_vert:Jee,shadow_frag:$ee,sprite_vert:ete,sprite_frag:tte},Lt={common:{diffuse:{value:new It(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dn}},envmap:{envMap:{value:null},envMapRotation:{value:new Dn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dn},normalScale:{value:new rt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new It(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new It(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0},uvTransform:{value:new Dn}},sprite:{diffuse:{value:new It(16777215)},opacity:{value:1},center:{value:new rt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dn},alphaMap:{value:null},alphaMapTransform:{value:new Dn},alphaTest:{value:0}}},Su={basic:{uniforms:Fs([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.fog]),vertexShader:Un.meshbasic_vert,fragmentShader:Un.meshbasic_frag},lambert:{uniforms:Fs([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new It(0)}}]),vertexShader:Un.meshlambert_vert,fragmentShader:Un.meshlambert_frag},phong:{uniforms:Fs([Lt.common,Lt.specularmap,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,Lt.lights,{emissive:{value:new It(0)},specular:{value:new It(1118481)},shininess:{value:30}}]),vertexShader:Un.meshphong_vert,fragmentShader:Un.meshphong_frag},standard:{uniforms:Fs([Lt.common,Lt.envmap,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.roughnessmap,Lt.metalnessmap,Lt.fog,Lt.lights,{emissive:{value:new It(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag},toon:{uniforms:Fs([Lt.common,Lt.aomap,Lt.lightmap,Lt.emissivemap,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.gradientmap,Lt.fog,Lt.lights,{emissive:{value:new It(0)}}]),vertexShader:Un.meshtoon_vert,fragmentShader:Un.meshtoon_frag},matcap:{uniforms:Fs([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,Lt.fog,{matcap:{value:null}}]),vertexShader:Un.meshmatcap_vert,fragmentShader:Un.meshmatcap_frag},points:{uniforms:Fs([Lt.points,Lt.fog]),vertexShader:Un.points_vert,fragmentShader:Un.points_frag},dashed:{uniforms:Fs([Lt.common,Lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Un.linedashed_vert,fragmentShader:Un.linedashed_frag},depth:{uniforms:Fs([Lt.common,Lt.displacementmap]),vertexShader:Un.depth_vert,fragmentShader:Un.depth_frag},normal:{uniforms:Fs([Lt.common,Lt.bumpmap,Lt.normalmap,Lt.displacementmap,{opacity:{value:1}}]),vertexShader:Un.meshnormal_vert,fragmentShader:Un.meshnormal_frag},sprite:{uniforms:Fs([Lt.sprite,Lt.fog]),vertexShader:Un.sprite_vert,fragmentShader:Un.sprite_frag},background:{uniforms:{uvTransform:{value:new Dn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Un.background_vert,fragmentShader:Un.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Dn}},vertexShader:Un.backgroundCube_vert,fragmentShader:Un.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Un.cube_vert,fragmentShader:Un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Un.equirect_vert,fragmentShader:Un.equirect_frag},distanceRGBA:{uniforms:Fs([Lt.common,Lt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Un.distanceRGBA_vert,fragmentShader:Un.distanceRGBA_frag},shadow:{uniforms:Fs([Lt.lights,Lt.fog,{color:{value:new It(0)},opacity:{value:1}}]),vertexShader:Un.shadow_vert,fragmentShader:Un.shadow_frag}};Su.physical={uniforms:Fs([Su.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dn},clearcoatNormalScale:{value:new rt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dn},sheen:{value:0},sheenColor:{value:new It(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dn},transmissionSamplerSize:{value:new rt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dn},attenuationDistance:{value:0},attenuationColor:{value:new It(0)},specularColor:{value:new It(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dn},anisotropyVector:{value:new rt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dn}}]),vertexShader:Un.meshphysical_vert,fragmentShader:Un.meshphysical_frag};const Lb={r:0,b:0,g:0},Rd=new al,nte=new _n;function ite(n,e,t,i,r,a,s){const o=new It(0);let u=a===!0?0:1,f,d,g=null,y=0,x=null;function _(R){let N=R.isScene===!0?R.background:null;return N&&N.isTexture&&(N=(R.backgroundBlurriness>0?t:e).get(N)),N}function M(R){let N=!1;const O=_(R);O===null?S(o,u):O&&O.isColor&&(S(O,1),N=!0);const z=n.xr.getEnvironmentBlendMode();z==="additive"?i.buffers.color.setClear(0,0,0,1,s):z==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function w(R,N){const O=_(N);O&&(O.isCubeTexture||O.mapping===ng)?(d===void 0&&(d=new ma(new gp(1,1,1),new Vl({name:"BackgroundCubeMaterial",uniforms:j1(Su.backgroundCube.uniforms),vertexShader:Su.backgroundCube.vertexShader,fragmentShader:Su.backgroundCube.fragmentShader,side:Ks,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(z,B,G){this.matrixWorld.copyPosition(G.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),Rd.copy(N.backgroundRotation),Rd.x*=-1,Rd.y*=-1,Rd.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Rd.y*=-1,Rd.z*=-1),d.material.uniforms.envMap.value=O,d.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(nte.makeRotationFromEuler(Rd)),d.material.toneMapped=ui.getTransfer(O.colorSpace)!==Oi,(g!==O||y!==O.version||x!==n.toneMapping)&&(d.material.needsUpdate=!0,g=O,y=O.version,x=n.toneMapping),d.layers.enableAll(),R.unshift(d,d.geometry,d.material,0,0,null)):O&&O.isTexture&&(f===void 0&&(f=new ma(new ag(2,2),new Vl({name:"BackgroundMaterial",uniforms:j1(Su.background.uniforms),vertexShader:Su.background.vertexShader,fragmentShader:Su.background.fragmentShader,side:Uf,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=O,f.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,f.material.toneMapped=ui.getTransfer(O.colorSpace)!==Oi,O.matrixAutoUpdate===!0&&O.updateMatrix(),f.material.uniforms.uvTransform.value.copy(O.matrix),(g!==O||y!==O.version||x!==n.toneMapping)&&(f.material.needsUpdate=!0,g=O,y=O.version,x=n.toneMapping),f.layers.enableAll(),R.unshift(f,f.geometry,f.material,0,0,null))}function S(R,N){R.getRGB(Lb,cU(n)),i.buffers.color.setClear(Lb.r,Lb.g,Lb.b,N,s)}function E(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0)}return{getClearColor:function(){return o},setClearColor:function(R,N=1){o.set(R),u=N,S(o,u)},getClearAlpha:function(){return u},setClearAlpha:function(R){u=R,S(o,u)},render:M,addToRenderList:w,dispose:E}}function rte(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,s=!1;function o(L,j,Z,oe,le){let ae=!1;const W=g(oe,Z,j);a!==W&&(a=W,f(a.object)),ae=x(L,oe,Z,le),ae&&_(L,oe,Z,le),le!==null&&e.update(le,n.ELEMENT_ARRAY_BUFFER),(ae||s)&&(s=!1,N(L,j,Z,oe),le!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(le).buffer))}function u(){return n.createVertexArray()}function f(L){return n.bindVertexArray(L)}function d(L){return n.deleteVertexArray(L)}function g(L,j,Z){const oe=Z.wireframe===!0;let le=i[L.id];le===void 0&&(le={},i[L.id]=le);let ae=le[j.id];ae===void 0&&(ae={},le[j.id]=ae);let W=ae[oe];return W===void 0&&(W=y(u()),ae[oe]=W),W}function y(L){const j=[],Z=[],oe=[];for(let le=0;le<t;le++)j[le]=0,Z[le]=0,oe[le]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:Z,attributeDivisors:oe,object:L,attributes:{},index:null}}function x(L,j,Z,oe){const le=a.attributes,ae=j.attributes;let W=0;const te=Z.getAttributes();for(const re in te)if(te[re].location>=0){const F=le[re];let J=ae[re];if(J===void 0&&(re==="instanceMatrix"&&L.instanceMatrix&&(J=L.instanceMatrix),re==="instanceColor"&&L.instanceColor&&(J=L.instanceColor)),F===void 0||F.attribute!==J||J&&F.data!==J.data)return!0;W++}return a.attributesNum!==W||a.index!==oe}function _(L,j,Z,oe){const le={},ae=j.attributes;let W=0;const te=Z.getAttributes();for(const re in te)if(te[re].location>=0){let F=ae[re];F===void 0&&(re==="instanceMatrix"&&L.instanceMatrix&&(F=L.instanceMatrix),re==="instanceColor"&&L.instanceColor&&(F=L.instanceColor));const J={};J.attribute=F,F&&F.data&&(J.data=F.data),le[re]=J,W++}a.attributes=le,a.attributesNum=W,a.index=oe}function M(){const L=a.newAttributes;for(let j=0,Z=L.length;j<Z;j++)L[j]=0}function w(L){S(L,0)}function S(L,j){const Z=a.newAttributes,oe=a.enabledAttributes,le=a.attributeDivisors;Z[L]=1,oe[L]===0&&(n.enableVertexAttribArray(L),oe[L]=1),le[L]!==j&&(n.vertexAttribDivisor(L,j),le[L]=j)}function E(){const L=a.newAttributes,j=a.enabledAttributes;for(let Z=0,oe=j.length;Z<oe;Z++)j[Z]!==L[Z]&&(n.disableVertexAttribArray(Z),j[Z]=0)}function R(L,j,Z,oe,le,ae,W){W===!0?n.vertexAttribIPointer(L,j,Z,le,ae):n.vertexAttribPointer(L,j,Z,oe,le,ae)}function N(L,j,Z,oe){M();const le=oe.attributes,ae=Z.getAttributes(),W=j.defaultAttributeValues;for(const te in ae){const re=ae[te];if(re.location>=0){let ve=le[te];if(ve===void 0&&(te==="instanceMatrix"&&L.instanceMatrix&&(ve=L.instanceMatrix),te==="instanceColor"&&L.instanceColor&&(ve=L.instanceColor)),ve!==void 0){const F=ve.normalized,J=ve.itemSize,ye=e.get(ve);if(ye===void 0)continue;const K=ye.buffer,Le=ye.type,Ye=ye.bytesPerElement,_e=Le===n.INT||Le===n.UNSIGNED_INT||ve.gpuType===$_;if(ve.isInterleavedBufferAttribute){const Ne=ve.data,Xe=Ne.stride,at=ve.offset;if(Ne.isInstancedInterleavedBuffer){for(let _t=0;_t<re.locationSize;_t++)S(re.location+_t,Ne.meshPerAttribute);L.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=Ne.meshPerAttribute*Ne.count)}else for(let _t=0;_t<re.locationSize;_t++)w(re.location+_t);n.bindBuffer(n.ARRAY_BUFFER,K);for(let _t=0;_t<re.locationSize;_t++)R(re.location+_t,J/re.locationSize,Le,F,Xe*Ye,(at+J/re.locationSize*_t)*Ye,_e)}else{if(ve.isInstancedBufferAttribute){for(let Ne=0;Ne<re.locationSize;Ne++)S(re.location+Ne,ve.meshPerAttribute);L.isInstancedMesh!==!0&&oe._maxInstanceCount===void 0&&(oe._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let Ne=0;Ne<re.locationSize;Ne++)w(re.location+Ne);n.bindBuffer(n.ARRAY_BUFFER,K);for(let Ne=0;Ne<re.locationSize;Ne++)R(re.location+Ne,J/re.locationSize,Le,F,J*Ye,J/re.locationSize*Ne*Ye,_e)}}else if(W!==void 0){const F=W[te];if(F!==void 0)switch(F.length){case 2:n.vertexAttrib2fv(re.location,F);break;case 3:n.vertexAttrib3fv(re.location,F);break;case 4:n.vertexAttrib4fv(re.location,F);break;default:n.vertexAttrib1fv(re.location,F)}}}}E()}function O(){G();for(const L in i){const j=i[L];for(const Z in j){const oe=j[Z];for(const le in oe)d(oe[le].object),delete oe[le];delete j[Z]}delete i[L]}}function z(L){if(i[L.id]===void 0)return;const j=i[L.id];for(const Z in j){const oe=j[Z];for(const le in oe)d(oe[le].object),delete oe[le];delete j[Z]}delete i[L.id]}function B(L){for(const j in i){const Z=i[j];if(Z[L.id]===void 0)continue;const oe=Z[L.id];for(const le in oe)d(oe[le].object),delete oe[le];delete Z[L.id]}}function G(){U(),s=!0,a!==r&&(a=r,f(a.object))}function U(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:G,resetDefaultState:U,dispose:O,releaseStatesOfGeometry:z,releaseStatesOfProgram:B,initAttributes:M,enableAttribute:w,disableUnusedAttributes:E}}function ate(n,e,t){let i;function r(f){i=f}function a(f,d){n.drawArrays(i,f,d),t.update(d,i,1)}function s(f,d,g){g!==0&&(n.drawArraysInstanced(i,f,d,g),t.update(d,i,g))}function o(f,d,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,f,0,d,0,g);let x=0;for(let _=0;_<g;_++)x+=d[_];t.update(x,i,1)}function u(f,d,g,y){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<f.length;_++)s(f[_],d[_],y[_]);else{x.multiDrawArraysInstancedWEBGL(i,f,0,d,0,y,0,g);let _=0;for(let M=0;M<g;M++)_+=d[M]*y[M];t.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=u}function ste(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(B){return!(B!==ds&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const G=B===mp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Fl&&i.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==vo&&!G)}function u(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let f=t.precision!==void 0?t.precision:"highp";const d=u(f);d!==f&&(kt("WebGLRenderer:",f,"not supported, using",d,"instead."),f=d);const g=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),E=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),R=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=_>0,z=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:u,textureFormatReadable:s,textureTypeReadable:o,precision:f,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:x,maxVertexTextures:_,maxTextureSize:M,maxCubemapSize:w,maxAttributes:S,maxVertexUniforms:E,maxVaryings:R,maxFragmentUniforms:N,vertexTextures:O,maxSamples:z}}function ote(n){const e=this;let t=null,i=0,r=!1,a=!1;const s=new Hh,o=new Dn,u={value:null,needsUpdate:!1};this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const x=g.length!==0||y||i!==0||r;return r=y,i=g.length,x},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=d(g,y,0)},this.setState=function(g,y,x){const _=g.clippingPlanes,M=g.clipIntersection,w=g.clipShadows,S=n.get(g);if(!r||_===null||_.length===0||a&&!w)a?d(null):f();else{const E=a?0:i,R=E*4;let N=S.clippingState||null;u.value=N,N=d(_,y,R,x);for(let O=0;O!==R;++O)N[O]=t[O];S.clippingState=N,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=E}};function f(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(g,y,x,_){const M=g!==null?g.length:0;let w=null;if(M!==0){if(w=u.value,_!==!0||w===null){const S=x+M*4,E=y.matrixWorldInverse;o.getNormalMatrix(E),(w===null||w.length<S)&&(w=new Float32Array(S));for(let R=0,N=x;R!==M;++R,N+=4)s.copy(g[R]).applyMatrix4(E,o),s.normal.toArray(w,N),w[N+3]=s.constant}u.value=w,u.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,w}}function lte(n){let e=new WeakMap;function t(s,o){return o===cv?s.mapping=Pf:o===fv&&(s.mapping=l0),s}function i(s){if(s&&s.isTexture){const o=s.mapping;if(o===cv||o===fv)if(e.has(s)){const u=e.get(s).texture;return t(u,s.mapping)}else{const u=s.image;if(u&&u.height>0){const f=new dU(u.height);return f.fromEquirectangularTexture(n,s),e.set(s,f),s.addEventListener("dispose",r),t(f.texture,s.mapping)}else return null}}return s}function r(s){const o=s.target;o.removeEventListener("dispose",r);const u=e.get(o);u!==void 0&&(e.delete(o),u.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const Qh=4,NR=[.125,.215,.35,.446,.526,.582],Id=20,ute=256,tx=new Jv,zR=new It;let K6=null,Q6=0,J6=0,$6=!1;const cte=new se;class iA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,r=100,a={}){const{size:s=256,position:o=cte}=a;K6=this._renderer.getRenderTarget(),Q6=this._renderer.getActiveCubeFace(),J6=this._renderer.getActiveMipmapLevel(),$6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(e,i,r,u,o),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=OR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=kR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(K6,Q6,J6),this._renderer.xr.enabled=$6,e.scissorTest=!1,Km(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Pf||e.mapping===l0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),K6=this._renderer.getRenderTarget(),Q6=this._renderer.getActiveCubeFace(),J6=this._renderer.getActiveMipmapLevel(),$6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Gr,minFilter:Gr,generateMipmaps:!1,type:mp,format:ds,colorSpace:u0,depthBuffer:!1},r=LR(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=LR(e,t,i);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=fte(a)),this._blurMaterial=dte(a,e,t),this._ggxMaterial=hte(a,e,t)}return r}_compileMaterial(e){const t=new ma(new wn,e);this._renderer.compile(t,tx)}_sceneToCubeUV(e,t,i,r,a){const u=new Na(90,1,t,i),f=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,x=g.toneMapping;g.getClearColor(zR),g.toneMapping=Ac,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(r),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new ma(new gp,new x0({name:"PMREM.Background",side:Ks,depthWrite:!1,depthTest:!1})));const M=this._backgroundBox,w=M.material;let S=!1;const E=e.background;E?E.isColor&&(w.color.copy(E),e.background=null,S=!0):(w.color.copy(zR),S=!0);for(let R=0;R<6;R++){const N=R%3;N===0?(u.up.set(0,f[R],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x+d[R],a.y,a.z)):N===1?(u.up.set(0,0,f[R]),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y+d[R],a.z)):(u.up.set(0,f[R],0),u.position.set(a.x,a.y,a.z),u.lookAt(a.x,a.y,a.z+d[R]));const O=this._cubeSize;Km(r,N*O,R>2?O:0,O,O),g.setRenderTarget(r),S&&g.render(M,u),g.render(e,u)}g.toneMapping=x,g.autoClear=y,e.background=E}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Pf||e.mapping===l0;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=OR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=kR());const a=r?this._cubemapMaterial:this._equirectMaterial,s=this._lodMeshes[0];s.material=a;const o=a.uniforms;o.envMap.value=e;const u=this._cubeSize;Km(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(s,tx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let a=1;a<r;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=i}_applyGGXFilter(e,t,i){const r=this._renderer,a=this._pingPongRenderTarget,s=this._ggxMaterial,o=this._lodMeshes[i];o.material=s;const u=s.uniforms,f=i/(this._lodMeshes.length-1),d=t/(this._lodMeshes.length-1),g=Math.sqrt(f*f-d*d),y=.05+f*.95,x=g*y,{_lodMax:_}=this,M=this._sizeLods[i],w=3*M*(i>_-Qh?i-_+Qh:0),S=4*(this._cubeSize-M);u.envMap.value=e.texture,u.roughness.value=x,u.mipInt.value=_-t,Km(a,w,S,3*M,2*M),r.setRenderTarget(a),r.render(o,tx),u.envMap.value=a.texture,u.roughness.value=0,u.mipInt.value=_-i,Km(e,w,S,3*M,2*M),r.setRenderTarget(e),r.render(o,tx)}_blur(e,t,i,r,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,r,"latitudinal",a),this._halfBlur(s,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,s,o){const u=this._renderer,f=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&Mn("blur direction must be either latitudinal or longitudinal!");const d=3,g=this._lodMeshes[r];g.material=f;const y=f.uniforms,x=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*Id-1),M=a/_,w=isFinite(a)?1+Math.floor(d*M):Id;w>Id&&kt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Id}`);const S=[];let E=0;for(let B=0;B<Id;++B){const G=B/M,U=Math.exp(-G*G/2);S.push(U),B===0?E+=U:B<w&&(E+=2*U)}for(let B=0;B<S.length;B++)S[B]=S[B]/E;y.envMap.value=e.texture,y.samples.value=w,y.weights.value=S,y.latitudinal.value=s==="latitudinal",o&&(y.poleAxis.value=o);const{_lodMax:R}=this;y.dTheta.value=_,y.mipInt.value=R-i;const N=this._sizeLods[r],O=3*N*(r>R-Qh?r-R+Qh:0),z=4*(this._cubeSize-N);Km(t,O,z,3*N,2*N),u.setRenderTarget(t),u.render(g,tx)}}function fte(n){const e=[],t=[],i=[];let r=n;const a=n-Qh+1+NR.length;for(let s=0;s<a;s++){const o=Math.pow(2,r);e.push(o);let u=1/o;s>n-Qh?u=NR[s-n+Qh-1]:s===0&&(u=0),t.push(u);const f=1/(o-2),d=-f,g=1+f,y=[d,d,g,d,g,g,d,d,g,g,d,g],x=6,_=6,M=3,w=2,S=1,E=new Float32Array(M*_*x),R=new Float32Array(w*_*x),N=new Float32Array(S*_*x);for(let z=0;z<x;z++){const B=z%3*2/3-1,G=z>2?0:-1,U=[B,G,0,B+2/3,G,0,B+2/3,G+1,0,B,G,0,B+2/3,G+1,0,B,G+1,0];E.set(U,M*_*z),R.set(y,w*_*z);const L=[z,z,z,z,z,z];N.set(L,S*_*z)}const O=new wn;O.setAttribute("position",new Fi(E,M)),O.setAttribute("uv",new Fi(R,w)),O.setAttribute("faceIndex",new Fi(N,S)),i.push(new ma(O,null)),r>Qh&&r--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function LR(n,e,t){const i=new Ec(n,e,t);return i.texture.mapping=ng,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Km(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function hte(n,e,t){return new Vl({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:ute,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:DS(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:wc,depthTest:!1,depthWrite:!1})}function dte(n,e,t){const i=new Float32Array(Id),r=new se(0,1,0);return new Vl({name:"SphericalGaussianBlur",defines:{n:Id,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:DS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:wc,depthTest:!1,depthWrite:!1})}function kR(){return new Vl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:DS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:wc,depthTest:!1,depthWrite:!1})}function OR(){return new Vl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:DS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:wc,depthTest:!1,depthWrite:!1})}function DS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pte(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const u=o.mapping,f=u===cv||u===fv,d=u===Pf||u===l0;if(f||d){let g=e.get(o);const y=g!==void 0?g.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==y)return t===null&&(t=new iA(n)),g=f?t.fromEquirectangular(o,g):t.fromCubemap(o,g),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),g.texture;if(g!==void 0)return g.texture;{const x=o.image;return f&&x&&x.height>0||d&&x&&r(x)?(t===null&&(t=new iA(n)),g=f?t.fromEquirectangular(o):t.fromCubemap(o),g.texture.pmremVersion=o.pmremVersion,e.set(o,g),o.addEventListener("dispose",a),g.texture):null}}}return o}function r(o){let u=0;const f=6;for(let d=0;d<f;d++)o[d]!==void 0&&u++;return u===f}function a(o){const u=o.target;u.removeEventListener("dispose",a);const f=e.get(u);f!==void 0&&(e.delete(u),f.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:s}}function mte(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const r=n.getExtension(i);return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&V1("WebGLRenderer: "+i+" extension not supported."),r}}}function gte(n,e,t,i){const r={},a=new WeakMap;function s(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",s),delete r[y.id];const x=a.get(y);x&&(e.remove(x),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function o(g,y){return r[y.id]===!0||(y.addEventListener("dispose",s),r[y.id]=!0,t.memory.geometries++),y}function u(g){const y=g.attributes;for(const x in y)e.update(y[x],n.ARRAY_BUFFER)}function f(g){const y=[],x=g.index,_=g.attributes.position;let M=0;if(x!==null){const E=x.array;M=x.version;for(let R=0,N=E.length;R<N;R+=3){const O=E[R+0],z=E[R+1],B=E[R+2];y.push(O,z,z,B,B,O)}}else if(_!==void 0){const E=_.array;M=_.version;for(let R=0,N=E.length/3-1;R<N;R+=3){const O=R+0,z=R+1,B=R+2;y.push(O,z,z,B,B,O)}}else return;const w=new(sU(y)?i7:n7)(y,1);w.version=M;const S=a.get(g);S&&e.remove(S),a.set(g,w)}function d(g){const y=a.get(g);if(y){const x=g.index;x!==null&&y.version<x.version&&f(g)}else f(g);return a.get(g)}return{get:o,update:u,getWireframeAttribute:d}}function yte(n,e,t){let i;function r(y){i=y}let a,s;function o(y){a=y.type,s=y.bytesPerElement}function u(y,x){n.drawElements(i,x,a,y*s),t.update(x,i,1)}function f(y,x,_){_!==0&&(n.drawElementsInstanced(i,x,a,y*s,_),t.update(x,i,_))}function d(y,x,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,x,0,a,y,0,_);let w=0;for(let S=0;S<_;S++)w+=x[S];t.update(w,i,1)}function g(y,x,_,M){if(_===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let S=0;S<y.length;S++)f(y[S]/s,x[S],M[S]);else{w.multiDrawElementsInstancedWEBGL(i,x,0,a,y,0,M,0,_);let S=0;for(let E=0;E<_;E++)S+=x[E]*M[E];t.update(S,i,1)}}this.setMode=r,this.setIndex=o,this.render=u,this.renderInstances=f,this.renderMultiDraw=d,this.renderMultiDrawInstances=g}function xte(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:Mn("WebGLInfo: Unknown draw mode:",s);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function vte(n,e,t){const i=new WeakMap,r=new pi;function a(s,o,u){const f=s.morphTargetInfluences,d=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,g=d!==void 0?d.length:0;let y=i.get(o);if(y===void 0||y.count!==g){let L=function(){G.dispose(),i.delete(o),o.removeEventListener("dispose",L)};var x=L;y!==void 0&&y.texture.dispose();const _=o.morphAttributes.position!==void 0,M=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,S=o.morphAttributes.position||[],E=o.morphAttributes.normal||[],R=o.morphAttributes.color||[];let N=0;_===!0&&(N=1),M===!0&&(N=2),w===!0&&(N=3);let O=o.attributes.position.count*N,z=1;O>e.maxTextureSize&&(z=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const B=new Float32Array(O*z*4*g),G=new oS(B,O,z,g);G.type=vo,G.needsUpdate=!0;const U=N*4;for(let j=0;j<g;j++){const Z=S[j],oe=E[j],le=R[j],ae=O*z*4*j;for(let W=0;W<Z.count;W++){const te=W*U;_===!0&&(r.fromBufferAttribute(Z,W),B[ae+te+0]=r.x,B[ae+te+1]=r.y,B[ae+te+2]=r.z,B[ae+te+3]=0),M===!0&&(r.fromBufferAttribute(oe,W),B[ae+te+4]=r.x,B[ae+te+5]=r.y,B[ae+te+6]=r.z,B[ae+te+7]=0),w===!0&&(r.fromBufferAttribute(le,W),B[ae+te+8]=r.x,B[ae+te+9]=r.y,B[ae+te+10]=r.z,B[ae+te+11]=le.itemSize===4?r.w:1)}}y={count:g,texture:G,size:new rt(O,z)},i.set(o,y),o.addEventListener("dispose",L)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)u.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let _=0;for(let w=0;w<f.length;w++)_+=f[w];const M=o.morphTargetsRelative?1:1-_;u.getUniforms().setValue(n,"morphTargetBaseInfluence",M),u.getUniforms().setValue(n,"morphTargetInfluences",f)}u.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),u.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function bte(n,e,t,i){let r=new WeakMap;function a(u){const f=i.render.frame,d=u.geometry,g=e.get(u,d);if(r.get(g)!==f&&(e.update(g),r.set(g,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",o)===!1&&u.addEventListener("dispose",o),r.get(u)!==f&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),u.instanceColor!==null&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,f))),u.isSkinnedMesh){const y=u.skeleton;r.get(y)!==f&&(y.update(),r.set(y,f))}return g}function s(){r=new WeakMap}function o(u){const f=u.target;f.removeEventListener("dispose",o),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:s}}const hP=new zr,UR=new l7(1,1),dP=new oS,pP=new lS,mP=new qv,PR=[],BR=[],IR=new Float32Array(16),FR=new Float32Array(9),VR=new Float32Array(4);function sg(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=PR[r];if(a===void 0&&(a=new Float32Array(r),PR[r]=a),e!==0){i.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function ga(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ya(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function NS(n,e){let t=BR[e];t===void 0&&(t=new Int32Array(e),BR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function _te(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ste(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ga(t,e))return;n.uniform2fv(this.addr,e),ya(t,e)}}function Mte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ga(t,e))return;n.uniform3fv(this.addr,e),ya(t,e)}}function wte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ga(t,e))return;n.uniform4fv(this.addr,e),ya(t,e)}}function Ate(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ga(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ya(t,e)}else{if(ga(t,i))return;VR.set(i),n.uniformMatrix2fv(this.addr,!1,VR),ya(t,i)}}function Tte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ga(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ya(t,e)}else{if(ga(t,i))return;FR.set(i),n.uniformMatrix3fv(this.addr,!1,FR),ya(t,i)}}function Ete(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ga(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ya(t,e)}else{if(ga(t,i))return;IR.set(i),n.uniformMatrix4fv(this.addr,!1,IR),ya(t,i)}}function Cte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Rte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ga(t,e))return;n.uniform2iv(this.addr,e),ya(t,e)}}function Dte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ga(t,e))return;n.uniform3iv(this.addr,e),ya(t,e)}}function Nte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ga(t,e))return;n.uniform4iv(this.addr,e),ya(t,e)}}function zte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Lte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ga(t,e))return;n.uniform2uiv(this.addr,e),ya(t,e)}}function kte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ga(t,e))return;n.uniform3uiv(this.addr,e),ya(t,e)}}function Ote(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ga(t,e))return;n.uniform4uiv(this.addr,e),ya(t,e)}}function Ute(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(UR.compareFunction=$T,a=UR):a=hP,t.setTexture2D(e||a,r)}function Pte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||pP,r)}function Bte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||mP,r)}function Ite(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||dP,r)}function Fte(n){switch(n){case 5126:return _te;case 35664:return Ste;case 35665:return Mte;case 35666:return wte;case 35674:return Ate;case 35675:return Tte;case 35676:return Ete;case 5124:case 35670:return Cte;case 35667:case 35671:return Rte;case 35668:case 35672:return Dte;case 35669:case 35673:return Nte;case 5125:return zte;case 36294:return Lte;case 36295:return kte;case 36296:return Ote;case 35678:case 36198:case 36298:case 36306:case 35682:return Ute;case 35679:case 36299:case 36307:return Pte;case 35680:case 36300:case 36308:case 36293:return Bte;case 36289:case 36303:case 36311:case 36292:return Ite}}function Vte(n,e){n.uniform1fv(this.addr,e)}function Hte(n,e){const t=sg(e,this.size,2);n.uniform2fv(this.addr,t)}function Gte(n,e){const t=sg(e,this.size,3);n.uniform3fv(this.addr,t)}function jte(n,e){const t=sg(e,this.size,4);n.uniform4fv(this.addr,t)}function qte(n,e){const t=sg(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Xte(n,e){const t=sg(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Wte(n,e){const t=sg(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Yte(n,e){n.uniform1iv(this.addr,e)}function Zte(n,e){n.uniform2iv(this.addr,e)}function Kte(n,e){n.uniform3iv(this.addr,e)}function Qte(n,e){n.uniform4iv(this.addr,e)}function Jte(n,e){n.uniform1uiv(this.addr,e)}function $te(n,e){n.uniform2uiv(this.addr,e)}function ene(n,e){n.uniform3uiv(this.addr,e)}function tne(n,e){n.uniform4uiv(this.addr,e)}function nne(n,e,t){const i=this.cache,r=e.length,a=NS(t,r);ga(i,a)||(n.uniform1iv(this.addr,a),ya(i,a));for(let s=0;s!==r;++s)t.setTexture2D(e[s]||hP,a[s])}function ine(n,e,t){const i=this.cache,r=e.length,a=NS(t,r);ga(i,a)||(n.uniform1iv(this.addr,a),ya(i,a));for(let s=0;s!==r;++s)t.setTexture3D(e[s]||pP,a[s])}function rne(n,e,t){const i=this.cache,r=e.length,a=NS(t,r);ga(i,a)||(n.uniform1iv(this.addr,a),ya(i,a));for(let s=0;s!==r;++s)t.setTextureCube(e[s]||mP,a[s])}function ane(n,e,t){const i=this.cache,r=e.length,a=NS(t,r);ga(i,a)||(n.uniform1iv(this.addr,a),ya(i,a));for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||dP,a[s])}function sne(n){switch(n){case 5126:return Vte;case 35664:return Hte;case 35665:return Gte;case 35666:return jte;case 35674:return qte;case 35675:return Xte;case 35676:return Wte;case 5124:case 35670:return Yte;case 35667:case 35671:return Zte;case 35668:case 35672:return Kte;case 35669:case 35673:return Qte;case 5125:return Jte;case 36294:return $te;case 36295:return ene;case 36296:return tne;case 35678:case 36198:case 36298:case 36306:case 35682:return nne;case 35679:case 36299:case 36307:return ine;case 35680:case 36300:case 36308:case 36293:return rne;case 36289:case 36303:case 36311:case 36292:return ane}}class one{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Fte(t.type)}}class lne{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=sne(t.type)}}class une{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,s=r.length;a!==s;++a){const o=r[a];o.setValue(e,t[o.id],i)}}}const eM=/(\w+)(\])?(\[|\.)?/g;function HR(n,e){n.seq.push(e),n.map[e.id]=e}function cne(n,e,t){const i=n.name,r=i.length;for(eM.lastIndex=0;;){const a=eM.exec(i),s=eM.lastIndex;let o=a[1];const u=a[2]==="]",f=a[3];if(u&&(o=o|0),f===void 0||f==="["&&s+2===r){HR(t,f===void 0?new one(o,n,e):new lne(o,n,e));break}else{let g=t.map[o];g===void 0&&(g=new une(o),HR(t,g)),t=g}}}class m4{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),s=e.getUniformLocation(t,a.name);cne(a,s,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,s=t.length;a!==s;++a){const o=t[a],u=i[o.id];u.needsUpdate!==!1&&o.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const s=e[r];s.id in t&&i.push(s)}return i}}function GR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const fne=37297;let hne=0;function dne(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=r;s<a;s++){const o=s+1;i.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return i.join(`
`)}const jR=new Dn;function pne(n){ui._getMatrix(jR,ui.workingColorSpace,n);const e=`mat3( ${jR.elements.map(t=>t.toFixed(4))} )`;switch(ui.getTransfer(n)){case gv:return[e,"LinearTransferOETF"];case Oi:return[e,"sRGBTransferOETF"];default:return kt("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function qR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(i&&a==="")return"";const s=/ERROR: 0:(\d+)/.exec(a);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+a+`

`+dne(n.getShaderSource(e),o)}else return a}function mne(n,e){const t=pne(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function gne(n,e){let t;switch(e){case FO:t="Linear";break;case VO:t="Reinhard";break;case HO:t="Cineon";break;case jT:t="ACESFilmic";break;case jO:t="AgX";break;case qO:t="Neutral";break;case GO:t="Custom";break;default:kt("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const kb=new se;function yne(){ui.getLuminanceCoefficients(kb);const n=kb.x.toFixed(4),e=kb.y.toFixed(4),t=kb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function xne(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(gx).join(`
`)}function vne(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function bne(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function gx(n){return n!==""}function XR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function WR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _ne=/^[ \t]*#include +<([\w\d./]+)>/gm;function rA(n){return n.replace(_ne,Mne)}const Sne=new Map;function Mne(n,e){let t=Un[e];if(t===void 0){const i=Sne.get(e);if(i!==void 0)t=Un[i],kt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return rA(t)}const wne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function YR(n){return n.replace(wne,Ane)}function Ane(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function ZR(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Tne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Q_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===kx?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===bu&&(e="SHADOWMAP_TYPE_VSM"),e}function Ene(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Pf:case l0:e="ENVMAP_TYPE_CUBE";break;case ng:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Cne(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case l0:e="ENVMAP_MODE_REFRACTION";break}return e}function Rne(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Gv:e="ENVMAP_BLENDING_MULTIPLY";break;case BO:e="ENVMAP_BLENDING_MIX";break;case IO:e="ENVMAP_BLENDING_ADD";break}return e}function Dne(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function Nne(n,e,t,i){const r=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const u=Tne(t),f=Ene(t),d=Cne(t),g=Rne(t),y=Dne(t),x=xne(t),_=vne(a),M=r.createProgram();let w,S,E=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(gx).join(`
`),w.length>0&&(w+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(gx).join(`
`),S.length>0&&(S+=`
`)):(w=[ZR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(gx).join(`
`),S=[ZR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ac?"#define TONE_MAPPING":"",t.toneMapping!==Ac?Un.tonemapping_pars_fragment:"",t.toneMapping!==Ac?gne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Un.colorspace_pars_fragment,mne("linearToOutputTexel",t.outputColorSpace),yne(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(gx).join(`
`)),s=rA(s),s=XR(s,t),s=WR(s,t),o=rA(o),o=XR(o,t),o=WR(o,t),s=YR(s),o=YR(o),t.isRawShaderMaterial!==!0&&(E=`#version 300 es
`,w=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,S=["#define varying in",t.glslVersion===Zw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Zw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const R=E+w+s,N=E+S+o,O=GR(r,r.VERTEX_SHADER,R),z=GR(r,r.FRAGMENT_SHADER,N);r.attachShader(M,O),r.attachShader(M,z),t.index0AttributeName!==void 0?r.bindAttribLocation(M,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(M,0,"position"),r.linkProgram(M);function B(j){if(n.debug.checkShaderErrors){const Z=r.getProgramInfoLog(M)||"",oe=r.getShaderInfoLog(O)||"",le=r.getShaderInfoLog(z)||"",ae=Z.trim(),W=oe.trim(),te=le.trim();let re=!0,ve=!0;if(r.getProgramParameter(M,r.LINK_STATUS)===!1)if(re=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,M,O,z);else{const F=qR(r,O,"vertex"),J=qR(r,z,"fragment");Mn("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(M,r.VALIDATE_STATUS)+`

Material Name: `+j.name+`
Material Type: `+j.type+`

Program Info Log: `+ae+`
`+F+`
`+J)}else ae!==""?kt("WebGLProgram: Program Info Log:",ae):(W===""||te==="")&&(ve=!1);ve&&(j.diagnostics={runnable:re,programLog:ae,vertexShader:{log:W,prefix:w},fragmentShader:{log:te,prefix:S}})}r.deleteShader(O),r.deleteShader(z),G=new m4(r,M),U=bne(r,M)}let G;this.getUniforms=function(){return G===void 0&&B(this),G};let U;this.getAttributes=function(){return U===void 0&&B(this),U};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=r.getProgramParameter(M,fne)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(M),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=hne++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=O,this.fragmentShader=z,this}let zne=0;class Lne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new kne(e),t.set(e,i)),i}}class kne{constructor(e){this.id=zne++,this.code=e,this.usedTimes=0}}function One(n,e,t,i,r,a,s){const o=new G1,u=new Lne,f=new Set,d=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let x=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(U){return f.add(U),U===0?"uv":`uv${U}`}function w(U,L,j,Z,oe){const le=Z.fog,ae=oe.geometry,W=U.isMeshStandardMaterial?Z.environment:null,te=(U.isMeshStandardMaterial?t:e).get(U.envMap||W),re=te&&te.mapping===ng?te.image.height:null,ve=_[U.type];U.precision!==null&&(x=r.getMaxPrecision(U.precision),x!==U.precision&&kt("WebGLProgram.getParameters:",U.precision,"not supported, using",x,"instead."));const F=ae.morphAttributes.position||ae.morphAttributes.normal||ae.morphAttributes.color,J=F!==void 0?F.length:0;let ye=0;ae.morphAttributes.position!==void 0&&(ye=1),ae.morphAttributes.normal!==void 0&&(ye=2),ae.morphAttributes.color!==void 0&&(ye=3);let K,Le,Ye,_e;if(ve){const Et=Su[ve];K=Et.vertexShader,Le=Et.fragmentShader}else K=U.vertexShader,Le=U.fragmentShader,u.update(U),Ye=u.getVertexShaderID(U),_e=u.getFragmentShaderID(U);const Ne=n.getRenderTarget(),Xe=n.state.buffers.depth.getReversed(),at=oe.isInstancedMesh===!0,_t=oe.isBatchedMesh===!0,Pt=!!U.map,rn=!!U.matcap,dt=!!te,Fe=!!U.aoMap,ne=!!U.lightMap,Ge=!!U.bumpMap,de=!!U.normalMap,it=!!U.displacementMap,Ze=!!U.emissiveMap,xt=!!U.metalnessMap,tt=!!U.roughnessMap,Mt=U.anisotropy>0,ie=U.clearcoat>0,X=U.dispersion>0,Ae=U.iridescence>0,ce=U.sheen>0,xe=U.transmission>0,Me=Mt&&!!U.anisotropyMap,nt=ie&&!!U.clearcoatMap,Qe=ie&&!!U.clearcoatNormalMap,Rt=ie&&!!U.clearcoatRoughnessMap,ft=Ae&&!!U.iridescenceMap,He=Ae&&!!U.iridescenceThicknessMap,Ke=ce&&!!U.sheenColorMap,Nt=ce&&!!U.sheenRoughnessMap,bt=!!U.specularMap,mt=!!U.specularColorMap,Bt=!!U.specularIntensityMap,fe=xe&&!!U.transmissionMap,vt=xe&&!!U.thicknessMap,ot=!!U.gradientMap,lt=!!U.alphaMap,$e=U.alphaTest>0,qe=!!U.alphaHash,Dt=!!U.extensions;let Zt=Ac;U.toneMapped&&(Ne===null||Ne.isXRRenderTarget===!0)&&(Zt=n.toneMapping);const Bn={shaderID:ve,shaderType:U.type,shaderName:U.name,vertexShader:K,fragmentShader:Le,defines:U.defines,customVertexShaderID:Ye,customFragmentShaderID:_e,isRawShaderMaterial:U.isRawShaderMaterial===!0,glslVersion:U.glslVersion,precision:x,batching:_t,batchingColor:_t&&oe._colorsTexture!==null,instancing:at,instancingColor:at&&oe.instanceColor!==null,instancingMorph:at&&oe.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:Ne===null?n.outputColorSpace:Ne.isXRRenderTarget===!0?Ne.texture.colorSpace:u0,alphaToCoverage:!!U.alphaToCoverage,map:Pt,matcap:rn,envMap:dt,envMapMode:dt&&te.mapping,envMapCubeUVHeight:re,aoMap:Fe,lightMap:ne,bumpMap:Ge,normalMap:de,displacementMap:y&&it,emissiveMap:Ze,normalMapObjectSpace:de&&U.normalMapType===JO,normalMapTangentSpace:de&&U.normalMapType===y0,metalnessMap:xt,roughnessMap:tt,anisotropy:Mt,anisotropyMap:Me,clearcoat:ie,clearcoatMap:nt,clearcoatNormalMap:Qe,clearcoatRoughnessMap:Rt,dispersion:X,iridescence:Ae,iridescenceMap:ft,iridescenceThicknessMap:He,sheen:ce,sheenColorMap:Ke,sheenRoughnessMap:Nt,specularMap:bt,specularColorMap:mt,specularIntensityMap:Bt,transmission:xe,transmissionMap:fe,thicknessMap:vt,gradientMap:ot,opaque:U.transparent===!1&&U.blending===np&&U.alphaToCoverage===!1,alphaMap:lt,alphaTest:$e,alphaHash:qe,combine:U.combine,mapUv:Pt&&M(U.map.channel),aoMapUv:Fe&&M(U.aoMap.channel),lightMapUv:ne&&M(U.lightMap.channel),bumpMapUv:Ge&&M(U.bumpMap.channel),normalMapUv:de&&M(U.normalMap.channel),displacementMapUv:it&&M(U.displacementMap.channel),emissiveMapUv:Ze&&M(U.emissiveMap.channel),metalnessMapUv:xt&&M(U.metalnessMap.channel),roughnessMapUv:tt&&M(U.roughnessMap.channel),anisotropyMapUv:Me&&M(U.anisotropyMap.channel),clearcoatMapUv:nt&&M(U.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&M(U.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Rt&&M(U.clearcoatRoughnessMap.channel),iridescenceMapUv:ft&&M(U.iridescenceMap.channel),iridescenceThicknessMapUv:He&&M(U.iridescenceThicknessMap.channel),sheenColorMapUv:Ke&&M(U.sheenColorMap.channel),sheenRoughnessMapUv:Nt&&M(U.sheenRoughnessMap.channel),specularMapUv:bt&&M(U.specularMap.channel),specularColorMapUv:mt&&M(U.specularColorMap.channel),specularIntensityMapUv:Bt&&M(U.specularIntensityMap.channel),transmissionMapUv:fe&&M(U.transmissionMap.channel),thicknessMapUv:vt&&M(U.thicknessMap.channel),alphaMapUv:lt&&M(U.alphaMap.channel),vertexTangents:!!ae.attributes.tangent&&(de||Mt),vertexColors:U.vertexColors,vertexAlphas:U.vertexColors===!0&&!!ae.attributes.color&&ae.attributes.color.itemSize===4,pointsUvs:oe.isPoints===!0&&!!ae.attributes.uv&&(Pt||lt),fog:!!le,useFog:U.fog===!0,fogExp2:!!le&&le.isFogExp2,flatShading:U.flatShading===!0&&U.wireframe===!1,sizeAttenuation:U.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:Xe,skinning:oe.isSkinnedMesh===!0,morphTargets:ae.morphAttributes.position!==void 0,morphNormals:ae.morphAttributes.normal!==void 0,morphColors:ae.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:ye,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:U.dithering,shadowMapEnabled:n.shadowMap.enabled&&j.length>0,shadowMapType:n.shadowMap.type,toneMapping:Zt,decodeVideoTexture:Pt&&U.map.isVideoTexture===!0&&ui.getTransfer(U.map.colorSpace)===Oi,decodeVideoTextureEmissive:Ze&&U.emissiveMap.isVideoTexture===!0&&ui.getTransfer(U.emissiveMap.colorSpace)===Oi,premultipliedAlpha:U.premultipliedAlpha,doubleSided:U.side===pc,flipSided:U.side===Ks,useDepthPacking:U.depthPacking>=0,depthPacking:U.depthPacking||0,index0AttributeName:U.index0AttributeName,extensionClipCullDistance:Dt&&U.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&U.extensions.multiDraw===!0||_t)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:U.customProgramCacheKey()};return Bn.vertexUv1s=f.has(1),Bn.vertexUv2s=f.has(2),Bn.vertexUv3s=f.has(3),f.clear(),Bn}function S(U){const L=[];if(U.shaderID?L.push(U.shaderID):(L.push(U.customVertexShaderID),L.push(U.customFragmentShaderID)),U.defines!==void 0)for(const j in U.defines)L.push(j),L.push(U.defines[j]);return U.isRawShaderMaterial===!1&&(E(L,U),R(L,U),L.push(n.outputColorSpace)),L.push(U.customProgramCacheKey),L.join()}function E(U,L){U.push(L.precision),U.push(L.outputColorSpace),U.push(L.envMapMode),U.push(L.envMapCubeUVHeight),U.push(L.mapUv),U.push(L.alphaMapUv),U.push(L.lightMapUv),U.push(L.aoMapUv),U.push(L.bumpMapUv),U.push(L.normalMapUv),U.push(L.displacementMapUv),U.push(L.emissiveMapUv),U.push(L.metalnessMapUv),U.push(L.roughnessMapUv),U.push(L.anisotropyMapUv),U.push(L.clearcoatMapUv),U.push(L.clearcoatNormalMapUv),U.push(L.clearcoatRoughnessMapUv),U.push(L.iridescenceMapUv),U.push(L.iridescenceThicknessMapUv),U.push(L.sheenColorMapUv),U.push(L.sheenRoughnessMapUv),U.push(L.specularMapUv),U.push(L.specularColorMapUv),U.push(L.specularIntensityMapUv),U.push(L.transmissionMapUv),U.push(L.thicknessMapUv),U.push(L.combine),U.push(L.fogExp2),U.push(L.sizeAttenuation),U.push(L.morphTargetsCount),U.push(L.morphAttributeCount),U.push(L.numDirLights),U.push(L.numPointLights),U.push(L.numSpotLights),U.push(L.numSpotLightMaps),U.push(L.numHemiLights),U.push(L.numRectAreaLights),U.push(L.numDirLightShadows),U.push(L.numPointLightShadows),U.push(L.numSpotLightShadows),U.push(L.numSpotLightShadowsWithMaps),U.push(L.numLightProbes),U.push(L.shadowMapType),U.push(L.toneMapping),U.push(L.numClippingPlanes),U.push(L.numClipIntersection),U.push(L.depthPacking)}function R(U,L){o.disableAll(),L.supportsVertexTextures&&o.enable(0),L.instancing&&o.enable(1),L.instancingColor&&o.enable(2),L.instancingMorph&&o.enable(3),L.matcap&&o.enable(4),L.envMap&&o.enable(5),L.normalMapObjectSpace&&o.enable(6),L.normalMapTangentSpace&&o.enable(7),L.clearcoat&&o.enable(8),L.iridescence&&o.enable(9),L.alphaTest&&o.enable(10),L.vertexColors&&o.enable(11),L.vertexAlphas&&o.enable(12),L.vertexUv1s&&o.enable(13),L.vertexUv2s&&o.enable(14),L.vertexUv3s&&o.enable(15),L.vertexTangents&&o.enable(16),L.anisotropy&&o.enable(17),L.alphaHash&&o.enable(18),L.batching&&o.enable(19),L.dispersion&&o.enable(20),L.batchingColor&&o.enable(21),L.gradientMap&&o.enable(22),U.push(o.mask),o.disableAll(),L.fog&&o.enable(0),L.useFog&&o.enable(1),L.flatShading&&o.enable(2),L.logarithmicDepthBuffer&&o.enable(3),L.reversedDepthBuffer&&o.enable(4),L.skinning&&o.enable(5),L.morphTargets&&o.enable(6),L.morphNormals&&o.enable(7),L.morphColors&&o.enable(8),L.premultipliedAlpha&&o.enable(9),L.shadowMapEnabled&&o.enable(10),L.doubleSided&&o.enable(11),L.flipSided&&o.enable(12),L.useDepthPacking&&o.enable(13),L.dithering&&o.enable(14),L.transmission&&o.enable(15),L.sheen&&o.enable(16),L.opaque&&o.enable(17),L.pointsUvs&&o.enable(18),L.decodeVideoTexture&&o.enable(19),L.decodeVideoTextureEmissive&&o.enable(20),L.alphaToCoverage&&o.enable(21),U.push(o.mask)}function N(U){const L=_[U.type];let j;if(L){const Z=Su[L];j=fU.clone(Z.uniforms)}else j=U.uniforms;return j}function O(U,L){let j;for(let Z=0,oe=d.length;Z<oe;Z++){const le=d[Z];if(le.cacheKey===L){j=le,++j.usedTimes;break}}return j===void 0&&(j=new Nne(n,L,U,a),d.push(j)),j}function z(U){if(--U.usedTimes===0){const L=d.indexOf(U);d[L]=d[d.length-1],d.pop(),U.destroy()}}function B(U){u.remove(U)}function G(){u.dispose()}return{getParameters:w,getProgramCacheKey:S,getUniforms:N,acquireProgram:O,releaseProgram:z,releaseShaderCache:B,programs:d,dispose:G}}function Une(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function i(s){n.delete(s)}function r(s,o,u){n.get(s)[o]=u}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function Pne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function KR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function QR(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function s(g,y,x,_,M,w){let S=n[e];return S===void 0?(S={id:g.id,object:g,geometry:y,material:x,groupOrder:_,renderOrder:g.renderOrder,z:M,group:w},n[e]=S):(S.id=g.id,S.object=g,S.geometry=y,S.material=x,S.groupOrder=_,S.renderOrder=g.renderOrder,S.z=M,S.group=w),e++,S}function o(g,y,x,_,M,w){const S=s(g,y,x,_,M,w);x.transmission>0?i.push(S):x.transparent===!0?r.push(S):t.push(S)}function u(g,y,x,_,M,w){const S=s(g,y,x,_,M,w);x.transmission>0?i.unshift(S):x.transparent===!0?r.unshift(S):t.unshift(S)}function f(g,y){t.length>1&&t.sort(g||Pne),i.length>1&&i.sort(y||KR),r.length>1&&r.sort(y||KR)}function d(){for(let g=e,y=n.length;g<y;g++){const x=n[g];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:o,unshift:u,finish:d,sort:f}}function Bne(){let n=new WeakMap;function e(i,r){const a=n.get(i);let s;return a===void 0?(s=new QR,n.set(i,[s])):r>=a.length?(s=new QR,a.push(s)):s=a[r],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Ine(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new se,color:new It};break;case"SpotLight":t={position:new se,direction:new se,color:new It,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new se,color:new It,distance:0,decay:0};break;case"HemisphereLight":t={direction:new se,skyColor:new It,groundColor:new It};break;case"RectAreaLight":t={color:new It,position:new se,halfWidth:new se,halfHeight:new se};break}return n[e.id]=t,t}}}function Fne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new rt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Vne=0;function Hne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Gne(n){const e=new Ine,t=Fne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let f=0;f<9;f++)i.probe.push(new se);const r=new se,a=new _n,s=new _n;function o(f){let d=0,g=0,y=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let x=0,_=0,M=0,w=0,S=0,E=0,R=0,N=0,O=0,z=0,B=0;f.sort(Hne);for(let U=0,L=f.length;U<L;U++){const j=f[U],Z=j.color,oe=j.intensity,le=j.distance,ae=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)d+=Z.r*oe,g+=Z.g*oe,y+=Z.b*oe;else if(j.isLightProbe){for(let W=0;W<9;W++)i.probe[W].addScaledVector(j.sh.coefficients[W],oe);B++}else if(j.isDirectionalLight){const W=e.get(j);if(W.color.copy(j.color).multiplyScalar(j.intensity),j.castShadow){const te=j.shadow,re=t.get(j);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.directionalShadow[x]=re,i.directionalShadowMap[x]=ae,i.directionalShadowMatrix[x]=j.shadow.matrix,E++}i.directional[x]=W,x++}else if(j.isSpotLight){const W=e.get(j);W.position.setFromMatrixPosition(j.matrixWorld),W.color.copy(Z).multiplyScalar(oe),W.distance=le,W.coneCos=Math.cos(j.angle),W.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),W.decay=j.decay,i.spot[M]=W;const te=j.shadow;if(j.map&&(i.spotLightMap[O]=j.map,O++,te.updateMatrices(j),j.castShadow&&z++),i.spotLightMatrix[M]=te.matrix,j.castShadow){const re=t.get(j);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,i.spotShadow[M]=re,i.spotShadowMap[M]=ae,N++}M++}else if(j.isRectAreaLight){const W=e.get(j);W.color.copy(Z).multiplyScalar(oe),W.halfWidth.set(j.width*.5,0,0),W.halfHeight.set(0,j.height*.5,0),i.rectArea[w]=W,w++}else if(j.isPointLight){const W=e.get(j);if(W.color.copy(j.color).multiplyScalar(j.intensity),W.distance=j.distance,W.decay=j.decay,j.castShadow){const te=j.shadow,re=t.get(j);re.shadowIntensity=te.intensity,re.shadowBias=te.bias,re.shadowNormalBias=te.normalBias,re.shadowRadius=te.radius,re.shadowMapSize=te.mapSize,re.shadowCameraNear=te.camera.near,re.shadowCameraFar=te.camera.far,i.pointShadow[_]=re,i.pointShadowMap[_]=ae,i.pointShadowMatrix[_]=j.shadow.matrix,R++}i.point[_]=W,_++}else if(j.isHemisphereLight){const W=e.get(j);W.skyColor.copy(j.color).multiplyScalar(oe),W.groundColor.copy(j.groundColor).multiplyScalar(oe),i.hemi[S]=W,S++}}w>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Lt.LTC_FLOAT_1,i.rectAreaLTC2=Lt.LTC_FLOAT_2):(i.rectAreaLTC1=Lt.LTC_HALF_1,i.rectAreaLTC2=Lt.LTC_HALF_2)),i.ambient[0]=d,i.ambient[1]=g,i.ambient[2]=y;const G=i.hash;(G.directionalLength!==x||G.pointLength!==_||G.spotLength!==M||G.rectAreaLength!==w||G.hemiLength!==S||G.numDirectionalShadows!==E||G.numPointShadows!==R||G.numSpotShadows!==N||G.numSpotMaps!==O||G.numLightProbes!==B)&&(i.directional.length=x,i.spot.length=M,i.rectArea.length=w,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=N+O-z,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=z,i.numLightProbes=B,G.directionalLength=x,G.pointLength=_,G.spotLength=M,G.rectAreaLength=w,G.hemiLength=S,G.numDirectionalShadows=E,G.numPointShadows=R,G.numSpotShadows=N,G.numSpotMaps=O,G.numLightProbes=B,i.version=Vne++)}function u(f,d){let g=0,y=0,x=0,_=0,M=0;const w=d.matrixWorldInverse;for(let S=0,E=f.length;S<E;S++){const R=f[S];if(R.isDirectionalLight){const N=i.directional[g];N.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),g++}else if(R.isSpotLight){const N=i.spot[x];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(w),N.direction.setFromMatrixPosition(R.matrixWorld),r.setFromMatrixPosition(R.target.matrixWorld),N.direction.sub(r),N.direction.transformDirection(w),x++}else if(R.isRectAreaLight){const N=i.rectArea[_];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(w),s.identity(),a.copy(R.matrixWorld),a.premultiply(w),s.extractRotation(a),N.halfWidth.set(R.width*.5,0,0),N.halfHeight.set(0,R.height*.5,0),N.halfWidth.applyMatrix4(s),N.halfHeight.applyMatrix4(s),_++}else if(R.isPointLight){const N=i.point[y];N.position.setFromMatrixPosition(R.matrixWorld),N.position.applyMatrix4(w),y++}else if(R.isHemisphereLight){const N=i.hemi[M];N.direction.setFromMatrixPosition(R.matrixWorld),N.direction.transformDirection(w),M++}}}return{setup:o,setupView:u,state:i}}function JR(n){const e=new Gne(n),t=[],i=[];function r(d){f.camera=d,t.length=0,i.length=0}function a(d){t.push(d)}function s(d){i.push(d)}function o(){e.setup(t)}function u(d){e.setupView(t,d)}const f={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:f,setupLights:o,setupLightsView:u,pushLight:a,pushShadow:s}}function jne(n){let e=new WeakMap;function t(r,a=0){const s=e.get(r);let o;return s===void 0?(o=new JR(n),e.set(r,[o])):a>=s.length?(o=new JR(n),s.push(o)):o=s[a],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const qne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Xne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Wne(n,e,t){let i=new rg;const r=new rt,a=new rt,s=new pi,o=new y7({depthPacking:QO}),u=new x7,f={},d=t.maxTextureSize,g={[Uf]:Ks,[Ks]:Uf,[pc]:pc},y=new Vl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new rt},radius:{value:4}},vertexShader:qne,fragmentShader:Xne}),x=y.clone();x.defines.HORIZONTAL_PASS=1;const _=new wn;_.setAttribute("position",new Fi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new ma(_,y),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Q_;let S=this.type;this.render=function(z,B,G){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||z.length===0)return;const U=n.getRenderTarget(),L=n.getActiveCubeFace(),j=n.getActiveMipmapLevel(),Z=n.state;Z.setBlending(wc),Z.buffers.depth.getReversed()===!0?Z.buffers.color.setClear(0,0,0,0):Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);const oe=S!==bu&&this.type===bu,le=S===bu&&this.type!==bu;for(let ae=0,W=z.length;ae<W;ae++){const te=z[ae],re=te.shadow;if(re===void 0){kt("WebGLShadowMap:",te,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;r.copy(re.mapSize);const ve=re.getFrameExtents();if(r.multiply(ve),a.copy(re.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(a.x=Math.floor(d/ve.x),r.x=a.x*ve.x,re.mapSize.x=a.x),r.y>d&&(a.y=Math.floor(d/ve.y),r.y=a.y*ve.y,re.mapSize.y=a.y)),re.map===null||oe===!0||le===!0){const J=this.type!==bu?{minFilter:ja,magFilter:ja}:{};re.map!==null&&re.map.dispose(),re.map=new Ec(r.x,r.y,J),re.map.texture.name=te.name+".shadowMap",re.camera.updateProjectionMatrix()}n.setRenderTarget(re.map),n.clear();const F=re.getViewportCount();for(let J=0;J<F;J++){const ye=re.getViewport(J);s.set(a.x*ye.x,a.y*ye.y,a.x*ye.z,a.y*ye.w),Z.viewport(s),re.updateMatrices(te,J),i=re.getFrustum(),N(B,G,re.camera,te,this.type)}re.isPointLightShadow!==!0&&this.type===bu&&E(re,G),re.needsUpdate=!1}S=this.type,w.needsUpdate=!1,n.setRenderTarget(U,L,j)};function E(z,B){const G=e.update(M);y.defines.VSM_SAMPLES!==z.blurSamples&&(y.defines.VSM_SAMPLES=z.blurSamples,x.defines.VSM_SAMPLES=z.blurSamples,y.needsUpdate=!0,x.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new Ec(r.x,r.y)),y.uniforms.shadow_pass.value=z.map.texture,y.uniforms.resolution.value=z.mapSize,y.uniforms.radius.value=z.radius,n.setRenderTarget(z.mapPass),n.clear(),n.renderBufferDirect(B,null,G,y,M,null),x.uniforms.shadow_pass.value=z.mapPass.texture,x.uniforms.resolution.value=z.mapSize,x.uniforms.radius.value=z.radius,n.setRenderTarget(z.map),n.clear(),n.renderBufferDirect(B,null,G,x,M,null)}function R(z,B,G,U){let L=null;const j=G.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(j!==void 0)L=j;else if(L=G.isPointLight===!0?u:o,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const Z=L.uuid,oe=B.uuid;let le=f[Z];le===void 0&&(le={},f[Z]=le);let ae=le[oe];ae===void 0&&(ae=L.clone(),le[oe]=ae,B.addEventListener("dispose",O)),L=ae}if(L.visible=B.visible,L.wireframe=B.wireframe,U===bu?L.side=B.shadowSide!==null?B.shadowSide:B.side:L.side=B.shadowSide!==null?B.shadowSide:g[B.side],L.alphaMap=B.alphaMap,L.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,L.map=B.map,L.clipShadows=B.clipShadows,L.clippingPlanes=B.clippingPlanes,L.clipIntersection=B.clipIntersection,L.displacementMap=B.displacementMap,L.displacementScale=B.displacementScale,L.displacementBias=B.displacementBias,L.wireframeLinewidth=B.wireframeLinewidth,L.linewidth=B.linewidth,G.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const Z=n.properties.get(L);Z.light=G}return L}function N(z,B,G,U,L){if(z.visible===!1)return;if(z.layers.test(B.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&L===bu)&&(!z.frustumCulled||i.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,z.matrixWorld);const oe=e.update(z),le=z.material;if(Array.isArray(le)){const ae=oe.groups;for(let W=0,te=ae.length;W<te;W++){const re=ae[W],ve=le[re.materialIndex];if(ve&&ve.visible){const F=R(z,ve,U,L);z.onBeforeShadow(n,z,B,G,oe,F,re),n.renderBufferDirect(G,null,oe,F,z,re),z.onAfterShadow(n,z,B,G,oe,F,re)}}}else if(le.visible){const ae=R(z,le,U,L);z.onBeforeShadow(n,z,B,G,oe,ae,null),n.renderBufferDirect(G,null,oe,ae,z,null),z.onAfterShadow(n,z,B,G,oe,ae,null)}}const Z=z.children;for(let oe=0,le=Z.length;oe<le;oe++)N(Z[oe],B,G,U,L)}function O(z){z.target.removeEventListener("dispose",O);for(const G in f){const U=f[G],L=z.target.uuid;L in U&&(U[L].dispose(),delete U[L])}}}const Yne={[V4]:H4,[G4]:X4,[j4]:W4,[up]:q4,[H4]:V4,[X4]:G4,[W4]:j4,[q4]:up};function Zne(n,e){function t(){let fe=!1;const vt=new pi;let ot=null;const lt=new pi(0,0,0,0);return{setMask:function($e){ot!==$e&&!fe&&(n.colorMask($e,$e,$e,$e),ot=$e)},setLocked:function($e){fe=$e},setClear:function($e,qe,Dt,Zt,Bn){Bn===!0&&($e*=Zt,qe*=Zt,Dt*=Zt),vt.set($e,qe,Dt,Zt),lt.equals(vt)===!1&&(n.clearColor($e,qe,Dt,Zt),lt.copy(vt))},reset:function(){fe=!1,ot=null,lt.set(-1,0,0,0)}}}function i(){let fe=!1,vt=!1,ot=null,lt=null,$e=null;return{setReversed:function(qe){if(vt!==qe){const Dt=e.get("EXT_clip_control");qe?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT),vt=qe;const Zt=$e;$e=null,this.setClear(Zt)}},getReversed:function(){return vt},setTest:function(qe){qe?Ne(n.DEPTH_TEST):Xe(n.DEPTH_TEST)},setMask:function(qe){ot!==qe&&!fe&&(n.depthMask(qe),ot=qe)},setFunc:function(qe){if(vt&&(qe=Yne[qe]),lt!==qe){switch(qe){case V4:n.depthFunc(n.NEVER);break;case H4:n.depthFunc(n.ALWAYS);break;case G4:n.depthFunc(n.LESS);break;case up:n.depthFunc(n.LEQUAL);break;case j4:n.depthFunc(n.EQUAL);break;case q4:n.depthFunc(n.GEQUAL);break;case X4:n.depthFunc(n.GREATER);break;case W4:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}lt=qe}},setLocked:function(qe){fe=qe},setClear:function(qe){$e!==qe&&(vt&&(qe=1-qe),n.clearDepth(qe),$e=qe)},reset:function(){fe=!1,ot=null,lt=null,$e=null,vt=!1}}}function r(){let fe=!1,vt=null,ot=null,lt=null,$e=null,qe=null,Dt=null,Zt=null,Bn=null;return{setTest:function(Et){fe||(Et?Ne(n.STENCIL_TEST):Xe(n.STENCIL_TEST))},setMask:function(Et){vt!==Et&&!fe&&(n.stencilMask(Et),vt=Et)},setFunc:function(Et,Ft,gn){(ot!==Et||lt!==Ft||$e!==gn)&&(n.stencilFunc(Et,Ft,gn),ot=Et,lt=Ft,$e=gn)},setOp:function(Et,Ft,gn){(qe!==Et||Dt!==Ft||Zt!==gn)&&(n.stencilOp(Et,Ft,gn),qe=Et,Dt=Ft,Zt=gn)},setLocked:function(Et){fe=Et},setClear:function(Et){Bn!==Et&&(n.clearStencil(Et),Bn=Et)},reset:function(){fe=!1,vt=null,ot=null,lt=null,$e=null,qe=null,Dt=null,Zt=null,Bn=null}}}const a=new t,s=new i,o=new r,u=new WeakMap,f=new WeakMap;let d={},g={},y=new WeakMap,x=[],_=null,M=!1,w=null,S=null,E=null,R=null,N=null,O=null,z=null,B=new It(0,0,0),G=0,U=!1,L=null,j=null,Z=null,oe=null,le=null;const ae=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,te=0;const re=n.getParameter(n.VERSION);re.indexOf("WebGL")!==-1?(te=parseFloat(/^WebGL (\d)/.exec(re)[1]),W=te>=1):re.indexOf("OpenGL ES")!==-1&&(te=parseFloat(/^OpenGL ES (\d)/.exec(re)[1]),W=te>=2);let ve=null,F={};const J=n.getParameter(n.SCISSOR_BOX),ye=n.getParameter(n.VIEWPORT),K=new pi().fromArray(J),Le=new pi().fromArray(ye);function Ye(fe,vt,ot,lt){const $e=new Uint8Array(4),qe=n.createTexture();n.bindTexture(fe,qe),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<ot;Dt++)fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?n.texImage3D(vt,0,n.RGBA,1,1,lt,0,n.RGBA,n.UNSIGNED_BYTE,$e):n.texImage2D(vt+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,$e);return qe}const _e={};_e[n.TEXTURE_2D]=Ye(n.TEXTURE_2D,n.TEXTURE_2D,1),_e[n.TEXTURE_CUBE_MAP]=Ye(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[n.TEXTURE_2D_ARRAY]=Ye(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_e[n.TEXTURE_3D]=Ye(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),Ne(n.DEPTH_TEST),s.setFunc(up),Ge(!1),de(Gw),Ne(n.CULL_FACE),Fe(wc);function Ne(fe){d[fe]!==!0&&(n.enable(fe),d[fe]=!0)}function Xe(fe){d[fe]!==!1&&(n.disable(fe),d[fe]=!1)}function at(fe,vt){return g[fe]!==vt?(n.bindFramebuffer(fe,vt),g[fe]=vt,fe===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=vt),fe===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=vt),!0):!1}function _t(fe,vt){let ot=x,lt=!1;if(fe){ot=y.get(vt),ot===void 0&&(ot=[],y.set(vt,ot));const $e=fe.textures;if(ot.length!==$e.length||ot[0]!==n.COLOR_ATTACHMENT0){for(let qe=0,Dt=$e.length;qe<Dt;qe++)ot[qe]=n.COLOR_ATTACHMENT0+qe;ot.length=$e.length,lt=!0}}else ot[0]!==n.BACK&&(ot[0]=n.BACK,lt=!0);lt&&n.drawBuffers(ot)}function Pt(fe){return _!==fe?(n.useProgram(fe),_=fe,!0):!1}const rn={[Gh]:n.FUNC_ADD,[_O]:n.FUNC_SUBTRACT,[SO]:n.FUNC_REVERSE_SUBTRACT};rn[MO]=n.MIN,rn[wO]=n.MAX;const dt={[AO]:n.ZERO,[TO]:n.ONE,[EO]:n.SRC_COLOR,[I4]:n.SRC_ALPHA,[LO]:n.SRC_ALPHA_SATURATE,[NO]:n.DST_COLOR,[RO]:n.DST_ALPHA,[CO]:n.ONE_MINUS_SRC_COLOR,[F4]:n.ONE_MINUS_SRC_ALPHA,[zO]:n.ONE_MINUS_DST_COLOR,[DO]:n.ONE_MINUS_DST_ALPHA,[kO]:n.CONSTANT_COLOR,[OO]:n.ONE_MINUS_CONSTANT_COLOR,[UO]:n.CONSTANT_ALPHA,[PO]:n.ONE_MINUS_CONSTANT_ALPHA};function Fe(fe,vt,ot,lt,$e,qe,Dt,Zt,Bn,Et){if(fe===wc){M===!0&&(Xe(n.BLEND),M=!1);return}if(M===!1&&(Ne(n.BLEND),M=!0),fe!==bO){if(fe!==w||Et!==U){if((S!==Gh||N!==Gh)&&(n.blendEquation(n.FUNC_ADD),S=Gh,N=Gh),Et)switch(fe){case np:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFunc(n.ONE,n.ONE);break;case qw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Xw:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:Mn("WebGLState: Invalid blending: ",fe);break}else switch(fe){case np:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case qw:Mn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Xw:Mn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Mn("WebGLState: Invalid blending: ",fe);break}E=null,R=null,O=null,z=null,B.set(0,0,0),G=0,w=fe,U=Et}return}$e=$e||vt,qe=qe||ot,Dt=Dt||lt,(vt!==S||$e!==N)&&(n.blendEquationSeparate(rn[vt],rn[$e]),S=vt,N=$e),(ot!==E||lt!==R||qe!==O||Dt!==z)&&(n.blendFuncSeparate(dt[ot],dt[lt],dt[qe],dt[Dt]),E=ot,R=lt,O=qe,z=Dt),(Zt.equals(B)===!1||Bn!==G)&&(n.blendColor(Zt.r,Zt.g,Zt.b,Bn),B.copy(Zt),G=Bn),w=fe,U=!1}function ne(fe,vt){fe.side===pc?Xe(n.CULL_FACE):Ne(n.CULL_FACE);let ot=fe.side===Ks;vt&&(ot=!ot),Ge(ot),fe.blending===np&&fe.transparent===!1?Fe(wc):Fe(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),s.setFunc(fe.depthFunc),s.setTest(fe.depthTest),s.setMask(fe.depthWrite),a.setMask(fe.colorWrite);const lt=fe.stencilWrite;o.setTest(lt),lt&&(o.setMask(fe.stencilWriteMask),o.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),o.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Ze(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?Ne(n.SAMPLE_ALPHA_TO_COVERAGE):Xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(fe){L!==fe&&(fe?n.frontFace(n.CW):n.frontFace(n.CCW),L=fe)}function de(fe){fe!==yO?(Ne(n.CULL_FACE),fe!==j&&(fe===Gw?n.cullFace(n.BACK):fe===xO?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Xe(n.CULL_FACE),j=fe}function it(fe){fe!==Z&&(W&&n.lineWidth(fe),Z=fe)}function Ze(fe,vt,ot){fe?(Ne(n.POLYGON_OFFSET_FILL),(oe!==vt||le!==ot)&&(n.polygonOffset(vt,ot),oe=vt,le=ot)):Xe(n.POLYGON_OFFSET_FILL)}function xt(fe){fe?Ne(n.SCISSOR_TEST):Xe(n.SCISSOR_TEST)}function tt(fe){fe===void 0&&(fe=n.TEXTURE0+ae-1),ve!==fe&&(n.activeTexture(fe),ve=fe)}function Mt(fe,vt,ot){ot===void 0&&(ve===null?ot=n.TEXTURE0+ae-1:ot=ve);let lt=F[ot];lt===void 0&&(lt={type:void 0,texture:void 0},F[ot]=lt),(lt.type!==fe||lt.texture!==vt)&&(ve!==ot&&(n.activeTexture(ot),ve=ot),n.bindTexture(fe,vt||_e[fe]),lt.type=fe,lt.texture=vt)}function ie(){const fe=F[ve];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function X(){try{n.compressedTexImage2D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function Ae(){try{n.compressedTexImage3D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function ce(){try{n.texSubImage2D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function xe(){try{n.texSubImage3D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function Me(){try{n.compressedTexSubImage2D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function nt(){try{n.compressedTexSubImage3D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function Qe(){try{n.texStorage2D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function Rt(){try{n.texStorage3D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function ft(){try{n.texImage2D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function He(){try{n.texImage3D(...arguments)}catch(fe){fe("WebGLState:",fe)}}function Ke(fe){K.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),K.copy(fe))}function Nt(fe){Le.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),Le.copy(fe))}function bt(fe,vt){let ot=f.get(vt);ot===void 0&&(ot=new WeakMap,f.set(vt,ot));let lt=ot.get(fe);lt===void 0&&(lt=n.getUniformBlockIndex(vt,fe.name),ot.set(fe,lt))}function mt(fe,vt){const lt=f.get(vt).get(fe);u.get(vt)!==lt&&(n.uniformBlockBinding(vt,lt,fe.__bindingPointIndex),u.set(vt,lt))}function Bt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},ve=null,F={},g={},y=new WeakMap,x=[],_=null,M=!1,w=null,S=null,E=null,R=null,N=null,O=null,z=null,B=new It(0,0,0),G=0,U=!1,L=null,j=null,Z=null,oe=null,le=null,K.set(0,0,n.canvas.width,n.canvas.height),Le.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:Ne,disable:Xe,bindFramebuffer:at,drawBuffers:_t,useProgram:Pt,setBlending:Fe,setMaterial:ne,setFlipSided:Ge,setCullFace:de,setLineWidth:it,setPolygonOffset:Ze,setScissorTest:xt,activeTexture:tt,bindTexture:Mt,unbindTexture:ie,compressedTexImage2D:X,compressedTexImage3D:Ae,texImage2D:ft,texImage3D:He,updateUBOMapping:bt,uniformBlockBinding:mt,texStorage2D:Qe,texStorage3D:Rt,texSubImage2D:ce,texSubImage3D:xe,compressedTexSubImage2D:Me,compressedTexSubImage3D:nt,scissor:Ke,viewport:Nt,reset:Bt}}function Kne(n,e,t,i,r,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),f=new rt,d=new WeakMap;let g;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(ie,X){return x?new OffscreenCanvas(ie,X):xv("canvas")}function M(ie,X,Ae){let ce=1;const xe=Mt(ie);if((xe.width>Ae||xe.height>Ae)&&(ce=Ae/Math.max(xe.width,xe.height)),ce<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Me=Math.floor(ce*xe.width),nt=Math.floor(ce*xe.height);g===void 0&&(g=_(Me,nt));const Qe=X?_(Me,nt):g;return Qe.width=Me,Qe.height=nt,Qe.getContext("2d").drawImage(ie,0,0,Me,nt),kt("WebGLRenderer: Texture has been resized from ("+xe.width+"x"+xe.height+") to ("+Me+"x"+nt+")."),Qe}else return"data"in ie&&kt("WebGLRenderer: Image in DataTexture is too big ("+xe.width+"x"+xe.height+")."),ie;return ie}function w(ie){return ie.generateMipmaps}function S(ie){n.generateMipmap(ie)}function E(ie){return ie.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?n.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function R(ie,X,Ae,ce,xe=!1){if(ie!==null){if(n[ie]!==void 0)return n[ie];kt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Me=X;if(X===n.RED&&(Ae===n.FLOAT&&(Me=n.R32F),Ae===n.HALF_FLOAT&&(Me=n.R16F),Ae===n.UNSIGNED_BYTE&&(Me=n.R8)),X===n.RED_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(Me=n.R8UI),Ae===n.UNSIGNED_SHORT&&(Me=n.R16UI),Ae===n.UNSIGNED_INT&&(Me=n.R32UI),Ae===n.BYTE&&(Me=n.R8I),Ae===n.SHORT&&(Me=n.R16I),Ae===n.INT&&(Me=n.R32I)),X===n.RG&&(Ae===n.FLOAT&&(Me=n.RG32F),Ae===n.HALF_FLOAT&&(Me=n.RG16F),Ae===n.UNSIGNED_BYTE&&(Me=n.RG8)),X===n.RG_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(Me=n.RG8UI),Ae===n.UNSIGNED_SHORT&&(Me=n.RG16UI),Ae===n.UNSIGNED_INT&&(Me=n.RG32UI),Ae===n.BYTE&&(Me=n.RG8I),Ae===n.SHORT&&(Me=n.RG16I),Ae===n.INT&&(Me=n.RG32I)),X===n.RGB_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(Me=n.RGB8UI),Ae===n.UNSIGNED_SHORT&&(Me=n.RGB16UI),Ae===n.UNSIGNED_INT&&(Me=n.RGB32UI),Ae===n.BYTE&&(Me=n.RGB8I),Ae===n.SHORT&&(Me=n.RGB16I),Ae===n.INT&&(Me=n.RGB32I)),X===n.RGBA_INTEGER&&(Ae===n.UNSIGNED_BYTE&&(Me=n.RGBA8UI),Ae===n.UNSIGNED_SHORT&&(Me=n.RGBA16UI),Ae===n.UNSIGNED_INT&&(Me=n.RGBA32UI),Ae===n.BYTE&&(Me=n.RGBA8I),Ae===n.SHORT&&(Me=n.RGBA16I),Ae===n.INT&&(Me=n.RGBA32I)),X===n.RGB&&(Ae===n.UNSIGNED_INT_5_9_9_9_REV&&(Me=n.RGB9_E5),Ae===n.UNSIGNED_INT_10F_11F_11F_REV&&(Me=n.R11F_G11F_B10F)),X===n.RGBA){const nt=xe?gv:ui.getTransfer(ce);Ae===n.FLOAT&&(Me=n.RGBA32F),Ae===n.HALF_FLOAT&&(Me=n.RGBA16F),Ae===n.UNSIGNED_BYTE&&(Me=nt===Oi?n.SRGB8_ALPHA8:n.RGBA8),Ae===n.UNSIGNED_SHORT_4_4_4_4&&(Me=n.RGBA4),Ae===n.UNSIGNED_SHORT_5_5_5_1&&(Me=n.RGB5_A1)}return(Me===n.R16F||Me===n.R32F||Me===n.RG16F||Me===n.RG32F||Me===n.RGBA16F||Me===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function N(ie,X){let Ae;return ie?X===null||X===Bf||X===P1?Ae=n.DEPTH24_STENCIL8:X===vo?Ae=n.DEPTH32F_STENCIL8:X===U1&&(Ae=n.DEPTH24_STENCIL8,kt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):X===null||X===Bf||X===P1?Ae=n.DEPTH_COMPONENT24:X===vo?Ae=n.DEPTH_COMPONENT32F:X===U1&&(Ae=n.DEPTH_COMPONENT16),Ae}function O(ie,X){return w(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==ja&&ie.minFilter!==Gr?Math.log2(Math.max(X.width,X.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?X.mipmaps.length:1}function z(ie){const X=ie.target;X.removeEventListener("dispose",z),G(X),X.isVideoTexture&&d.delete(X)}function B(ie){const X=ie.target;X.removeEventListener("dispose",B),L(X)}function G(ie){const X=i.get(ie);if(X.__webglInit===void 0)return;const Ae=ie.source,ce=y.get(Ae);if(ce){const xe=ce[X.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&U(ie),Object.keys(ce).length===0&&y.delete(Ae)}i.remove(ie)}function U(ie){const X=i.get(ie);n.deleteTexture(X.__webglTexture);const Ae=ie.source,ce=y.get(Ae);delete ce[X.__cacheKey],s.memory.textures--}function L(ie){const X=i.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),i.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++){if(Array.isArray(X.__webglFramebuffer[ce]))for(let xe=0;xe<X.__webglFramebuffer[ce].length;xe++)n.deleteFramebuffer(X.__webglFramebuffer[ce][xe]);else n.deleteFramebuffer(X.__webglFramebuffer[ce]);X.__webglDepthbuffer&&n.deleteRenderbuffer(X.__webglDepthbuffer[ce])}else{if(Array.isArray(X.__webglFramebuffer))for(let ce=0;ce<X.__webglFramebuffer.length;ce++)n.deleteFramebuffer(X.__webglFramebuffer[ce]);else n.deleteFramebuffer(X.__webglFramebuffer);if(X.__webglDepthbuffer&&n.deleteRenderbuffer(X.__webglDepthbuffer),X.__webglMultisampledFramebuffer&&n.deleteFramebuffer(X.__webglMultisampledFramebuffer),X.__webglColorRenderbuffer)for(let ce=0;ce<X.__webglColorRenderbuffer.length;ce++)X.__webglColorRenderbuffer[ce]&&n.deleteRenderbuffer(X.__webglColorRenderbuffer[ce]);X.__webglDepthRenderbuffer&&n.deleteRenderbuffer(X.__webglDepthRenderbuffer)}const Ae=ie.textures;for(let ce=0,xe=Ae.length;ce<xe;ce++){const Me=i.get(Ae[ce]);Me.__webglTexture&&(n.deleteTexture(Me.__webglTexture),s.memory.textures--),i.remove(Ae[ce])}i.remove(ie)}let j=0;function Z(){j=0}function oe(){const ie=j;return ie>=r.maxTextures&&kt("WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+r.maxTextures),j+=1,ie}function le(ie){const X=[];return X.push(ie.wrapS),X.push(ie.wrapT),X.push(ie.wrapR||0),X.push(ie.magFilter),X.push(ie.minFilter),X.push(ie.anisotropy),X.push(ie.internalFormat),X.push(ie.format),X.push(ie.type),X.push(ie.generateMipmaps),X.push(ie.premultiplyAlpha),X.push(ie.flipY),X.push(ie.unpackAlignment),X.push(ie.colorSpace),X.join()}function ae(ie,X){const Ae=i.get(ie);if(ie.isVideoTexture&&xt(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&Ae.__version!==ie.version){const ce=ie.image;if(ce===null)kt("WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)kt("WebGLRenderer: Texture marked for update but image is incomplete");else{_e(Ae,ie,X);return}}else ie.isExternalTexture&&(Ae.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ae.__webglTexture,n.TEXTURE0+X)}function W(ie,X){const Ae=i.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&Ae.__version!==ie.version){_e(Ae,ie,X);return}else ie.isExternalTexture&&(Ae.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Ae.__webglTexture,n.TEXTURE0+X)}function te(ie,X){const Ae=i.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&Ae.__version!==ie.version){_e(Ae,ie,X);return}t.bindTexture(n.TEXTURE_3D,Ae.__webglTexture,n.TEXTURE0+X)}function re(ie,X){const Ae=i.get(ie);if(ie.version>0&&Ae.__version!==ie.version){Ne(Ae,ie,X);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture,n.TEXTURE0+X)}const ve={[hv]:n.REPEAT,[xo]:n.CLAMP_TO_EDGE,[dv]:n.MIRRORED_REPEAT},F={[ja]:n.NEAREST,[qT]:n.NEAREST_MIPMAP_NEAREST,[p1]:n.NEAREST_MIPMAP_LINEAR,[Gr]:n.LINEAR,[Ox]:n.LINEAR_MIPMAP_NEAREST,[yc]:n.LINEAR_MIPMAP_LINEAR},J={[$O]:n.NEVER,[aU]:n.ALWAYS,[eU]:n.LESS,[$T]:n.LEQUAL,[tU]:n.EQUAL,[rU]:n.GEQUAL,[nU]:n.GREATER,[iU]:n.NOTEQUAL};function ye(ie,X){if(X.type===vo&&e.has("OES_texture_float_linear")===!1&&(X.magFilter===Gr||X.magFilter===Ox||X.magFilter===p1||X.magFilter===yc||X.minFilter===Gr||X.minFilter===Ox||X.minFilter===p1||X.minFilter===yc)&&kt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ie,n.TEXTURE_WRAP_S,ve[X.wrapS]),n.texParameteri(ie,n.TEXTURE_WRAP_T,ve[X.wrapT]),(ie===n.TEXTURE_3D||ie===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ie,n.TEXTURE_WRAP_R,ve[X.wrapR]),n.texParameteri(ie,n.TEXTURE_MAG_FILTER,F[X.magFilter]),n.texParameteri(ie,n.TEXTURE_MIN_FILTER,F[X.minFilter]),X.compareFunction&&(n.texParameteri(ie,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ie,n.TEXTURE_COMPARE_FUNC,J[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(X.magFilter===ja||X.minFilter!==p1&&X.minFilter!==yc||X.type===vo&&e.has("OES_texture_float_linear")===!1)return;if(X.anisotropy>1||i.get(X).__currentAnisotropy){const Ae=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ie,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,r.getMaxAnisotropy())),i.get(X).__currentAnisotropy=X.anisotropy}}}function K(ie,X){let Ae=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,X.addEventListener("dispose",z));const ce=X.source;let xe=y.get(ce);xe===void 0&&(xe={},y.set(ce,xe));const Me=le(X);if(Me!==ie.__cacheKey){xe[Me]===void 0&&(xe[Me]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Ae=!0),xe[Me].usedTimes++;const nt=xe[ie.__cacheKey];nt!==void 0&&(xe[ie.__cacheKey].usedTimes--,nt.usedTimes===0&&U(X)),ie.__cacheKey=Me,ie.__webglTexture=xe[Me].texture}return Ae}function Le(ie,X,Ae){return Math.floor(Math.floor(ie/Ae)/X)}function Ye(ie,X,Ae,ce){const Me=ie.updateRanges;if(Me.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,X.width,X.height,Ae,ce,X.data);else{Me.sort((He,Ke)=>He.start-Ke.start);let nt=0;for(let He=1;He<Me.length;He++){const Ke=Me[nt],Nt=Me[He],bt=Ke.start+Ke.count,mt=Le(Nt.start,X.width,4),Bt=Le(Ke.start,X.width,4);Nt.start<=bt+1&&mt===Bt&&Le(Nt.start+Nt.count-1,X.width,4)===mt?Ke.count=Math.max(Ke.count,Nt.start+Nt.count-Ke.start):(++nt,Me[nt]=Nt)}Me.length=nt+1;const Qe=n.getParameter(n.UNPACK_ROW_LENGTH),Rt=n.getParameter(n.UNPACK_SKIP_PIXELS),ft=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,X.width);for(let He=0,Ke=Me.length;He<Ke;He++){const Nt=Me[He],bt=Math.floor(Nt.start/4),mt=Math.ceil(Nt.count/4),Bt=bt%X.width,fe=Math.floor(bt/X.width),vt=mt,ot=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Bt),n.pixelStorei(n.UNPACK_SKIP_ROWS,fe),t.texSubImage2D(n.TEXTURE_2D,0,Bt,fe,vt,ot,Ae,ce,X.data)}ie.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Qe),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Rt),n.pixelStorei(n.UNPACK_SKIP_ROWS,ft)}}function _e(ie,X,Ae){let ce=n.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(ce=n.TEXTURE_2D_ARRAY),X.isData3DTexture&&(ce=n.TEXTURE_3D);const xe=K(ie,X),Me=X.source;t.bindTexture(ce,ie.__webglTexture,n.TEXTURE0+Ae);const nt=i.get(Me);if(Me.version!==nt.__version||xe===!0){t.activeTexture(n.TEXTURE0+Ae);const Qe=ui.getPrimaries(ui.workingColorSpace),Rt=X.colorSpace===Mf?null:ui.getPrimaries(X.colorSpace),ft=X.colorSpace===Mf||Qe===Rt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let He=M(X.image,!1,r.maxTextureSize);He=tt(X,He);const Ke=a.convert(X.format,X.colorSpace),Nt=a.convert(X.type);let bt=R(X.internalFormat,Ke,Nt,X.colorSpace,X.isVideoTexture);ye(ce,X);let mt;const Bt=X.mipmaps,fe=X.isVideoTexture!==!0,vt=nt.__version===void 0||xe===!0,ot=Me.dataReady,lt=O(X,He);if(X.isDepthTexture)bt=N(X.format===I1,X.type),vt&&(fe?t.texStorage2D(n.TEXTURE_2D,1,bt,He.width,He.height):t.texImage2D(n.TEXTURE_2D,0,bt,He.width,He.height,0,Ke,Nt,null));else if(X.isDataTexture)if(Bt.length>0){fe&&vt&&t.texStorage2D(n.TEXTURE_2D,lt,bt,Bt[0].width,Bt[0].height);for(let $e=0,qe=Bt.length;$e<qe;$e++)mt=Bt[$e],fe?ot&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,Nt,mt.data):t.texImage2D(n.TEXTURE_2D,$e,bt,mt.width,mt.height,0,Ke,Nt,mt.data);X.generateMipmaps=!1}else fe?(vt&&t.texStorage2D(n.TEXTURE_2D,lt,bt,He.width,He.height),ot&&Ye(X,He,Ke,Nt)):t.texImage2D(n.TEXTURE_2D,0,bt,He.width,He.height,0,Ke,Nt,He.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){fe&&vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,lt,bt,Bt[0].width,Bt[0].height,He.depth);for(let $e=0,qe=Bt.length;$e<qe;$e++)if(mt=Bt[$e],X.format!==ds)if(Ke!==null)if(fe){if(ot)if(X.layerUpdates.size>0){const Dt=nA(mt.width,mt.height,X.format,X.type);for(const Zt of X.layerUpdates){const Bn=mt.data.subarray(Zt*Dt/mt.data.BYTES_PER_ELEMENT,(Zt+1)*Dt/mt.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,Zt,mt.width,mt.height,1,Ke,Bn)}X.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,mt.width,mt.height,He.depth,Ke,mt.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,$e,bt,mt.width,mt.height,He.depth,0,mt.data,0,0);else kt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else fe?ot&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,$e,0,0,0,mt.width,mt.height,He.depth,Ke,Nt,mt.data):t.texImage3D(n.TEXTURE_2D_ARRAY,$e,bt,mt.width,mt.height,He.depth,0,Ke,Nt,mt.data)}else{fe&&vt&&t.texStorage2D(n.TEXTURE_2D,lt,bt,Bt[0].width,Bt[0].height);for(let $e=0,qe=Bt.length;$e<qe;$e++)mt=Bt[$e],X.format!==ds?Ke!==null?fe?ot&&t.compressedTexSubImage2D(n.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,mt.data):t.compressedTexImage2D(n.TEXTURE_2D,$e,bt,mt.width,mt.height,0,mt.data):kt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):fe?ot&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,mt.width,mt.height,Ke,Nt,mt.data):t.texImage2D(n.TEXTURE_2D,$e,bt,mt.width,mt.height,0,Ke,Nt,mt.data)}else if(X.isDataArrayTexture)if(fe){if(vt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,lt,bt,He.width,He.height,He.depth),ot)if(X.layerUpdates.size>0){const $e=nA(He.width,He.height,X.format,X.type);for(const qe of X.layerUpdates){const Dt=He.data.subarray(qe*$e/He.data.BYTES_PER_ELEMENT,(qe+1)*$e/He.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,qe,He.width,He.height,1,Ke,Nt,Dt)}X.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,He.width,He.height,He.depth,Ke,Nt,He.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,bt,He.width,He.height,He.depth,0,Ke,Nt,He.data);else if(X.isData3DTexture)fe?(vt&&t.texStorage3D(n.TEXTURE_3D,lt,bt,He.width,He.height,He.depth),ot&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,He.width,He.height,He.depth,Ke,Nt,He.data)):t.texImage3D(n.TEXTURE_3D,0,bt,He.width,He.height,He.depth,0,Ke,Nt,He.data);else if(X.isFramebufferTexture){if(vt)if(fe)t.texStorage2D(n.TEXTURE_2D,lt,bt,He.width,He.height);else{let $e=He.width,qe=He.height;for(let Dt=0;Dt<lt;Dt++)t.texImage2D(n.TEXTURE_2D,Dt,bt,$e,qe,0,Ke,Nt,null),$e>>=1,qe>>=1}}else if(Bt.length>0){if(fe&&vt){const $e=Mt(Bt[0]);t.texStorage2D(n.TEXTURE_2D,lt,bt,$e.width,$e.height)}for(let $e=0,qe=Bt.length;$e<qe;$e++)mt=Bt[$e],fe?ot&&t.texSubImage2D(n.TEXTURE_2D,$e,0,0,Ke,Nt,mt):t.texImage2D(n.TEXTURE_2D,$e,bt,Ke,Nt,mt);X.generateMipmaps=!1}else if(fe){if(vt){const $e=Mt(He);t.texStorage2D(n.TEXTURE_2D,lt,bt,$e.width,$e.height)}ot&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ke,Nt,He)}else t.texImage2D(n.TEXTURE_2D,0,bt,Ke,Nt,He);w(X)&&S(ce),nt.__version=Me.version,X.onUpdate&&X.onUpdate(X)}ie.__version=X.version}function Ne(ie,X,Ae){if(X.image.length!==6)return;const ce=K(ie,X),xe=X.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+Ae);const Me=i.get(xe);if(xe.version!==Me.__version||ce===!0){t.activeTexture(n.TEXTURE0+Ae);const nt=ui.getPrimaries(ui.workingColorSpace),Qe=X.colorSpace===Mf?null:ui.getPrimaries(X.colorSpace),Rt=X.colorSpace===Mf||nt===Qe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,X.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,X.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const ft=X.isCompressedTexture||X.image[0].isCompressedTexture,He=X.image[0]&&X.image[0].isDataTexture,Ke=[];for(let qe=0;qe<6;qe++)!ft&&!He?Ke[qe]=M(X.image[qe],!0,r.maxCubemapSize):Ke[qe]=He?X.image[qe].image:X.image[qe],Ke[qe]=tt(X,Ke[qe]);const Nt=Ke[0],bt=a.convert(X.format,X.colorSpace),mt=a.convert(X.type),Bt=R(X.internalFormat,bt,mt,X.colorSpace),fe=X.isVideoTexture!==!0,vt=Me.__version===void 0||ce===!0,ot=xe.dataReady;let lt=O(X,Nt);ye(n.TEXTURE_CUBE_MAP,X);let $e;if(ft){fe&&vt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,Bt,Nt.width,Nt.height);for(let qe=0;qe<6;qe++){$e=Ke[qe].mipmaps;for(let Dt=0;Dt<$e.length;Dt++){const Zt=$e[Dt];X.format!==ds?bt!==null?fe?ot&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt,0,0,Zt.width,Zt.height,bt,Zt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt,Bt,Zt.width,Zt.height,0,Zt.data):kt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):fe?ot&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt,0,0,Zt.width,Zt.height,bt,mt,Zt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt,Bt,Zt.width,Zt.height,0,bt,mt,Zt.data)}}}else{if($e=X.mipmaps,fe&&vt){$e.length>0&&lt++;const qe=Mt(Ke[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,lt,Bt,qe.width,qe.height)}for(let qe=0;qe<6;qe++)if(He){fe?ot&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,Ke[qe].width,Ke[qe].height,bt,mt,Ke[qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Bt,Ke[qe].width,Ke[qe].height,0,bt,mt,Ke[qe].data);for(let Dt=0;Dt<$e.length;Dt++){const Bn=$e[Dt].image[qe].image;fe?ot&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt+1,0,0,Bn.width,Bn.height,bt,mt,Bn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt+1,Bt,Bn.width,Bn.height,0,bt,mt,Bn.data)}}else{fe?ot&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,0,0,bt,mt,Ke[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,0,Bt,bt,mt,Ke[qe]);for(let Dt=0;Dt<$e.length;Dt++){const Zt=$e[Dt];fe?ot&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt+1,0,0,bt,mt,Zt.image[qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+qe,Dt+1,Bt,bt,mt,Zt.image[qe])}}}w(X)&&S(n.TEXTURE_CUBE_MAP),Me.__version=xe.version,X.onUpdate&&X.onUpdate(X)}ie.__version=X.version}function Xe(ie,X,Ae,ce,xe,Me){const nt=a.convert(Ae.format,Ae.colorSpace),Qe=a.convert(Ae.type),Rt=R(Ae.internalFormat,nt,Qe,Ae.colorSpace),ft=i.get(X),He=i.get(Ae);if(He.__renderTarget=X,!ft.__hasExternalTextures){const Ke=Math.max(1,X.width>>Me),Nt=Math.max(1,X.height>>Me);xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?t.texImage3D(xe,Me,Rt,Ke,Nt,X.depth,0,nt,Qe,null):t.texImage2D(xe,Me,Rt,Ke,Nt,0,nt,Qe,null)}t.bindFramebuffer(n.FRAMEBUFFER,ie),Ze(X)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ce,xe,He.__webglTexture,0,it(X)):(xe===n.TEXTURE_2D||xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ce,xe,He.__webglTexture,Me),t.bindFramebuffer(n.FRAMEBUFFER,null)}function at(ie,X,Ae){if(n.bindRenderbuffer(n.RENDERBUFFER,ie),X.depthBuffer){const ce=X.depthTexture,xe=ce&&ce.isDepthTexture?ce.type:null,Me=N(X.stencilBuffer,xe),nt=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qe=it(X);Ze(X)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qe,Me,X.width,X.height):Ae?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qe,Me,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,Me,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,nt,n.RENDERBUFFER,ie)}else{const ce=X.textures;for(let xe=0;xe<ce.length;xe++){const Me=ce[xe],nt=a.convert(Me.format,Me.colorSpace),Qe=a.convert(Me.type),Rt=R(Me.internalFormat,nt,Qe,Me.colorSpace),ft=it(X);Ae&&Ze(X)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Rt,X.width,X.height):Ze(X)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Rt,X.width,X.height):n.renderbufferStorage(n.RENDERBUFFER,Rt,X.width,X.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function _t(ie,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ie),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ce=i.get(X.depthTexture);ce.__renderTarget=X,(!ce.__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),ae(X.depthTexture,0);const xe=ce.__webglTexture,Me=it(X);if(X.depthTexture.format===B1)Ze(X)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0,Me):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,xe,0);else if(X.depthTexture.format===I1)Ze(X)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0,Me):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,xe,0);else throw new Error("Unknown depthTexture format")}function Pt(ie){const X=i.get(ie),Ae=ie.isWebGLCubeRenderTarget===!0;if(X.__boundDepthTexture!==ie.depthTexture){const ce=ie.depthTexture;if(X.__depthDisposeCallback&&X.__depthDisposeCallback(),ce){const xe=()=>{delete X.__boundDepthTexture,delete X.__depthDisposeCallback,ce.removeEventListener("dispose",xe)};ce.addEventListener("dispose",xe),X.__depthDisposeCallback=xe}X.__boundDepthTexture=ce}if(ie.depthTexture&&!X.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");const ce=ie.texture.mipmaps;ce&&ce.length>0?_t(X.__webglFramebuffer[0],ie):_t(X.__webglFramebuffer,ie)}else if(Ae){X.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)if(t.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer[ce]),X.__webglDepthbuffer[ce]===void 0)X.__webglDepthbuffer[ce]=n.createRenderbuffer(),at(X.__webglDepthbuffer[ce],ie,!1);else{const xe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=X.__webglDepthbuffer[ce];n.bindRenderbuffer(n.RENDERBUFFER,Me),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,Me)}}else{const ce=ie.texture.mipmaps;if(ce&&ce.length>0?t.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer===void 0)X.__webglDepthbuffer=n.createRenderbuffer(),at(X.__webglDepthbuffer,ie,!1);else{const xe=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Me=X.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Me),n.framebufferRenderbuffer(n.FRAMEBUFFER,xe,n.RENDERBUFFER,Me)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function rn(ie,X,Ae){const ce=i.get(ie);X!==void 0&&Xe(ce.__webglFramebuffer,ie,ie.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ae!==void 0&&Pt(ie)}function dt(ie){const X=ie.texture,Ae=i.get(ie),ce=i.get(X);ie.addEventListener("dispose",B);const xe=ie.textures,Me=ie.isWebGLCubeRenderTarget===!0,nt=xe.length>1;if(nt||(ce.__webglTexture===void 0&&(ce.__webglTexture=n.createTexture()),ce.__version=X.version,s.memory.textures++),Me){Ae.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if(X.mipmaps&&X.mipmaps.length>0){Ae.__webglFramebuffer[Qe]=[];for(let Rt=0;Rt<X.mipmaps.length;Rt++)Ae.__webglFramebuffer[Qe][Rt]=n.createFramebuffer()}else Ae.__webglFramebuffer[Qe]=n.createFramebuffer()}else{if(X.mipmaps&&X.mipmaps.length>0){Ae.__webglFramebuffer=[];for(let Qe=0;Qe<X.mipmaps.length;Qe++)Ae.__webglFramebuffer[Qe]=n.createFramebuffer()}else Ae.__webglFramebuffer=n.createFramebuffer();if(nt)for(let Qe=0,Rt=xe.length;Qe<Rt;Qe++){const ft=i.get(xe[Qe]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),s.memory.textures++)}if(ie.samples>0&&Ze(ie)===!1){Ae.__webglMultisampledFramebuffer=n.createFramebuffer(),Ae.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let Qe=0;Qe<xe.length;Qe++){const Rt=xe[Qe];Ae.__webglColorRenderbuffer[Qe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ae.__webglColorRenderbuffer[Qe]);const ft=a.convert(Rt.format,Rt.colorSpace),He=a.convert(Rt.type),Ke=R(Rt.internalFormat,ft,He,Rt.colorSpace,ie.isXRRenderTarget===!0),Nt=it(ie);n.renderbufferStorageMultisample(n.RENDERBUFFER,Nt,Ke,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Qe,n.RENDERBUFFER,Ae.__webglColorRenderbuffer[Qe])}n.bindRenderbuffer(n.RENDERBUFFER,null),ie.depthBuffer&&(Ae.__webglDepthRenderbuffer=n.createRenderbuffer(),at(Ae.__webglDepthRenderbuffer,ie,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Me){t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture),ye(n.TEXTURE_CUBE_MAP,X);for(let Qe=0;Qe<6;Qe++)if(X.mipmaps&&X.mipmaps.length>0)for(let Rt=0;Rt<X.mipmaps.length;Rt++)Xe(Ae.__webglFramebuffer[Qe][Rt],ie,X,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,Rt);else Xe(Ae.__webglFramebuffer[Qe],ie,X,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);w(X)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(nt){for(let Qe=0,Rt=xe.length;Qe<Rt;Qe++){const ft=xe[Qe],He=i.get(ft);let Ke=n.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Ke=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ke,He.__webglTexture),ye(Ke,ft),Xe(Ae.__webglFramebuffer,ie,ft,n.COLOR_ATTACHMENT0+Qe,Ke,0),w(ft)&&S(Ke)}t.unbindTexture()}else{let Qe=n.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Qe=ie.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Qe,ce.__webglTexture),ye(Qe,X),X.mipmaps&&X.mipmaps.length>0)for(let Rt=0;Rt<X.mipmaps.length;Rt++)Xe(Ae.__webglFramebuffer[Rt],ie,X,n.COLOR_ATTACHMENT0,Qe,Rt);else Xe(Ae.__webglFramebuffer,ie,X,n.COLOR_ATTACHMENT0,Qe,0);w(X)&&S(Qe),t.unbindTexture()}ie.depthBuffer&&Pt(ie)}function Fe(ie){const X=ie.textures;for(let Ae=0,ce=X.length;Ae<ce;Ae++){const xe=X[Ae];if(w(xe)){const Me=E(ie),nt=i.get(xe).__webglTexture;t.bindTexture(Me,nt),S(Me),t.unbindTexture()}}}const ne=[],Ge=[];function de(ie){if(ie.samples>0){if(Ze(ie)===!1){const X=ie.textures,Ae=ie.width,ce=ie.height;let xe=n.COLOR_BUFFER_BIT;const Me=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nt=i.get(ie),Qe=X.length>1;if(Qe)for(let ft=0;ft<X.length;ft++)t.bindFramebuffer(n.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,nt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const Rt=ie.texture.mipmaps;Rt&&Rt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let ft=0;ft<X.length;ft++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(xe|=n.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(xe|=n.STENCIL_BUFFER_BIT)),Qe){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,nt.__webglColorRenderbuffer[ft]);const He=i.get(X[ft]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,He,0)}n.blitFramebuffer(0,0,Ae,ce,0,0,Ae,ce,xe,n.NEAREST),u===!0&&(ne.length=0,Ge.length=0,ne.push(n.COLOR_ATTACHMENT0+ft),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(ne.push(Me),Ge.push(Me),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Ge)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ne))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Qe)for(let ft=0;ft<X.length;ft++){t.bindFramebuffer(n.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.RENDERBUFFER,nt.__webglColorRenderbuffer[ft]);const He=i.get(X[ft]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,nt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ft,n.TEXTURE_2D,He,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&u){const X=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[X])}}}function it(ie){return Math.min(r.maxSamples,ie.samples)}function Ze(ie){const X=i.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function xt(ie){const X=s.render.frame;d.get(ie)!==X&&(d.set(ie,X),ie.update())}function tt(ie,X){const Ae=ie.colorSpace,ce=ie.format,xe=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||Ae!==u0&&Ae!==Mf&&(ui.getTransfer(Ae)===Oi?(ce!==ds||xe!==Fl)&&kt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Mn("WebGLTextures: Unsupported texture color space:",Ae)),X}function Mt(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(f.width=ie.naturalWidth||ie.width,f.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(f.width=ie.displayWidth,f.height=ie.displayHeight):(f.width=ie.width,f.height=ie.height),f}this.allocateTextureUnit=oe,this.resetTextureUnits=Z,this.setTexture2D=ae,this.setTexture2DArray=W,this.setTexture3D=te,this.setTextureCube=re,this.rebindTextures=rn,this.setupRenderTarget=dt,this.updateRenderTargetMipmap=Fe,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=Pt,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=Ze}function gP(n,e){function t(i,r=Mf){let a;const s=ui.getTransfer(r);if(i===Fl)return n.UNSIGNED_BYTE;if(i===eS)return n.UNSIGNED_SHORT_4_4_4_4;if(i===tS)return n.UNSIGNED_SHORT_5_5_5_1;if(i===YT)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===ZT)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===XT)return n.BYTE;if(i===WT)return n.SHORT;if(i===U1)return n.UNSIGNED_SHORT;if(i===$_)return n.INT;if(i===Bf)return n.UNSIGNED_INT;if(i===vo)return n.FLOAT;if(i===mp)return n.HALF_FLOAT;if(i===KT)return n.ALPHA;if(i===QT)return n.RGB;if(i===ds)return n.RGBA;if(i===B1)return n.DEPTH_COMPONENT;if(i===I1)return n.DEPTH_STENCIL;if(i===nS)return n.RED;if(i===jv)return n.RED_INTEGER;if(i===iS)return n.RG;if(i===rS)return n.RG_INTEGER;if(i===aS)return n.RGBA_INTEGER;if(i===Ux||i===Px||i===Bx||i===Ix)if(s===Oi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Ux)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Px)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Bx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Ix)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Ux)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Px)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Bx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Ix)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Y4||i===Z4||i===K4||i===Q4)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===Y4)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Z4)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===K4)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Q4)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===J4||i===$4||i===e_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===J4||i===$4)return s===Oi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===e_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===t_||i===n_||i===i_||i===r_||i===a_||i===s_||i===o_||i===l_||i===u_||i===c_||i===f_||i===h_||i===d_||i===p_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===t_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===n_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===i_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===r_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===a_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===s_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===o_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===l_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===u_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===c_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===f_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===h_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===d_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===p_)return s===Oi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===m_||i===g_||i===y_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===m_)return s===Oi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===g_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===y_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===x_||i===v_||i===b_||i===__)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===x_)return a.COMPRESSED_RED_RGTC1_EXT;if(i===v_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===b_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===__)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===P1?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Qne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Jne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class $ne{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new u7(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Vl({vertexShader:Qne,fragmentShader:Jne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ma(new ag(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class eie extends Rc{constructor(e,t){super();const i=this;let r=null,a=1,s=null,o="local-floor",u=1,f=null,d=null,g=null,y=null,x=null,_=null;const M=typeof XRWebGLBinding<"u",w=new $ne,S={},E=t.getContextAttributes();let R=null,N=null;const O=[],z=[],B=new rt;let G=null;const U=new Na;U.viewport=new pi;const L=new Na;L.viewport=new pi;const j=[U,L],Z=new aP;let oe=null,le=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_e){let Ne=O[_e];return Ne===void 0&&(Ne=new p4,O[_e]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(_e){let Ne=O[_e];return Ne===void 0&&(Ne=new p4,O[_e]=Ne),Ne.getGripSpace()},this.getHand=function(_e){let Ne=O[_e];return Ne===void 0&&(Ne=new p4,O[_e]=Ne),Ne.getHandSpace()};function ae(_e){const Ne=z.indexOf(_e.inputSource);if(Ne===-1)return;const Xe=O[Ne];Xe!==void 0&&(Xe.update(_e.inputSource,_e.frame,f||s),Xe.dispatchEvent({type:_e.type,data:_e.inputSource}))}function W(){r.removeEventListener("select",ae),r.removeEventListener("selectstart",ae),r.removeEventListener("selectend",ae),r.removeEventListener("squeeze",ae),r.removeEventListener("squeezestart",ae),r.removeEventListener("squeezeend",ae),r.removeEventListener("end",W),r.removeEventListener("inputsourceschange",te);for(let _e=0;_e<O.length;_e++){const Ne=z[_e];Ne!==null&&(z[_e]=null,O[_e].disconnect(Ne))}oe=null,le=null,w.reset();for(const _e in S)delete S[_e];e.setRenderTarget(R),x=null,y=null,g=null,r=null,N=null,Ye.stop(),i.isPresenting=!1,e.setPixelRatio(G),e.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_e){a=_e,i.isPresenting===!0&&kt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_e){o=_e,i.isPresenting===!0&&kt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||s},this.setReferenceSpace=function(_e){f=_e},this.getBaseLayer=function(){return y!==null?y:x},this.getBinding=function(){return g===null&&M&&(g=new XRWebGLBinding(r,t)),g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(_e){if(r=_e,r!==null){if(R=e.getRenderTarget(),r.addEventListener("select",ae),r.addEventListener("selectstart",ae),r.addEventListener("selectend",ae),r.addEventListener("squeeze",ae),r.addEventListener("squeezestart",ae),r.addEventListener("squeezeend",ae),r.addEventListener("end",W),r.addEventListener("inputsourceschange",te),E.xrCompatible!==!0&&await t.makeXRCompatible(),G=e.getPixelRatio(),e.getSize(B),M&&"createProjectionLayer"in XRWebGLBinding.prototype){let Xe=null,at=null,_t=null;E.depth&&(_t=E.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Xe=E.stencil?I1:B1,at=E.stencil?P1:Bf);const Pt={colorFormat:t.RGBA8,depthFormat:_t,scaleFactor:a};g=this.getBinding(),y=g.createProjectionLayer(Pt),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),N=new Ec(y.textureWidth,y.textureHeight,{format:ds,type:Fl,depthTexture:new l7(y.textureWidth,y.textureHeight,at,void 0,void 0,void 0,void 0,void 0,void 0,Xe),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const Xe={antialias:E.antialias,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(r,t,Xe),r.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),N=new Ec(x.framebufferWidth,x.framebufferHeight,{format:ds,type:Fl,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}N.isXRRenderTarget=!0,this.setFoveation(u),f=null,s=await r.requestReferenceSpace(o),Ye.setContext(r),Ye.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function te(_e){for(let Ne=0;Ne<_e.removed.length;Ne++){const Xe=_e.removed[Ne],at=z.indexOf(Xe);at>=0&&(z[at]=null,O[at].disconnect(Xe))}for(let Ne=0;Ne<_e.added.length;Ne++){const Xe=_e.added[Ne];let at=z.indexOf(Xe);if(at===-1){for(let Pt=0;Pt<O.length;Pt++)if(Pt>=z.length){z.push(Xe),at=Pt;break}else if(z[Pt]===null){z[Pt]=Xe,at=Pt;break}if(at===-1)break}const _t=O[at];_t&&_t.connect(Xe)}}const re=new se,ve=new se;function F(_e,Ne,Xe){re.setFromMatrixPosition(Ne.matrixWorld),ve.setFromMatrixPosition(Xe.matrixWorld);const at=re.distanceTo(ve),_t=Ne.projectionMatrix.elements,Pt=Xe.projectionMatrix.elements,rn=_t[14]/(_t[10]-1),dt=_t[14]/(_t[10]+1),Fe=(_t[9]+1)/_t[5],ne=(_t[9]-1)/_t[5],Ge=(_t[8]-1)/_t[0],de=(Pt[8]+1)/Pt[0],it=rn*Ge,Ze=rn*de,xt=at/(-Ge+de),tt=xt*-Ge;if(Ne.matrixWorld.decompose(_e.position,_e.quaternion,_e.scale),_e.translateX(tt),_e.translateZ(xt),_e.matrixWorld.compose(_e.position,_e.quaternion,_e.scale),_e.matrixWorldInverse.copy(_e.matrixWorld).invert(),_t[10]===-1)_e.projectionMatrix.copy(Ne.projectionMatrix),_e.projectionMatrixInverse.copy(Ne.projectionMatrixInverse);else{const Mt=rn+xt,ie=dt+xt,X=it-tt,Ae=Ze+(at-tt),ce=Fe*dt/ie*Mt,xe=ne*dt/ie*Mt;_e.projectionMatrix.makePerspective(X,Ae,ce,xe,Mt,ie),_e.projectionMatrixInverse.copy(_e.projectionMatrix).invert()}}function J(_e,Ne){Ne===null?_e.matrixWorld.copy(_e.matrix):_e.matrixWorld.multiplyMatrices(Ne.matrixWorld,_e.matrix),_e.matrixWorldInverse.copy(_e.matrixWorld).invert()}this.updateCamera=function(_e){if(r===null)return;let Ne=_e.near,Xe=_e.far;w.texture!==null&&(w.depthNear>0&&(Ne=w.depthNear),w.depthFar>0&&(Xe=w.depthFar)),Z.near=L.near=U.near=Ne,Z.far=L.far=U.far=Xe,(oe!==Z.near||le!==Z.far)&&(r.updateRenderState({depthNear:Z.near,depthFar:Z.far}),oe=Z.near,le=Z.far),Z.layers.mask=_e.layers.mask|6,U.layers.mask=Z.layers.mask&3,L.layers.mask=Z.layers.mask&5;const at=_e.parent,_t=Z.cameras;J(Z,at);for(let Pt=0;Pt<_t.length;Pt++)J(_t[Pt],at);_t.length===2?F(Z,U,L):Z.projectionMatrix.copy(U.projectionMatrix),ye(_e,Z,at)};function ye(_e,Ne,Xe){Xe===null?_e.matrix.copy(Ne.matrixWorld):(_e.matrix.copy(Xe.matrixWorld),_e.matrix.invert(),_e.matrix.multiply(Ne.matrixWorld)),_e.matrix.decompose(_e.position,_e.quaternion,_e.scale),_e.updateMatrixWorld(!0),_e.projectionMatrix.copy(Ne.projectionMatrix),_e.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),_e.isPerspectiveCamera&&(_e.fov=H1*2*Math.atan(1/_e.projectionMatrix.elements[5]),_e.zoom=1)}this.getCamera=function(){return Z},this.getFoveation=function(){if(!(y===null&&x===null))return u},this.setFoveation=function(_e){u=_e,y!==null&&(y.fixedFoveation=_e),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=_e)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(Z)},this.getCameraTexture=function(_e){return S[_e]};let K=null;function Le(_e,Ne){if(d=Ne.getViewerPose(f||s),_=Ne,d!==null){const Xe=d.views;x!==null&&(e.setRenderTargetFramebuffer(N,x.framebuffer),e.setRenderTarget(N));let at=!1;Xe.length!==Z.cameras.length&&(Z.cameras.length=0,at=!0);for(let dt=0;dt<Xe.length;dt++){const Fe=Xe[dt];let ne=null;if(x!==null)ne=x.getViewport(Fe);else{const de=g.getViewSubImage(y,Fe);ne=de.viewport,dt===0&&(e.setRenderTargetTextures(N,de.colorTexture,de.depthStencilTexture),e.setRenderTarget(N))}let Ge=j[dt];Ge===void 0&&(Ge=new Na,Ge.layers.enable(dt),Ge.viewport=new pi,j[dt]=Ge),Ge.matrix.fromArray(Fe.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Fe.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(ne.x,ne.y,ne.width,ne.height),dt===0&&(Z.matrix.copy(Ge.matrix),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale)),at===!0&&Z.cameras.push(Ge)}const _t=r.enabledFeatures;if(_t&&_t.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&M){g=i.getBinding();const dt=g.getDepthInformation(Xe[0]);dt&&dt.isValid&&dt.texture&&w.init(dt,r.renderState)}if(_t&&_t.includes("camera-access")&&M){e.state.unbindTexture(),g=i.getBinding();for(let dt=0;dt<Xe.length;dt++){const Fe=Xe[dt].camera;if(Fe){let ne=S[Fe];ne||(ne=new u7,S[Fe]=ne);const Ge=g.getCameraImage(Fe);ne.sourceTexture=Ge}}}}for(let Xe=0;Xe<O.length;Xe++){const at=z[Xe],_t=O[Xe];at!==null&&_t!==void 0&&_t.update(at,Ne,f||s)}K&&K(_e,Ne),Ne.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ne}),_=null}const Ye=new fP;Ye.setAnimationLoop(Le),this.setAnimationLoop=function(_e){K=_e},this.dispose=function(){}}}const Dd=new al,tie=new _n;function nie(n,e){function t(w,S){w.matrixAutoUpdate===!0&&w.updateMatrix(),S.value.copy(w.matrix)}function i(w,S){S.color.getRGB(w.fogColor.value,cU(n)),S.isFog?(w.fogNear.value=S.near,w.fogFar.value=S.far):S.isFogExp2&&(w.fogDensity.value=S.density)}function r(w,S,E,R,N){S.isMeshBasicMaterial||S.isMeshLambertMaterial?a(w,S):S.isMeshToonMaterial?(a(w,S),g(w,S)):S.isMeshPhongMaterial?(a(w,S),d(w,S)):S.isMeshStandardMaterial?(a(w,S),y(w,S),S.isMeshPhysicalMaterial&&x(w,S,N)):S.isMeshMatcapMaterial?(a(w,S),_(w,S)):S.isMeshDepthMaterial?a(w,S):S.isMeshDistanceMaterial?(a(w,S),M(w,S)):S.isMeshNormalMaterial?a(w,S):S.isLineBasicMaterial?(s(w,S),S.isLineDashedMaterial&&o(w,S)):S.isPointsMaterial?u(w,S,E,R):S.isSpriteMaterial?f(w,S):S.isShadowMaterial?(w.color.value.copy(S.color),w.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function a(w,S){w.opacity.value=S.opacity,S.color&&w.diffuse.value.copy(S.color),S.emissive&&w.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(w.map.value=S.map,t(S.map,w.mapTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.bumpMap&&(w.bumpMap.value=S.bumpMap,t(S.bumpMap,w.bumpMapTransform),w.bumpScale.value=S.bumpScale,S.side===Ks&&(w.bumpScale.value*=-1)),S.normalMap&&(w.normalMap.value=S.normalMap,t(S.normalMap,w.normalMapTransform),w.normalScale.value.copy(S.normalScale),S.side===Ks&&w.normalScale.value.negate()),S.displacementMap&&(w.displacementMap.value=S.displacementMap,t(S.displacementMap,w.displacementMapTransform),w.displacementScale.value=S.displacementScale,w.displacementBias.value=S.displacementBias),S.emissiveMap&&(w.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,w.emissiveMapTransform)),S.specularMap&&(w.specularMap.value=S.specularMap,t(S.specularMap,w.specularMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest);const E=e.get(S),R=E.envMap,N=E.envMapRotation;R&&(w.envMap.value=R,Dd.copy(N),Dd.x*=-1,Dd.y*=-1,Dd.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Dd.y*=-1,Dd.z*=-1),w.envMapRotation.value.setFromMatrix4(tie.makeRotationFromEuler(Dd)),w.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=S.reflectivity,w.ior.value=S.ior,w.refractionRatio.value=S.refractionRatio),S.lightMap&&(w.lightMap.value=S.lightMap,w.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,w.lightMapTransform)),S.aoMap&&(w.aoMap.value=S.aoMap,w.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,w.aoMapTransform))}function s(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,S.map&&(w.map.value=S.map,t(S.map,w.mapTransform))}function o(w,S){w.dashSize.value=S.dashSize,w.totalSize.value=S.dashSize+S.gapSize,w.scale.value=S.scale}function u(w,S,E,R){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.size.value=S.size*E,w.scale.value=R*.5,S.map&&(w.map.value=S.map,t(S.map,w.uvTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest)}function f(w,S){w.diffuse.value.copy(S.color),w.opacity.value=S.opacity,w.rotation.value=S.rotation,S.map&&(w.map.value=S.map,t(S.map,w.mapTransform)),S.alphaMap&&(w.alphaMap.value=S.alphaMap,t(S.alphaMap,w.alphaMapTransform)),S.alphaTest>0&&(w.alphaTest.value=S.alphaTest)}function d(w,S){w.specular.value.copy(S.specular),w.shininess.value=Math.max(S.shininess,1e-4)}function g(w,S){S.gradientMap&&(w.gradientMap.value=S.gradientMap)}function y(w,S){w.metalness.value=S.metalness,S.metalnessMap&&(w.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,w.metalnessMapTransform)),w.roughness.value=S.roughness,S.roughnessMap&&(w.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,w.roughnessMapTransform)),S.envMap&&(w.envMapIntensity.value=S.envMapIntensity)}function x(w,S,E){w.ior.value=S.ior,S.sheen>0&&(w.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),w.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(w.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,w.sheenColorMapTransform)),S.sheenRoughnessMap&&(w.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,w.sheenRoughnessMapTransform))),S.clearcoat>0&&(w.clearcoat.value=S.clearcoat,w.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(w.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,w.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(w.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Ks&&w.clearcoatNormalScale.value.negate())),S.dispersion>0&&(w.dispersion.value=S.dispersion),S.iridescence>0&&(w.iridescence.value=S.iridescence,w.iridescenceIOR.value=S.iridescenceIOR,w.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(w.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,w.iridescenceMapTransform)),S.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),S.transmission>0&&(w.transmission.value=S.transmission,w.transmissionSamplerMap.value=E.texture,w.transmissionSamplerSize.value.set(E.width,E.height),S.transmissionMap&&(w.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,w.transmissionMapTransform)),w.thickness.value=S.thickness,S.thicknessMap&&(w.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=S.attenuationDistance,w.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(w.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(w.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=S.specularIntensity,w.specularColor.value.copy(S.specularColor),S.specularColorMap&&(w.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,w.specularColorMapTransform)),S.specularIntensityMap&&(w.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,w.specularIntensityMapTransform))}function _(w,S){S.matcap&&(w.matcap.value=S.matcap)}function M(w,S){const E=e.get(S).light;w.referencePosition.value.setFromMatrixPosition(E.matrixWorld),w.nearDistance.value=E.shadow.camera.near,w.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function iie(n,e,t,i){let r={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function u(E,R){const N=R.program;i.uniformBlockBinding(E,N)}function f(E,R){let N=r[E.id];N===void 0&&(_(E),N=d(E),r[E.id]=N,E.addEventListener("dispose",w));const O=R.program;i.updateUBOMapping(E,O);const z=e.render.frame;a[E.id]!==z&&(y(E),a[E.id]=z)}function d(E){const R=g();E.__bindingPointIndex=R;const N=n.createBuffer(),O=E.__size,z=E.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,O,z),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,R,N),N}function g(){for(let E=0;E<o;E++)if(s.indexOf(E)===-1)return s.push(E),E;return Mn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(E){const R=r[E.id],N=E.uniforms,O=E.__cache;n.bindBuffer(n.UNIFORM_BUFFER,R);for(let z=0,B=N.length;z<B;z++){const G=Array.isArray(N[z])?N[z]:[N[z]];for(let U=0,L=G.length;U<L;U++){const j=G[U];if(x(j,z,U,O)===!0){const Z=j.__offset,oe=Array.isArray(j.value)?j.value:[j.value];let le=0;for(let ae=0;ae<oe.length;ae++){const W=oe[ae],te=M(W);typeof W=="number"||typeof W=="boolean"?(j.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,Z+le,j.__data)):W.isMatrix3?(j.__data[0]=W.elements[0],j.__data[1]=W.elements[1],j.__data[2]=W.elements[2],j.__data[3]=0,j.__data[4]=W.elements[3],j.__data[5]=W.elements[4],j.__data[6]=W.elements[5],j.__data[7]=0,j.__data[8]=W.elements[6],j.__data[9]=W.elements[7],j.__data[10]=W.elements[8],j.__data[11]=0):(W.toArray(j.__data,le),le+=te.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Z,j.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function x(E,R,N,O){const z=E.value,B=R+"_"+N;if(O[B]===void 0)return typeof z=="number"||typeof z=="boolean"?O[B]=z:O[B]=z.clone(),!0;{const G=O[B];if(typeof z=="number"||typeof z=="boolean"){if(G!==z)return O[B]=z,!0}else if(G.equals(z)===!1)return G.copy(z),!0}return!1}function _(E){const R=E.uniforms;let N=0;const O=16;for(let B=0,G=R.length;B<G;B++){const U=Array.isArray(R[B])?R[B]:[R[B]];for(let L=0,j=U.length;L<j;L++){const Z=U[L],oe=Array.isArray(Z.value)?Z.value:[Z.value];for(let le=0,ae=oe.length;le<ae;le++){const W=oe[le],te=M(W),re=N%O,ve=re%te.boundary,F=re+ve;N+=ve,F!==0&&O-F<te.storage&&(N+=O-F),Z.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=N,N+=te.storage}}}const z=N%O;return z>0&&(N+=O-z),E.__size=N,E.__cache={},this}function M(E){const R={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(R.boundary=4,R.storage=4):E.isVector2?(R.boundary=8,R.storage=8):E.isVector3||E.isColor?(R.boundary=16,R.storage=12):E.isVector4?(R.boundary=16,R.storage=16):E.isMatrix3?(R.boundary=48,R.storage=48):E.isMatrix4?(R.boundary=64,R.storage=64):E.isTexture?kt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):kt("WebGLRenderer: Unsupported uniform value type.",E),R}function w(E){const R=E.target;R.removeEventListener("dispose",w);const N=s.indexOf(R.__bindingPointIndex);s.splice(N,1),n.deleteBuffer(r[R.id]),delete r[R.id],delete a[R.id]}function S(){for(const E in r)n.deleteBuffer(r[E]);s=[],r={},a={}}return{bind:u,update:f,dispose:S}}const rie=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let yf=null;function aie(){return yf===null&&(yf=new wu(rie,32,32,iS,mp),yf.minFilter=Gr,yf.magFilter=Gr,yf.wrapS=xo,yf.wrapT=xo,yf.generateMipmaps=!1,yf.needsUpdate=!0),yf}class yP{constructor(e={}){const{canvas:t=oU(),context:i=null,depth:r=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:f=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let x;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");x=i.getContextAttributes().alpha}else x=s;const _=new Set([aS,rS,jv]),M=new Set([Fl,Bf,U1,P1,eS,tS]),w=new Uint32Array(4),S=new Int32Array(4);let E=null,R=null;const N=[],O=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ac,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const z=this;let B=!1;this._outputColorSpace=us;let G=0,U=0,L=null,j=-1,Z=null;const oe=new pi,le=new pi;let ae=null;const W=new It(0);let te=0,re=t.width,ve=t.height,F=1,J=null,ye=null;const K=new pi(0,0,re,ve),Le=new pi(0,0,re,ve);let Ye=!1;const _e=new rg;let Ne=!1,Xe=!1;const at=new _n,_t=new se,Pt=new pi,rn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let dt=!1;function Fe(){return L===null?F:1}let ne=i;function Ge(Y,Te){return t.getContext(Y,Te)}try{const Y={alpha:!0,depth:r,stencil:a,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:f,powerPreference:d,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${K_}`),t.addEventListener("webglcontextlost",$e,!1),t.addEventListener("webglcontextrestored",qe,!1),t.addEventListener("webglcontextcreationerror",Dt,!1),ne===null){const Te="webgl2";if(ne=Ge(Te,Y),ne===null)throw Ge(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw Y("WebGLRenderer: "+Y.message),Y}let de,it,Ze,xt,tt,Mt,ie,X,Ae,ce,xe,Me,nt,Qe,Rt,ft,He,Ke,Nt,bt,mt,Bt,fe,vt;function ot(){de=new mte(ne),de.init(),Bt=new gP(ne,de),it=new ste(ne,de,e,Bt),Ze=new Zne(ne,de),it.reversedDepthBuffer&&y&&Ze.buffers.depth.setReversed(!0),xt=new xte(ne),tt=new Une,Mt=new Kne(ne,de,Ze,tt,it,Bt,xt),ie=new lte(z),X=new pte(z),Ae=new SJ(ne),fe=new rte(ne,Ae),ce=new gte(ne,Ae,xt,fe),xe=new bte(ne,ce,Ae,xt),Nt=new vte(ne,it,Mt),ft=new ote(tt),Me=new One(z,ie,X,de,it,fe,ft),nt=new nie(z,tt),Qe=new Bne,Rt=new jne(de),Ke=new ite(z,ie,X,Ze,xe,x,u),He=new Wne(z,xe,it),vt=new iie(ne,xt,it,Ze),bt=new ate(ne,de,xt),mt=new yte(ne,de,xt),xt.programs=Me.programs,z.capabilities=it,z.extensions=de,z.properties=tt,z.renderLists=Qe,z.shadowMap=He,z.state=Ze,z.info=xt}ot();const lt=new eie(z,ne);this.xr=lt,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const Y=de.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=de.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(Y){Y!==void 0&&(F=Y,this.setSize(re,ve,!1))},this.getSize=function(Y){return Y.set(re,ve)},this.setSize=function(Y,Te,ze=!0){if(lt.isPresenting){kt("WebGLRenderer: Can't change size while VR device is presenting.");return}re=Y,ve=Te,t.width=Math.floor(Y*F),t.height=Math.floor(Te*F),ze===!0&&(t.style.width=Y+"px",t.style.height=Te+"px"),this.setViewport(0,0,Y,Te)},this.getDrawingBufferSize=function(Y){return Y.set(re*F,ve*F).floor()},this.setDrawingBufferSize=function(Y,Te,ze){re=Y,ve=Te,F=ze,t.width=Math.floor(Y*ze),t.height=Math.floor(Te*ze),this.setViewport(0,0,Y,Te)},this.getCurrentViewport=function(Y){return Y.copy(oe)},this.getViewport=function(Y){return Y.copy(K)},this.setViewport=function(Y,Te,ze,Ee){Y.isVector4?K.set(Y.x,Y.y,Y.z,Y.w):K.set(Y,Te,ze,Ee),Ze.viewport(oe.copy(K).multiplyScalar(F).round())},this.getScissor=function(Y){return Y.copy(Le)},this.setScissor=function(Y,Te,ze,Ee){Y.isVector4?Le.set(Y.x,Y.y,Y.z,Y.w):Le.set(Y,Te,ze,Ee),Ze.scissor(le.copy(Le).multiplyScalar(F).round())},this.getScissorTest=function(){return Ye},this.setScissorTest=function(Y){Ze.setScissorTest(Ye=Y)},this.setOpaqueSort=function(Y){J=Y},this.setTransparentSort=function(Y){ye=Y},this.getClearColor=function(Y){return Y.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor(...arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha(...arguments)},this.clear=function(Y=!0,Te=!0,ze=!0){let Ee=0;if(Y){let we=!1;if(L!==null){const ht=L.texture.format;we=_.has(ht)}if(we){const ht=L.texture.type,St=M.has(ht),Ct=Ke.getClearColor(),Tt=Ke.getClearAlpha(),Kt=Ct.r,en=Ct.g,Gt=Ct.b;St?(w[0]=Kt,w[1]=en,w[2]=Gt,w[3]=Tt,ne.clearBufferuiv(ne.COLOR,0,w)):(S[0]=Kt,S[1]=en,S[2]=Gt,S[3]=Tt,ne.clearBufferiv(ne.COLOR,0,S))}else Ee|=ne.COLOR_BUFFER_BIT}Te&&(Ee|=ne.DEPTH_BUFFER_BIT),ze&&(Ee|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",$e,!1),t.removeEventListener("webglcontextrestored",qe,!1),t.removeEventListener("webglcontextcreationerror",Dt,!1),Ke.dispose(),Qe.dispose(),Rt.dispose(),tt.dispose(),ie.dispose(),X.dispose(),xe.dispose(),fe.dispose(),vt.dispose(),Me.dispose(),lt.dispose(),lt.removeEventListener("sessionstart",on),lt.removeEventListener("sessionend",Yt),Wt.stop()};function $e(Y){Y.preventDefault(),vv("WebGLRenderer: Context Lost."),B=!0}function qe(){vv("WebGLRenderer: Context Restored."),B=!1;const Y=xt.autoReset,Te=He.enabled,ze=He.autoUpdate,Ee=He.needsUpdate,we=He.type;ot(),xt.autoReset=Y,He.enabled=Te,He.autoUpdate=ze,He.needsUpdate=Ee,He.type=we}function Dt(Y){Mn("WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function Zt(Y){const Te=Y.target;Te.removeEventListener("dispose",Zt),Bn(Te)}function Bn(Y){Et(Y),tt.remove(Y)}function Et(Y){const Te=tt.get(Y).programs;Te!==void 0&&(Te.forEach(function(ze){Me.releaseProgram(ze)}),Y.isShaderMaterial&&Me.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,Te,ze,Ee,we,ht){Te===null&&(Te=rn);const St=we.isMesh&&we.matrixWorld.determinant()<0,Ct=Ai(Y,Te,ze,Ee,we);Ze.setMaterial(Ee,St);let Tt=ze.index,Kt=1;if(Ee.wireframe===!0){if(Tt=ce.getWireframeAttribute(ze),Tt===void 0)return;Kt=2}const en=ze.drawRange,Gt=ze.attributes.position;let Tn=en.start*Kt,$n=(en.start+en.count)*Kt;ht!==null&&(Tn=Math.max(Tn,ht.start*Kt),$n=Math.min($n,(ht.start+ht.count)*Kt)),Tt!==null?(Tn=Math.max(Tn,0),$n=Math.min($n,Tt.count)):Gt!=null&&(Tn=Math.max(Tn,0),$n=Math.min($n,Gt.count));const ei=$n-Tn;if(ei<0||ei===1/0)return;fe.setup(we,Ee,Ct,ze,Tt);let Hn,yi=bt;if(Tt!==null&&(Hn=Ae.get(Tt),yi=mt,yi.setIndex(Hn)),we.isMesh)Ee.wireframe===!0?(Ze.setLineWidth(Ee.wireframeLinewidth*Fe()),yi.setMode(ne.LINES)):yi.setMode(ne.TRIANGLES);else if(we.isLine){let an=Ee.linewidth;an===void 0&&(an=1),Ze.setLineWidth(an*Fe()),we.isLineSegments?yi.setMode(ne.LINES):we.isLineLoop?yi.setMode(ne.LINE_LOOP):yi.setMode(ne.LINE_STRIP)}else we.isPoints?yi.setMode(ne.POINTS):we.isSprite&&yi.setMode(ne.TRIANGLES);if(we.isBatchedMesh)if(we._multiDrawInstances!==null)V1("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),yi.renderMultiDrawInstances(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount,we._multiDrawInstances);else if(de.get("WEBGL_multi_draw"))yi.renderMultiDraw(we._multiDrawStarts,we._multiDrawCounts,we._multiDrawCount);else{const an=we._multiDrawStarts,Ti=we._multiDrawCounts,Gn=we._multiDrawCount,wr=Tt?Ae.get(Tt).bytesPerElement:1,ql=tt.get(Ee).currentProgram.getUniforms();for(let zi=0;zi<Gn;zi++)ql.setValue(ne,"_gl_DrawID",zi),yi.render(an[zi]/wr,Ti[zi])}else if(we.isInstancedMesh)yi.renderInstances(Tn,ei,we.count);else if(ze.isInstancedBufferGeometry){const an=ze._maxInstanceCount!==void 0?ze._maxInstanceCount:1/0,Ti=Math.min(ze.instanceCount,an);yi.renderInstances(Tn,ei,Ti)}else yi.render(Tn,ei)};function Ft(Y,Te,ze){Y.transparent===!0&&Y.side===pc&&Y.forceSinglePass===!1?(Y.side=Ks,Y.needsUpdate=!0,yn(Y,Te,ze),Y.side=Uf,Y.needsUpdate=!0,yn(Y,Te,ze),Y.side=pc):yn(Y,Te,ze)}this.compile=function(Y,Te,ze=null){ze===null&&(ze=Y),R=Rt.get(ze),R.init(Te),O.push(R),ze.traverseVisible(function(we){we.isLight&&we.layers.test(Te.layers)&&(R.pushLight(we),we.castShadow&&R.pushShadow(we))}),Y!==ze&&Y.traverseVisible(function(we){we.isLight&&we.layers.test(Te.layers)&&(R.pushLight(we),we.castShadow&&R.pushShadow(we))}),R.setupLights();const Ee=new Set;return Y.traverse(function(we){if(!(we.isMesh||we.isPoints||we.isLine||we.isSprite))return;const ht=we.material;if(ht)if(Array.isArray(ht))for(let St=0;St<ht.length;St++){const Ct=ht[St];Ft(Ct,ze,we),Ee.add(Ct)}else Ft(ht,ze,we),Ee.add(ht)}),R=O.pop(),Ee},this.compileAsync=function(Y,Te,ze=null){const Ee=this.compile(Y,Te,ze);return new Promise(we=>{function ht(){if(Ee.forEach(function(St){tt.get(St).currentProgram.isReady()&&Ee.delete(St)}),Ee.size===0){we(Y);return}setTimeout(ht,10)}de.get("KHR_parallel_shader_compile")!==null?ht():setTimeout(ht,10)})};let gn=null;function At(Y){gn&&gn(Y)}function on(){Wt.stop()}function Yt(){Wt.start()}const Wt=new fP;Wt.setAnimationLoop(At),typeof self<"u"&&Wt.setContext(self),this.setAnimationLoop=function(Y){gn=Y,lt.setAnimationLoop(Y),Y===null?Wt.stop():Wt.start()},lt.addEventListener("sessionstart",on),lt.addEventListener("sessionend",Yt),this.render=function(Y,Te){if(Te!==void 0&&Te.isCamera!==!0){Mn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),Te.parent===null&&Te.matrixWorldAutoUpdate===!0&&Te.updateMatrixWorld(),lt.enabled===!0&&lt.isPresenting===!0&&(lt.cameraAutoUpdate===!0&&lt.updateCamera(Te),Te=lt.getCamera()),Y.isScene===!0&&Y.onBeforeRender(z,Y,Te,L),R=Rt.get(Y,O.length),R.init(Te),O.push(R),at.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),_e.setFromProjectionMatrix(at,Jo,Te.reversedDepth),Xe=this.localClippingEnabled,Ne=ft.init(this.clippingPlanes,Xe),E=Qe.get(Y,N.length),E.init(),N.push(E),lt.enabled===!0&&lt.isPresenting===!0){const ht=z.xr.getDepthSensingMesh();ht!==null&&Di(ht,Te,-1/0,z.sortObjects)}Di(Y,Te,0,z.sortObjects),E.finish(),z.sortObjects===!0&&E.sort(J,ye),dt=lt.enabled===!1||lt.isPresenting===!1||lt.hasDepthSensing()===!1,dt&&Ke.addToRenderList(E,Y),this.info.render.frame++,Ne===!0&&ft.beginShadows();const ze=R.state.shadowsArray;He.render(ze,Y,Te),Ne===!0&&ft.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ee=E.opaque,we=E.transmissive;if(R.setupLights(),Te.isArrayCamera){const ht=Te.cameras;if(we.length>0)for(let St=0,Ct=ht.length;St<Ct;St++){const Tt=ht[St];Zn(Ee,we,Y,Tt)}dt&&Ke.render(Y);for(let St=0,Ct=ht.length;St<Ct;St++){const Tt=ht[St];hn(E,Y,Tt,Tt.viewport)}}else we.length>0&&Zn(Ee,we,Y,Te),dt&&Ke.render(Y),hn(E,Y,Te);L!==null&&U===0&&(Mt.updateMultisampleRenderTarget(L),Mt.updateRenderTargetMipmap(L)),Y.isScene===!0&&Y.onAfterRender(z,Y,Te),fe.resetDefaultState(),j=-1,Z=null,O.pop(),O.length>0?(R=O[O.length-1],Ne===!0&&ft.setGlobalState(z.clippingPlanes,R.state.camera)):R=null,N.pop(),N.length>0?E=N[N.length-1]:E=null};function Di(Y,Te,ze,Ee){if(Y.visible===!1)return;if(Y.layers.test(Te.layers)){if(Y.isGroup)ze=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(Te);else if(Y.isLight)R.pushLight(Y),Y.castShadow&&R.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||_e.intersectsSprite(Y)){Ee&&Pt.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(at);const St=xe.update(Y),Ct=Y.material;Ct.visible&&E.push(Y,St,Ct,ze,Pt.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||_e.intersectsObject(Y))){const St=xe.update(Y),Ct=Y.material;if(Ee&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),Pt.copy(Y.boundingSphere.center)):(St.boundingSphere===null&&St.computeBoundingSphere(),Pt.copy(St.boundingSphere.center)),Pt.applyMatrix4(Y.matrixWorld).applyMatrix4(at)),Array.isArray(Ct)){const Tt=St.groups;for(let Kt=0,en=Tt.length;Kt<en;Kt++){const Gt=Tt[Kt],Tn=Ct[Gt.materialIndex];Tn&&Tn.visible&&E.push(Y,St,Tn,ze,Pt.z,Gt)}}else Ct.visible&&E.push(Y,St,Ct,ze,Pt.z,null)}}const ht=Y.children;for(let St=0,Ct=ht.length;St<Ct;St++)Di(ht[St],Te,ze,Ee)}function hn(Y,Te,ze,Ee){const{opaque:we,transmissive:ht,transparent:St}=Y;R.setupLightsView(ze),Ne===!0&&ft.setGlobalState(z.clippingPlanes,ze),Ee&&Ze.viewport(oe.copy(Ee)),we.length>0&&ri(we,Te,ze),ht.length>0&&ri(ht,Te,ze),St.length>0&&ri(St,Te,ze),Ze.buffers.depth.setTest(!0),Ze.buffers.depth.setMask(!0),Ze.buffers.color.setMask(!0),Ze.setPolygonOffset(!1)}function Zn(Y,Te,ze,Ee){if((ze.isScene===!0?ze.overrideMaterial:null)!==null)return;R.state.transmissionRenderTarget[Ee.id]===void 0&&(R.state.transmissionRenderTarget[Ee.id]=new Ec(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")||de.has("EXT_color_buffer_float")?mp:Fl,minFilter:yc,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ui.workingColorSpace}));const ht=R.state.transmissionRenderTarget[Ee.id],St=Ee.viewport||oe;ht.setSize(St.z*z.transmissionResolutionScale,St.w*z.transmissionResolutionScale);const Ct=z.getRenderTarget(),Tt=z.getActiveCubeFace(),Kt=z.getActiveMipmapLevel();z.setRenderTarget(ht),z.getClearColor(W),te=z.getClearAlpha(),te<1&&z.setClearColor(16777215,.5),z.clear(),dt&&Ke.render(ze);const en=z.toneMapping;z.toneMapping=Ac;const Gt=Ee.viewport;if(Ee.viewport!==void 0&&(Ee.viewport=void 0),R.setupLightsView(Ee),Ne===!0&&ft.setGlobalState(z.clippingPlanes,Ee),ri(Y,ze,Ee),Mt.updateMultisampleRenderTarget(ht),Mt.updateRenderTargetMipmap(ht),de.has("WEBGL_multisampled_render_to_texture")===!1){let Tn=!1;for(let $n=0,ei=Te.length;$n<ei;$n++){const Hn=Te[$n],{object:yi,geometry:an,material:Ti,group:Gn}=Hn;if(Ti.side===pc&&yi.layers.test(Ee.layers)){const wr=Ti.side;Ti.side=Ks,Ti.needsUpdate=!0,jt(yi,ze,Ee,an,Ti,Gn),Ti.side=wr,Ti.needsUpdate=!0,Tn=!0}}Tn===!0&&(Mt.updateMultisampleRenderTarget(ht),Mt.updateRenderTargetMipmap(ht))}z.setRenderTarget(Ct,Tt,Kt),z.setClearColor(W,te),Gt!==void 0&&(Ee.viewport=Gt),z.toneMapping=en}function ri(Y,Te,ze){const Ee=Te.isScene===!0?Te.overrideMaterial:null;for(let we=0,ht=Y.length;we<ht;we++){const St=Y[we],{object:Ct,geometry:Tt,group:Kt}=St;let en=St.material;en.allowOverride===!0&&Ee!==null&&(en=Ee),Ct.layers.test(ze.layers)&&jt(Ct,Te,ze,Tt,en,Kt)}}function jt(Y,Te,ze,Ee,we,ht){Y.onBeforeRender(z,Te,ze,Ee,we,ht),Y.modelViewMatrix.multiplyMatrices(ze.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),we.onBeforeRender(z,Te,ze,Ee,Y,ht),we.transparent===!0&&we.side===pc&&we.forceSinglePass===!1?(we.side=Ks,we.needsUpdate=!0,z.renderBufferDirect(ze,Te,Ee,we,Y,ht),we.side=Uf,we.needsUpdate=!0,z.renderBufferDirect(ze,Te,Ee,we,Y,ht),we.side=pc):z.renderBufferDirect(ze,Te,Ee,we,Y,ht),Y.onAfterRender(z,Te,ze,Ee,we,ht)}function yn(Y,Te,ze){Te.isScene!==!0&&(Te=rn);const Ee=tt.get(Y),we=R.state.lights,ht=R.state.shadowsArray,St=we.state.version,Ct=Me.getParameters(Y,we.state,ht,Te,ze),Tt=Me.getProgramCacheKey(Ct);let Kt=Ee.programs;Ee.environment=Y.isMeshStandardMaterial?Te.environment:null,Ee.fog=Te.fog,Ee.envMap=(Y.isMeshStandardMaterial?X:ie).get(Y.envMap||Ee.environment),Ee.envMapRotation=Ee.environment!==null&&Y.envMap===null?Te.environmentRotation:Y.envMapRotation,Kt===void 0&&(Y.addEventListener("dispose",Zt),Kt=new Map,Ee.programs=Kt);let en=Kt.get(Tt);if(en!==void 0){if(Ee.currentProgram===en&&Ee.lightsStateVersion===St)return Lr(Y,Ct),en}else Ct.uniforms=Me.getUniforms(Y),Y.onBeforeCompile(Ct,z),en=Me.acquireProgram(Ct,Tt),Kt.set(Tt,en),Ee.uniforms=Ct.uniforms;const Gt=Ee.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(Gt.clippingPlanes=ft.uniform),Lr(Y,Ct),Ee.needsLights=ra(Y),Ee.lightsStateVersion=St,Ee.needsLights&&(Gt.ambientLightColor.value=we.state.ambient,Gt.lightProbe.value=we.state.probe,Gt.directionalLights.value=we.state.directional,Gt.directionalLightShadows.value=we.state.directionalShadow,Gt.spotLights.value=we.state.spot,Gt.spotLightShadows.value=we.state.spotShadow,Gt.rectAreaLights.value=we.state.rectArea,Gt.ltc_1.value=we.state.rectAreaLTC1,Gt.ltc_2.value=we.state.rectAreaLTC2,Gt.pointLights.value=we.state.point,Gt.pointLightShadows.value=we.state.pointShadow,Gt.hemisphereLights.value=we.state.hemi,Gt.directionalShadowMap.value=we.state.directionalShadowMap,Gt.directionalShadowMatrix.value=we.state.directionalShadowMatrix,Gt.spotShadowMap.value=we.state.spotShadowMap,Gt.spotLightMatrix.value=we.state.spotLightMatrix,Gt.spotLightMap.value=we.state.spotLightMap,Gt.pointShadowMap.value=we.state.pointShadowMap,Gt.pointShadowMatrix.value=we.state.pointShadowMatrix),Ee.currentProgram=en,Ee.uniformsList=null,en}function zn(Y){if(Y.uniformsList===null){const Te=Y.currentProgram.getUniforms();Y.uniformsList=m4.seqWithValue(Te.seq,Y.uniforms)}return Y.uniformsList}function Lr(Y,Te){const ze=tt.get(Y);ze.outputColorSpace=Te.outputColorSpace,ze.batching=Te.batching,ze.batchingColor=Te.batchingColor,ze.instancing=Te.instancing,ze.instancingColor=Te.instancingColor,ze.instancingMorph=Te.instancingMorph,ze.skinning=Te.skinning,ze.morphTargets=Te.morphTargets,ze.morphNormals=Te.morphNormals,ze.morphColors=Te.morphColors,ze.morphTargetsCount=Te.morphTargetsCount,ze.numClippingPlanes=Te.numClippingPlanes,ze.numIntersection=Te.numClipIntersection,ze.vertexAlphas=Te.vertexAlphas,ze.vertexTangents=Te.vertexTangents,ze.toneMapping=Te.toneMapping}function Ai(Y,Te,ze,Ee,we){Te.isScene!==!0&&(Te=rn),Mt.resetTextureUnits();const ht=Te.fog,St=Ee.isMeshStandardMaterial?Te.environment:null,Ct=L===null?z.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:u0,Tt=(Ee.isMeshStandardMaterial?X:ie).get(Ee.envMap||St),Kt=Ee.vertexColors===!0&&!!ze.attributes.color&&ze.attributes.color.itemSize===4,en=!!ze.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Gt=!!ze.morphAttributes.position,Tn=!!ze.morphAttributes.normal,$n=!!ze.morphAttributes.color;let ei=Ac;Ee.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(ei=z.toneMapping);const Hn=ze.morphAttributes.position||ze.morphAttributes.normal||ze.morphAttributes.color,yi=Hn!==void 0?Hn.length:0,an=tt.get(Ee),Ti=R.state.lights;if(Ne===!0&&(Xe===!0||Y!==Z)){const Ur=Y===Z&&Ee.id===j;ft.setState(Ee,Y,Ur)}let Gn=!1;Ee.version===an.__version?(an.needsLights&&an.lightsStateVersion!==Ti.state.version||an.outputColorSpace!==Ct||we.isBatchedMesh&&an.batching===!1||!we.isBatchedMesh&&an.batching===!0||we.isBatchedMesh&&an.batchingColor===!0&&we.colorTexture===null||we.isBatchedMesh&&an.batchingColor===!1&&we.colorTexture!==null||we.isInstancedMesh&&an.instancing===!1||!we.isInstancedMesh&&an.instancing===!0||we.isSkinnedMesh&&an.skinning===!1||!we.isSkinnedMesh&&an.skinning===!0||we.isInstancedMesh&&an.instancingColor===!0&&we.instanceColor===null||we.isInstancedMesh&&an.instancingColor===!1&&we.instanceColor!==null||we.isInstancedMesh&&an.instancingMorph===!0&&we.morphTexture===null||we.isInstancedMesh&&an.instancingMorph===!1&&we.morphTexture!==null||an.envMap!==Tt||Ee.fog===!0&&an.fog!==ht||an.numClippingPlanes!==void 0&&(an.numClippingPlanes!==ft.numPlanes||an.numIntersection!==ft.numIntersection)||an.vertexAlphas!==Kt||an.vertexTangents!==en||an.morphTargets!==Gt||an.morphNormals!==Tn||an.morphColors!==$n||an.toneMapping!==ei||an.morphTargetsCount!==yi)&&(Gn=!0):(Gn=!0,an.__version=Ee.version);let wr=an.currentProgram;Gn===!0&&(wr=yn(Ee,Te,we));let ql=!1,zi=!1,ol=!1;const Li=wr.getUniforms(),kr=an.uniforms;if(Ze.useProgram(wr.program)&&(ql=!0,zi=!0,ol=!0),Ee.id!==j&&(j=Ee.id,zi=!0),ql||Z!==Y){Ze.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),Li.setValue(ne,"projectionMatrix",Y.projectionMatrix),Li.setValue(ne,"viewMatrix",Y.matrixWorldInverse);const tr=Li.map.cameraPosition;tr!==void 0&&tr.setValue(ne,_t.setFromMatrixPosition(Y.matrixWorld)),it.logarithmicDepthBuffer&&Li.setValue(ne,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Li.setValue(ne,"isOrthographic",Y.isOrthographicCamera===!0),Z!==Y&&(Z=Y,zi=!0,ol=!0)}if(we.isSkinnedMesh){Li.setOptional(ne,we,"bindMatrix"),Li.setOptional(ne,we,"bindMatrixInverse");const Ur=we.skeleton;Ur&&(Ur.boneTexture===null&&Ur.computeBoneTexture(),Li.setValue(ne,"boneTexture",Ur.boneTexture,Mt))}we.isBatchedMesh&&(Li.setOptional(ne,we,"batchingTexture"),Li.setValue(ne,"batchingTexture",we._matricesTexture,Mt),Li.setOptional(ne,we,"batchingIdTexture"),Li.setValue(ne,"batchingIdTexture",we._indirectTexture,Mt),Li.setOptional(ne,we,"batchingColorTexture"),we._colorsTexture!==null&&Li.setValue(ne,"batchingColorTexture",we._colorsTexture,Mt));const Or=ze.morphAttributes;if((Or.position!==void 0||Or.normal!==void 0||Or.color!==void 0)&&Nt.update(we,ze,wr),(zi||an.receiveShadow!==we.receiveShadow)&&(an.receiveShadow=we.receiveShadow,Li.setValue(ne,"receiveShadow",we.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(kr.envMap.value=Tt,kr.flipEnvMap.value=Tt.isCubeTexture&&Tt.isRenderTargetTexture===!1?-1:1),Ee.isMeshStandardMaterial&&Ee.envMap===null&&Te.environment!==null&&(kr.envMapIntensity.value=Te.environmentIntensity),kr.dfgLUT!==void 0&&(kr.dfgLUT.value=aie()),zi&&(Li.setValue(ne,"toneMappingExposure",z.toneMappingExposure),an.needsLights&&ia(kr,ol),ht&&Ee.fog===!0&&nt.refreshFogUniforms(kr,ht),nt.refreshMaterialUniforms(kr,Ee,F,ve,R.state.transmissionRenderTarget[Y.id]),m4.upload(ne,zn(an),kr,Mt)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(m4.upload(ne,zn(an),kr,Mt),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Li.setValue(ne,"center",we.center),Li.setValue(ne,"modelViewMatrix",we.modelViewMatrix),Li.setValue(ne,"normalMatrix",we.normalMatrix),Li.setValue(ne,"modelMatrix",we.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const Ur=Ee.uniformsGroups;for(let tr=0,Ro=Ur.length;tr<Ro;tr++){const $s=Ur[tr];vt.update($s,wr),vt.bind($s,wr)}}return wr}function ia(Y,Te){Y.ambientLightColor.needsUpdate=Te,Y.lightProbe.needsUpdate=Te,Y.directionalLights.needsUpdate=Te,Y.directionalLightShadows.needsUpdate=Te,Y.pointLights.needsUpdate=Te,Y.pointLightShadows.needsUpdate=Te,Y.spotLights.needsUpdate=Te,Y.spotLightShadows.needsUpdate=Te,Y.rectAreaLights.needsUpdate=Te,Y.hemisphereLights.needsUpdate=Te}function ra(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return G},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(Y,Te,ze){const Ee=tt.get(Y);Ee.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,Ee.__autoAllocateDepthBuffer===!1&&(Ee.__useRenderToTexture=!1),tt.get(Y.texture).__webglTexture=Te,tt.get(Y.depthTexture).__webglTexture=Ee.__autoAllocateDepthBuffer?void 0:ze,Ee.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,Te){const ze=tt.get(Y);ze.__webglFramebuffer=Te,ze.__useDefaultFramebuffer=Te===void 0};const Ni=ne.createFramebuffer();this.setRenderTarget=function(Y,Te=0,ze=0){L=Y,G=Te,U=ze;let Ee=!0,we=null,ht=!1,St=!1;if(Y){const Tt=tt.get(Y);if(Tt.__useDefaultFramebuffer!==void 0)Ze.bindFramebuffer(ne.FRAMEBUFFER,null),Ee=!1;else if(Tt.__webglFramebuffer===void 0)Mt.setupRenderTarget(Y);else if(Tt.__hasExternalTextures)Mt.rebindTextures(Y,tt.get(Y.texture).__webglTexture,tt.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const Gt=Y.depthTexture;if(Tt.__boundDepthTexture!==Gt){if(Gt!==null&&tt.has(Gt)&&(Y.width!==Gt.image.width||Y.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Mt.setupDepthRenderbuffer(Y)}}const Kt=Y.texture;(Kt.isData3DTexture||Kt.isDataArrayTexture||Kt.isCompressedArrayTexture)&&(St=!0);const en=tt.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(en[Te])?we=en[Te][ze]:we=en[Te],ht=!0):Y.samples>0&&Mt.useMultisampledRTT(Y)===!1?we=tt.get(Y).__webglMultisampledFramebuffer:Array.isArray(en)?we=en[ze]:we=en,oe.copy(Y.viewport),le.copy(Y.scissor),ae=Y.scissorTest}else oe.copy(K).multiplyScalar(F).floor(),le.copy(Le).multiplyScalar(F).floor(),ae=Ye;if(ze!==0&&(we=Ni),Ze.bindFramebuffer(ne.FRAMEBUFFER,we)&&Ee&&Ze.drawBuffers(Y,we),Ze.viewport(oe),Ze.scissor(le),Ze.setScissorTest(ae),ht){const Tt=tt.get(Y.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Tt.__webglTexture,ze)}else if(St){const Tt=Te;for(let Kt=0;Kt<Y.textures.length;Kt++){const en=tt.get(Y.textures[Kt]);ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0+Kt,en.__webglTexture,ze,Tt)}}else if(Y!==null&&ze!==0){const Tt=tt.get(Y.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Tt.__webglTexture,ze)}j=-1},this.readRenderTargetPixels=function(Y,Te,ze,Ee,we,ht,St,Ct=0){if(!(Y&&Y.isWebGLRenderTarget)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Tt=tt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&St!==void 0&&(Tt=Tt[St]),Tt){Ze.bindFramebuffer(ne.FRAMEBUFFER,Tt);try{const Kt=Y.textures[Ct],en=Kt.format,Gt=Kt.type;if(!it.textureFormatReadable(en)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!it.textureTypeReadable(Gt)){Mn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Te>=0&&Te<=Y.width-Ee&&ze>=0&&ze<=Y.height-we&&(Y.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Ct),ne.readPixels(Te,ze,Ee,we,Bt.convert(en),Bt.convert(Gt),ht))}finally{const Kt=L!==null?tt.get(L).__webglFramebuffer:null;Ze.bindFramebuffer(ne.FRAMEBUFFER,Kt)}}},this.readRenderTargetPixelsAsync=async function(Y,Te,ze,Ee,we,ht,St,Ct=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Tt=tt.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&St!==void 0&&(Tt=Tt[St]),Tt)if(Te>=0&&Te<=Y.width-Ee&&ze>=0&&ze<=Y.height-we){Ze.bindFramebuffer(ne.FRAMEBUFFER,Tt);const Kt=Y.textures[Ct],en=Kt.format,Gt=Kt.type;if(!it.textureFormatReadable(en))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!it.textureTypeReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Tn=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Tn),ne.bufferData(ne.PIXEL_PACK_BUFFER,ht.byteLength,ne.STREAM_READ),Y.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+Ct),ne.readPixels(Te,ze,Ee,we,Bt.convert(en),Bt.convert(Gt),0);const $n=L!==null?tt.get(L).__webglFramebuffer:null;Ze.bindFramebuffer(ne.FRAMEBUFFER,$n);const ei=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await SZ(ne,ei,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,Tn),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,ht),ne.deleteBuffer(Tn),ne.deleteSync(ei),ht}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,Te=null,ze=0){const Ee=Math.pow(2,-ze),we=Math.floor(Y.image.width*Ee),ht=Math.floor(Y.image.height*Ee),St=Te!==null?Te.x:0,Ct=Te!==null?Te.y:0;Mt.setTexture2D(Y,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,ze,0,0,St,Ct,we,ht),Ze.unbindTexture()};const Vi=ne.createFramebuffer(),In=ne.createFramebuffer();this.copyTextureToTexture=function(Y,Te,ze=null,Ee=null,we=0,ht=null){ht===null&&(we!==0?(V1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ht=we,we=0):ht=0);let St,Ct,Tt,Kt,en,Gt,Tn,$n,ei;const Hn=Y.isCompressedTexture?Y.mipmaps[ht]:Y.image;if(ze!==null)St=ze.max.x-ze.min.x,Ct=ze.max.y-ze.min.y,Tt=ze.isBox3?ze.max.z-ze.min.z:1,Kt=ze.min.x,en=ze.min.y,Gt=ze.isBox3?ze.min.z:0;else{const Or=Math.pow(2,-we);St=Math.floor(Hn.width*Or),Ct=Math.floor(Hn.height*Or),Y.isDataArrayTexture?Tt=Hn.depth:Y.isData3DTexture?Tt=Math.floor(Hn.depth*Or):Tt=1,Kt=0,en=0,Gt=0}Ee!==null?(Tn=Ee.x,$n=Ee.y,ei=Ee.z):(Tn=0,$n=0,ei=0);const yi=Bt.convert(Te.format),an=Bt.convert(Te.type);let Ti;Te.isData3DTexture?(Mt.setTexture3D(Te,0),Ti=ne.TEXTURE_3D):Te.isDataArrayTexture||Te.isCompressedArrayTexture?(Mt.setTexture2DArray(Te,0),Ti=ne.TEXTURE_2D_ARRAY):(Mt.setTexture2D(Te,0),Ti=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,Te.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Te.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,Te.unpackAlignment);const Gn=ne.getParameter(ne.UNPACK_ROW_LENGTH),wr=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),ql=ne.getParameter(ne.UNPACK_SKIP_PIXELS),zi=ne.getParameter(ne.UNPACK_SKIP_ROWS),ol=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Hn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Hn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Kt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,en),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Gt);const Li=Y.isDataArrayTexture||Y.isData3DTexture,kr=Te.isDataArrayTexture||Te.isData3DTexture;if(Y.isDepthTexture){const Or=tt.get(Y),Ur=tt.get(Te),tr=tt.get(Or.__renderTarget),Ro=tt.get(Ur.__renderTarget);Ze.bindFramebuffer(ne.READ_FRAMEBUFFER,tr.__webglFramebuffer),Ze.bindFramebuffer(ne.DRAW_FRAMEBUFFER,Ro.__webglFramebuffer);for(let $s=0;$s<Tt;$s++)Li&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,tt.get(Y).__webglTexture,we,Gt+$s),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,tt.get(Te).__webglTexture,ht,ei+$s)),ne.blitFramebuffer(Kt,en,St,Ct,Tn,$n,St,Ct,ne.DEPTH_BUFFER_BIT,ne.NEAREST);Ze.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(we!==0||Y.isRenderTargetTexture||tt.has(Y)){const Or=tt.get(Y),Ur=tt.get(Te);Ze.bindFramebuffer(ne.READ_FRAMEBUFFER,Vi),Ze.bindFramebuffer(ne.DRAW_FRAMEBUFFER,In);for(let tr=0;tr<Tt;tr++)Li?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Or.__webglTexture,we,Gt+tr):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Or.__webglTexture,we),kr?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,Ur.__webglTexture,ht,ei+tr):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,Ur.__webglTexture,ht),we!==0?ne.blitFramebuffer(Kt,en,St,Ct,Tn,$n,St,Ct,ne.COLOR_BUFFER_BIT,ne.NEAREST):kr?ne.copyTexSubImage3D(Ti,ht,Tn,$n,ei+tr,Kt,en,St,Ct):ne.copyTexSubImage2D(Ti,ht,Tn,$n,Kt,en,St,Ct);Ze.bindFramebuffer(ne.READ_FRAMEBUFFER,null),Ze.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else kr?Y.isDataTexture||Y.isData3DTexture?ne.texSubImage3D(Ti,ht,Tn,$n,ei,St,Ct,Tt,yi,an,Hn.data):Te.isCompressedArrayTexture?ne.compressedTexSubImage3D(Ti,ht,Tn,$n,ei,St,Ct,Tt,yi,Hn.data):ne.texSubImage3D(Ti,ht,Tn,$n,ei,St,Ct,Tt,yi,an,Hn):Y.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,ht,Tn,$n,St,Ct,yi,an,Hn.data):Y.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,ht,Tn,$n,Hn.width,Hn.height,yi,Hn.data):ne.texSubImage2D(ne.TEXTURE_2D,ht,Tn,$n,St,Ct,yi,an,Hn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Gn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,wr),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,ql),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,zi),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,ol),ht===0&&Te.generateMipmaps&&ne.generateMipmap(Ti),Ze.unbindTexture()},this.initRenderTarget=function(Y){tt.get(Y).__webglFramebuffer===void 0&&Mt.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?Mt.setTextureCube(Y,0):Y.isData3DTexture?Mt.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?Mt.setTexture2DArray(Y,0):Mt.setTexture2D(Y,0),Ze.unbindTexture()},this.resetState=function(){G=0,U=0,L=null,Ze.reset(),fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Jo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=ui._getDrawingBufferColorSpace(e),t.unpackColorSpace=ui._getUnpackColorSpace()}}const sie=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:jT,AddEquation:Gh,AddOperation:IO,AdditiveAnimationBlendMode:JT,AdditiveBlending:jw,AgXToneMapping:jO,AlphaFormat:KT,AlwaysCompare:aU,AlwaysDepth:H4,AlwaysStencilFunc:Yw,AmbientLight:$U,AnimationAction:lP,AnimationClip:Av,AnimationLoader:hQ,AnimationMixer:VQ,AnimationObjectGroup:IQ,AnimationUtils:lQ,ArcCurve:wU,ArrayCamera:aP,ArrowHelper:dJ,AttachedBindMode:Ww,Audio:sP,AudioAnalyser:RQ,AudioContext:w7,AudioListener:TQ,AudioLoader:MQ,AxesHelper:pJ,BackSide:Ks,BasicDepthPacking:KO,BasicShadowMap:vO,BatchedMesh:vU,Bone:s7,BooleanKeyframeTrack:yp,Box2:QQ,Box3:gs,Box3Helper:fJ,BoxGeometry:gp,BoxHelper:cJ,BufferAttribute:Fi,BufferGeometry:wn,BufferGeometryLoader:rP,ByteType:XT,Cache:xc,Camera:uS,CameraHelper:uJ,CanvasTexture:NK,CapsuleGeometry:gS,CatmullRomCurve3:AU,CineonToneMapping:HO,CircleGeometry:yS,ClampToEdgeWrapping:xo,Clock:A7,Color:It,ColorKeyframeTrack:_7,ColorManagement:ui,CompressedArrayTexture:RK,CompressedCubeTexture:DK,CompressedTexture:mS,CompressedTextureLoader:dQ,ConeGeometry:Wv,ConstantAlphaFactor:UO,ConstantColorFactor:kO,Controls:gJ,CubeCamera:hU,CubeReflectionMapping:Pf,CubeRefractionMapping:l0,CubeTexture:qv,CubeTextureLoader:pQ,CubeUVReflectionMapping:ng,CubicBezierCurve:f7,CubicBezierCurve3:TU,CubicInterpolant:qU,CullFaceBack:Gw,CullFaceFront:xO,CullFaceFrontBack:UY,CullFaceNone:yO,Curve:Cu,CurvePath:CU,CustomBlending:bO,CustomToneMapping:GO,CylinderGeometry:Xv,Cylindrical:KQ,Data3DTexture:lS,DataArrayTexture:oS,DataTexture:wu,DataTextureLoader:mQ,DataUtils:eK,DecrementStencilOp:KY,DecrementWrapStencilOp:JY,DefaultLoadingManager:YU,DepthFormat:B1,DepthStencilFormat:I1,DepthTexture:l7,DetachedBindMode:XO,DirectionalLight:JU,DirectionalLightHelper:lJ,DiscreteInterpolant:XU,DodecahedronGeometry:xS,DoubleSide:pc,DstAlphaFactor:RO,DstColorFactor:NO,DynamicCopyUsage:dZ,DynamicDrawUsage:oZ,DynamicReadUsage:cZ,EdgesGeometry:MU,EllipseCurve:vS,EqualCompare:tU,EqualDepth:j4,EqualStencilFunc:nZ,EquirectangularReflectionMapping:cv,EquirectangularRefractionMapping:fv,Euler:al,EventDispatcher:Rc,ExternalTexture:u7,ExtrudeGeometry:bS,FileLoader:If,Float16BufferAttribute:oK,Float32BufferAttribute:Ht,FloatType:vo,Fog:fS,FogExp2:cS,FramebufferTexture:CK,FrontSide:Uf,Frustum:rg,FrustumArray:pS,GLBufferAttribute:XQ,GLSL1:mZ,GLSL3:Zw,GreaterCompare:nU,GreaterDepth:X4,GreaterEqualCompare:rU,GreaterEqualDepth:q4,GreaterEqualStencilFunc:sZ,GreaterStencilFunc:rZ,GridHelper:sJ,Group:g1,HalfFloatType:mp,HemisphereLight:ZU,HemisphereLightHelper:aJ,IcosahedronGeometry:_S,ImageBitmapLoader:SQ,ImageLoader:Tv,ImageUtils:lU,IncrementStencilOp:ZY,IncrementWrapStencilOp:QY,InstancedBufferAttribute:q1,InstancedBufferGeometry:iP,InstancedInterleavedBuffer:qQ,InstancedMesh:xU,Int16BufferAttribute:aK,Int32BufferAttribute:sK,Int8BufferAttribute:nK,IntType:$_,InterleavedBuffer:hS,InterleavedBufferAttribute:cp,Interpolant:Kv,InterpolateDiscrete:pv,InterpolateLinear:S_,InterpolateSmooth:d4,InterpolationSamplingMode:xZ,InterpolationSamplingType:yZ,InvertStencilOp:$Y,KeepStencilOp:Bd,KeyframeTrack:jl,LOD:gU,LatheGeometry:SS,Layers:G1,LessCompare:eU,LessDepth:G4,LessEqualCompare:$T,LessEqualDepth:up,LessEqualStencilFunc:iZ,LessStencilFunc:tZ,Light:b0,LightProbe:nP,Line:f0,Line3:eJ,LineBasicMaterial:Qs,LineCurve:h7,LineCurve3:EU,LineDashedMaterial:HU,LineLoop:bU,LineSegments:Dc,LinearFilter:Gr,LinearInterpolant:b7,LinearMipMapLinearFilter:FY,LinearMipMapNearestFilter:IY,LinearMipmapLinearFilter:yc,LinearMipmapNearestFilter:Ox,LinearSRGBColorSpace:u0,LinearToneMapping:FO,LinearTransfer:gv,Loader:To,LoaderUtils:eA,LoadingManager:S7,LoopOnce:WO,LoopPingPong:ZO,LoopRepeat:YO,MOUSE:kY,Material:ys,MaterialLoader:RS,MathUtils:IZ,Matrix2:R7,Matrix3:Dn,Matrix4:_n,MaxEquation:wO,Mesh:ma,MeshBasicMaterial:x0,MeshDepthMaterial:y7,MeshDistanceMaterial:x7,MeshLambertMaterial:FU,MeshMatcapMaterial:VU,MeshNormalMaterial:IU,MeshPhongMaterial:PU,MeshPhysicalMaterial:UU,MeshStandardMaterial:g7,MeshToonMaterial:BU,MinEquation:MO,MirroredRepeatWrapping:dv,MixOperation:BO,MultiplyBlending:Xw,MultiplyOperation:Gv,NearestFilter:ja,NearestMipMapLinearFilter:BY,NearestMipMapNearestFilter:PY,NearestMipmapLinearFilter:p1,NearestMipmapNearestFilter:qT,NeutralToneMapping:qO,NeverCompare:$O,NeverDepth:V4,NeverStencilFunc:eZ,NoBlending:wc,NoColorSpace:Mf,NoToneMapping:Ac,NormalAnimationBlendMode:sS,NormalBlending:np,NotEqualCompare:iU,NotEqualDepth:W4,NotEqualStencilFunc:aZ,NumberKeyframeTrack:Mv,Object3D:mi,ObjectLoader:bQ,ObjectSpaceNormalMap:JO,OctahedronGeometry:Yv,OneFactor:TO,OneMinusConstantAlphaFactor:PO,OneMinusConstantColorFactor:OO,OneMinusDstAlphaFactor:DO,OneMinusDstColorFactor:zO,OneMinusSrcAlphaFactor:F4,OneMinusSrcColorFactor:CO,OrthographicCamera:Jv,PCFShadowMap:Q_,PCFSoftShadowMap:kx,PMREMGenerator:iA,Path:T_,PerspectiveCamera:Na,Plane:Hh,PlaneGeometry:ag,PlaneHelper:hJ,PointLight:QU,PointLightHelper:iJ,Points:_U,PointsMaterial:o7,PolarGridHelper:oJ,PolyhedronGeometry:v0,PositionalAudio:CQ,PropertyBinding:hi,PropertyMixer:oP,QuadraticBezierCurve:d7,QuadraticBezierCurve3:p7,Quaternion:wo,QuaternionKeyframeTrack:Qv,QuaternionLinearInterpolant:WU,RED_GREEN_RGTC2_Format:b_,RED_RGTC1_Format:x_,REVISION:K_,RGBADepthPacking:QO,RGBAFormat:ds,RGBAIntegerFormat:aS,RGBA_ASTC_10x10_Format:h_,RGBA_ASTC_10x5_Format:u_,RGBA_ASTC_10x6_Format:c_,RGBA_ASTC_10x8_Format:f_,RGBA_ASTC_12x10_Format:d_,RGBA_ASTC_12x12_Format:p_,RGBA_ASTC_4x4_Format:t_,RGBA_ASTC_5x4_Format:n_,RGBA_ASTC_5x5_Format:i_,RGBA_ASTC_6x5_Format:r_,RGBA_ASTC_6x6_Format:a_,RGBA_ASTC_8x5_Format:s_,RGBA_ASTC_8x6_Format:o_,RGBA_ASTC_8x8_Format:l_,RGBA_BPTC_Format:m_,RGBA_ETC2_EAC_Format:e_,RGBA_PVRTC_2BPPV1_Format:Q4,RGBA_PVRTC_4BPPV1_Format:K4,RGBA_S3TC_DXT1_Format:Px,RGBA_S3TC_DXT3_Format:Bx,RGBA_S3TC_DXT5_Format:Ix,RGBDepthPacking:qY,RGBFormat:QT,RGBIntegerFormat:VY,RGB_BPTC_SIGNED_Format:g_,RGB_BPTC_UNSIGNED_Format:y_,RGB_ETC1_Format:J4,RGB_ETC2_Format:$4,RGB_PVRTC_2BPPV1_Format:Z4,RGB_PVRTC_4BPPV1_Format:Y4,RGB_S3TC_DXT1_Format:Ux,RGDepthPacking:XY,RGFormat:iS,RGIntegerFormat:rS,RawShaderMaterial:OU,Ray:ig,Raycaster:uP,RectAreaLight:eP,RedFormat:nS,RedIntegerFormat:jv,ReinhardToneMapping:VO,RenderTarget:t7,RenderTarget3D:HQ,RepeatWrapping:hv,ReplaceStencilOp:YY,ReverseSubtractEquation:SO,RingGeometry:MS,SIGNED_RED_GREEN_RGTC2_Format:__,SIGNED_RED_RGTC1_Format:v_,SRGBColorSpace:us,SRGBTransfer:Oi,Scene:r7,ShaderChunk:Un,ShaderLib:Su,ShaderMaterial:Vl,ShadowMaterial:kU,Shape:rp,ShapeGeometry:wS,ShapePath:mJ,ShapeUtils:Mu,ShortType:WT,Skeleton:dS,SkeletonHelper:nJ,SkinnedMesh:yU,Source:Kh,Sphere:qa,SphereGeometry:Zv,Spherical:ZQ,SphericalHarmonics3:tP,SplineCurve:m7,SpotLight:KU,SpotLightHelper:tJ,Sprite:mU,SpriteMaterial:a7,SrcAlphaFactor:I4,SrcAlphaSaturateFactor:LO,SrcColorFactor:EO,StaticCopyUsage:hZ,StaticDrawUsage:yv,StaticReadUsage:uZ,StereoCamera:wQ,StreamCopyUsage:pZ,StreamDrawUsage:lZ,StreamReadUsage:fZ,StringKeyframeTrack:xp,SubtractEquation:_O,SubtractiveBlending:qw,TOUCH:OY,TangentSpaceNormalMap:y0,TetrahedronGeometry:AS,Texture:zr,TextureLoader:gQ,TextureUtils:_J,Timer:WQ,TimestampQuery:gZ,TorusGeometry:TS,TorusKnotGeometry:ES,Triangle:go,TriangleFanDrawMode:jY,TriangleStripDrawMode:GY,TrianglesDrawMode:HY,TubeGeometry:CS,UVMapping:J_,Uint16BufferAttribute:n7,Uint32BufferAttribute:i7,Uint8BufferAttribute:iK,Uint8ClampedBufferAttribute:rK,Uniform:C7,UniformsGroup:jQ,UniformsLib:Lt,UniformsUtils:fU,UnsignedByteType:Fl,UnsignedInt101111Type:ZT,UnsignedInt248Type:P1,UnsignedInt5999Type:YT,UnsignedIntType:Bf,UnsignedShort4444Type:eS,UnsignedShort5551Type:tS,UnsignedShortType:U1,VSMShadowMap:bu,Vector2:rt,Vector3:se,Vector4:pi,VectorKeyframeTrack:wv,VideoFrameTexture:EK,VideoTexture:SU,WebGL3DRenderTarget:jZ,WebGLArrayRenderTarget:GZ,WebGLCoordinateSystem:Jo,WebGLCubeRenderTarget:dU,WebGLRenderTarget:Ec,WebGLRenderer:yP,WebGLUtils:gP,WebGPUCoordinateSystem:F1,WebXRController:p4,WireframeGeometry:LU,WrapAroundEnding:mv,ZeroCurvatureEnding:jd,ZeroFactor:AO,ZeroSlopeEnding:qd,ZeroStencilOp:WY,createCanvasElement:oU,error:Mn,getConsoleFunction:_Z,log:vv,setConsoleFunction:bZ,warn:kt,warnOnce:V1},Symbol.toStringTag,{value:"Module"}));var tM={exports:{}},nM={},iM={exports:{}},rM={};var $R;function oie(){if($R)return rM;$R=1;var n=K1();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,s=n.useDebugValue;function o(g,y){var x=y(),_=i({inst:{value:x,getSnapshot:y}}),M=_[0].inst,w=_[1];return a(function(){M.value=x,M.getSnapshot=y,u(M)&&w({inst:M})},[g,x,y]),r(function(){return u(M)&&w({inst:M}),g(function(){u(M)&&w({inst:M})})},[g]),s(x),x}function u(g){var y=g.getSnapshot;g=g.value;try{var x=y();return!t(g,x)}catch{return!0}}function f(g,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return rM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,rM}var eD;function lie(){return eD||(eD=1,iM.exports=oie()),iM.exports}var tD;function uie(){if(tD)return nM;tD=1;var n=K1(),e=lie();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,s=n.useEffect,o=n.useMemo,u=n.useDebugValue;return nM.useSyncExternalStoreWithSelector=function(f,d,g,y,x){var _=a(null);if(_.current===null){var M={hasValue:!1,value:null};_.current=M}else M=_.current;_=o(function(){function S(z){if(!E){if(E=!0,R=z,z=y(z),x!==void 0&&M.hasValue){var B=M.value;if(x(B,z))return N=B}return N=z}if(B=N,i(R,z))return B;var G=y(z);return x!==void 0&&x(B,G)?(R=z,B):(R=z,N=G)}var E=!1,R,N,O=g===void 0?null:g;return[function(){return S(d())},O===null?void 0:function(){return S(O())}]},[d,g,y,x]);var w=r(f,_[0],_[1]);return s(function(){M.hasValue=!0,M.value=w},[w]),u(w),w},nM}var nD;function cie(){return nD||(nD=1,tM.exports=uie()),tM.exports}var fie=cie();const hie=kv(fie),iD=n=>{let e;const t=new Set,i=(f,d)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const y=e;e=d??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,y))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>u,subscribe:f=>(t.add(f),()=>t.delete(f))},u=e=n(i,r,o);return o},die=(n=>n?iD(n):iD),{useSyncExternalStoreWithSelector:pie}=hie,mie=n=>n;function gie(n,e=mie,t){const i=pie(n.subscribe,n.getState,n.getInitialState,e,t);return BF.useDebugValue(i),i}const rD=(n,e)=>{const t=die(n),i=(r,a=e)=>gie(t,r,a);return Object.assign(i,t),i},yie=((n,e)=>n?rD(n,e):rD);var aM={exports:{}},sM={exports:{}},oM={exports:{}},lM={};var aD;function xie(){return aD||(aD=1,(function(n){function e(W,te){var re=W.length;W.push(te);e:for(;0<re;){var ve=re-1>>>1,F=W[ve];if(0<r(F,te))W[ve]=te,W[re]=F,re=ve;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var te=W[0],re=W.pop();if(re!==te){W[0]=re;e:for(var ve=0,F=W.length,J=F>>>1;ve<J;){var ye=2*(ve+1)-1,K=W[ye],Le=ye+1,Ye=W[Le];if(0>r(K,re))Le<F&&0>r(Ye,K)?(W[ve]=Ye,W[Le]=re,ve=Le):(W[ve]=K,W[ye]=re,ve=ye);else if(Le<F&&0>r(Ye,re))W[ve]=Ye,W[Le]=re,ve=Le;else break e}}return te}function r(W,te){var re=W.sortIndex-te.sortIndex;return re!==0?re:W.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var u=[],f=[],d=1,g=null,y=3,x=!1,_=!1,M=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function R(W){for(var te=t(f);te!==null;){if(te.callback===null)i(f);else if(te.startTime<=W)i(f),te.sortIndex=te.expirationTime,e(u,te);else break;te=t(f)}}function N(W){if(M=!1,R(W),!_)if(t(u)!==null)_=!0,le();else{var te=t(f);te!==null&&ae(N,te.startTime-W)}}var O=!1,z=-1,B=5,G=-1;function U(){return!(n.unstable_now()-G<B)}function L(){if(O){var W=n.unstable_now();G=W;var te=!0;try{e:{_=!1,M&&(M=!1,S(z),z=-1),x=!0;var re=y;try{t:{for(R(W),g=t(u);g!==null&&!(g.expirationTime>W&&U());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,y=g.priorityLevel;var F=ve(g.expirationTime<=W);if(W=n.unstable_now(),typeof F=="function"){g.callback=F,R(W),te=!0;break t}g===t(u)&&i(u),R(W)}else i(u);g=t(u)}if(g!==null)te=!0;else{var J=t(f);J!==null&&ae(N,J.startTime-W),te=!1}}break e}finally{g=null,y=re,x=!1}te=void 0}}finally{te?j():O=!1}}}var j;if(typeof E=="function")j=function(){E(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,oe=Z.port2;Z.port1.onmessage=L,j=function(){oe.postMessage(null)}}else j=function(){w(L,0)};function le(){O||(O=!0,j())}function ae(W,te){z=w(function(){W(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){_||x||(_=!0,le())},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(W){switch(y){case 1:case 2:case 3:var te=3;break;default:te=y}var re=y;y=te;try{return W()}finally{y=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=y;y=W;try{return te()}finally{y=re}},n.unstable_scheduleCallback=function(W,te,re){var ve=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,W={id:d++,callback:te,priorityLevel:W,startTime:re,expirationTime:F,sortIndex:-1},re>ve?(W.sortIndex=re,e(f,W),t(u)===null&&W===t(f)&&(M?(S(z),z=-1):M=!0,ae(N,re-ve))):(W.sortIndex=F,e(u,W),_||x||(_=!0,le())),W},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(W){var te=y;return function(){var re=y;y=te;try{return W.apply(this,arguments)}finally{y=re}}}})(lM)),lM}var sD;function xP(){return sD||(sD=1,oM.exports=xie()),oM.exports}var oD;function vie(){return oD||(oD=1,(function(n){n.exports=function(e){function t(h,p,b,T){return new Pg(h,p,b,T)}function i(){}function r(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(h){return h===null||typeof h!="object"?null:(h=jg&&h[jg]||h["@@iterator"],typeof h=="function"?h:null)}function s(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===Yc?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case oh:return"Fragment";case Lo:return"Portal";case Gg:return"Profiler";case Hg:return"StrictMode";case Wp:return"Suspense";case Wu:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case ml:return(h.displayName||"Context")+".Provider";case Xu:return(h._context.displayName||"Context")+".Consumer";case lh:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case j0:return p=h.displayName||null,p!==null?p:s(h.type)||"Memo";case ko:p=h._payload,h=h._init;try{return s(h(p))}catch{}}return null}function o(h){if(Yp===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Yp=p&&p[1]||"",qg=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yp+h+qg}function u(h,p){if(!h||Yu)return"";Yu=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(p){var zt=function(){throw Error()};if(Object.defineProperty(zt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(zt,[])}catch(Sn){var Ot=Sn}Reflect.construct(h,[],zt)}else{try{zt.call()}catch(Sn){Ot=Sn}h.call(zt.prototype)}}else{try{throw Error()}catch(Sn){Ot=Sn}(zt=h())&&typeof zt.catch=="function"&&zt.catch(function(){})}}catch(Sn){if(Sn&&Ot&&typeof Sn.stack=="string")return[Sn.stack,Ot.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=T.DetermineComponentFrameRoot(),ee=P[0],me=P[1];if(ee&&me){var De=ee.split(`
`),We=me.split(`
`);for(D=T=0;T<De.length&&!De[T].includes("DetermineComponentFrameRoot");)T++;for(;D<We.length&&!We[D].includes("DetermineComponentFrameRoot");)D++;if(T===De.length||D===We.length)for(T=De.length-1,D=We.length-1;1<=T&&0<=D&&De[T]!==We[D];)D--;for(;1<=T&&0<=D;T--,D--)if(De[T]!==We[D]){if(T!==1||D!==1)do if(T--,D--,0>D||De[T]!==We[D]){var gt=`
`+De[T].replace(" at new "," at ");return h.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",h.displayName)),gt}while(1<=T&&0<=D);break}}}finally{Yu=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?o(b):""}function f(h){switch(h.tag){case 26:case 27:case 5:return o(h.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return h=u(h.type,!1),h;case 11:return h=u(h.type.render,!1),h;case 1:return h=u(h.type,!0),h;default:return""}}function d(h){try{var p="";do p+=f(h),h=h.return;while(h);return p}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function g(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function y(h){if(g(h)!==h)throw Error(r(188))}function x(h){var p=h.alternate;if(!p){if(p=g(h),p===null)throw Error(r(188));return p!==h?null:h}for(var b=h,T=p;;){var D=b.return;if(D===null)break;var P=D.alternate;if(P===null){if(T=D.return,T!==null){b=T;continue}break}if(D.child===P.child){for(P=D.child;P;){if(P===b)return y(D),h;if(P===T)return y(D),p;P=P.sibling}throw Error(r(188))}if(b.return!==T.return)b=D,T=P;else{for(var ee=!1,me=D.child;me;){if(me===b){ee=!0,b=D,T=P;break}if(me===T){ee=!0,T=D,b=P;break}me=me.sibling}if(!ee){for(me=P.child;me;){if(me===b){ee=!0,b=P,T=D;break}if(me===T){ee=!0,T=P,b=D;break}me=me.sibling}if(!ee)throw Error(r(189))}}if(b.alternate!==T)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?h:p}function _(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(p=_(h),p!==null)return p;h=h.sibling}return null}function M(h){var p=h.tag;if(p===5||p===26||p===27||p===6)return h;for(h=h.child;h!==null;){if(h.tag!==4&&(p=M(h),p!==null))return p;h=h.sibling}return null}function w(h){return{current:h}}function S(h){0>au||(h.current=$0[au],$0[au]=null,au--)}function E(h,p){au++,$0[au]=h.current,h.current=p}function R(h){return h>>>=0,h===0?32:31-(ed(h)/t3|0)|0}function N(h){var p=h&42;if(p!==0)return p;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function O(h,p){var b=h.pendingLanes;if(b===0)return 0;var T=0,D=h.suspendedLanes,P=h.pingedLanes,ee=h.warmLanes;h=h.finishedLanes!==0;var me=b&134217727;return me!==0?(b=me&~D,b!==0?T=N(b):(P&=me,P!==0?T=N(P):h||(ee=me&~ee,ee!==0&&(T=N(ee))))):(me=b&~D,me!==0?T=N(me):P!==0?T=N(P):h||(ee=b&~ee,ee!==0&&(T=N(ee)))),T===0?0:p!==0&&p!==T&&(p&D)===0&&(D=T&-T,ee=p&-p,D>=ee||D===32&&(ee&4194176)!==0)?p:T}function z(h,p){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&p)===0}function B(h,p){switch(h){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G(){var h=hh;return hh<<=1,(hh&4194176)===0&&(hh=128),h}function U(){var h=td;return td<<=1,(td&62914560)===0&&(td=4194304),h}function L(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function j(h,p){h.pendingLanes|=p,p!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function Z(h,p,b,T,D,P){var ee=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var me=h.entanglements,De=h.expirationTimes,We=h.hiddenUpdates;for(b=ee&~b;0<b;){var gt=31-Ka(b),zt=1<<gt;me[gt]=0,De[gt]=-1;var Ot=We[gt];if(Ot!==null)for(We[gt]=null,gt=0;gt<Ot.length;gt++){var Sn=Ot[gt];Sn!==null&&(Sn.lane&=-536870913)}b&=~zt}T!==0&&oe(h,T,0),P!==0&&D===0&&h.tag!==0&&(h.suspendedLanes|=P&~(ee&~p))}function oe(h,p,b){h.pendingLanes|=p,h.suspendedLanes&=~p;var T=31-Ka(p);h.entangledLanes|=p,h.entanglements[T]=h.entanglements[T]|1073741824|b&4194218}function le(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var T=31-Ka(b),D=1<<T;D&p|h[T]&p&&(h[T]|=p),b&=~D}}function ae(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function W(h){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(ph,h,void 0,(h.current.flags&128)===128)}catch{}}function te(h){if(typeof a3=="function"&&Sy(h),Qa&&typeof Qa.setStrictMode=="function")try{Qa.setStrictMode(ph,h)}catch{}}function re(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}function ve(h,p){if(typeof h=="object"&&h!==null){var b=fm.get(h);return b!==void 0?b:(p={value:h,source:p,stack:d(p)},fm.set(h,p),p)}return{value:h,source:p,stack:d(p)}}function F(h,p){ji[rr++]=rd,ji[rr++]=id,id=h,rd=p}function J(h,p,b){Ts[Es++]=bl,Ts[Es++]=no,Ts[Es++]=Oo,Oo=h;var T=bl;h=no;var D=32-Ka(T)-1;T&=~(1<<D),b+=1;var P=32-Ka(p)+D;if(30<P){var ee=D-D%5;P=(T&(1<<ee)-1).toString(32),T>>=ee,D-=ee,bl=1<<32-Ka(p)+D|b<<D|T,no=P+h}else bl=1<<P|b<<D|T,no=h}function ye(h){h.return!==null&&(F(h,1),J(h,1,0))}function K(h){for(;h===id;)id=ji[--rr],ji[rr]=null,rd=ji[--rr],ji[rr]=null;for(;h===Oo;)Oo=Ts[--Es],Ts[Es]=null,no=Ts[--Es],Ts[Es]=null,bl=Ts[--Es],Ts[Es]=null}function Le(h,p){E(Uo,p),E(ad,h),E(Zr,null),h=Zc(p),S(Zr),E(Zr,h)}function Ye(){S(Zr),S(ad),S(Uo)}function _e(h){h.memoizedState!==null&&E(mh,h);var p=Zr.current,b=k2(p,h.type);p!==b&&(E(ad,h),E(Zr,b))}function Ne(h){ad.current===h&&(S(Zr),S(ad)),mh.current===h&&(S(mh),yl?dn._currentValue=Za:dn._currentValue2=Za)}function Xe(h){var p=Error(r(418,""));throw dt(ve(p,h)),sd}function at(h,p){if(!Ua)throw Error(r(175));ZS(h.stateNode,h.type,h.memoizedProps,p,h)||Xe(h)}function _t(h){for(wa=h.return;wa;)switch(wa.tag){case 3:case 27:io=!0;return;case 5:case 13:io=!1;return;default:wa=wa.return}}function Pt(h){if(!Ua||h!==wa)return!1;if(!ai)return _t(h),ai=!0,!1;var p=!1;if(ua?h.tag!==3&&h.tag!==27&&(h.tag!==5||K2(h.type)&&!Qu(h.type,h.memoizedProps))&&(p=!0):h.tag!==3&&(h.tag!==5||K2(h.type)&&!Qu(h.type,h.memoizedProps))&&(p=!0),p&&fa&&Xe(h),_t(h),h.tag===13){if(!Ua)throw Error(r(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));fa=Y2(h)}else fa=wa?uy(h.stateNode):null;return!0}function rn(){Ua&&(fa=wa=null,ai=!1)}function dt(h){Cs===null?Cs=[h]:Cs.push(h)}function Fe(){for(var h=$u,p=gh=$u=0;p<h;){var b=Rs[p];Rs[p++]=null;var T=Rs[p];Rs[p++]=null;var D=Rs[p];Rs[p++]=null;var P=Rs[p];if(Rs[p++]=null,T!==null&&D!==null){var ee=T.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),T.pending=D}P!==0&&it(b,D,P)}}function ne(h,p,b,T){Rs[$u++]=h,Rs[$u++]=p,Rs[$u++]=b,Rs[$u++]=T,gh|=T,h.lanes|=T,h=h.alternate,h!==null&&(h.lanes|=T)}function Ge(h,p,b,T){return ne(h,p,b,T),Ze(h)}function de(h,p){return ne(h,null,null,p),Ze(h)}function it(h,p,b){h.lanes|=b;var T=h.alternate;T!==null&&(T.lanes|=b);for(var D=!1,P=h.return;P!==null;)P.childLanes|=b,T=P.alternate,T!==null&&(T.childLanes|=b),P.tag===22&&(h=P.stateNode,h===null||h._visibility&1||(D=!0)),h=P,P=P.return;D&&p!==null&&h.tag===3&&(P=h.stateNode,D=31-Ka(b),P=P.hiddenUpdates,h=P[D],h===null?P[D]=[p]:h.push(p),p.lane=b|536870912)}function Ze(h){if(50<of)throw of=0,Ia=null,Error(r(185));for(var p=h.return;p!==null;)h=p,p=h.return;return h.tag===3?h.stateNode:null}function xt(h){h!==$c&&h.next===null&&($c===null?yh=$c=h:$c=$c.next=h),ld=!0,od||(od=!0,ce(Mt))}function tt(h,p){if(!Po&&ld){Po=!0;do for(var b=!1,T=yh;T!==null;){if(h!==0){var D=T.pendingLanes;if(D===0)var P=0;else{var ee=T.suspendedLanes,me=T.pingedLanes;P=(1<<31-Ka(42|h)+1)-1,P&=D&~(ee&~me),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(b=!0,Ae(T,P))}else P=Ln,P=O(T,T===Fn?P:0),(P&3)===0||z(T,P)||(b=!0,Ae(T,P));T=T.next}while(b);Po=!1}}function Mt(){ld=od=!1;var h=0;ec!==0&&(Ju()&&(h=ec),ec=0);for(var p=ca(),b=null,T=yh;T!==null;){var D=T.next,P=ie(T,p);P===0?(T.next=null,b===null?yh=D:b.next=D,D===null&&($c=b)):(b=T,(h!==0||(P&3)!==0)&&(ld=!0)),T=D}tt(h)}function ie(h,p){for(var b=h.suspendedLanes,T=h.pingedLanes,D=h.expirationTimes,P=h.pendingLanes&-62914561;0<P;){var ee=31-Ka(P),me=1<<ee,De=D[ee];De===-1?((me&b)===0||(me&T)!==0)&&(D[ee]=B(me,p)):De<=p&&(h.expiredLanes|=me),P&=~me}if(p=Fn,b=Ln,b=O(h,h===p?b:0),T=h.callbackNode,b===0||h===p&&Ci===2||h.cancelPendingCommit!==null)return T!==null&&T!==null&&nd(T),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||z(h,b)){if(p=b&-b,p===h.callbackPriority)return p;switch(T!==null&&nd(T),ae(b)){case 2:case 8:b=r3;break;case 32:b=um;break;case 268435456:b=cm;break;default:b=um}return T=X.bind(null,h),b=dh(b,T),h.callbackPriority=p,h.callbackNode=b,p}return T!==null&&T!==null&&nd(T),h.callbackPriority=2,h.callbackNode=null,2}function X(h,p){var b=h.callbackNode;if(Wr()&&h.callbackNode!==b)return null;var T=Ln;return T=O(h,h===Fn?T:0),T===0?null:(I0(h,T,p),ie(h,ca()),h.callbackNode!=null&&h.callbackNode===b?X.bind(null,h):null)}function Ae(h,p){if(Wr())return null;I0(h,p,!0)}function ce(h){Ar?Jp(function(){(nn&6)!==0?dh(_y,h):h()}):dh(_y,h)}function xe(){return ec===0&&(ec=G()),ec}function Me(h,p){if(ud===null){var b=ud=[];hm=0,Ja=xe(),tc={status:"pending",value:void 0,then:function(T){b.push(T)}}}return hm++,p.then(nt,nt),p}function nt(){if(--hm===0&&ud!==null){tc!==null&&(tc.status="fulfilled");var h=ud;ud=null,Ja=0,tc=null;for(var p=0;p<h.length;p++)(0,h[p])()}}function Qe(h,p){var b=[],T={status:"pending",value:null,reason:null,then:function(D){b.push(D)}};return h.then(function(){T.status="fulfilled",T.value=p;for(var D=0;D<b.length;D++)(0,b[D])(p)},function(D){for(T.status="rejected",T.reason=D,D=0;D<b.length;D++)(0,b[D])(void 0)}),T}function Rt(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ft(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function He(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function Ke(h,p,b){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(nn&2)!==0){var D=T.pending;return D===null?p.next=p:(p.next=D.next,D.next=p),T.pending=p,p=Ze(h),it(h,null,b),p}return ne(h,T,p,b),Ze(h)}function Nt(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194176)!==0)){var T=p.lanes;T&=h.pendingLanes,b|=T,p.lanes=b,le(h,b)}}function bt(h,p){var b=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,b===T)){var D=null,P=null;if(b=b.firstBaseUpdate,b!==null){do{var ee={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};P===null?D=P=ee:P=P.next=ee,b=b.next}while(b!==null);P===null?D=P=p:P=P.next=p}else D=P=p;b={baseState:T.baseState,firstBaseUpdate:D,lastBaseUpdate:P,shared:T.shared,callbacks:T.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function mt(){if(xh){var h=tc;if(h!==null)throw h}}function Bt(h,p,b,T){xh=!1;var D=h.updateQueue;su=!1;var P=D.firstBaseUpdate,ee=D.lastBaseUpdate,me=D.shared.pending;if(me!==null){D.shared.pending=null;var De=me,We=De.next;De.next=null,ee===null?P=We:ee.next=We,ee=De;var gt=h.alternate;gt!==null&&(gt=gt.updateQueue,me=gt.lastBaseUpdate,me!==ee&&(me===null?gt.firstBaseUpdate=We:me.next=We,gt.lastBaseUpdate=De))}if(P!==null){var zt=D.baseState;ee=0,gt=We=De=null,me=P;do{var Ot=me.lane&-536870913,Sn=Ot!==me.lane;if(Sn?(Ln&Ot)===Ot:(T&Ot)===Ot){Ot!==0&&Ot===Ja&&(xh=!0),gt!==null&&(gt=gt.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var ns=h,dd=me;Ot=p;var lf=b;switch(dd.tag){case 1:if(ns=dd.payload,typeof ns=="function"){zt=ns.call(lf,zt,Ot);break e}zt=ns;break e;case 3:ns.flags=ns.flags&-65537|128;case 0:if(ns=dd.payload,Ot=typeof ns=="function"?ns.call(lf,zt,Ot):ns,Ot==null)break e;zt=Wc({},zt,Ot);break e;case 2:su=!0}}Ot=me.callback,Ot!==null&&(h.flags|=64,Sn&&(h.flags|=8192),Sn=D.callbacks,Sn===null?D.callbacks=[Ot]:Sn.push(Ot))}else Sn={lane:Ot,tag:me.tag,payload:me.payload,callback:me.callback,next:null},gt===null?(We=gt=Sn,De=zt):gt=gt.next=Sn,ee|=Ot;if(me=me.next,me===null){if(me=D.shared.pending,me===null)break;Sn=me,me=Sn.next,Sn.next=null,D.lastBaseUpdate=Sn,D.shared.pending=null}}while(!0);gt===null&&(De=zt),D.baseState=De,D.firstBaseUpdate=We,D.lastBaseUpdate=gt,P===null&&(D.shared.lanes=0),Ls|=ee,h.lanes=ee,h.memoizedState=zt}}function fe(h,p){if(typeof h!="function")throw Error(r(191,h));h.call(p)}function vt(h,p){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)fe(b[h],p)}function ot(h,p){if(As(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),T=Object.keys(p);if(b.length!==T.length)return!1;for(T=0;T<b.length;T++){var D=b[T];if(!cd.call(p,D)||!As(h[D],p[D]))return!1}return!0}function lt(h){return h=h.status,h==="fulfilled"||h==="rejected"}function $e(){}function qe(h,p,b){switch(b=h[b],b===void 0?h.push(p):b!==p&&(p.then($e,$e),p=b),p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===wi?Error(r(483)):h;default:if(typeof p.status=="string")p.then($e,$e);else{if(h=Fn,h!==null&&100<h.shellSuspendCounter)throw Error(r(482));h=p,h.status="pending",h.then(function(T){if(p.status==="pending"){var D=p;D.status="fulfilled",D.value=T}},function(T){if(p.status==="pending"){var D=p;D.status="rejected",D.reason=T}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw h=p.reason,h===wi?Error(r(483)):h}throw ef=p,wi}}function Dt(){if(ef===null)throw Error(r(459));var h=ef;return ef=null,h}function Zt(h){var p=ro;return ro+=1,_l===null&&(_l=[]),qe(_l,h,p)}function Bn(h,p){p=p.props.ref,h.ref=p!==void 0?p:null}function Et(h,p){throw p.$$typeof===Vg?Error(r(525)):(h=Object.prototype.toString.call(p),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h)))}function Ft(h){var p=h._init;return p(h._payload)}function gn(h){function p(Pe,Ce){if(h){var Ie=Pe.deletions;Ie===null?(Pe.deletions=[Ce],Pe.flags|=16):Ie.push(Ce)}}function b(Pe,Ce){if(!h)return null;for(;Ce!==null;)p(Pe,Ce),Ce=Ce.sibling;return null}function T(Pe){for(var Ce=new Map;Pe!==null;)Pe.key!==null?Ce.set(Pe.key,Pe):Ce.set(Pe.index,Pe),Pe=Pe.sibling;return Ce}function D(Pe,Ce){return Pe=Sa(Pe,Ce),Pe.index=0,Pe.sibling=null,Pe}function P(Pe,Ce,Ie){return Pe.index=Ie,h?(Ie=Pe.alternate,Ie!==null?(Ie=Ie.index,Ie<Ce?(Pe.flags|=33554434,Ce):Ie):(Pe.flags|=33554434,Ce)):(Pe.flags|=1048576,Ce)}function ee(Pe){return h&&Pe.alternate===null&&(Pe.flags|=33554434),Pe}function me(Pe,Ce,Ie,ut){return Ce===null||Ce.tag!==6?(Ce=qu(Ie,Pe.mode,ut),Ce.return=Pe,Ce):(Ce=D(Ce,Ie),Ce.return=Pe,Ce)}function De(Pe,Ce,Ie,ut){var Jt=Ie.type;return Jt===oh?gt(Pe,Ce,Ie.props.children,ut,Ie.key):Ce!==null&&(Ce.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===ko&&Ft(Jt)===Ce.type)?(Ce=D(Ce,Ie.props),Bn(Ce,Ie),Ce.return=Pe,Ce):(Ce=eo(Ie.type,Ie.key,Ie.props,null,Pe.mode,ut),Bn(Ce,Ie),Ce.return=Pe,Ce)}function We(Pe,Ce,Ie,ut){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ie.containerInfo||Ce.stateNode.implementation!==Ie.implementation?(Ce=sh(Ie,Pe.mode,ut),Ce.return=Pe,Ce):(Ce=D(Ce,Ie.children||[]),Ce.return=Pe,Ce)}function gt(Pe,Ce,Ie,ut,Jt){return Ce===null||Ce.tag!==7?(Ce=eu(Ie,Pe.mode,ut,Jt),Ce.return=Pe,Ce):(Ce=D(Ce,Ie),Ce.return=Pe,Ce)}function zt(Pe,Ce,Ie){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=qu(""+Ce,Pe.mode,Ie),Ce.return=Pe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case tu:return Ie=eo(Ce.type,Ce.key,Ce.props,null,Pe.mode,Ie),Bn(Ie,Ce),Ie.return=Pe,Ie;case Lo:return Ce=sh(Ce,Pe.mode,Ie),Ce.return=Pe,Ce;case ko:var ut=Ce._init;return Ce=ut(Ce._payload),zt(Pe,Ce,Ie)}if(Zu(Ce)||a(Ce))return Ce=eu(Ce,Pe.mode,Ie,null),Ce.return=Pe,Ce;if(typeof Ce.then=="function")return zt(Pe,Zt(Ce),Ie);if(Ce.$$typeof===ml)return zt(Pe,k0(Pe,Ce),Ie);Et(Pe,Ce)}return null}function Ot(Pe,Ce,Ie,ut){var Jt=Ce!==null?Ce.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return Jt!==null?null:me(Pe,Ce,""+Ie,ut);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case tu:return Ie.key===Jt?De(Pe,Ce,Ie,ut):null;case Lo:return Ie.key===Jt?We(Pe,Ce,Ie,ut):null;case ko:return Jt=Ie._init,Ie=Jt(Ie._payload),Ot(Pe,Ce,Ie,ut)}if(Zu(Ie)||a(Ie))return Jt!==null?null:gt(Pe,Ce,Ie,ut,null);if(typeof Ie.then=="function")return Ot(Pe,Ce,Zt(Ie),ut);if(Ie.$$typeof===ml)return Ot(Pe,Ce,k0(Pe,Ie),ut);Et(Pe,Ie)}return null}function Sn(Pe,Ce,Ie,ut,Jt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Pe=Pe.get(Ie)||null,me(Ce,Pe,""+ut,Jt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case tu:return Pe=Pe.get(ut.key===null?Ie:ut.key)||null,De(Ce,Pe,ut,Jt);case Lo:return Pe=Pe.get(ut.key===null?Ie:ut.key)||null,We(Ce,Pe,ut,Jt);case ko:var Pi=ut._init;return ut=Pi(ut._payload),Sn(Pe,Ce,Ie,ut,Jt)}if(Zu(ut)||a(ut))return Pe=Pe.get(Ie)||null,gt(Ce,Pe,ut,Jt,null);if(typeof ut.then=="function")return Sn(Pe,Ce,Ie,Zt(ut),Jt);if(ut.$$typeof===ml)return Sn(Pe,Ce,Ie,k0(Ce,ut),Jt);Et(Ce,ut)}return null}function ns(Pe,Ce,Ie,ut){for(var Jt=null,Pi=null,pn=Ce,oi=Ce=0,Ir=null;pn!==null&&oi<Ie.length;oi++){pn.index>oi?(Ir=pn,pn=null):Ir=pn.sibling;var li=Ot(Pe,pn,Ie[oi],ut);if(li===null){pn===null&&(pn=Ir);break}h&&pn&&li.alternate===null&&p(Pe,pn),Ce=P(li,Ce,oi),Pi===null?Jt=li:Pi.sibling=li,Pi=li,pn=Ir}if(oi===Ie.length)return b(Pe,pn),ai&&F(Pe,oi),Jt;if(pn===null){for(;oi<Ie.length;oi++)pn=zt(Pe,Ie[oi],ut),pn!==null&&(Ce=P(pn,Ce,oi),Pi===null?Jt=pn:Pi.sibling=pn,Pi=pn);return ai&&F(Pe,oi),Jt}for(pn=T(pn);oi<Ie.length;oi++)Ir=Sn(pn,Pe,oi,Ie[oi],ut),Ir!==null&&(h&&Ir.alternate!==null&&pn.delete(Ir.key===null?oi:Ir.key),Ce=P(Ir,Ce,oi),Pi===null?Jt=Ir:Pi.sibling=Ir,Pi=Ir);return h&&pn.forEach(function(du){return p(Pe,du)}),ai&&F(Pe,oi),Jt}function dd(Pe,Ce,Ie,ut){if(Ie==null)throw Error(r(151));for(var Jt=null,Pi=null,pn=Ce,oi=Ce=0,Ir=null,li=Ie.next();pn!==null&&!li.done;oi++,li=Ie.next()){pn.index>oi?(Ir=pn,pn=null):Ir=pn.sibling;var du=Ot(Pe,pn,li.value,ut);if(du===null){pn===null&&(pn=Ir);break}h&&pn&&du.alternate===null&&p(Pe,pn),Ce=P(du,Ce,oi),Pi===null?Jt=du:Pi.sibling=du,Pi=du,pn=Ir}if(li.done)return b(Pe,pn),ai&&F(Pe,oi),Jt;if(pn===null){for(;!li.done;oi++,li=Ie.next())li=zt(Pe,li.value,ut),li!==null&&(Ce=P(li,Ce,oi),Pi===null?Jt=li:Pi.sibling=li,Pi=li);return ai&&F(Pe,oi),Jt}for(pn=T(pn);!li.done;oi++,li=Ie.next())li=Sn(pn,Pe,oi,li.value,ut),li!==null&&(h&&li.alternate!==null&&pn.delete(li.key===null?oi:li.key),Ce=P(li,Ce,oi),Pi===null?Jt=li:Pi.sibling=li,Pi=li);return h&&pn.forEach(function(_m){return p(Pe,_m)}),ai&&F(Pe,oi),Jt}function lf(Pe,Ce,Ie,ut){if(typeof Ie=="object"&&Ie!==null&&Ie.type===oh&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case tu:e:{for(var Jt=Ie.key;Ce!==null;){if(Ce.key===Jt){if(Jt=Ie.type,Jt===oh){if(Ce.tag===7){b(Pe,Ce.sibling),ut=D(Ce,Ie.props.children),ut.return=Pe,Pe=ut;break e}}else if(Ce.elementType===Jt||typeof Jt=="object"&&Jt!==null&&Jt.$$typeof===ko&&Ft(Jt)===Ce.type){b(Pe,Ce.sibling),ut=D(Ce,Ie.props),Bn(ut,Ie),ut.return=Pe,Pe=ut;break e}b(Pe,Ce);break}else p(Pe,Ce);Ce=Ce.sibling}Ie.type===oh?(ut=eu(Ie.props.children,Pe.mode,ut,Ie.key),ut.return=Pe,Pe=ut):(ut=eo(Ie.type,Ie.key,Ie.props,null,Pe.mode,ut),Bn(ut,Ie),ut.return=Pe,Pe=ut)}return ee(Pe);case Lo:e:{for(Jt=Ie.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ie.containerInfo&&Ce.stateNode.implementation===Ie.implementation){b(Pe,Ce.sibling),ut=D(Ce,Ie.children||[]),ut.return=Pe,Pe=ut;break e}else{b(Pe,Ce);break}else p(Pe,Ce);Ce=Ce.sibling}ut=sh(Ie,Pe.mode,ut),ut.return=Pe,Pe=ut}return ee(Pe);case ko:return Jt=Ie._init,Ie=Jt(Ie._payload),lf(Pe,Ce,Ie,ut)}if(Zu(Ie))return ns(Pe,Ce,Ie,ut);if(a(Ie)){if(Jt=a(Ie),typeof Jt!="function")throw Error(r(150));return Ie=Jt.call(Ie),dd(Pe,Ce,Ie,ut)}if(typeof Ie.then=="function")return lf(Pe,Ce,Zt(Ie),ut);if(Ie.$$typeof===ml)return lf(Pe,Ce,k0(Pe,Ie),ut);Et(Pe,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint"?(Ie=""+Ie,Ce!==null&&Ce.tag===6?(b(Pe,Ce.sibling),ut=D(Ce,Ie),ut.return=Pe,Pe=ut):(b(Pe,Ce),ut=qu(Ie,Pe.mode,ut),ut.return=Pe,Pe=ut),ee(Pe)):b(Pe,Ce)}return function(Pe,Ce,Ie,ut){try{ro=0;var Jt=lf(Pe,Ce,Ie,ut);return _l=null,Jt}catch(pn){if(pn===wi)throw pn;var Pi=t(29,pn,null,Pe.mode);return Pi.lanes=ut,Pi.return=Pe,Pi}finally{}}}function At(h,p){h=Bo,E(Ds,h),E(Sl,p),Bo=h|p.baseLanes}function on(){E(Ds,Bo),E(Sl,Sl.current)}function Yt(){Bo=Ds.current,S(Sl),S(Ds)}function Wt(h){var p=h.alternate;E(Tr,Tr.current&1),E(Ns,h),ao===null&&(p===null||Sl.current!==null||p.memoizedState!==null)&&(ao=h)}function Di(h){if(h.tag===22){if(E(Tr,Tr.current),E(Ns,h),ao===null){var p=h.alternate;p!==null&&p.memoizedState!==null&&(ao=h)}}else hn()}function hn(){E(Tr,Tr.current),E(Ns,Ns.current)}function Zn(h){S(Ns),ao===h&&(ao=null),S(Tr)}function ri(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||im(b)||J0(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}function jt(){throw Error(r(321))}function yn(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!As(h[b],p[b]))return!1;return!0}function zn(h,p,b,T,D,P){return Ml=P,Cn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,ln.H=h===null||h.memoizedState===null?Er:Aa,ou=!1,P=b(T,D),ou=!1,qi&&(P=Ai(p,b,T,D)),Lr(h),P}function Lr(h){ln.H=si;var p=fi!==null&&fi.next!==null;if(Ml=0,hr=fi=Cn=null,so=!1,ar=0,vh=null,p)throw Error(r(300));h===null||dr||(h=h.dependencies,h!==null&&ku(h)&&(dr=!0))}function Ai(h,p,b,T){Cn=h;var D=0;do{if(qi&&(vh=null),ar=0,qi=!1,25<=D)throw Error(r(301));if(D+=1,hr=fi=null,h.updateQueue!=null){var P=h.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}ln.H=ic,P=p(b,T)}while(qi);return P}function ia(){var h=ln.H,p=h.useState()[0];return p=typeof p.then=="function"?Te(p):p,h=h.useState()[0],(fi!==null?fi.memoizedState:null)!==h&&(Cn.flags|=1024),p}function ra(){var h=fd!==0;return fd=0,h}function Ni(h,p,b){p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~b}function Vi(h){if(so){for(h=h.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}so=!1}Ml=0,hr=fi=Cn=null,qi=!1,ar=fd=0,vh=null}function In(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Cn.memoizedState=hr=h:hr=hr.next=h,hr}function Y(){if(fi===null){var h=Cn.alternate;h=h!==null?h.memoizedState:null}else h=fi.next;var p=hr===null?Cn.memoizedState:hr.next;if(p!==null)hr=p,fi=h;else{if(h===null)throw Cn.alternate===null?Error(r(467)):Error(r(310));fi=h,h={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},hr===null?Cn.memoizedState=hr=h:hr=hr.next=h}return hr}function Te(h){var p=ar;return ar+=1,vh===null&&(vh=[]),h=qe(vh,h,p),p=Cn,(hr===null?p.memoizedState:hr.next)===null&&(p=p.alternate,ln.H=p===null||p.memoizedState===null?Er:Aa),h}function ze(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Te(h);if(h.$$typeof===ml)return sa(h)}throw Error(r(438,String(h)))}function Ee(h){var p=null,b=Cn.updateQueue;if(b!==null&&(p=b.memoCache),p==null){var T=Cn.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(p={data:T.data.map(function(D){return D.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),b===null&&(b=pm(),Cn.updateQueue=b),b.memoCache=p,b=p.data[p.index],b===void 0)for(b=p.data[p.index]=Array(h),T=0;T<h;T++)b[T]=L2;return p.index++,b}function we(h,p){return typeof p=="function"?p(h):p}function ht(h){var p=Y();return St(p,fi,h)}function St(h,p,b){var T=h.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=b;var D=h.baseQueue,P=T.pending;if(P!==null){if(D!==null){var ee=D.next;D.next=P.next,P.next=ee}p.baseQueue=D=P,T.pending=null}if(P=h.baseState,D===null)h.memoizedState=P;else{p=D.next;var me=ee=null,De=null,We=p,gt=!1;do{var zt=We.lane&-536870913;if(zt!==We.lane?(Ln&zt)===zt:(Ml&zt)===zt){var Ot=We.revertLane;if(Ot===0)De!==null&&(De=De.next={lane:0,revertLane:0,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null}),zt===Ja&&(gt=!0);else if((Ml&Ot)===Ot){We=We.next,Ot===Ja&&(gt=!0);continue}else zt={lane:0,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},De===null?(me=De=zt,ee=P):De=De.next=zt,Cn.lanes|=Ot,Ls|=Ot;zt=We.action,ou&&b(P,zt),P=We.hasEagerState?We.eagerState:b(P,zt)}else Ot={lane:zt,revertLane:We.revertLane,action:We.action,hasEagerState:We.hasEagerState,eagerState:We.eagerState,next:null},De===null?(me=De=Ot,ee=P):De=De.next=Ot,Cn.lanes|=zt,Ls|=zt;We=We.next}while(We!==null&&We!==p);if(De===null?ee=P:De.next=me,!As(P,h.memoizedState)&&(dr=!0,gt&&(b=tc,b!==null)))throw b;h.memoizedState=P,h.baseState=ee,h.baseQueue=De,T.lastRenderedState=P}return D===null&&(T.lanes=0),[h.memoizedState,T.dispatch]}function Ct(h){var p=Y(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=h;var T=b.dispatch,D=b.pending,P=p.memoizedState;if(D!==null){b.pending=null;var ee=D=D.next;do P=h(P,ee.action),ee=ee.next;while(ee!==D);As(P,p.memoizedState)||(dr=!0),p.memoizedState=P,p.baseQueue===null&&(p.baseState=P),b.lastRenderedState=P}return[P,T]}function Tt(h,p,b){var T=Cn,D=Y(),P=ai;if(P){if(b===void 0)throw Error(r(407));b=b()}else b=p();var ee=!As((fi||D).memoizedState,b);if(ee&&(D.memoizedState=b,dr=!0),D=D.queue,w0(Gt.bind(null,T,D,h),[h]),D.getSnapshot!==p||ee||hr!==null&&hr.memoizedState.tag&1){if(T.flags|=2048,tr(9,en.bind(null,T,D,b,p),{destroy:void 0},null),Fn===null)throw Error(r(349));P||(Ml&60)!==0||Kt(T,p,b)}return b}function Kt(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=Cn.updateQueue,p===null?(p=pm(),Cn.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function en(h,p,b,T){p.value=b,p.getSnapshot=T,Tn(p)&&$n(h)}function Gt(h,p,b){return b(function(){Tn(p)&&$n(h)})}function Tn(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!As(h,b)}catch{return!0}}function $n(h){var p=de(h,2);p!==null&&_a(p,h,2)}function ei(h){var p=In();if(typeof h=="function"){var b=h;if(h=b(),ou){te(!0);try{b()}finally{te(!1)}}}return p.memoizedState=p.baseState=h,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:h},p}function Hn(h,p,b,T){return h.baseState=b,St(h,fi,typeof T=="function"?T:we)}function yi(h,p,b,T,D){if(Pc(h))throw Error(r(485));if(h=p.action,h!==null){var P={payload:D,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){P.listeners.push(ee)}};ln.T!==null?b(!0):P.isTransition=!1,T(P),b=p.pending,b===null?(P.next=p.pending=P,an(p,P)):(P.next=b.next,p.pending=b.next=P)}}function an(h,p){var b=p.action,T=p.payload,D=h.state;if(p.isTransition){var P=ln.T,ee={};ln.T=ee;try{var me=b(D,T),De=ln.S;De!==null&&De(ee,me),Ti(h,p,me)}catch(We){wr(h,p,We)}finally{ln.T=P}}else try{P=b(D,T),Ti(h,p,P)}catch(We){wr(h,p,We)}}function Ti(h,p,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(T){Gn(h,p,T)},function(T){return wr(h,p,T)}):Gn(h,p,b)}function Gn(h,p,b){p.status="fulfilled",p.value=b,ql(p),h.state=b,p=h.pending,p!==null&&(b=p.next,b===p?h.pending=null:(b=b.next,p.next=b,an(h,b)))}function wr(h,p,b){var T=h.pending;if(h.pending=null,T!==null){T=T.next;do p.status="rejected",p.reason=b,ql(p),p=p.next;while(p!==T)}h.action=null}function ql(h){h=h.listeners;for(var p=0;p<h.length;p++)(0,h[p])()}function zi(h,p){return p}function ol(h,p){if(ai){var b=Fn.formState;if(b!==null){e:{var T=Cn;if(ai){if(fa){var D=F2(fa,io);if(D){fa=uy(D),T=V2(D);break e}}Xe(T)}T=!1}T&&(p=b[0])}}b=In(),b.memoizedState=b.baseState=p,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:p},b.queue=T,b=Ap.bind(null,Cn,T),T.dispatch=b,T=ei(!1);var P=Tp.bind(null,Cn,!1,T.queue);return T=In(),D={state:p,dispatch:null,action:h,pending:null},T.queue=D,b=yi.bind(null,Cn,D,P,b),D.dispatch=b,T.memoizedState=h,[p,b,!1]}function Li(h){var p=Y();return kr(p,fi,h)}function kr(h,p,b){p=St(h,p,zi)[0],h=ht(we)[0],p=typeof p=="object"&&p!==null&&typeof p.then=="function"?Te(p):p;var T=Y(),D=T.queue,P=D.dispatch;return b!==T.memoizedState&&(Cn.flags|=2048,tr(9,Or.bind(null,D,b),{destroy:void 0},null)),[p,P,h]}function Or(h,p){h.action=p}function Ur(h){var p=Y(),b=fi;if(b!==null)return kr(p,b,h);Y(),p=p.memoizedState,b=Y();var T=b.queue.dispatch;return b.memoizedState=h,[p,T,!1]}function tr(h,p,b,T){return h={tag:h,create:p,inst:b,deps:T,next:null},p=Cn.updateQueue,p===null&&(p=pm(),Cn.updateQueue=p),b=p.lastEffect,b===null?p.lastEffect=h.next=h:(T=b.next,b.next=h,h.next=T,p.lastEffect=h),h}function Ro(){return Y().memoizedState}function $s(h,p,b,T){var D=In();Cn.flags|=h,D.memoizedState=tr(1|p,b,{destroy:void 0},T===void 0?null:T)}function M0(h,p,b,T){var D=Y();T=T===void 0?null:T;var P=D.memoizedState.inst;fi!==null&&T!==null&&yn(T,fi.memoizedState.deps)?D.memoizedState=tr(p,b,P,T):(Cn.flags|=h,D.memoizedState=tr(1|p,b,P,T))}function hg(h,p){$s(8390656,8,h,p)}function w0(h,p){M0(2048,8,h,p)}function l2(h,p){return M0(4,2,h,p)}function u2(h,p){return M0(4,4,h,p)}function A0(h,p){if(typeof p=="function"){h=h();var b=p(h);return function(){typeof b=="function"?b():p(null)}}if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function ll(h,p,b){b=b!=null?b.concat([h]):null,M0(4,4,A0.bind(null,p,h),b)}function T0(){}function Sp(h,p){var b=Y();p=p===void 0?null:p;var T=b.memoizedState;return p!==null&&yn(p,T[1])?T[0]:(b.memoizedState=[h,p],h)}function Oc(h,p){var b=Y();p=p===void 0?null:p;var T=b.memoizedState;if(p!==null&&yn(p,T[1]))return T[0];if(T=h(),ou){te(!0);try{h()}finally{te(!1)}}return b.memoizedState=[T,p],T}function Ru(h,p,b){return b===void 0||(Ml&1073741824)!==0?h.memoizedState=p:(h.memoizedState=b,h=fl(),Cn.lanes|=h,Ls|=h,b)}function dg(h,p,b,T){return As(b,p)?b:Sl.current!==null?(h=Ru(h,b,T),As(h,p)||(dr=!0),h):(Ml&42)===0?(dr=!0,h.memoizedState=b):(h=fl(),Cn.lanes|=h,Ls|=h,p)}function Mp(h,p,b,T,D){var P=Pr();Ma(P!==0&&8>P?P:8);var ee=ln.T,me={};ln.T=me,Tp(h,!1,p,b);try{var De=D(),We=ln.S;if(We!==null&&We(me,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var gt=Qe(De,T);Nu(h,p,gt,Oa(h))}else Nu(h,p,T,Oa(h))}catch(zt){Nu(h,p,{then:function(){},status:"rejected",reason:zt},Oa())}finally{Ma(P),ln.T=ee}}function pg(h){var p=h.memoizedState;if(p!==null)return p;p={memoizedState:Za,baseState:Za,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:Za},next:null};var b={};return p.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:we,lastRenderedState:b},next:null},h.memoizedState=p,h=h.alternate,h!==null&&(h.memoizedState=p),p}function Uc(){return sa(dn)}function ul(){return Y().memoizedState}function wp(){return Y().memoizedState}function E0(h){for(var p=h.return;p!==null;){switch(p.tag){case 24:case 3:var b=Oa();h=He(b);var T=Ke(p,h,b);T!==null&&(_a(T,p,b),Nt(T,p,b)),p={cache:Np()},h.payload=p;return}p=p.return}}function Du(h,p,b){var T=Oa();b={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null},Pc(h)?C0(p,b):(b=Ge(h,p,b,T),b!==null&&(_a(b,h,T),mg(b,p,T)))}function Ap(h,p,b){var T=Oa();Nu(h,p,b,T)}function Nu(h,p,b,T){var D={lane:T,revertLane:0,action:b,hasEagerState:!1,eagerState:null,next:null};if(Pc(h))C0(p,D);else{var P=h.alternate;if(h.lanes===0&&(P===null||P.lanes===0)&&(P=p.lastRenderedReducer,P!==null))try{var ee=p.lastRenderedState,me=P(ee,b);if(D.hasEagerState=!0,D.eagerState=me,As(me,ee))return ne(h,p,D,0),Fn===null&&Fe(),!1}catch{}finally{}if(b=Ge(h,p,D,T),b!==null)return _a(b,h,T),mg(b,p,T),!0}return!1}function Tp(h,p,b,T){if(T={lane:2,revertLane:xe(),action:T,hasEagerState:!1,eagerState:null,next:null},Pc(h)){if(p)throw Error(r(479))}else p=Ge(h,b,T,2),p!==null&&_a(p,h,2)}function Pc(h){var p=h.alternate;return h===Cn||p!==null&&p===Cn}function C0(h,p){qi=so=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function mg(h,p,b){if((b&4194176)!==0){var T=p.lanes;T&=h.pendingLanes,b|=T,p.lanes=b,le(h,b)}}function va(h,p,b,T){p=h.memoizedState,b=b(T,p),b=b==null?p:Wc({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}function zu(h,p,b,T,D,P,ee){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,P,ee):p.prototype&&p.prototype.isPureReactComponent?!ot(b,T)||!ot(D,P):!0}function R0(h,p,b,T){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,T),p.state!==h&&mm.enqueueReplaceState(p,p.state,null)}function Do(h,p){var b=p;if("ref"in p){b={};for(var T in p)T!=="ref"&&(b[T]=p[T])}if(h=h.defaultProps){b===p&&(b=Wc({},b));for(var D in h)b[D]===void 0&&(b[D]=h[D])}return b}function Ep(h,p){try{var b=h.onUncaughtError;b(p.value,{componentStack:p.stack})}catch(T){setTimeout(function(){throw T})}}function Cp(h,p,b){try{var T=h.onCaughtError;T(b.value,{componentStack:b.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function D0(h,p,b){return b=He(b),b.tag=3,b.payload={element:null},b.callback=function(){Ep(h,p)},b}function Xf(h){return h=He(h),h.tag=3,h}function N0(h,p,b,T){var D=b.type.getDerivedStateFromError;if(typeof D=="function"){var P=T.value;h.payload=function(){return D(P)},h.callback=function(){Cp(p,b,T)}}var ee=b.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(h.callback=function(){Cp(p,b,T),typeof D!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var me=T.stack;this.componentDidCatch(T.value,{componentStack:me!==null?me:""})})}function c2(h,p,b,T,D){if(b.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(p=b.alternate,p!==null&&Bc(p,b,D,!0),b=Ns.current,b!==null){switch(b.tag){case 13:return ao===null?Ya():b.alternate===null&&ni===0&&(ni=3),b.flags&=-257,b.flags|=65536,b.lanes=D,T===dm?b.flags|=16384:(p=b.updateQueue,p===null?b.updateQueue=new Set([T]):p.add(T),qp(h,T,D)),!1;case 22:return b.flags|=65536,T===dm?b.flags|=16384:(p=b.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([T])},b.updateQueue=p):(b=p.retryQueue,b===null?p.retryQueue=new Set([T]):b.add(T)),qp(h,T,D)),!1}throw Error(r(435,b.tag))}return qp(h,T,D),Ya(),!1}if(ai)return p=Ns.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=D,T!==sd&&(h=Error(r(422),{cause:T}),dt(ve(h,b)))):(T!==sd&&(p=Error(r(423),{cause:T}),dt(ve(p,b))),h=h.current.alternate,h.flags|=65536,D&=-D,h.lanes|=D,T=ve(T,b),D=D0(h.stateNode,T,D),bt(h,D),ni!==4&&(ni=2)),!1;var P=Error(r(520),{cause:T});if(P=ve(P,b),_h===null?_h=[P]:_h.push(P),ni!==4&&(ni=2),p===null)return!0;T=ve(T,b),b=p;do{switch(b.tag){case 3:return b.flags|=65536,h=D&-D,b.lanes|=h,h=D0(b.stateNode,T,h),bt(b,h),!1;case 1:if(p=b.type,P=b.stateNode,(b.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Os===null||!Os.has(P))))return b.flags|=65536,D&=-D,b.lanes|=D,D=Xf(D),N0(D,h,b,T),bt(b,D),!1}b=b.return}while(b!==null);return!1}function aa(h,p,b,T){p.child=h===null?wy(p,null,b,T):nc(p,h.child,b,T)}function f2(h,p,b,T,D){b=b.render;var P=p.ref;if("ref"in T){var ee={};for(var me in T)me!=="ref"&&(ee[me]=T[me])}else ee=T;return Ic(p),T=zn(h,p,b,ee,P,D),me=ra(),h!==null&&!dr?(Ni(h,p,D),Xl(h,p,D)):(ai&&me&&ye(p),p.flags|=1,aa(h,p,T,D),p.child)}function h2(h,p,b,T,D){if(h===null){var P=b.type;return typeof P=="function"&&!Jl(P)&&P.defaultProps===void 0&&b.compare===null?(p.tag=15,p.type=P,Rp(h,p,P,T,D)):(h=eo(b.type,null,T,p,p.mode,D),h.ref=p.ref,h.return=p,p.child=h)}if(P=h.child,!Sg(h,D)){var ee=P.memoizedProps;if(b=b.compare,b=b!==null?b:ot,b(ee,T)&&h.ref===p.ref)return Xl(h,p,D)}return p.flags|=1,h=Sa(P,T),h.ref=p.ref,h.return=p,p.child=h}function Rp(h,p,b,T,D){if(h!==null){var P=h.memoizedProps;if(ot(P,T)&&h.ref===p.ref)if(dr=!1,p.pendingProps=T=P,Sg(h,D))(h.flags&131072)!==0&&(dr=!0);else return p.lanes=h.lanes,Xl(h,p,D)}return gg(h,p,b,T,D)}function d2(h,p,b){var T=p.pendingProps,D=T.children,P=(p.stateNode._pendingVisibility&2)!==0,ee=h!==null?h.memoizedState:null;if(z0(h,p),T.mode==="hidden"||P){if((p.flags&128)!==0){if(T=ee!==null?ee.baseLanes|b:b,h!==null){for(D=p.child=h.child,P=0;D!==null;)P=P|D.lanes|D.childLanes,D=D.sibling;p.childLanes=P&~T}else p.childLanes=0,p.child=null;return p2(h,p,T,b)}if((b&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},h!==null&&zp(p,ee!==null?ee.cachePool:null),ee!==null?At(p,ee):on(),Di(p);else return p.lanes=p.childLanes=536870912,p2(h,p,ee!==null?ee.baseLanes|b:b,b)}else ee!==null?(zp(p,ee.cachePool),At(p,ee),hn(),p.memoizedState=null):(h!==null&&zp(p,null),on(),hn());return aa(h,p,D,b),p.child}function p2(h,p,b,T){var D=Ou();return D=D===null?null:{parent:yl?xi._currentValue:xi._currentValue2,pool:D},p.memoizedState={baseLanes:b,cachePool:D},h!==null&&zp(p,null),on(),Di(p),h!==null&&Bc(h,p,T,!0),null}function z0(h,p){var b=p.ref;if(b===null)h!==null&&h.ref!==null&&(p.flags|=2097664);else{if(typeof b!="function"&&typeof b!="object")throw Error(r(284));(h===null||h.ref!==b)&&(p.flags|=2097664)}}function gg(h,p,b,T,D){return Ic(p),b=zn(h,p,b,T,void 0,D),T=ra(),h!==null&&!dr?(Ni(h,p,D),Xl(h,p,D)):(ai&&T&&ye(p),p.flags|=1,aa(h,p,b,D),p.child)}function m2(h,p,b,T,D,P){return Ic(p),p.updateQueue=null,b=Ai(p,T,b,D),Lr(h),T=ra(),h!==null&&!dr?(Ni(h,p,P),Xl(h,p,P)):(ai&&T&&ye(p),p.flags|=1,aa(h,p,b,P),p.child)}function yg(h,p,b,T,D){if(Ic(p),p.stateNode===null){var P=Jc,ee=b.contextType;typeof ee=="object"&&ee!==null&&(P=sa(ee)),P=new b(T,P),p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=mm,p.stateNode=P,P._reactInternals=p,P=p.stateNode,P.props=T,P.state=p.memoizedState,P.refs={},Rt(p),ee=b.contextType,P.context=typeof ee=="object"&&ee!==null?sa(ee):Jc,P.state=p.memoizedState,ee=b.getDerivedStateFromProps,typeof ee=="function"&&(va(p,b,ee,T),P.state=p.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(ee=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),ee!==P.state&&mm.enqueueReplaceState(P,P.state,null),Bt(p,T,P,D),mt(),P.state=p.memoizedState),typeof P.componentDidMount=="function"&&(p.flags|=4194308),T=!0}else if(h===null){P=p.stateNode;var me=p.memoizedProps,De=Do(b,me);P.props=De;var We=P.context,gt=b.contextType;ee=Jc,typeof gt=="object"&&gt!==null&&(ee=sa(gt));var zt=b.getDerivedStateFromProps;gt=typeof zt=="function"||typeof P.getSnapshotBeforeUpdate=="function",me=p.pendingProps!==me,gt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(me||We!==ee)&&R0(p,P,T,ee),su=!1;var Ot=p.memoizedState;P.state=Ot,Bt(p,T,P,D),mt(),We=p.memoizedState,me||Ot!==We||su?(typeof zt=="function"&&(va(p,b,zt,T),We=p.memoizedState),(De=su||zu(p,b,De,T,Ot,We,ee))?(gt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(p.flags|=4194308)):(typeof P.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=We),P.props=T,P.state=We,P.context=ee,T=De):(typeof P.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{P=p.stateNode,ft(h,p),ee=p.memoizedProps,gt=Do(b,ee),P.props=gt,zt=p.pendingProps,Ot=P.context,We=b.contextType,De=Jc,typeof We=="object"&&We!==null&&(De=sa(We)),me=b.getDerivedStateFromProps,(We=typeof me=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ee!==zt||Ot!==De)&&R0(p,P,T,De),su=!1,Ot=p.memoizedState,P.state=Ot,Bt(p,T,P,D),mt();var Sn=p.memoizedState;ee!==zt||Ot!==Sn||su||h!==null&&h.dependencies!==null&&ku(h.dependencies)?(typeof me=="function"&&(va(p,b,me,T),Sn=p.memoizedState),(gt=su||zu(p,b,gt,T,Ot,Sn,De)||h!==null&&h.dependencies!==null&&ku(h.dependencies))?(We||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(T,Sn,De),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(T,Sn,De)),typeof P.componentDidUpdate=="function"&&(p.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof P.componentDidUpdate!="function"||ee===h.memoizedProps&&Ot===h.memoizedState||(p.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ee===h.memoizedProps&&Ot===h.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=Sn),P.props=T,P.state=Sn,P.context=De,T=gt):(typeof P.componentDidUpdate!="function"||ee===h.memoizedProps&&Ot===h.memoizedState||(p.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ee===h.memoizedProps&&Ot===h.memoizedState||(p.flags|=1024),T=!1)}return P=T,z0(h,p),T=(p.flags&128)!==0,P||T?(P=p.stateNode,b=T&&typeof b.getDerivedStateFromError!="function"?null:P.render(),p.flags|=1,h!==null&&T?(p.child=nc(p,h.child,null,D),p.child=nc(p,null,b,D)):aa(h,p,b,D),p.memoizedState=P.state,h=p.child):h=Xl(h,p,D),h}function g2(h,p,b,T){return rn(),p.flags|=256,aa(h,p,b,T),p.child}function xg(h){return{baseLanes:h,cachePool:_2()}}function vg(h,p,b){return h=h!==null?h.childLanes&~b:0,p&&(h|=ts),h}function y2(h,p,b){var T=p.pendingProps,D=!1,P=(p.flags&128)!==0,ee;if((ee=P)||(ee=h!==null&&h.memoizedState===null?!1:(Tr.current&2)!==0),ee&&(D=!0,p.flags&=-129),ee=(p.flags&32)!==0,p.flags&=-33,h===null){if(ai){if(D?Wt(p):hn(),ai){var me=fa,De;(De=me)&&(me=X2(me,io),me!==null?(p.memoizedState={dehydrated:me,treeContext:Oo!==null?{id:bl,overflow:no}:null,retryLane:536870912},De=t(18,null,null,0),De.stateNode=me,De.return=p,p.child=De,wa=p,fa=null,De=!0):De=!1),De||Xe(p)}if(me=p.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return J0(me)?p.lanes=16:p.lanes=536870912,null;Zn(p)}return me=T.children,T=T.fallback,D?(hn(),D=p.mode,me=bg({mode:"hidden",children:me},D),T=eu(T,D,b,null),me.return=p,T.return=p,me.sibling=T,p.child=me,D=p.child,D.memoizedState=xg(b),D.childLanes=vg(h,ee,b),p.memoizedState=Ta,T):(Wt(p),L0(p,me))}if(De=h.memoizedState,De!==null&&(me=De.dehydrated,me!==null)){if(P)p.flags&256?(Wt(p),p.flags&=-257,p=_g(h,p,b)):p.memoizedState!==null?(hn(),p.child=h.child,p.flags|=128,p=null):(hn(),D=T.fallback,me=p.mode,T=bg({mode:"visible",children:T.children},me),D=eu(D,me,b,null),D.flags|=2,T.return=p,D.return=p,T.sibling=D,p.child=T,nc(p,h.child,null,b),T=p.child,T.memoizedState=xg(b),T.childLanes=vg(h,ee,b),p.memoizedState=Ta,p=D);else if(Wt(p),J0(me))ee=I2(me).digest,T=Error(r(419)),T.stack="",T.digest=ee,dt({value:T,source:null,stack:null}),p=_g(h,p,b);else if(dr||Bc(h,p,b,!1),ee=(b&h.childLanes)!==0,dr||ee){if(ee=Fn,ee!==null){if(T=b&-b,(T&42)!==0)T=1;else switch(T){case 2:T=1;break;case 8:T=4;break;case 32:T=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:T=64;break;case 268435456:T=134217728;break;default:T=0}if(T=(T&(ee.suspendedLanes|b))!==0?0:T,T!==0&&T!==De.retryLane)throw De.retryLane=T,de(h,T),_a(ee,h,T),o3}im(me)||Ya(),p=_g(h,p,b)}else im(me)?(p.flags|=128,p.child=h.child,p=qc.bind(null,h),YS(me,p),p=null):(h=De.treeContext,Ua&&(fa=G2(me),wa=p,ai=!0,Cs=null,io=!1,h!==null&&(Ts[Es++]=bl,Ts[Es++]=no,Ts[Es++]=Oo,bl=h.id,no=h.overflow,Oo=p)),p=L0(p,T.children),p.flags|=4096);return p}return D?(hn(),D=T.fallback,me=p.mode,De=h.child,P=De.sibling,T=Sa(De,{mode:"hidden",children:T.children}),T.subtreeFlags=De.subtreeFlags&31457280,P!==null?D=Sa(P,D):(D=eu(D,me,b,null),D.flags|=2),D.return=p,T.return=p,T.sibling=D,p.child=T,T=D,D=p.child,me=h.child.memoizedState,me===null?me=xg(b):(De=me.cachePool,De!==null?(P=yl?xi._currentValue:xi._currentValue2,De=De.parent!==P?{parent:P,pool:P}:De):De=_2(),me={baseLanes:me.baseLanes|b,cachePool:De}),D.memoizedState=me,D.childLanes=vg(h,ee,b),p.memoizedState=Ta,T):(Wt(p),b=h.child,h=b.sibling,b=Sa(b,{mode:"visible",children:T.children}),b.return=p,b.sibling=null,h!==null&&(ee=p.deletions,ee===null?(p.deletions=[h],p.flags|=16):ee.push(h)),p.child=b,p.memoizedState=null,b)}function L0(h,p){return p=bg({mode:"visible",children:p},h.mode),p.return=h,h.child=p}function bg(h,p){return Xp(h,p,0,null)}function _g(h,p,b){return nc(p,h.child,null,b),h=L0(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function x2(h,p,b){h.lanes|=p;var T=h.alternate;T!==null&&(T.lanes|=p),Mg(h.return,p,b)}function Dp(h,p,b,T,D){var P=h.memoizedState;P===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:b,tailMode:D}:(P.isBackwards=p,P.rendering=null,P.renderingStartTime=0,P.last=T,P.tail=b,P.tailMode=D)}function v2(h,p,b){var T=p.pendingProps,D=T.revealOrder,P=T.tail;if(aa(h,p,T.children,b),T=Tr.current,(T&2)!==0)T=T&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&x2(h,b,p);else if(h.tag===19)x2(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}switch(E(Tr,T),D){case"forwards":for(b=p.child,D=null;b!==null;)h=b.alternate,h!==null&&ri(h)===null&&(D=b),b=b.sibling;b=D,b===null?(D=p.child,p.child=null):(D=b.sibling,b.sibling=null),Dp(p,!1,D,b,P);break;case"backwards":for(b=null,D=p.child,p.child=null;D!==null;){if(h=D.alternate,h!==null&&ri(h)===null){p.child=D;break}h=D.sibling,D.sibling=b,b=D,D=h}Dp(p,!0,b,null,P);break;case"together":Dp(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Xl(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),Ls|=p.lanes,(b&p.childLanes)===0)if(h!==null){if(Bc(h,p,b,!1),(b&p.childLanes)===0)return null}else return null;if(h!==null&&p.child!==h.child)throw Error(r(153));if(p.child!==null){for(h=p.child,b=Sa(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=Sa(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Sg(h,p){return(h.lanes&p)!==0?!0:(h=h.dependencies,!!(h!==null&&ku(h)))}function qS(h,p,b){switch(p.tag){case 3:Le(p,p.stateNode.containerInfo),Lu(p,xi,h.memoizedState.cache),rn();break;case 27:case 5:_e(p);break;case 4:Le(p,p.stateNode.containerInfo);break;case 10:Lu(p,p.type,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(Wt(p),p.flags|=128,null):(b&p.child.childLanes)!==0?y2(h,p,b):(Wt(p),h=Xl(h,p,b),h!==null?h.sibling:null);Wt(p);break;case 19:var D=(h.flags&128)!==0;if(T=(b&p.childLanes)!==0,T||(Bc(h,p,b,!1),T=(b&p.childLanes)!==0),D){if(T)return v2(h,p,b);p.flags|=128}if(D=p.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),E(Tr,Tr.current),T)break;return null;case 22:case 23:return p.lanes=0,d2(h,p,b);case 24:Lu(p,xi,h.memoizedState.cache)}return Xl(h,p,b)}function b2(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps)dr=!0;else{if(!Sg(h,b)&&(p.flags&128)===0)return dr=!1,qS(h,p,b);dr=(h.flags&131072)!==0}else dr=!1,ai&&(p.flags&1048576)!==0&&J(p,rd,p.index);switch(p.lanes=0,p.tag){case 16:e:{h=p.pendingProps;var T=p.elementType,D=T._init;if(T=D(T._payload),p.type=T,typeof T=="function")Jl(T)?(h=Do(T,h),p.tag=1,p=yg(null,p,T,h,b)):(p.tag=0,p=gg(null,p,T,h,b));else{if(T!=null){if(D=T.$$typeof,D===lh){p.tag=11,p=f2(null,p,T,h,b);break e}else if(D===j0){p.tag=14,p=h2(null,p,T,h,b);break e}}throw p=s(T)||T,Error(r(306,p,""))}}return p;case 0:return gg(h,p,p.type,p.pendingProps,b);case 1:return T=p.type,D=Do(T,p.pendingProps),yg(h,p,T,D,b);case 3:e:{if(Le(p,p.stateNode.containerInfo),h===null)throw Error(r(387));var P=p.pendingProps;D=p.memoizedState,T=D.element,ft(h,p),Bt(p,P,null,b);var ee=p.memoizedState;if(P=ee.cache,Lu(p,xi,P),P!==D.cache&&wg(p,[xi],b,!0),mt(),P=ee.element,Ua&&D.isDehydrated)if(D={element:P,isDehydrated:!1,cache:ee.cache},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){p=g2(h,p,P,b);break e}else if(P!==T){T=ve(Error(r(424)),p),dt(T),p=g2(h,p,P,b);break e}else for(Ua&&(fa=H2(p.stateNode.containerInfo),wa=p,ai=!0,Cs=null,io=!0),b=wy(p,null,P,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(rn(),P===T){p=Xl(h,p,b);break e}aa(h,p,P,b)}p=p.child}return p;case 26:if(ws)return z0(h,p),h===null?(b=lm(p.type,null,p.pendingProps,null))?p.memoizedState=b:ai||(p.stateNode=KS(p.type,p.pendingProps,Uo.current,p)):p.memoizedState=lm(p.type,h.memoizedProps,p.pendingProps,h.memoizedState),null;case 27:if(ua)return _e(p),h===null&&ua&&ai&&(T=p.stateNode=by(p.type,p.pendingProps,Uo.current,Zr.current,!1),wa=p,io=!0,fa=rm(T)),T=p.pendingProps.children,h!==null||ai?aa(h,p,T,b):p.child=nc(p,null,T,b),z0(h,p),p.child;case 5:return h===null&&ai&&(Q2(p.type,p.pendingProps,Zr.current),(D=T=fa)&&(T=j2(T,p.type,p.pendingProps,io),T!==null?(p.stateNode=T,wa=p,fa=rm(T),io=!1,D=!0):D=!1),D||Xe(p)),_e(p),D=p.type,P=p.pendingProps,ee=h!==null?h.memoizedProps:null,T=P.children,Qu(D,P)?T=null:ee!==null&&Qu(D,ee)&&(p.flags|=32),p.memoizedState!==null&&(D=zn(h,p,ia,null,null,b),yl?dn._currentValue=D:dn._currentValue2=D),z0(h,p),aa(h,p,T,b),p.child;case 6:return h===null&&ai&&(J2(p.pendingProps,Zr.current),(h=b=fa)&&(b=q2(b,p.pendingProps,io),b!==null?(p.stateNode=b,wa=p,fa=null,h=!0):h=!1),h||Xe(p)),null;case 13:return y2(h,p,b);case 4:return Le(p,p.stateNode.containerInfo),T=p.pendingProps,h===null?p.child=nc(p,null,T,b):aa(h,p,T,b),p.child;case 11:return f2(h,p,p.type,p.pendingProps,b);case 7:return aa(h,p,p.pendingProps,b),p.child;case 8:return aa(h,p,p.pendingProps.children,b),p.child;case 12:return aa(h,p,p.pendingProps.children,b),p.child;case 10:return T=p.pendingProps,Lu(p,p.type,T.value),aa(h,p,T.children,b),p.child;case 9:return D=p.type._context,T=p.pendingProps.children,Ic(p),D=sa(D),T=T(D),p.flags|=1,aa(h,p,T,b),p.child;case 14:return h2(h,p,p.type,p.pendingProps,b);case 15:return Rp(h,p,p.type,p.pendingProps,b);case 19:return v2(h,p,b);case 22:return d2(h,p,b);case 24:return Ic(p),T=sa(xi),h===null?(D=Ou(),D===null&&(D=Fn,P=Np(),D.pooledCache=P,P.refCount++,P!==null&&(D.pooledCacheLanes|=b),D=P),p.memoizedState={parent:T,cache:D},Rt(p),Lu(p,xi,D)):((h.lanes&b)!==0&&(ft(h,p),Bt(p,null,null,b),mt()),D=h.memoizedState,P=p.memoizedState,D.parent!==T?(D={parent:T,cache:T},p.memoizedState=D,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=D),Lu(p,xi,T)):(T=P.cache,Lu(p,xi,T),T!==D.cache&&wg(p,[xi],b,!0))),aa(h,p,p.pendingProps.children,b),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function Lu(h,p,b){yl?(E($a,p._currentValue),p._currentValue=b):(E($a,p._currentValue2),p._currentValue2=b)}function Wl(h){var p=$a.current;yl?h._currentValue=p:h._currentValue2=p,S($a)}function Mg(h,p,b){for(;h!==null;){var T=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),h===b)break;h=h.return}}function wg(h,p,b,T){var D=h.child;for(D!==null&&(D.return=h);D!==null;){var P=D.dependencies;if(P!==null){var ee=D.child;P=P.firstContext;e:for(;P!==null;){var me=P;P=D;for(var De=0;De<p.length;De++)if(me.context===p[De]){P.lanes|=b,me=P.alternate,me!==null&&(me.lanes|=b),Mg(P.return,b,h),T||(ee=null);break e}P=me.next}}else if(D.tag===18){if(ee=D.return,ee===null)throw Error(r(341));ee.lanes|=b,P=ee.alternate,P!==null&&(P.lanes|=b),Mg(ee,b,h),ee=null}else ee=D.child;if(ee!==null)ee.return=D;else for(ee=D;ee!==null;){if(ee===h){ee=null;break}if(D=ee.sibling,D!==null){D.return=ee.return,ee=D;break}ee=ee.return}D=ee}}function Bc(h,p,b,T){h=null;for(var D=p,P=!1;D!==null;){if(!P){if((D.flags&524288)!==0)P=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ee=D.alternate;if(ee===null)throw Error(r(387));if(ee=ee.memoizedProps,ee!==null){var me=D.type;As(D.pendingProps.value,ee.value)||(h!==null?h.push(me):h=[me])}}else if(D===mh.current){if(ee=D.alternate,ee===null)throw Error(r(387));ee.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(h!==null?h.push(dn):h=[dn])}D=D.return}h!==null&&wg(p,h,b,T),p.flags|=262144}function ku(h){for(h=h.firstContext;h!==null;){var p=h.context;if(!As(yl?p._currentValue:p._currentValue2,h.memoizedValue))return!0;h=h.next}return!1}function Ic(h){rc=h,sr=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function sa(h){return Ag(rc,h)}function k0(h,p){return rc===null&&Ic(h),Ag(h,p)}function Ag(h,p){var b=yl?p._currentValue:p._currentValue2;if(p={context:p,memoizedValue:b,next:null},sr===null){if(h===null)throw Error(r(308));sr=p,h.dependencies={lanes:0,firstContext:p},h.flags|=524288}else sr=sr.next=p;return b}function Np(){return{controller:new l3,data:new Map,refCount:0}}function Wf(h){h.refCount--,h.refCount===0&&lu(tf,function(){h.controller.abort()})}function Ou(){var h=uu.current;return h!==null?h:Fn.pooledCache}function zp(h,p){p===null?E(uu,uu.current):E(uu,p.pool)}function _2(){var h=Ou();return h===null?null:{parent:yl?xi._currentValue:xi._currentValue2,pool:h}}function vs(h){h.flags|=4}function Tg(h,p){if(h!==null&&h.child===p.child)return!1;if((p.flags&16)!==0)return!0;for(h=p.child;h!==null;){if((h.flags&13878)!==0||(h.subtreeFlags&13878)!==0)return!0;h=h.sibling}return!1}function Lp(h,p,b,T){if(la)for(b=p.child;b!==null;){if(b.tag===5||b.tag===6)gl(h,b.stateNode);else if(!(b.tag===4||ua&&b.tag===27)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else if(Ss)for(var D=p.child;D!==null;){if(D.tag===5){var P=D.stateNode;b&&T&&(P=oy(P,D.type,D.memoizedProps)),gl(h,P)}else if(D.tag===6)P=D.stateNode,b&&T&&(P=ly(P,D.memoizedProps)),gl(h,P);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)P=D.child,P!==null&&(P.return=D),Lp(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Yf(h,p,b,T){if(Ss)for(var D=p.child;D!==null;){if(D.tag===5){var P=D.stateNode;b&&T&&(P=oy(P,D.type,D.memoizedProps)),ay(h,P)}else if(D.tag===6)P=D.stateNode,b&&T&&(P=ly(P,D.memoizedProps)),ay(h,P);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)P=D.child,P!==null&&(P.return=D),Yf(h,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===p)break;for(;D.sibling===null;){if(D.return===null||D.return===p)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Zf(h,p){if(Ss&&Tg(h,p)){h=p.stateNode;var b=h.containerInfo,T=nm();Yf(T,p,!1,!1),h.pendingChildren=T,vs(p),B2(b,T)}}function Eg(h,p,b,T){if(la)h.memoizedProps!==T&&vs(p);else if(Ss){var D=h.stateNode,P=h.memoizedProps;if((h=Tg(h,p))||P!==T){var ee=Zr.current;P=ry(D,b,P,T,!h,null),P===D?p.stateNode=D:(nu(P,b,T,ee)&&vs(p),p.stateNode=P,h?Lp(P,p,!1,!1):vs(p))}else p.stateNode=D}}function Kf(h,p,b){if(O2(p,b)){if(h.flags|=16777216,!iu(p,b))if(F0())h.flags|=8192;else throw ef=dm,My}else h.flags&=-16777217}function Cg(h,p){if($2(p)){if(h.flags|=16777216,!xy(p))if(F0())h.flags|=8192;else throw ef=dm,My}else h.flags&=-16777217}function O0(h,p){p!==null&&(h.flags|=4),h.flags&16384&&(p=h.tag!==22?U():536870912,h.lanes|=p,fu|=p)}function Fc(h,p){if(!ai)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var T=null;b!==null;)b.alternate!==null&&(T=b),b=b.sibling;T===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Hi(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,T=0;if(p)for(var D=h.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags&31457280,T|=D.flags&31457280,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)b|=D.lanes|D.childLanes,T|=D.subtreeFlags,T|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=T,h.childLanes=b,p}function S2(h,p,b){var T=p.pendingProps;switch(K(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(p),null;case 1:return Hi(p),null;case 3:return b=p.stateNode,T=null,h!==null&&(T=h.memoizedState.cache),p.memoizedState.cache!==T&&(p.flags|=2048),Wl(xi),Ye(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Pt(p)?vs(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Cs!==null&&(Zl(Cs),Cs=null))),Zf(h,p),Hi(p),null;case 26:if(ws){b=p.type;var D=p.memoizedState;return h===null?(vs(p),D!==null?(Hi(p),Cg(p,D)):(Hi(p),Kf(p,b,T))):D?D!==h.memoizedState?(vs(p),Hi(p),Cg(p,D)):(Hi(p),p.flags&=-16777217):(la?h.memoizedProps!==T&&vs(p):Eg(h,p,b,T),Hi(p),Kf(p,b,T)),null}case 27:if(ua){if(Ne(p),b=Uo.current,D=p.type,h!==null&&p.stateNode!=null)la?h.memoizedProps!==T&&vs(p):Eg(h,p,D,T);else{if(!T){if(p.stateNode===null)throw Error(r(166));return Hi(p),null}h=Zr.current,Pt(p)?at(p,h):(h=by(D,T,b,h,!0),p.stateNode=h,vs(p))}return Hi(p),null}case 5:if(Ne(p),b=p.type,h!==null&&p.stateNode!=null)Eg(h,p,b,T);else{if(!T){if(p.stateNode===null)throw Error(r(166));return Hi(p),null}h=Zr.current,Pt(p)?at(p,h):(D=Wg(b,T,Uo.current,h,p),Lp(D,p,!1,!1),p.stateNode=D,nu(D,b,T,h)&&vs(p))}return Hi(p),Kf(p,p.type,p.pendingProps),null;case 6:if(h&&p.stateNode!=null)b=h.memoizedProps,la?b!==T&&vs(p):Ss&&(b!==T?(p.stateNode=Kp(T,Uo.current,Zr.current,p),vs(p)):p.stateNode=h.stateNode);else{if(typeof T!="string"&&p.stateNode===null)throw Error(r(166));if(h=Uo.current,b=Zr.current,Pt(p)){if(!Ua)throw Error(r(176));if(h=p.stateNode,b=p.memoizedProps,T=null,D=wa,D!==null)switch(D.tag){case 27:case 5:T=D.memoizedProps}W2(h,b,p,T)||Xe(p)}else p.stateNode=Kp(T,h,b,p)}return Hi(p),null;case 13:if(T=p.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(D=Pt(p),T!==null&&T.dehydrated!==null){if(h===null){if(!D)throw Error(r(318));if(!Ua)throw Error(r(344));if(D=p.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));ch(D,p)}else rn(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Hi(p),D=!1}else Cs!==null&&(Zl(Cs),Cs=null),D=!0;if(!D)return p.flags&256?(Zn(p),p):(Zn(p),null)}if(Zn(p),(p.flags&128)!==0)return p.lanes=b,p;if(b=T!==null,h=h!==null&&h.memoizedState!==null,b){T=p.child,D=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(D=T.alternate.memoizedState.cachePool.pool);var P=null;T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(P=T.memoizedState.cachePool.pool),P!==D&&(T.flags|=2048)}return b!==h&&b&&(p.child.flags|=8192),O0(p,p.updateQueue),Hi(p),null;case 4:return Ye(),Zf(h,p),h===null&&Kg(p.stateNode.containerInfo),Hi(p),null;case 10:return Wl(p.type),Hi(p),null;case 19:if(S(Tr),D=p.memoizedState,D===null)return Hi(p),null;if(T=(p.flags&128)!==0,P=D.rendering,P===null)if(T)Fc(D,!1);else{if(ni!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(P=ri(h),P!==null){for(p.flags|=128,Fc(D,!1),h=P.updateQueue,p.updateQueue=h,O0(p,h),p.subtreeFlags=0,h=b,b=p.child;b!==null;)$l(b,h),b=b.sibling;return E(Tr,Tr.current&1|2),p.child}h=h.sibling}D.tail!==null&&ca()>er&&(p.flags|=128,T=!0,Fc(D,!1),p.lanes=4194304)}else{if(!T)if(h=ri(P),h!==null){if(p.flags|=128,T=!0,h=h.updateQueue,p.updateQueue=h,O0(p,h),Fc(D,!0),D.tail===null&&D.tailMode==="hidden"&&!P.alternate&&!ai)return Hi(p),null}else 2*ca()-D.renderingStartTime>er&&b!==536870912&&(p.flags|=128,T=!0,Fc(D,!1),p.lanes=4194304);D.isBackwards?(P.sibling=p.child,p.child=P):(h=D.last,h!==null?h.sibling=P:p.child=P,D.last=P)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=ca(),p.sibling=null,h=Tr.current,E(Tr,T?h&1|2:h&1),p):(Hi(p),null);case 22:case 23:return Zn(p),Yt(),T=p.memoizedState!==null,h!==null?h.memoizedState!==null!==T&&(p.flags|=8192):T&&(p.flags|=8192),T?(b&536870912)!==0&&(p.flags&128)===0&&(Hi(p),p.subtreeFlags&6&&(p.flags|=8192)):Hi(p),b=p.updateQueue,b!==null&&O0(p,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==b&&(p.flags|=2048),h!==null&&S(uu),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),p.memoizedState.cache!==b&&(p.flags|=2048),Wl(xi),Hi(p),null;case 25:return null}throw Error(r(156,p.tag))}function M2(h,p){switch(K(p),p.tag){case 1:return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Wl(xi),Ye(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 26:case 27:case 5:return Ne(p),null;case 13:if(Zn(p),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(r(340));rn()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return S(Tr),null;case 4:return Ye(),null;case 10:return Wl(p.type),null;case 22:case 23:return Zn(p),Yt(),h!==null&&S(uu),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 24:return Wl(xi),null;case 25:return null;default:return null}}function Rg(h,p){switch(K(p),p.tag){case 3:Wl(xi),Ye();break;case 26:case 27:case 5:Ne(p);break;case 4:Ye();break;case 13:Zn(p);break;case 19:S(Tr);break;case 10:Wl(p.type);break;case 22:case 23:Zn(p),Yt(),h!==null&&S(uu);break;case 24:Wl(xi)}}function U0(h,p){try{var b=p.updateQueue,T=b!==null?b.lastEffect:null;if(T!==null){var D=T.next;b=D;do{if((b.tag&h)===h){T=void 0;var P=b.create,ee=b.inst;T=P(),ee.destroy=T}b=b.next}while(b!==D)}}catch(me){jn(p,p.return,me)}}function Uu(h,p,b){try{var T=p.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var P=D.next;T=P;do{if((T.tag&h)===h){var ee=T.inst,me=ee.destroy;if(me!==void 0){ee.destroy=void 0,D=p;var De=b;try{me()}catch(We){jn(D,De,We)}}}T=T.next}while(T!==P)}}catch(We){jn(p,p.return,We)}}function w2(h){var p=h.updateQueue;if(p!==null){var b=h.stateNode;try{vt(p,b)}catch(T){jn(h,h.return,T)}}}function A2(h,p,b){b.props=Do(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(T){jn(h,p,T)}}function Vc(h,p){try{var b=h.ref;if(b!==null){var T=h.stateNode;switch(h.tag){case 26:case 27:case 5:var D=uh(T);break;default:D=T}typeof b=="function"?h.refCleanup=b(D):b.current=D}}catch(P){jn(h,p,P)}}function Gi(h,p){var b=h.ref,T=h.refCleanup;if(b!==null)if(typeof T=="function")try{T()}catch(D){jn(h,p,D)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(D){jn(h,p,D)}else b.current=null}function Qf(h){var p=h.type,b=h.memoizedProps,T=h.stateNode;try{WS(T,p,b,h)}catch(D){jn(h,h.return,D)}}function Dg(h,p,b){try{ey(h.stateNode,h.type,b,p,h)}catch(T){jn(h,h.return,T)}}function Ng(h){return h.tag===5||h.tag===3||(ws?h.tag===26:!1)||(ua?h.tag===27:!1)||h.tag===4}function kp(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Ng(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&(!ua||h.tag!==27)&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Op(h,p,b){var T=h.tag;if(T===5||T===6)h=h.stateNode,p?ny(b,h,p):U2(b,h);else if(!(T===4||ua&&T===27)&&(h=h.child,h!==null))for(Op(h,p,b),h=h.sibling;h!==null;)Op(h,p,b),h=h.sibling}function Jf(h,p,b){var T=h.tag;if(T===5||T===6)h=h.stateNode,p?ty(b,h,p):$g(b,h);else if(!(T===4||ua&&T===27)&&(h=h.child,h!==null))for(Jf(h,p,b),h=h.sibling;h!==null;)Jf(h,p,b),h=h.sibling}function T2(h,p,b){h=h.containerInfo;try{sy(h,b)}catch(T){jn(p,p.return,T)}}function $f(h,p){for(Ku(h.containerInfo),or=p;or!==null;)if(h=or,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,or=p;else for(;or!==null;){h=or;var b=h.alternate;switch(p=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((p&1024)!==0&&b!==null){p=void 0;var T=h,D=b.memoizedProps;b=b.memoizedState;var P=T.stateNode;try{var ee=Do(T.type,D,T.elementType===T.type);p=P.getSnapshotBeforeUpdate(ee,b),P.__reactInternalSnapshotBeforeUpdate=p}catch(me){jn(T,T.return,me)}}break;case 3:(p&1024)!==0&&la&&tm(h.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((p&1024)!==0)throw Error(r(163))}if(p=h.sibling,p!==null){p.return=h.return,or=p;break}or=h.return}return ee=nf,nf=!1,ee}function Up(h,p,b){var T=b.flags;switch(b.tag){case 0:case 11:case 15:cl(h,b),T&4&&U0(5,b);break;case 1:if(cl(h,b),T&4)if(h=b.stateNode,p===null)try{h.componentDidMount()}catch(me){jn(b,b.return,me)}else{var D=Do(b.type,p.memoizedProps);p=p.memoizedState;try{h.componentDidUpdate(D,p,h.__reactInternalSnapshotBeforeUpdate)}catch(me){jn(b,b.return,me)}}T&64&&w2(b),T&512&&Vc(b,b.return);break;case 3:if(cl(h,b),T&64&&(T=b.updateQueue,T!==null)){if(h=null,b.child!==null)switch(b.child.tag){case 27:case 5:h=uh(b.child.stateNode);break;case 1:h=b.child.stateNode}try{vt(T,h)}catch(me){jn(b,b.return,me)}}break;case 26:if(ws){cl(h,b),T&512&&Vc(b,b.return);break}case 27:case 5:cl(h,b),p===null&&T&4&&Qf(b),T&512&&Vc(b,b.return);break;case 12:cl(h,b);break;case 13:cl(h,b),T&4&&Pu(h,b);break;case 22:if(D=b.memoizedState!==null||Br,!D){p=p!==null&&p.memoizedState!==null||$i;var P=Br,ee=$i;Br=D,($i=p)&&!ee?Iu(h,b,(b.subtreeFlags&8772)!==0):cl(h,b),Br=P,$i=ee}T&512&&(b.memoizedProps.mode==="manual"?Vc(b,b.return):Gi(b,b.return));break;default:cl(h,b)}}function eh(h){var p=h.alternate;p!==null&&(h.alternate=null,eh(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&Qg(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function bs(h,p,b){for(b=b.child;b!==null;)Pp(h,p,b),b=b.sibling}function Pp(h,p,b){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(ph,b)}catch{}switch(b.tag){case 26:if(ws){$i||Gi(b,p),bs(h,p,b),b.memoizedState?dy(b.memoizedState):b.stateNode&&gy(b.stateNode);break}case 27:if(ua){$i||Gi(b,p);var T=pr,D=es;pr=b.stateNode,bs(h,p,b),e3(b.stateNode),pr=T,es=D;break}case 5:$i||Gi(b,p);case 6:if(la){if(T=pr,D=es,pr=null,bs(h,p,b),pr=T,es=D,pr!==null)if(es)try{fr(pr,b.stateNode)}catch(P){jn(b,p,P)}else try{Pa(pr,b.stateNode)}catch(P){jn(b,p,P)}}else bs(h,p,b);break;case 18:la&&pr!==null&&(es?cy(pr,b.stateNode):Z2(pr,b.stateNode));break;case 4:la?(T=pr,D=es,pr=b.stateNode.containerInfo,es=!0,bs(h,p,b),pr=T,es=D):(Ss&&T2(b.stateNode,b,nm()),bs(h,p,b));break;case 0:case 11:case 14:case 15:$i||Uu(2,b,p),$i||Uu(4,b,p),bs(h,p,b);break;case 1:$i||(Gi(b,p),T=b.stateNode,typeof T.componentWillUnmount=="function"&&A2(b,p,T)),bs(h,p,b);break;case 21:bs(h,p,b);break;case 22:$i||Gi(b,p),$i=(T=$i)||b.memoizedState!==null,bs(h,p,b),$i=T;break;default:bs(h,p,b)}}function Pu(h,p){if(Ua&&p.memoizedState===null&&(h=p.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{sm(h)}catch(b){jn(p,p.return,b)}}function th(h){switch(h.tag){case 13:case 19:var p=h.stateNode;return p===null&&(p=h.stateNode=new bh),p;case 22:return h=h.stateNode,p=h._retryCache,p===null&&(p=h._retryCache=new bh),p;default:throw Error(r(435,h.tag))}}function P0(h,p){var b=th(h);p.forEach(function(T){var D=Ug.bind(null,h,T);b.has(T)||(b.add(T),T.then(D,D))})}function La(h,p){var b=p.deletions;if(b!==null)for(var T=0;T<b.length;T++){var D=b[T],P=h,ee=p;if(la){var me=ee;e:for(;me!==null;){switch(me.tag){case 27:case 5:pr=me.stateNode,es=!1;break e;case 3:pr=me.stateNode.containerInfo,es=!0;break e;case 4:pr=me.stateNode.containerInfo,es=!0;break e}me=me.return}if(pr===null)throw Error(r(160));Pp(P,ee,D),pr=null,es=!1}else Pp(P,ee,D);P=D.alternate,P!==null&&(P.return=null),D.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)Bu(p,h),p=p.sibling}function Bu(h,p){var b=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:La(p,h),Xa(h),T&4&&(Uu(3,h,h.return),U0(3,h),Uu(5,h,h.return));break;case 1:La(p,h),Xa(h),T&512&&($i||b===null||Gi(b,b.return)),T&64&&Br&&(h=h.updateQueue,h!==null&&(T=h.callbacks,T!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?T:b.concat(T))));break;case 26:if(ws){var D=Ba;La(p,h),Xa(h),T&512&&($i||b===null||Gi(b,b.return)),T&4&&(T=b!==null?b.memoizedState:null,p=h.memoizedState,b===null?p===null?h.stateNode===null?h.stateNode=py(D,h.type,h.memoizedProps,h):my(D,h.type,h.stateNode):h.stateNode=hy(D,p,h.memoizedProps):T!==p?(T===null?b.stateNode!==null&&gy(b.stateNode):dy(T),p===null?my(D,h.type,h.stateNode):hy(D,p,h.memoizedProps)):p===null&&h.stateNode!==null&&Dg(h,h.memoizedProps,b.memoizedProps));break}case 27:if(ua&&T&4&&h.alternate===null){D=h.stateNode;var P=h.memoizedProps;try{QS(D),JS(h.type,P,D,h)}catch(gt){jn(h,h.return,gt)}}case 5:if(La(p,h),Xa(h),T&512&&($i||b===null||Gi(b,b.return)),la){if(h.flags&32){p=h.stateNode;try{K0(p)}catch(gt){jn(h,h.return,gt)}}T&4&&h.stateNode!=null&&(p=h.memoizedProps,Dg(h,p,b!==null?b.memoizedProps:p)),T&1024&&(ac=!0)}break;case 6:if(La(p,h),Xa(h),T&4&&la){if(h.stateNode===null)throw Error(r(162));T=h.memoizedProps,b=b!==null?b.memoizedProps:T,p=h.stateNode;try{P2(p,b,T)}catch(gt){jn(h,h.return,gt)}}break;case 3:if(ws?(yy(),D=Ba,Ba=om(p.containerInfo),La(p,h),Ba=D):La(p,h),Xa(h),T&4){if(la&&Ua&&b!==null&&b.memoizedState.isDehydrated)try{am(p.containerInfo)}catch(gt){jn(h,h.return,gt)}if(Ss){T=p.containerInfo,b=p.pendingChildren;try{sy(T,b)}catch(gt){jn(h,h.return,gt)}}}ac&&(ac=!1,zg(h));break;case 4:ws?(b=Ba,Ba=om(h.stateNode.containerInfo),La(p,h),Xa(h),Ba=b):(La(p,h),Xa(h)),T&4&&Ss&&T2(h.stateNode,h,h.stateNode.pendingChildren);break;case 12:La(p,h),Xa(h);break;case 13:La(p,h),Xa(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(wl=ca()),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,P0(h,T)));break;case 22:T&512&&($i||b===null||Gi(b,b.return)),D=h.memoizedState!==null;var ee=b!==null&&b.memoizedState!==null,me=Br,De=$i;if(Br=me||D,$i=De||ee,La(p,h),$i=De,Br=me,Xa(h),p=h.stateNode,p._current=h,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,T&8192&&(p._visibility=D?p._visibility&-2:p._visibility|1,D&&(p=Br||$i,b===null||ee||p||nh(h)),la&&(h.memoizedProps===null||h.memoizedProps.mode!=="manual"))){e:if(b=null,la)for(p=h;;){if(p.tag===5||ws&&p.tag===26||ua&&p.tag===27){if(b===null){ee=b=p;try{P=ee.stateNode,D?Q0(P):iy(ee.stateNode,ee.memoizedProps)}catch(gt){jn(ee,ee.return,gt)}}}else if(p.tag===6){if(b===null){ee=p;try{var We=ee.stateNode;D?em(We):ru(We,ee.memoizedProps)}catch(gt){jn(ee,ee.return,gt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===h)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break e;for(;p.sibling===null;){if(p.return===null||p.return===h)break e;b===p&&(b=null),p=p.return}b===p&&(b=null),p.sibling.return=p.return,p=p.sibling}}T&4&&(T=h.updateQueue,T!==null&&(b=T.retryQueue,b!==null&&(T.retryQueue=null,P0(h,b))));break;case 19:La(p,h),Xa(h),T&4&&(T=h.updateQueue,T!==null&&(h.updateQueue=null,P0(h,T)));break;case 21:break;default:La(p,h),Xa(h)}}function Xa(h){var p=h.flags;if(p&2){try{if(la&&(!ua||h.tag!==27)){e:{for(var b=h.return;b!==null;){if(Ng(b)){var T=b;break e}b=b.return}throw Error(r(160))}switch(T.tag){case 27:if(ua){var D=T.stateNode,P=kp(h);Jf(h,P,D);break}case 5:var ee=T.stateNode;T.flags&32&&(K0(ee),T.flags&=-33);var me=kp(h);Jf(h,me,ee);break;case 3:case 4:var De=T.stateNode.containerInfo,We=kp(h);Op(h,We,De);break;default:throw Error(r(161))}}}catch(gt){jn(h,h.return,gt)}h.flags&=-3}p&4096&&(h.flags&=-4097)}function zg(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var p=h;zg(p),p.tag===5&&p.flags&1024&&Ei(p.stateNode),h=h.sibling}}function cl(h,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)Up(h,p.alternate,p),p=p.sibling}function nh(h){for(h=h.child;h!==null;){var p=h;switch(p.tag){case 0:case 11:case 14:case 15:Uu(4,p,p.return),nh(p);break;case 1:Gi(p,p.return);var b=p.stateNode;typeof b.componentWillUnmount=="function"&&A2(p,p.return,b),nh(p);break;case 26:case 27:case 5:Gi(p,p.return),nh(p);break;case 22:Gi(p,p.return),p.memoizedState===null&&nh(p);break;default:nh(p)}h=h.sibling}}function Iu(h,p,b){for(b=b&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var T=p.alternate,D=h,P=p,ee=P.flags;switch(P.tag){case 0:case 11:case 15:Iu(D,P,b),U0(4,P);break;case 1:if(Iu(D,P,b),T=P,D=T.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(We){jn(T,T.return,We)}if(T=P,D=T.updateQueue,D!==null){var me=T.stateNode;try{var De=D.shared.hiddenCallbacks;if(De!==null)for(D.shared.hiddenCallbacks=null,D=0;D<De.length;D++)fe(De[D],me)}catch(We){jn(T,T.return,We)}}b&&ee&64&&w2(P),Vc(P,P.return);break;case 26:case 27:case 5:Iu(D,P,b),b&&T===null&&ee&4&&Qf(P),Vc(P,P.return);break;case 12:Iu(D,P,b);break;case 13:Iu(D,P,b),b&&ee&4&&Pu(D,P);break;case 22:P.memoizedState===null&&Iu(D,P,b),Vc(P,P.return);break;default:Iu(D,P,b)}p=p.sibling}}function Lg(h,p){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(h=p.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&Wf(b))}function Bp(h,p){h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&Wf(h))}function Yl(h,p,b,T){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)Ip(h,p,b,T),p=p.sibling}function Ip(h,p,b,T){var D=p.flags;switch(p.tag){case 0:case 11:case 15:Yl(h,p,b,T),D&2048&&U0(9,p);break;case 3:Yl(h,p,b,T),D&2048&&(h=null,p.alternate!==null&&(h=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==h&&(p.refCount++,h!=null&&Wf(h)));break;case 12:if(D&2048){Yl(h,p,b,T),h=p.stateNode;try{var P=p.memoizedProps,ee=P.id,me=P.onPostCommit;typeof me=="function"&&me(ee,p.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(De){jn(p,p.return,De)}}else Yl(h,p,b,T);break;case 23:break;case 22:P=p.stateNode,p.memoizedState!==null?P._visibility&4?Yl(h,p,b,T):Fu(h,p):P._visibility&4?Yl(h,p,b,T):(P._visibility|=4,ba(h,p,b,T,(p.subtreeFlags&10256)!==0)),D&2048&&Lg(p.alternate,p);break;case 24:Yl(h,p,b,T),D&2048&&Bp(p.alternate,p);break;default:Yl(h,p,b,T)}}function ba(h,p,b,T,D){for(D=D&&(p.subtreeFlags&10256)!==0,p=p.child;p!==null;){var P=h,ee=p,me=b,De=T,We=ee.flags;switch(ee.tag){case 0:case 11:case 15:ba(P,ee,me,De,D),U0(8,ee);break;case 23:break;case 22:var gt=ee.stateNode;ee.memoizedState!==null?gt._visibility&4?ba(P,ee,me,De,D):Fu(P,ee):(gt._visibility|=4,ba(P,ee,me,De,D)),D&&We&2048&&Lg(ee.alternate,ee);break;case 24:ba(P,ee,me,De,D),D&&We&2048&&Bp(ee.alternate,ee);break;default:ba(P,ee,me,De,D)}p=p.sibling}}function Fu(h,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var b=h,T=p,D=T.flags;switch(T.tag){case 22:Fu(b,T),D&2048&&Lg(T.alternate,T);break;case 24:Fu(b,T),D&2048&&Bp(T.alternate,T);break;default:Fu(b,T)}p=p.sibling}}function qr(h){if(h.subtreeFlags&rf)for(h=h.child;h!==null;)Hc(h),h=h.sibling}function Hc(h){switch(h.tag){case 26:qr(h),h.flags&rf&&(h.memoizedState!==null?vy(Ba,h.memoizedState,h.memoizedProps):nr(h.type,h.memoizedProps));break;case 5:qr(h),h.flags&rf&&nr(h.type,h.memoizedProps);break;case 3:case 4:if(ws){var p=Ba;Ba=om(h.stateNode.containerInfo),qr(h),Ba=p}else qr(h);break;case 22:h.memoizedState===null&&(p=h.alternate,p!==null&&p.memoizedState!==null?(p=rf,rf=16777216,qr(h),rf=p):qr(h));break;default:qr(h)}}function Fp(h){var p=h.alternate;if(p!==null&&(h=p.child,h!==null)){p.child=null;do p=h.sibling,h.sibling=null,h=p;while(h!==null)}}function Vu(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var T=p[b];or=T,Hu(T,h)}Fp(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)B0(h),h=h.sibling}function B0(h){switch(h.tag){case 0:case 11:case 15:Vu(h),h.flags&2048&&Uu(9,h,h.return);break;case 3:Vu(h);break;case 12:Vu(h);break;case 22:var p=h.stateNode;h.memoizedState!==null&&p._visibility&4&&(h.return===null||h.return.tag!==13)?(p._visibility&=-5,ih(h)):Vu(h);break;default:Vu(h)}}function ih(h){var p=h.deletions;if((h.flags&16)!==0){if(p!==null)for(var b=0;b<p.length;b++){var T=p[b];or=T,Hu(T,h)}Fp(h)}for(h=h.child;h!==null;){switch(p=h,p.tag){case 0:case 11:case 15:Uu(8,p,p.return),ih(p);break;case 22:b=p.stateNode,b._visibility&4&&(b._visibility&=-5,ih(p));break;default:ih(p)}h=h.sibling}}function Hu(h,p){for(;or!==null;){var b=or;switch(b.tag){case 0:case 11:case 15:Uu(8,b,p);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var T=b.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Wf(b.memoizedState.cache)}if(T=b.child,T!==null)T.return=b,or=T;else e:for(b=h;or!==null;){T=or;var D=T.sibling,P=T.return;if(eh(T),T===b){or=null;break e}if(D!==null){D.return=P,or=D;break e}or=P}}}function Vp(h){var p=Zg(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(r(364));return p}if(h=Qc(h),h===null)throw Error(r(362));return h.stateNode.current}function rh(h,p){var b=h.tag;switch(p.$$typeof){case hd:if(h.type===p.value)return!0;break;case xm:e:{for(p=p.value,h=[h,0],b=0;b<h.length;){var T=h[b++],D=T.tag,P=h[b++],ee=p[P];if(D!==5&&D!==26&&D!==27||!vl(T)){for(;ee!=null&&rh(T,ee);)P++,ee=p[P];if(P===p.length){p=!0;break e}else for(T=T.child;T!==null;)h.push(T,P),T=T.sibling}}p=!1}return p;case vm:if((b===5||b===26||b===27)&&XS(h.stateNode,p.value))return!0;break;case vi:if((b===5||b===6||b===26||b===27)&&(h=Z0(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case ti:if((b===5||b===26||b===27)&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Gu(h){switch(h.$$typeof){case hd:return"<"+(s(h.value)||"Unknown")+">";case xm:return":has("+(Gu(h)||"")+")";case vm:return'[role="'+h.value+'"]';case vi:return'"'+h.value+'"';case ti:return'[data-testname="'+h.value+'"]';default:throw Error(r(365))}}function E2(h,p){var b=[];h=[h,0];for(var T=0;T<h.length;){var D=h[T++],P=D.tag,ee=h[T++],me=p[ee];if(P!==5&&P!==26&&P!==27||!vl(D)){for(;me!=null&&rh(D,me);)ee++,me=p[ee];if(ee===p.length)b.push(D);else for(D=D.child;D!==null;)h.push(D,ee),D=D.sibling}}return b}function ka(h,p){if(!xl)throw Error(r(363));h=Vp(h),h=E2(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var T=h[b++],D=T.tag;if(D===5||D===26||D===27)vl(T)||p.push(T.stateNode);else for(T=T.child;T!==null;)h.push(T),T=T.sibling}return p}function Oa(){if((nn&2)!==0&&Ln!==0)return Ln&-Ln;if(ln.T!==null){var h=Ja;return h!==0?h:xe()}return to()}function fl(){ts===0&&(ts=(Ln&536870912)===0||ai?G():536870912);var h=Ns.current;return h!==null&&(h.flags|=32),ts}function _a(h,p,b){(h===Fn&&Ci===2||h.cancelPendingCommit!==null)&&(zo(h,0),No(h,Ln,ts,!1)),j(h,b),((nn&2)===0||h!==Fn)&&(h===Fn&&((nn&2)===0&&(Io|=b),ni===4&&No(h,Ln,ts,!1)),xt(h))}function I0(h,p,b){if((nn&6)!==0)throw Error(r(327));var T=!b&&(p&60)===0&&(p&h.expiredLanes)===0||z(h,p),D=T?pl(h,p):hl(h,p,!0),P=T;do{if(D===0){zs&&!T&&No(h,p,0,!1);break}else if(D===6)No(h,p,0,!bi);else{if(b=h.current.alternate,P&&!C2(b)){D=hl(h,p,!1),P=!1;continue}if(D===2){if(P=p,h.errorRecoveryDisabledLanes&P)var ee=0;else ee=h.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){p=ee;e:{var me=h;D=_h;var De=Ua&&me.current.memoizedState.isDehydrated;if(De&&(zo(me,ee).flags|=256),ee=hl(me,ee,!1),ee!==2){if(cu&&!De){me.errorRecoveryDisabledLanes|=P,Io|=P,D=4;break e}P=ks,ks=D,P!==null&&Zl(P)}D=ee}if(P=!1,D!==2)continue}}if(D===1){zo(h,0),No(h,p,0,!0);break}e:{switch(T=h,D){case 0:case 1:throw Error(r(345));case 4:if((p&4194176)===p){No(T,p,ts,!bi);break e}break;case 2:ks=null;break;case 3:case 5:break;default:throw Error(r(329))}if(T.finishedWork=b,T.finishedLanes=p,(p&62914560)===p&&(P=wl+300-ca(),10<P)){if(No(T,p,ts,!bi),O(T,0)!==0)break e;T.timeoutHandle=Yg(Hp.bind(null,T,b,ks,Fo,Sh,p,ts,Io,fu,bi,2,-0,0),P);break e}Hp(T,b,ks,Fo,Sh,p,ts,Io,fu,bi,0,-0,0)}}break}while(!0);xt(h)}function Zl(h){ks===null?ks=h:ks.push.apply(ks,h)}function Hp(h,p,b,T,D,P,ee,me,De,We,gt,zt,Ot){var Sn=p.subtreeFlags;if((Sn&8192||(Sn&16785408)===16785408)&&(Ms(),Hc(p),p=Qp(),p!==null)){h.cancelPendingCommit=p(Ui.bind(null,h,b,T,D,ee,me,De,1,zt,Ot)),No(h,P,ee,!We);return}Ui(h,b,T,D,ee,me,De,gt,zt,Ot)}function C2(h){for(var p=h;;){var b=p.tag;if((b===0||b===11||b===15)&&p.flags&16384&&(b=p.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var T=0;T<b.length;T++){var D=b[T],P=D.getSnapshot;D=D.value;try{if(!As(P(),D))return!1}catch{return!1}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function No(h,p,b,T){p&=~Ea,p&=~Io,h.suspendedLanes|=p,h.pingedLanes&=~p,T&&(h.warmLanes|=p),T=h.expirationTimes;for(var D=p;0<D;){var P=31-Ka(D),ee=1<<P;T[P]=-1,D&=~ee}b!==0&&oe(h,b,p)}function kg(){return(nn&6)===0?(tt(0),!1):!0}function Wa(){if(An!==null){if(Ci===0)var h=An.return;else h=An,sr=rc=null,Vi(h),_l=null,ro=0,h=An;for(;h!==null;)Rg(h.alternate,h),h=h.return;An=null}}function zo(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;b!==Kc&&(h.timeoutHandle=Kc,Y0(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),Wa(),Fn=h,An=b=Sa(h.current,null),Ln=p,Ci=0,mr=null,bi=!1,zs=z(h,p),cu=!1,fu=ts=Ea=Io=Ls=ni=0,ks=_h=null,Sh=!1,(p&8)!==0&&(p|=p&32);var T=h.entangledLanes;if(T!==0)for(h=h.entanglements,T&=p;0<T;){var D=31-Ka(T),P=1<<D;p|=h[D],T&=~P}return Bo=p,Fe(),b}function Gc(h,p){Cn=null,ln.H=si,p===wi?(p=Dt(),Ci=3):p===My?(p=Dt(),Ci=4):Ci=p===o3?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,mr=p,An===null&&(ni=1,Ep(h,ve(p,h.current)))}function F0(){var h=Ns.current;return h===null?!0:(Ln&4194176)===Ln?ao===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?h===ao:!1}function ah(){var h=ln.H;return ln.H=si,h===null?si:h}function _s(){var h=ln.A;return ln.A=ym,h}function Ya(){ni=4,bi||(Ln&4194176)!==Ln&&Ns.current!==null||(zs=!0),(Ls&134217727)===0&&(Io&134217727)===0||Fn===null||No(Fn,Ln,ts,!1)}function hl(h,p,b){var T=nn;nn|=2;var D=ah(),P=_s();(Fn!==h||Ln!==p)&&(Fo=null,zo(h,p)),p=!1;var ee=ni;e:do try{if(Ci!==0&&An!==null){var me=An,De=mr;switch(Ci){case 8:Wa(),ee=6;break e;case 3:case 2:case 6:Ns.current===null&&(p=!0);var We=Ci;if(Ci=0,mr=null,ju(h,me,De,We),b&&zs){ee=0;break e}break;default:We=Ci,Ci=0,mr=null,ju(h,me,De,We)}}dl(),ee=ni;break}catch(gt){Gc(h,gt)}while(!0);return p&&h.shellSuspendCounter++,sr=rc=null,nn=T,ln.H=D,ln.A=P,An===null&&(Fn=null,Ln=0,Fe()),ee}function dl(){for(;An!==null;)Og(An)}function pl(h,p){var b=nn;nn|=2;var T=ah(),D=_s();Fn!==h||Ln!==p?(Fo=null,er=ca()+500,zo(h,p)):zs=z(h,p);e:do try{if(Ci!==0&&An!==null){p=An;var P=mr;t:switch(Ci){case 1:Ci=0,mr=null,ju(h,p,P,1);break;case 2:if(lt(P)){Ci=0,mr=null,Gp(p);break}p=function(){Ci===2&&Fn===h&&(Ci=7),xt(h)},P.then(p,p);break e;case 3:Ci=7;break e;case 4:Ci=5;break e;case 7:lt(P)?(Ci=0,mr=null,Gp(p)):(Ci=0,mr=null,ju(h,p,P,7));break;case 5:var ee=null;switch(An.tag){case 26:ee=An.memoizedState;case 5:case 27:var me=An,De=me.type,We=me.pendingProps;if(ee?xy(ee):iu(De,We)){Ci=0,mr=null;var gt=me.sibling;if(gt!==null)An=gt;else{var zt=me.return;zt!==null?(An=zt,V0(zt)):An=null}break t}}Ci=0,mr=null,ju(h,p,P,5);break;case 6:Ci=0,mr=null,ju(h,p,P,6);break;case 8:Wa(),ni=6;break e;default:throw Error(r(462))}}Kl();break}catch(Ot){Gc(h,Ot)}while(!0);return sr=rc=null,ln.H=T,ln.A=D,nn=b,An!==null?0:(Fn=null,Ln=0,Fe(),ni)}function Kl(){for(;An!==null&&!n3();)Og(An)}function Og(h){var p=b2(h.alternate,h,Bo);h.memoizedProps=h.pendingProps,p===null?V0(h):An=p}function Gp(h){var p=h,b=p.alternate;switch(p.tag){case 15:case 0:p=m2(b,p,p.pendingProps,p.type,void 0,Ln);break;case 11:p=m2(b,p,p.pendingProps,p.type.render,p.ref,Ln);break;case 5:Vi(p);default:Rg(b,p),p=An=$l(p,Bo),p=b2(b,p,Bo)}h.memoizedProps=h.pendingProps,p===null?V0(h):An=p}function ju(h,p,b,T){sr=rc=null,Vi(p),_l=null,ro=0;var D=p.return;try{if(c2(h,D,p,b,Ln)){ni=1,Ep(h,ve(b,h.current)),An=null;return}}catch(P){if(D!==null)throw An=D,P;ni=1,Ep(h,ve(b,h.current)),An=null;return}p.flags&32768?(ai||T===1?h=!0:zs||(Ln&536870912)!==0?h=!1:(bi=h=!0,(T===2||T===3||T===6)&&(T=Ns.current,T!==null&&T.tag===13&&(T.flags|=16384))),Xr(p,h)):V0(p)}function V0(h){var p=h;do{if((p.flags&32768)!==0){Xr(p,bi);return}h=p.return;var b=S2(p.alternate,p,Bo);if(b!==null){An=b;return}if(p=p.sibling,p!==null){An=p;return}An=p=h}while(p!==null);ni===0&&(ni=5)}function Xr(h,p){do{var b=M2(h.alternate,h);if(b!==null){b.flags&=32767,An=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!p&&(h=h.sibling,h!==null)){An=h;return}An=h=b}while(h!==null);ni=6,An=null}function Ui(h,p,b,T,D,P,ee,me,De,We){var gt=ln.T,zt=Pr();try{Ma(2),ln.T=null,Kn(h,p,b,T,zt,D,P,ee,me,De,We)}finally{ln.T=gt,Ma(zt)}}function Kn(h,p,b,T,D,P,ee,me){do Wr();while(hu!==null);if((nn&6)!==0)throw Error(r(327));var De=h.finishedWork;if(T=h.finishedLanes,De===null)return null;if(h.finishedWork=null,h.finishedLanes=0,De===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0,h.cancelPendingCommit=null;var We=De.lanes|De.childLanes;if(We|=gh,Z(h,T,We,P,ee,me),h===Fn&&(An=Fn=null,Ln=0),(De.subtreeFlags&10256)===0&&(De.flags&10256)===0||oo||(oo=!0,bm=We,sf=b,H0(um,function(){return Wr(),null})),b=(De.flags&15990)!==0,(De.subtreeFlags&15990)!==0||b?(b=ln.T,ln.T=null,P=Pr(),Ma(2),ee=nn,nn|=4,$f(h,De),Bu(De,h),Xg(h.containerInfo),h.current=De,Up(h,De.alternate,De),i3(),nn=ee,Ma(P),ln.T=b):h.current=De,oo?(oo=!1,hu=h,af=T):Ql(h,We),We=h.pendingLanes,We===0&&(Os=null),W(De.stateNode),xt(h),p!==null)for(D=h.onRecoverableError,De=0;De<p.length;De++)We=p[De],D(We.value,{componentStack:We.stack});return(af&3)!==0&&Wr(),We=h.pendingLanes,(T&4194218)!==0&&(We&42)!==0?h===Ia?of++:(of=0,Ia=h):of=0,tt(0),null}function Ql(h,p){(h.pooledCacheLanes&=p)===0&&(p=h.pooledCache,p!=null&&(h.pooledCache=null,Wf(p)))}function Wr(){if(hu!==null){var h=hu,p=bm;bm=0;var b=ae(af),T=32>b?32:b;b=ln.T;var D=Pr();try{if(Ma(T),ln.T=null,hu===null)var P=!1;else{T=sf,sf=null;var ee=hu,me=af;if(hu=null,af=0,(nn&6)!==0)throw Error(r(331));var De=nn;if(nn|=4,B0(ee.current),Ip(ee,ee.current,me,T),nn=De,tt(0,!1),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(ph,ee)}catch{}P=!0}return P}finally{Ma(D),ln.T=b,Ql(h,p)}}return!1}function jp(h,p,b){p=ve(b,p),p=D0(h.stateNode,p,2),h=Ke(h,p,2),h!==null&&(j(h,2),xt(h))}function jn(h,p,b){if(h.tag===3)jp(h,h,b);else for(;p!==null;){if(p.tag===3){jp(p,h,b);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Os===null||!Os.has(T))){h=ve(b,h),b=Xf(2),T=Ke(p,b,2),T!==null&&(N0(b,T,p,h),j(T,2),xt(T));break}}p=p.return}}function qp(h,p,b){var T=h.pingCache;if(T===null){T=h.pingCache=new qn;var D=new Set;T.set(p,D)}else D=T.get(p),D===void 0&&(D=new Set,T.set(p,D));D.has(b)||(cu=!0,D.add(b),h=R2.bind(null,h,p,b),p.then(h,h))}function R2(h,p,b){var T=h.pingCache;T!==null&&T.delete(p),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,Fn===h&&(Ln&b)===b&&(ni===4||ni===3&&(Ln&62914560)===Ln&&300>ca()-wl?(nn&2)===0&&zo(h,0):Ea|=b,fu===Ln&&(fu=0)),xt(h)}function jc(h,p){p===0&&(p=U()),h=de(h,p),h!==null&&(j(h,p),xt(h))}function qc(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),jc(h,b)}function Ug(h,p){var b=0;switch(h.tag){case 13:var T=h.stateNode,D=h.memoizedState;D!==null&&(b=D.retryLane);break;case 19:T=h.stateNode;break;case 22:T=h.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(p),jc(h,b)}function H0(h,p){return dh(h,p)}function Pg(h,p,b,T){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jl(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Sa(h,p){var b=h.alternate;return b===null?(b=t(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&31457280,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function $l(h,p){h.flags&=31457282;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,p=b.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),h}function eo(h,p,b,T,D,P){var ee=0;if(T=h,typeof h=="function")Jl(h)&&(ee=1);else if(typeof h=="string")ee=ws&&ua?fy(h,b,Zr.current)?26:fh(h)?27:5:ws?fy(h,b,Zr.current)?26:5:ua&&fh(h)?27:5;else e:switch(h){case oh:return eu(b.children,D,P,p);case Hg:ee=8,D|=24;break;case Gg:return h=t(12,b,p,D|2),h.elementType=Gg,h.lanes=P,h;case Wp:return h=t(13,b,p,D),h.elementType=Wp,h.lanes=P,h;case Wu:return h=t(19,b,p,D),h.elementType=Wu,h.lanes=P,h;case q0:return Xp(b,D,P,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case z2:case ml:ee=10;break e;case Xu:ee=9;break e;case lh:ee=11;break e;case j0:ee=14;break e;case ko:ee=16,T=null;break e}ee=29,b=Error(r(130,h===null?"null":typeof h,"")),T=null}return p=t(ee,b,p,D),p.elementType=h,p.type=T,p.lanes=P,p}function eu(h,p,b,T){return h=t(7,h,T,p),h.lanes=b,h}function Xp(h,p,b,T){h=t(22,h,T,p),h.elementType=q0,h.lanes=b;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=D._current;if(P===null)throw Error(r(456));if((D._pendingVisibility&2)===0){var ee=de(P,2);ee!==null&&(D._pendingVisibility|=2,_a(ee,P,2))}},attach:function(){var P=D._current;if(P===null)throw Error(r(456));if((D._pendingVisibility&2)!==0){var ee=de(P,2);ee!==null&&(D._pendingVisibility&=-3,_a(ee,P,2))}}};return h.stateNode=D,h}function qu(h,p,b){return h=t(6,h,null,p),h.lanes=b,h}function sh(h,p,b){return p=t(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function Xc(h,p,b,T,D,P,ee,me){this.tag=1,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Kc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=T,this.onUncaughtError=D,this.onCaughtError=P,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function Yr(h,p,b,T,D,P,ee,me,De,We,gt,zt){return h=new Xc(h,p,b,ee,me,De,We,zt),p=1,P===!0&&(p|=24),P=t(3,null,null,p),h.current=P,P.stateNode=h,p=Np(),p.refCount++,h.pooledCache=p,p.refCount++,P.memoizedState={element:T,isDehydrated:b,cache:p},Rt(P),h}function G0(h){return h?(h=Jc,h):Jc}function Bg(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=x(p),h=h!==null?_(h):null,h===null?null:uh(h.stateNode)}function D2(h,p,b,T,D,P){D=G0(D),T.context===null?T.context=D:T.pendingContext=D,T=He(p),T.payload={element:b},P=P===void 0?null:P,P!==null&&(T.callback=P),b=Ke(h,T,p),b!==null&&(_a(b,h,p),Nt(b,h,p))}function N2(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function Ig(h,p){N2(h,p),(h=h.alternate)&&N2(h,p)}var tn={},Fg=K1(),oa=xP(),Wc=Object.assign,Vg=Symbol.for("react.element"),tu=Symbol.for("react.transitional.element"),Lo=Symbol.for("react.portal"),oh=Symbol.for("react.fragment"),Hg=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),z2=Symbol.for("react.provider"),Xu=Symbol.for("react.consumer"),ml=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Wp=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),j0=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),q0=Symbol.for("react.offscreen"),L2=Symbol.for("react.memo_cache_sentinel"),jg=Symbol.iterator,Yc=Symbol.for("react.client.reference"),ln=Fg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Yp,qg,Yu=!1,Zu=Array.isArray,Zp=e.rendererVersion,X0=e.rendererPackageName,W0=e.extraDevToolsConfig,uh=e.getPublicInstance,Zc=e.getRootHostContext,k2=e.getChildHostContext,Ku=e.prepareForCommit,Xg=e.resetAfterCommit,Wg=e.createInstance,gl=e.appendInitialChild,nu=e.finalizeInitialChildren,Qu=e.shouldSetTextContent,Kp=e.createTextInstance,Yg=e.scheduleTimeout,Y0=e.cancelTimeout,Kc=e.noTimeout,yl=e.isPrimaryRenderer;e.warnsIfNotActing;var la=e.supportsMutation,Ss=e.supportsPersistence,Ua=e.supportsHydration,Zg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Kg=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Ma=e.setCurrentUpdatePriority,Pr=e.getCurrentUpdatePriority,to=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ju=e.shouldAttemptEagerTransition,Qg=e.detachDeletedInstance;e.requestPostPaintCallback;var O2=e.maySuspendCommit,iu=e.preloadInstance,Ms=e.startSuspendingCommit,nr=e.suspendInstance,Qp=e.waitForCommitToBeReady,Za=e.NotPendingTransition,dn=e.HostTransitionContext,Ei=e.resetFormInstance;e.bindToConsole;var Ar=e.supportsMicrotasks,Jp=e.scheduleMicrotask,xl=e.supportsTestSelectors,Qc=e.findFiberRoot,$p=e.getBoundingRect,Z0=e.getTextContent,vl=e.isHiddenSubtree,XS=e.matchAccessibilityRole,ir=e.setFocusIfFocusable,Jg=e.setupIntersectionObserver,$g=e.appendChild,U2=e.appendChildToContainer,P2=e.commitTextUpdate,WS=e.commitMount,ey=e.commitUpdate,ty=e.insertBefore,ny=e.insertInContainerBefore,Pa=e.removeChild,fr=e.removeChildFromContainer,K0=e.resetTextContent,Q0=e.hideInstance,em=e.hideTextInstance,iy=e.unhideInstance,ru=e.unhideTextInstance,tm=e.clearContainer,ry=e.cloneInstance,nm=e.createContainerChildSet,ay=e.appendChildToContainerChildSet,B2=e.finalizeContainerChildren,sy=e.replaceContainerChildren,oy=e.cloneHiddenInstance,ly=e.cloneHiddenTextInstance,im=e.isSuspenseInstancePending,J0=e.isSuspenseInstanceFallback,I2=e.getSuspenseInstanceFallbackErrorDetails,YS=e.registerSuspenseInstanceRetry,F2=e.canHydrateFormStateMarker,V2=e.isFormStateMarkerMatching,uy=e.getNextHydratableSibling,rm=e.getFirstHydratableChild,H2=e.getFirstHydratableChildWithinContainer,G2=e.getFirstHydratableChildWithinSuspenseInstance,j2=e.canHydrateInstance,q2=e.canHydrateTextInstance,X2=e.canHydrateSuspenseInstance,ZS=e.hydrateInstance,W2=e.hydrateTextInstance,ch=e.hydrateSuspenseInstance,Y2=e.getNextHydratableInstanceAfterSuspenseInstance,am=e.commitHydratedContainer,sm=e.commitHydratedSuspenseInstance,Z2=e.clearSuspenseBoundary,cy=e.clearSuspenseBoundaryFromContainer,K2=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Q2=e.validateHydratableInstance,J2=e.validateHydratableTextInstance,ws=e.supportsResources,fy=e.isHostHoistableType,om=e.getHoistableRoot,lm=e.getResource,hy=e.acquireResource,dy=e.releaseResource,py=e.hydrateHoistable,my=e.mountHoistable,gy=e.unmountHoistable,KS=e.createHoistableInstance,yy=e.prepareToCommitHoistables,$2=e.mayResourceSuspendCommit,xy=e.preloadResource,vy=e.suspendResource,ua=e.supportsSingletons,by=e.resolveSingletonInstance,QS=e.clearSingleton,JS=e.acquireSingletonInstance,e3=e.releaseSingletonInstance,fh=e.isHostSingletonType,$0=[],au=-1,Jc={},Ka=Math.clz32?Math.clz32:R,ed=Math.log,t3=Math.LN2,hh=128,td=4194304,dh=oa.unstable_scheduleCallback,nd=oa.unstable_cancelCallback,n3=oa.unstable_shouldYield,i3=oa.unstable_requestPaint,ca=oa.unstable_now,_y=oa.unstable_ImmediatePriority,r3=oa.unstable_UserBlockingPriority,um=oa.unstable_NormalPriority,cm=oa.unstable_IdlePriority,a3=oa.log,Sy=oa.unstable_setDisableYieldValue,ph=null,Qa=null,As=typeof Object.is=="function"?Object.is:re,fm=new WeakMap,ji=[],rr=0,id=null,rd=0,Ts=[],Es=0,Oo=null,bl=1,no="",Zr=w(null),ad=w(null),Uo=w(null),mh=w(null),wa=null,fa=null,ai=!1,Cs=null,io=!1,sd=Error(r(519)),Rs=[],$u=0,gh=0,yh=null,$c=null,od=!1,ld=!1,Po=!1,ec=0,ud=null,hm=0,Ja=0,tc=null,su=!1,xh=!1,cd=Object.prototype.hasOwnProperty,wi=Error(r(460)),My=Error(r(474)),dm={then:function(){}},ef=null,_l=null,ro=0,nc=gn(!0),wy=gn(!1),Sl=w(null),Ds=w(0),Ns=w(null),ao=null,Tr=w(0),Ml=0,Cn=null,fi=null,hr=null,so=!1,qi=!1,ou=!1,fd=0,ar=0,vh=null,s3=0,pm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},si={readContext:sa,use:ze,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt};si.useCacheRefresh=jt,si.useMemoCache=jt,si.useHostTransitionStatus=jt,si.useFormState=jt,si.useActionState=jt,si.useOptimistic=jt;var Er={readContext:sa,use:ze,useCallback:function(h,p){return In().memoizedState=[h,p===void 0?null:p],h},useContext:sa,useEffect:hg,useImperativeHandle:function(h,p,b){b=b!=null?b.concat([h]):null,$s(4194308,4,A0.bind(null,p,h),b)},useLayoutEffect:function(h,p){return $s(4194308,4,h,p)},useInsertionEffect:function(h,p){$s(4,2,h,p)},useMemo:function(h,p){var b=In();p=p===void 0?null:p;var T=h();if(ou){te(!0);try{h()}finally{te(!1)}}return b.memoizedState=[T,p],T},useReducer:function(h,p,b){var T=In();if(b!==void 0){var D=b(p);if(ou){te(!0);try{b(p)}finally{te(!1)}}}else D=p;return T.memoizedState=T.baseState=D,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:D},T.queue=h,h=h.dispatch=Du.bind(null,Cn,h),[T.memoizedState,h]},useRef:function(h){var p=In();return h={current:h},p.memoizedState=h},useState:function(h){h=ei(h);var p=h.queue,b=Ap.bind(null,Cn,p);return p.dispatch=b,[h.memoizedState,b]},useDebugValue:T0,useDeferredValue:function(h,p){var b=In();return Ru(b,h,p)},useTransition:function(){var h=ei(!1);return h=Mp.bind(null,Cn,h.queue,!0,!1),In().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,p,b){var T=Cn,D=In();if(ai){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),Fn===null)throw Error(r(349));(Ln&60)!==0||Kt(T,p,b)}D.memoizedState=b;var P={value:b,getSnapshot:p};return D.queue=P,hg(Gt.bind(null,T,P,h),[h]),T.flags|=2048,tr(9,en.bind(null,T,P,b,p),{destroy:void 0},null),b},useId:function(){var h=In(),p=Fn.identifierPrefix;if(ai){var b=no,T=bl;b=(T&~(1<<32-Ka(T)-1)).toString(32)+b,p=":"+p+"R"+b,b=fd++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=s3++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},useCacheRefresh:function(){return In().memoizedState=E0.bind(null,Cn)}};Er.useMemoCache=Ee,Er.useHostTransitionStatus=Uc,Er.useFormState=ol,Er.useActionState=ol,Er.useOptimistic=function(h){var p=In();p.memoizedState=p.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=b,p=Tp.bind(null,Cn,!0,b),b.dispatch=p,[h,p]};var Aa={readContext:sa,use:ze,useCallback:Sp,useContext:sa,useEffect:w0,useImperativeHandle:ll,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:Oc,useReducer:ht,useRef:Ro,useState:function(){return ht(we)},useDebugValue:T0,useDeferredValue:function(h,p){var b=Y();return dg(b,fi.memoizedState,h,p)},useTransition:function(){var h=ht(we)[0],p=Y().memoizedState;return[typeof h=="boolean"?h:Te(h),p]},useSyncExternalStore:Tt,useId:ul};Aa.useCacheRefresh=wp,Aa.useMemoCache=Ee,Aa.useHostTransitionStatus=Uc,Aa.useFormState=Li,Aa.useActionState=Li,Aa.useOptimistic=function(h,p){var b=Y();return Hn(b,fi,h,p)};var ic={readContext:sa,use:ze,useCallback:Sp,useContext:sa,useEffect:w0,useImperativeHandle:ll,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:Oc,useReducer:Ct,useRef:Ro,useState:function(){return Ct(we)},useDebugValue:T0,useDeferredValue:function(h,p){var b=Y();return fi===null?Ru(b,h,p):dg(b,fi.memoizedState,h,p)},useTransition:function(){var h=Ct(we)[0],p=Y().memoizedState;return[typeof h=="boolean"?h:Te(h),p]},useSyncExternalStore:Tt,useId:ul};ic.useCacheRefresh=wp,ic.useMemoCache=Ee,ic.useHostTransitionStatus=Uc,ic.useFormState=Ur,ic.useActionState=Ur,ic.useOptimistic=function(h,p){var b=Y();return fi!==null?Hn(b,fi,h,p):(b.baseState=h,[h,b.queue.dispatch])};var mm={isMounted:function(h){return(h=h._reactInternals)?g(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var T=Oa(),D=He(T);D.payload=p,b!=null&&(D.callback=b),p=Ke(h,D,T),p!==null&&(_a(p,h,T),Nt(p,h,T))},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var T=Oa(),D=He(T);D.tag=1,D.payload=p,b!=null&&(D.callback=b),p=Ke(h,D,T),p!==null&&(_a(p,h,T),Nt(p,h,T))},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Oa(),T=He(b);T.tag=2,p!=null&&(T.callback=p),p=Ke(h,T,b),p!==null&&(_a(p,h,b),Nt(p,h,b))}},Ay=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},o3=Error(r(461)),dr=!1,Ta={dehydrated:null,treeContext:null,retryLane:0},$a=w(null),rc=null,sr=null,l3=typeof AbortController<"u"?AbortController:function(){var h=[],p=this.signal={aborted:!1,addEventListener:function(b,T){h.push(T)}};this.abort=function(){p.aborted=!0,h.forEach(function(b){return b()})}},lu=oa.unstable_scheduleCallback,tf=oa.unstable_NormalPriority,xi={$$typeof:ml,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},gm=ln.S;ln.S=function(h,p){typeof p=="object"&&p!==null&&typeof p.then=="function"&&Me(h,p),gm!==null&&gm(h,p)};var uu=w(null),Br=!1,$i=!1,ac=!1,bh=typeof WeakSet=="function"?WeakSet:Set,or=null,nf=!1,pr=null,es=!1,Ba=null,rf=8192,ym={getCacheForType:function(h){var p=sa(xi),b=p.data.get(h);return b===void 0&&(b=h(),p.data.set(h,b)),b}},hd=0,xm=1,vm=2,ti=3,vi=4;if(typeof Symbol=="function"&&Symbol.for){var Rn=Symbol.for;hd=Rn("selector.component"),xm=Rn("selector.has_pseudo_class"),vm=Rn("selector.role"),ti=Rn("selector.test_id"),vi=Rn("selector.text")}var qn=typeof WeakMap=="function"?WeakMap:Map,nn=0,Fn=null,An=null,Ln=0,Ci=0,mr=null,bi=!1,zs=!1,cu=!1,Bo=0,ni=0,Ls=0,Io=0,Ea=0,ts=0,fu=0,_h=null,ks=null,Sh=!1,wl=0,er=1/0,Fo=null,Os=null,oo=!1,hu=null,af=0,bm=0,sf=null,of=0,Ia=null;return tn.attemptContinuousHydration=function(h){if(h.tag===13){var p=de(h,67108864);p!==null&&_a(p,h,67108864),Ig(h,67108864)}},tn.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Oa(),b=de(h,p);b!==null&&_a(b,h,p),Ig(h,p)}},tn.attemptSynchronousHydration=function(h){switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=N(h.pendingLanes);if(p!==0){for(h.pendingLanes|=2,h.entangledLanes|=2;p;){var b=1<<31-Ka(p);h.entanglements[1]|=b,p&=~b}xt(h),(nn&6)===0&&(er=ca()+500,tt(0))}}break;case 13:p=de(h,2),p!==null&&_a(p,h,2),kg(),Ig(h,2)}},tn.batchedUpdates=function(h,p){return h(p)},tn.createComponentSelector=function(h){return{$$typeof:hd,value:h}},tn.createContainer=function(h,p,b,T,D,P,ee,me,De,We){return Yr(h,p,!1,null,b,T,P,ee,me,De,We,null)},tn.createHasPseudoClassSelector=function(h){return{$$typeof:xm,value:h}},tn.createHydrationContainer=function(h,p,b,T,D,P,ee,me,De,We,gt,zt,Ot){return h=Yr(b,T,!0,h,D,P,me,De,We,gt,zt,Ot),h.context=G0(null),b=h.current,T=Oa(),D=He(T),D.callback=p??null,Ke(b,D,T),h.current.lanes=T,j(h,T),xt(h),h},tn.createPortal=function(h,p,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lo,key:T==null?null:""+T,children:h,containerInfo:p,implementation:b}},tn.createRoleSelector=function(h){return{$$typeof:vm,value:h}},tn.createTestNameSelector=function(h){return{$$typeof:ti,value:h}},tn.createTextSelector=function(h){return{$$typeof:vi,value:h}},tn.defaultOnCaughtError=function(h){console.error(h)},tn.defaultOnRecoverableError=function(h){Ay(h)},tn.defaultOnUncaughtError=function(h){Ay(h)},tn.deferredUpdates=function(h){var p=ln.T,b=Pr();try{return Ma(32),ln.T=null,h()}finally{Ma(b),ln.T=p}},tn.discreteUpdates=function(h,p,b,T,D){var P=ln.T,ee=Pr();try{return Ma(2),ln.T=null,h(p,b,T,D)}finally{Ma(ee),ln.T=P,nn===0&&(er=ca()+500)}},tn.findAllNodes=ka,tn.findBoundingRects=function(h,p){if(!xl)throw Error(r(363));p=ka(h,p),h=[];for(var b=0;b<p.length;b++)h.push($p(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var T=b.x,D=T+b.width,P=b.y,ee=P+b.height,me=p-1;0<=me;me--)if(p!==me){var De=h[me],We=De.x,gt=We+De.width,zt=De.y,Ot=zt+De.height;if(T>=We&&P>=zt&&D<=gt&&ee<=Ot){h.splice(p,1);break}else if(T!==We||b.width!==De.width||Ot<P||zt>ee){if(!(P!==zt||b.height!==De.height||gt<T||We>D)){We>T&&(De.width+=We-T,De.x=T),gt<D&&(De.width=D-We),h.splice(p,1);break}}else{zt>P&&(De.height+=zt-P,De.y=P),Ot<ee&&(De.height=ee-zt),h.splice(p,1);break}}}return h},tn.findHostInstance=Bg,tn.findHostInstanceWithNoPortals=function(h){return h=x(h),h=h!==null?M(h):null,h===null?null:uh(h.stateNode)},tn.findHostInstanceWithWarning=function(h){return Bg(h)},tn.flushPassiveEffects=Wr,tn.flushSyncFromReconciler=function(h){var p=nn;nn|=1;var b=ln.T,T=Pr();try{if(Ma(2),ln.T=null,h)return h()}finally{Ma(T),ln.T=b,nn=p,(nn&6)===0&&tt(0)}},tn.flushSyncWork=kg,tn.focusWithin=function(h,p){if(!xl)throw Error(r(363));for(h=Vp(h),p=E2(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++],T=b.tag;if(!vl(b)){if((T===5||T===26||T===27)&&ir(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},tn.getFindAllNodesFailureDescription=function(h,p){if(!xl)throw Error(r(363));var b=0,T=[];h=[Vp(h),0];for(var D=0;D<h.length;){var P=h[D++],ee=P.tag,me=h[D++],De=p[me];if((ee!==5&&ee!==26&&ee!==27||!vl(P))&&(rh(P,De)&&(T.push(Gu(De)),me++,me>b&&(b=me)),me<p.length))for(P=P.child;P!==null;)h.push(P,me),P=P.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(Gu(p[b]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},tn.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 27:case 5:return uh(h.child.stateNode);default:return h.child.stateNode}},tn.injectIntoDevTools=function(){var h={bundleType:0,version:Zp,rendererPackageName:X0,currentDispatcherRef:ln,findFiberByHostInstance:Zg,reconcilerVersion:"19.0.0"};if(W0!==null&&(h.rendererConfig=W0),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{ph=p.inject(h),Qa=p}catch{}h=!!p.checkDCE}}return h},tn.isAlreadyRendering=function(){return!1},tn.observeVisibleRects=function(h,p,b,T){if(!xl)throw Error(r(363));h=ka(h,p);var D=Jg(h,b,T).disconnect;return{disconnect:function(){D()}}},tn.shouldError=function(){return null},tn.shouldSuspend=function(){return!1},tn.startHostTransition=function(h,p,b,T){if(h.tag!==5)throw Error(r(476));var D=pg(h).queue;Mp(h,D,p,Za,b===null?i:function(){var P=pg(h).next.queue;return Nu(h,P,{},Oa()),b(T)})},tn.updateContainer=function(h,p,b,T){var D=p.current,P=Oa();return D2(D,P,h,p,b,T),P},tn.updateContainerSync=function(h,p,b,T){return p.tag===0&&Wr(),D2(p.current,2,h,p,b,T),2},tn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(sM)),sM.exports}var lD;function bie(){return lD||(lD=1,aM.exports=vie()),aM.exports}var _ie=bie();const Sie=kv(_ie);var uD=xP();function D7(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=D7(i,e,t);if(r)return r;i=e?null:i.sibling}}function vP(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const N7=vP(ue.createContext(null));class bP extends ue.Component{render(){return ue.createElement(N7.Provider,{value:this._reactInternals},this.props.children)}}function _P(){const n=ue.useContext(N7);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ue.useId();return ue.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=D7(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const Mie=Symbol.for("react.context"),wie=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Mie;function Aie(){const n=_P(),[e]=ue.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;wie(i)&&i!==N7&&!e.has(i)&&e.set(i,ue.use(vP(i))),t=t.return}return e}function Tie(){const n=Aie();return ue.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ue.createElement(e,null,ue.createElement(t.Provider,{...i,value:n.get(t)})),e=>ue.createElement(bP,{...e})),[n])}function SP(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const MP=n=>n&&n.isOrthographicCamera,Eie=n=>n&&n.hasOwnProperty("current"),Cie=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),$v=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ue.useLayoutEffect:ue.useEffect;function wP(n){const e=ue.useRef(n);return $v(()=>void(e.current=n),[n]),e}function Rie(){const n=_P(),e=Tie();return ue.useMemo(()=>({children:t})=>{const r=!!D7(n,!0,a=>a.type===ue.StrictMode)?ue.StrictMode:ue.Fragment;return H.jsx(r,{children:H.jsx(e,{children:t})})},[n,e])}function Die({set:n}){return $v(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const Nie=(n=>(n=class extends ue.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function AP(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Qm(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const yr={obj:n=>n===Object(n)&&!yr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(yr.str(n)||yr.num(n)||yr.boo(n))return n===e;const a=yr.obj(n);if(a&&i==="reference")return n===e;const s=yr.arr(n);if(s&&t==="reference")return n===e;if((s||a)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!yr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(yr.und(o)){if(s&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function zie(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const TP=["children","key","ref"];function Lie(n){const e={};for(const t in n)TP.includes(t)||(e[t]=n[t]);return e}function E_(n,e,t,i){const r=n;let a=r?.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:Lie(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Ev(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const r of i){if(typeof t!="object"||t===null){if(t!==void 0){const a=i.slice(i.indexOf(r)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=r,n=t,t=t[e]}return{root:n,key:e,target:t}}const cD=/-\d+$/;function C_(n,e){if(yr.str(e.props.attach)){if(cD.test(e.props.attach)){const r=e.props.attach.replace(cD,""),{root:a,key:s}=Ev(n.object,r);Array.isArray(a[s])||(a[s]=[])}const{root:t,key:i}=Ev(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else yr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function R_(n,e){if(yr.str(e.props.attach)){const{root:t,key:i}=Ev(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const aA=[...TP,"args","dispose","attach","object","onUpdate","dispose"],fD=new Map;function kie(n){let e=fD.get(n.constructor);try{e||(e=new n.constructor,fD.set(n.constructor,e))}catch{}return e}function Oie(n,e){const t={};for(const i in e)if(!aA.includes(i)&&!yr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(aA.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=Ev(n.object,i);if(r.constructor&&r.constructor.length===0){const s=kie(r);yr.und(s)||(t[a]=s[a])}else t[a]=0}return t}const Uie=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Pie=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function jh(n,e){var t;const i=n.__r3f,r=i&&SP(i).getState(),a=i?.eventCount;for(const o in e){let u=e[o];if(aA.includes(o))continue;if(i&&Pie.test(o)){typeof u=="function"?i.handlers[o]=u:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(u===void 0)continue;let{root:f,key:d,target:g}=Ev(n,o);if(g===void 0&&(typeof f!="object"||f===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${d}".`);if(g instanceof G1&&u instanceof G1)g.mask=u.mask;else if(g instanceof It&&Cie(u))g.set(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&u!=null&&u.constructor&&g.constructor===u.constructor)g.copy(u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(u))typeof g.fromArray=="function"?g.fromArray(u):g.set(...u);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof u=="number")typeof g.setScalar=="function"?g.setScalar(u):g.set(u);else{var s;f[d]=u,r&&!r.linear&&Uie.includes(d)&&(s=f[d])!=null&&s.isTexture&&f[d].format===ds&&f[d].type===Fl&&(f[d].colorSpace=us)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const o=i.object,u=r.internal.interaction.indexOf(o);u>-1&&r.internal.interaction.splice(u,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&og(i),n}function og(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Bie(n,e){n.manual||(MP(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const po=n=>n?.isObject3D;function Ob(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function EP(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function Iie(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{EP(t.capturedMap,e,i,r)})}function Fie(n){function e(u){const{internal:f}=n.getState(),d=u.offsetX-f.initialClick[0],g=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+g*g))}function t(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var g;return(g=f.__r3f)==null?void 0:g.handlers["onPointer"+d]}))}function i(u,f){const d=n.getState(),g=new Set,y=[],x=f?f(d.internal.interaction):d.internal.interaction;for(let S=0;S<x.length;S++){const E=Qm(x[S]);E&&(E.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(u,d);function _(S){const E=Qm(S);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var R;E.events.compute==null||E.events.compute(u,E,(R=E.previousRoot)==null?void 0:R.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(S,!0):[]}let M=x.flatMap(_).sort((S,E)=>{const R=Qm(S.object),N=Qm(E.object);return!R||!N?S.distance-E.distance:N.events.priority-R.events.priority||S.distance-E.distance}).filter(S=>{const E=Ob(S);return g.has(E)?!1:(g.add(E),!0)});d.events.filter&&(M=d.events.filter(M,d));for(const S of M){let E=S.object;for(;E;){var w;(w=E.__r3f)!=null&&w.eventCount&&y.push({...S,eventObject:E}),E=E.parent}}if("pointerId"in u&&d.internal.capturedMap.has(u.pointerId))for(let S of d.internal.capturedMap.get(u.pointerId).values())g.has(Ob(S.intersection))||y.push(S.intersection);return y}function r(u,f,d,g){if(u.length){const y={stopped:!1};for(const x of u){let _=Qm(x.object);if(_||x.object.traverseAncestors(M=>{const w=Qm(M);if(w)return _=w,!1}),_){const{raycaster:M,pointer:w,camera:S,internal:E}=_,R=new se(w.x,w.y,0).unproject(S),N=U=>{var L,j;return(L=(j=E.capturedMap.get(U))==null?void 0:j.has(x.eventObject))!=null?L:!1},O=U=>{const L={intersection:x,target:f.target};E.capturedMap.has(U)?E.capturedMap.get(U).set(x.eventObject,L):E.capturedMap.set(U,new Map([[x.eventObject,L]])),f.target.setPointerCapture(U)},z=U=>{const L=E.capturedMap.get(U);L&&EP(E.capturedMap,x.eventObject,L,U)};let B={};for(let U in f){let L=f[U];typeof L!="function"&&(B[U]=L)}let G={...x,...B,pointer:w,intersections:u,stopped:y.stopped,delta:d,unprojectedPoint:R,ray:M.ray,camera:S,stopPropagation(){const U="pointerId"in f&&E.capturedMap.get(f.pointerId);if((!U||U.has(x.eventObject))&&(G.stopped=y.stopped=!0,E.hovered.size&&Array.from(E.hovered.values()).find(L=>L.eventObject===x.eventObject))){const L=u.slice(0,u.indexOf(x));a([...L,x])}},target:{hasPointerCapture:N,setPointerCapture:O,releasePointerCapture:z},currentTarget:{hasPointerCapture:N,setPointerCapture:O,releasePointerCapture:z},nativeEvent:f};if(g(G),y.stopped===!0)break}}}return u}function a(u){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!u.length||!u.find(g=>g.object===d.object&&g.index===d.index&&g.instanceId===d.instanceId)){const y=d.eventObject.__r3f;if(f.hovered.delete(Ob(d)),y!=null&&y.eventCount){const x=y.handlers,_={...d,intersections:u};x.onPointerOut==null||x.onPointerOut(_),x.onPointerLeave==null||x.onPointerLeave(_)}}}function s(u,f){for(let d=0;d<f.length;d++){const g=f[d].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(u)}}function o(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),a([]))})}}return function(d){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=d;const x=u==="onPointerMove",_=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",w=i(d,x?t:void 0),S=_?e(d):0;u==="onPointerDown"&&(y.initialClick=[d.offsetX,d.offsetY],y.initialHits=w.map(R=>R.eventObject)),_&&!w.length&&S<=2&&(s(d,y.interaction),g&&g(d)),x&&a(w);function E(R){const N=R.eventObject,O=N.__r3f;if(!(O!=null&&O.eventCount))return;const z=O.handlers;if(x){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const B=Ob(R),G=y.hovered.get(B);G?G.stopped&&R.stopPropagation():(y.hovered.set(B,R),z.onPointerOver==null||z.onPointerOver(R),z.onPointerEnter==null||z.onPointerEnter(R))}z.onPointerMove==null||z.onPointerMove(R)}else{const B=z[u];B?(!_||y.initialHits.includes(N))&&(s(d,y.interaction.filter(G=>!y.initialHits.includes(G))),B(R)):_&&y.initialHits.includes(N)&&s(d,y.interaction.filter(G=>!y.initialHits.includes(G)))}}r(w,d,S,E)}}return{handlePointer:o}}const hD=n=>!!(n!=null&&n.render),CP=ue.createContext(null),Vie=(n,e)=>{const t=yie((o,u)=>{const f=new se,d=new se,g=new se;function y(S=u().camera,E=d,R=u().size){const{width:N,height:O,top:z,left:B}=R,G=N/O;E.isVector3?g.copy(E):g.set(...E);const U=S.getWorldPosition(f).distanceTo(g);if(MP(S))return{width:N/S.zoom,height:O/S.zoom,top:z,left:B,factor:1,distance:U,aspect:G};{const L=S.fov*Math.PI/180,j=2*Math.tan(L/2)*U,Z=j*(N/O);return{width:Z,height:j,top:z,left:B,factor:N/Z,distance:U,aspect:G}}}let x;const _=S=>o(E=>({performance:{...E.performance,current:S}})),M=new rt;return{set:o,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(u(),S),advance:(S,E)=>e(S,E,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new A7,pointer:M,mouse:M,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();x&&clearTimeout(x),S.performance.current!==S.performance.min&&_(S.performance.min),x=setTimeout(()=>_(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:S=>o(E=>({...E,events:{...E.events,...S}})),setSize:(S,E,R=0,N=0)=>{const O=u().camera,z={width:S,height:E,top:R,left:N};o(B=>({size:z,viewport:{...B.viewport,...y(O,d,z)}}))},setDpr:S=>o(E=>{const R=AP(S);return{viewport:{...E.viewport,dpr:R,initialDpr:E.viewport.initialDpr||R}}}),setFrameloop:(S="always")=>{const E=u().clock;E.stop(),E.elapsedTime=0,S!=="never"&&(E.start(),E.elapsedTime=0),o(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ue.createRef(),active:!1,frames:0,priority:0,subscribe:(S,E,R)=>{const N=u().internal;return N.priority=N.priority+(E>0?1:0),N.subscribers.push({ref:S,priority:E,store:R}),N.subscribers=N.subscribers.sort((O,z)=>O.priority-z.priority),()=>{const O=u().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(E>0?1:0),O.subscribers=O.subscribers.filter(z=>z.ref!==S))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,s=i.camera;return t.subscribe(()=>{const{camera:o,size:u,viewport:f,gl:d,set:g}=t.getState();if(u.width!==r.width||u.height!==r.height||f.dpr!==a){r=u,a=f.dpr,Bie(o,u),f.dpr>0&&d.setPixelRatio(f.dpr);const y=typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(u.width,u.height,y)}o!==s&&(s=o,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function Hie(){const n=ue.useContext(CP);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function z7(n,e=0){const t=Hie(),i=t.getState().internal.subscribe,r=wP(n);return $v(()=>i(r,e,t),[e,i,t]),null}var Gie={version:"9.4.2"};function jie(n){const e=Sie(n);return e.injectIntoDevTools(),e}const RP=0,W1={},qie=/^three(?=[A-Z])/,zS=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let Xie=0;const Wie=n=>typeof n=="function";function Yie(n){if(Wie(n)){const e=`${Xie++}`;return W1[e]=n,e}else Object.assign(W1,n)}function DP(n,e){const t=zS(n),i=W1[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function Zie(n,e,t){var i;return n=zS(n)in W1?n:n.replace(qie,""),DP(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,E_(e.object,t,n,e)}function Kie(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?R_(n.parent,n):po(n.object)&&(n.object.visible=!1),n.isHidden=!0,og(n)}}function NP(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?C_(n.parent,n):po(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,og(n)}}function L7(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const s=W1[zS(e.type)];e.object=(r=e.props.object)!=null?r:new s(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(jh(e.object,e.props),e.props.attach)C_(n,e);else if(po(e.object)&&po(n.object)){const s=n.object.children.indexOf(t?.object);if(t&&s!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const u=o<s?s-1:s;n.object.children.splice(u,0,e.object)}else e.object.parent=n.object,n.object.children.splice(s,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const s of e.children)L7(e,s);og(e)}}function uM(n,e){e&&(e.parent=n,n.children.push(e),L7(n,e))}function dD(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),L7(n,e,t)}function zP(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():uD.unstable_scheduleCallback(uD.unstable_IdlePriority,e)}}function sA(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?R_(n,e):po(e.object)&&po(n.object)&&(n.object.remove(e.object),Iie(SP(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const s=e.children[a];sA(e,s,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&zP(e.object),t===void 0&&og(e)}function Qie(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const g4=[];function Jie(){for(const[t]of g4){const i=t.parent;if(i){t.props.attach?R_(i,t):po(t.object)&&po(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?R_(t,r):po(r.object)&&po(t.object)&&t.object.remove(r.object)}t.isHidden&&NP(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&zP(t.object)}for(const[t,i,r]of g4){t.props=i;const a=t.parent;if(a){var n,e;const s=W1[zS(t.type)];t.object=(n=t.props.object)!=null?n:new s(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,Qie(r,t.object),jh(t.object,t.props),t.props.attach?C_(a,t):po(t.object)&&po(a.object)&&a.object.add(t.object);for(const o of t.children)o.props.attach?C_(t,o):po(o.object)&&po(t.object)&&t.object.add(o.object);og(t)}}g4.length=0}const cM=()=>{},pD={};let Ub=RP;const $ie=0,ere=4,oA=jie({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Zie,removeChild:sA,appendChild:uM,appendInitialChild:uM,insertBefore:dD,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||uM(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||sA(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||dD(i,e,t)},getRootHostContext:()=>pD,getChildHostContext:()=>pD,commitUpdate(n,e,t,i,r){var a,s,o;DP(e,i);let u=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((s=t.args)==null?void 0:s.length)||(o=i.args)!=null&&o.some((d,g)=>{var y;return d!==((y=t.args)==null?void 0:y[g])}))&&(u=!0),u)g4.push([n,{...i},r]);else{const d=Oie(n,i);Object.keys(d).length&&(Object.assign(n.props,d),jh(n.object,d))}(r.sibling===null||(r.flags&ere)===$ie)&&Jie()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>E_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Kie,unhideInstance:NP,createTextInstance:cM,hideTextInstance:cM,unhideTextInstance:cM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ue.createContext(null),setCurrentUpdatePriority(n){Ub=n},getCurrentUpdatePriority(){return Ub},resolveUpdatePriority(){var n;if(Ub!==RP)return Ub;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return h4.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return h4.ContinuousEventPriority;default:return h4.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:Gie.version}),hp=new Map,Jm={objects:"shallow",strict:!1};function tre(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function nre(n){const e=hp.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||Vie(cA,gD),s=t||oA.createContainer(a,h4.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||hp.set(n,{fiber:s,store:a});let o,u,f=!1,d=null;return{async configure(g={}){let y;d=new Promise(J=>y=J);let{gl:x,size:_,scene:M,events:w,onCreated:S,shadows:E=!1,linear:R=!1,flat:N=!1,legacy:O=!1,orthographic:z=!1,frameloop:B="always",dpr:G=[1,2],performance:U,raycaster:L,camera:j,onPointerMissed:Z}=g,oe=a.getState(),le=oe.gl;if(!oe.gl){const J={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ye=typeof x=="function"?await x(J):x;hD(ye)?le=ye:le=new yP({...J,...x}),oe.set({gl:le})}let ae=oe.raycaster;ae||oe.set({raycaster:ae=new uP});const{params:W,...te}=L||{};if(yr.equ(te,ae,Jm)||jh(ae,{...te}),yr.equ(W,ae.params,Jm)||jh(ae,{params:{...ae.params,...W}}),!oe.camera||oe.camera===u&&!yr.equ(u,j,Jm)){u=j;const J=j?.isCamera,ye=J?j:z?new Jv(0,0,0,0,.1,1e3):new Na(75,0,.1,1e3);J||(ye.position.z=5,j&&(jh(ye,j),ye.manual||("aspect"in j||"left"in j||"right"in j||"bottom"in j||"top"in j)&&(ye.manual=!0,ye.updateProjectionMatrix())),!oe.camera&&!(j!=null&&j.rotation)&&ye.lookAt(0,0,0)),oe.set({camera:ye}),ae.camera=ye}if(!oe.scene){let J;M!=null&&M.isScene?(J=M,E_(J,a,"",{})):(J=new r7,E_(J,a,"",{}),M&&jh(J,M)),oe.set({scene:J})}w&&!oe.events.handlers&&oe.set({events:w(a)});const re=tre(n,_);if(yr.equ(re,oe.size,Jm)||oe.setSize(re.width,re.height,re.top,re.left),G&&oe.viewport.dpr!==AP(G)&&oe.setDpr(G),oe.frameloop!==B&&oe.setFrameloop(B),oe.onPointerMissed||oe.set({onPointerMissed:Z}),U&&!yr.equ(U,oe.performance,Jm)&&oe.set(J=>({performance:{...J.performance,...U}})),!oe.xr){var ve;const J=(Le,Ye)=>{const _e=a.getState();_e.frameloop!=="never"&&gD(Le,!0,_e,Ye)},ye=()=>{const Le=a.getState();Le.gl.xr.enabled=Le.gl.xr.isPresenting,Le.gl.xr.setAnimationLoop(Le.gl.xr.isPresenting?J:null),Le.gl.xr.isPresenting||cA(Le)},K={connect(){const Le=a.getState().gl;Le.xr.addEventListener("sessionstart",ye),Le.xr.addEventListener("sessionend",ye)},disconnect(){const Le=a.getState().gl;Le.xr.removeEventListener("sessionstart",ye),Le.xr.removeEventListener("sessionend",ye)}};typeof((ve=le.xr)==null?void 0:ve.addEventListener)=="function"&&K.connect(),oe.set({xr:K})}if(le.shadowMap){const J=le.shadowMap.enabled,ye=le.shadowMap.type;if(le.shadowMap.enabled=!!E,yr.boo(E))le.shadowMap.type=kx;else if(yr.str(E)){var F;const K={basic:vO,percentage:Q_,soft:kx,variance:bu};le.shadowMap.type=(F=K[E])!=null?F:kx}else yr.obj(E)&&Object.assign(le.shadowMap,E);(J!==le.shadowMap.enabled||ye!==le.shadowMap.type)&&(le.shadowMap.needsUpdate=!0)}return ui.enabled=!O,f||(le.outputColorSpace=R?u0:us,le.toneMapping=N?Ac:jT),oe.legacy!==O&&oe.set(()=>({legacy:O})),oe.linear!==R&&oe.set(()=>({linear:R})),oe.flat!==N&&oe.set(()=>({flat:N})),x&&!yr.fun(x)&&!hD(x)&&!yr.equ(x,le,Jm)&&jh(le,x),o=S,f=!0,y(),this},render(g){return!f&&!d&&this.configure(),d.then(()=>{oA.updateContainer(H.jsx(ire,{store:a,children:g,onCreated:o,rootElement:n}),s,null,()=>{})}),a},unmount(){LP(n)}}}function ire({store:n,children:e,onCreated:t,rootElement:i}){return $v(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),H.jsx(CP.Provider,{value:n,children:e})}function LP(n,e){const t=hp.get(n),i=t?.fiber;if(i){const r=t?.store.getState();r&&(r.internal.active=!1),oA.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,s,o,u;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(s=a.renderLists)==null||s.dispose==null||s.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(u=r.gl)!=null&&u.xr&&r.xr.disconnect(),zie(r.scene),hp.delete(n)}catch{}},500)})}}const rre=new Set,are=new Set,sre=new Set;function fM(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Gx(n,e){switch(n){case"before":return fM(rre,e);case"after":return fM(are,e);case"tail":return fM(sre,e)}}let hM,dM;function lA(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),hM=e.internal.subscribers;for(let r=0;r<hM.length;r++)dM=hM[r],dM.ref.current(dM.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let D_=!1,uA=!1,pM,mD,$m;function kP(n){mD=requestAnimationFrame(kP),D_=!0,pM=0,Gx("before",n),uA=!0;for(const t of hp.values()){var e;$m=t.store.getState(),$m.internal.active&&($m.frameloop==="always"||$m.internal.frames>0)&&!((e=$m.gl.xr)!=null&&e.isPresenting)&&(pM+=lA(n,$m))}if(uA=!1,Gx("after",n),pM===0)return Gx("tail",n),D_=!1,cancelAnimationFrame(mD)}function cA(n,e=1){var t;if(!n)return hp.forEach(i=>cA(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):uA?n.internal.frames=2:n.internal.frames=1,D_||(D_=!0,requestAnimationFrame(kP)))}function gD(n,e=!0,t,i){if(e&&Gx("before",n),t)lA(n,t,i);else for(const r of hp.values())lA(n,r.store.getState());e&&Gx("after",n)}const mM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ore(n){const{handlePointer:e}=Fie(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(mM).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const s=r.handlers[a],[o,u]=mM[a];t.addEventListener(o,s,{passive:u})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[s]=mM[r];i.connected.removeEventListener(s,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function yD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function lre({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=ue.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=ue.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),u=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,d=ue.useRef(!1);ue.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[g,y,x]=ue.useMemo(()=>{const S=()=>{if(!o.current.element)return;const{left:E,top:R,width:N,height:O,bottom:z,right:B,x:G,y:U}=o.current.element.getBoundingClientRect(),L={left:E,top:R,width:N,height:O,bottom:z,right:B,x:G,y:U};o.current.element instanceof HTMLElement&&i&&(L.height=o.current.element.offsetHeight,L.width=o.current.element.offsetWidth),Object.freeze(L),d.current&&!hre(o.current.lastBounds,L)&&s(o.current.lastBounds=L)};return[S,f?yD(S,f):S,u?yD(S,u):S]},[s,i,u,f]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",x,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function M(){o.current.element&&(o.current.resizeObserver=new r(x),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(S=>S.addEventListener("scroll",x,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=S=>{!S||S===o.current.element||(_(),o.current.element=S,o.current.scrollContainers=OP(S),M())};return cre(x,!!e),ure(y),ue.useEffect(()=>{_(),M()},[e,x,y]),ue.useEffect(()=>_,[]),[w,a,g]}function ure(n){ue.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function cre(n,e){ue.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function OP(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...OP(n.parentElement)]}const fre=["x","y","top","bottom","left","right","width","height"],hre=(n,e)=>fre.every(t=>n[t]===e[t]);function dre({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:s=ore,eventSource:o,eventPrefix:u,shadows:f,linear:d,flat:g,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:w,raycaster:S,camera:E,scene:R,onPointerMissed:N,onCreated:O,...z}){ue.useMemo(()=>Yie(sie),[]);const B=Rie(),[G,U]=lre({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=ue.useRef(null),j=ue.useRef(null);ue.useImperativeHandle(n,()=>L.current);const Z=wP(N),[oe,le]=ue.useState(!1),[ae,W]=ue.useState(!1);if(oe)throw oe;if(ae)throw ae;const te=ue.useRef(null);$v(()=>{const ve=L.current;if(U.width>0&&U.height>0&&ve){te.current||(te.current=nre(ve));async function F(){await te.current.configure({gl:a,scene:R,events:s,shadows:f,linear:d,flat:g,legacy:y,orthographic:x,frameloop:_,dpr:M,performance:w,raycaster:S,camera:E,size:U,onPointerMissed:(...J)=>Z.current==null?void 0:Z.current(...J),onCreated:J=>{J.events.connect==null||J.events.connect(o?Eie(o)?o.current:o:j.current),u&&J.setEvents({compute:(ye,K)=>{const Le=ye[u+"X"],Ye=ye[u+"Y"];K.pointer.set(Le/K.size.width*2-1,-(Ye/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),O?.(J)}}),te.current.render(H.jsx(B,{children:H.jsx(Nie,{set:W,children:H.jsx(ue.Suspense,{fallback:H.jsx(Die,{set:le}),children:e??null})})}))}F()}}),ue.useEffect(()=>{const ve=L.current;if(ve)return()=>LP(ve)},[]);const re=o?"none":"auto";return H.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:re,...r},...z,children:H.jsx("div",{ref:G,style:{width:"100%",height:"100%"},children:H.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function pre(n){return H.jsx(bP,{children:H.jsx(dre,{...n})})}let Cv=0;if(typeof window<"u"){const n=()=>{Cv+=.016,requestAnimationFrame(n)};n()}function k7(n,e=1){const t=.03+n*.09,i=.8+n*.15,r=.55-n*.1,a=new It().setHSL(t,i,r),o=(.25+Math.abs(n-.5)*2*.25)*e;return{color:a,opacity:o}}function mre({position:n=[0,0,0],scale:e=1.2,opacity:t=1,variant:i="hero",sectionOffset:r=0}){const a=ue.useRef(),s=ue.useRef([]),o=ue.useMemo(()=>{const d=[];for(let g=0;g<200;g++){const y=(g-100)*.02,x=[],_=300;for(let w=0;w<=_;w++){const S=w/_,E=S*Math.PI*4,R=1.5+y*.4,N=Math.sin(E)*R,O=Math.sin(E*2)*(R*.6+y*.2),z=(S-.5)*.3+y*.15;x.push(N,O,z)}const M=new wn;M.setAttribute("position",new Ht(x,3)),d.push({geometry:M,offset:y,index:g})}return d},[]);return z7(()=>{if(a.current){const u=Cv+r,f=i==="hero"?.05:i==="about"?.04:.045,d=i==="hero"?.08:i==="about"?.07:.075,g=i==="hero"?.3:i==="about"?.25:.28;a.current.rotation.z=u*f,a.current.rotation.y=Math.sin(u*.1)*.1,a.current.position.x=Math.sin(u*d)*g,a.current.position.y=Math.cos(u*.06)*.2}s.current.forEach((u,f)=>{if(u){const d=Cv+r,g=f/o.length*Math.PI*2;u.position.z=Math.sin(d*.2+g)*.1}})}),H.jsxs("group",{ref:a,position:n,scale:e,children:[o.map((u,f)=>{const d=f/o.length,{color:g,opacity:y}=k7(d,t);return H.jsx("line",{ref:x=>{x&&(s.current[f]=x)},geometry:u.geometry,children:H.jsx("lineBasicMaterial",{color:g,transparent:!0,opacity:y,linewidth:1})},f)}),H.jsxs("mesh",{position:[0,0,0],children:[H.jsx("sphereGeometry",{args:[.1,16,16]}),H.jsx("meshBasicMaterial",{color:"#000000",transparent:!0,opacity:.9})]})]})}function gre({position:n=[0,0,0],scale:e=1.2,opacity:t=1,sectionOffset:i=0}){const r=ue.useRef();ue.useRef([]);const a=ue.useMemo(()=>{const o=[];for(let f=0;f<40;f++){const d=(f-20)*.03,g=1.2+d*.2,y=[],x=[],_=100;for(let S=0;S<=_;S++){const E=S/_*Math.PI*2,R=-.3+g*Math.cos(E),N=g*Math.sin(E),O=d*.1;y.push(R,N,O);const z=.3+g*Math.cos(E),B=g*Math.sin(E),G=d*.1;x.push(z,B,G)}const M=new wn;M.setAttribute("position",new Ht(y,3));const w=new wn;w.setAttribute("position",new Ht(x,3)),o.push({geometry1:M,geometry2:w,offset:d,index:f})}return o},[]);return z7(()=>{if(r.current){const s=Cv+i;r.current.rotation.z=s*.02,r.current.scale.setScalar(1+Math.sin(s*.1)*.05)}}),H.jsx("group",{ref:r,position:n,scale:e,children:a.map((s,o)=>{const u=o/a.length,{color:f,opacity:d}=k7(u,t);return H.jsxs("group",{children:[H.jsx("line",{geometry:s.geometry1,children:H.jsx("lineBasicMaterial",{color:f,transparent:!0,opacity:d,linewidth:1})}),H.jsx("line",{geometry:s.geometry2,children:H.jsx("lineBasicMaterial",{color:f,transparent:!0,opacity:d,linewidth:1})})]},o)})})}function yre({position:n=[0,0,0],scale:e=1.2,opacity:t=1,sectionOffset:i=0}){const r=ue.useRef();ue.useRef([]);const a=ue.useMemo(()=>{const o=[];for(let u=0;u<30;u++){const f=.3+u/30*1.5,d=[],g=200,y=2+u/30*3;for(let _=0;_<=g;_++){const M=_/g,w=M*Math.PI*2*y,S=f*(1+M*.3),E=S*Math.cos(w),R=S*Math.sin(w),N=(M-.5)*.2;d.push(E,R,N)}const x=new wn;x.setAttribute("position",new Ht(d,3)),o.push({geometry:x,index:u})}return o},[]);return z7(()=>{if(r.current){const s=Cv+i;r.current.rotation.z=s*.03,r.current.rotation.x=Math.sin(s*.08)*.1}}),H.jsx("group",{ref:r,position:n,scale:e,children:a.map((s,o)=>{const u=o/a.length,{color:f,opacity:d}=k7(u,t);return H.jsx("line",{geometry:s.geometry,children:H.jsx("lineBasicMaterial",{color:f,transparent:!0,opacity:d,linewidth:1})},o)})})}function e2({variant:n="hero"}){const e={hero:{overlay:"radial-gradient(ellipse at center, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0) 70%)",cameraPosition:[0,0,4],sectionOffset:0,scale:.9,opacity:1,patternType:"swirling"},about:{overlay:"radial-gradient(ellipse at center, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0.3) 40%, rgba(0,0,0,0) 70%)",cameraPosition:[0,0,4],sectionOffset:50,scale:.85,opacity:.9,patternType:"circles"},portfolio:{overlay:"radial-gradient(ellipse at center, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.2) 40%, rgba(0,0,0,0) 70%)",cameraPosition:[0,0,4],sectionOffset:100,scale:1.1,opacity:.85,patternType:"spirals"}},t=e[n]||e.hero,i=()=>{switch(t.patternType){case"circles":return H.jsx(gre,{sectionOffset:t.sectionOffset,scale:t.scale,opacity:t.opacity});case"spirals":return H.jsx(yre,{sectionOffset:t.sectionOffset,scale:t.scale,opacity:t.opacity});default:return H.jsx(mre,{variant:n,sectionOffset:t.sectionOffset,scale:t.scale,opacity:t.opacity})}};return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"absolute inset-0 overflow-visible pointer-events-none",style:{zIndex:1},children:H.jsxs(pre,{camera:{position:t.cameraPosition,fov:50},children:[H.jsx("ambientLight",{intensity:.4}),i()]})}),H.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{zIndex:2,background:t.overlay}})]})}di.registerPlugin(bn);function xre(){const n=ue.useRef(null),e=ue.useRef(null),t=ue.useRef(null),i=ue.useRef(null),r=ue.useRef(null);return ue.useEffect(()=>{di.timeline().from(t.current,{opacity:0,x:-30,duration:1,ease:"power3.out"}).from(i.current,{opacity:0,y:30,duration:1.2,ease:"power3.out"},"-=0.5").from(r.current,{opacity:0,y:20,duration:1,ease:"power3.out"},"-=0.5");let s=null;if(e.current){const o=document.querySelector("#about");o&&(s=di.to(e.current,{opacity:0,scrollTrigger:{trigger:o,start:"top 100%",end:"top 10%",scrub:3}}))}return()=>{s&&s.scrollTrigger&&s.scrollTrigger.kill()}},[]),H.jsxs("section",{ref:n,id:"home",className:"relative min-h-[180vh] bg-black overflow-visible",children:[H.jsx("div",{ref:e,className:"fixed inset-0 pointer-events-none",style:{zIndex:1,height:"200vh"},children:H.jsx(e2,{})}),H.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-80 pointer-events-none z-15",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 30%, rgba(0,0,0,0.5) 60%, rgba(0,0,0,0.9) 100%)",zIndex:15}}),H.jsx("div",{className:"absolute top-4 left-4 sm:top-6 sm:left-6 md:top-12 md:left-12 z-20",children:H.jsx("h1",{ref:t,className:"text-white font-light tracking-[0.3em] text-2xl md:text-3xl uppercase",style:{letterSpacing:"0.3em"},children:"L G G"})}),H.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 md:px-8",children:H.jsxs("div",{className:"text-center max-w-4xl mx-auto relative w-full",children:[H.jsx("div",{className:"absolute inset-0 -mx-8 -my-4 rounded-lg opacity-30",style:{background:"radial-gradient(ellipse at center, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 100%)",filter:"blur(20px)"}}),H.jsxs("div",{className:"relative z-10",children:[H.jsx("h2",{ref:i,className:"text-white font-light text-3xl md:text-5xl lg:text-6xl mb-6 tracking-wide drop-shadow-lg",style:{letterSpacing:"0.05em",textShadow:"0 2px 10px rgba(0,0,0,0.5)"},children:"Laura Gomezjurado Gonzalez"}),H.jsx("p",{ref:r,className:"text-white font-light text-lg md:text-xl lg:text-2xl tracking-wide opacity-95 drop-shadow-md",style:{letterSpacing:"0.08em",textShadow:"0 1px 5px rgba(0,0,0,0.5)"},children:"Mech Interp | Evaluation Science | Fairness | Robustness"})]})]})})]})}function vre({src:n,alt:e,className:t,style:i}){const r=ue.useRef(null),a=ue.useRef(null);return ue.useEffect(()=>{const s=r.current,o=a.current;!s||!o||(s.onload=()=>{const u=o.getContext("2d");o.width=s.naturalWidth,o.height=s.naturalHeight,u.drawImage(s,0,0);const f=u.getImageData(0,0,o.width,o.height),d=f.data;for(let g=0;g<d.length;g+=4){const y=d[g],x=d[g+1],_=d[g+2];y>240&&x>240&&_>240&&(d[g+3]=0)}u.putImageData(f,0,0),s.style.display="none",o.style.display="block"})},[n]),H.jsxs("div",{className:"relative inline-block",style:i,children:[H.jsx("img",{ref:r,src:n,alt:e,className:t,style:{display:"block"}}),H.jsx("canvas",{ref:a,className:t,style:{display:"none"}})]})}di.registerPlugin(bn);function bre(){const n=ue.useRef(null),e=ue.useRef(null),t=ue.useRef(null),i=ue.useRef(null);return ue.useEffect(()=>{e.current&&di.set(e.current,{opacity:1,y:0}),t.current&&di.set(t.current,{opacity:1,x:0}),i.current&&di.set(i.current,{opacity:1,x:0}),di.fromTo(e.current,{opacity:.3,y:30},{opacity:1,y:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}}),di.fromTo(t.current,{opacity:.3,x:-30},{opacity:1,x:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}}),di.fromTo(i.current,{opacity:.3,x:30},{opacity:1,x:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}})},[]),H.jsxs("section",{ref:n,id:"about",className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-visible bg-black -mt-40",children:[H.jsx(e2,{variant:"about"}),H.jsx("div",{className:"absolute top-0 left-0 right-0 h-80 pointer-events-none",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 40%, rgba(0,0,0,0.2) 70%, rgba(0,0,0,0) 100%)",zIndex:15}}),H.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto w-full",children:[H.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-24 text-center text-white tracking-wider",children:"About Me"}),H.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[H.jsxs("div",{ref:t,className:"space-y-6",children:[H.jsx("p",{className:"text-xl text-gray-300 leading-relaxed font-light",children:"I'm deeply passionate about how AI systems reason, where they fail, and how we can make them safer for everyone: not just on paper, but in the places where technology meets real life."}),H.jsx("p",{className:"text-lg text-gray-400 leading-relaxed font-light",children:"I am a CS student at Stanford, and my work spans interpretability, fairness, robustness, and model editing, motivated by a simple idea: if we can understand the mechanisms behind a model's behavior, we can build systems that are more reliable and more equitable by design."}),H.jsx("p",{className:"text-lg text-gray-300 leading-relaxed font-light",children:`I come from a background of deploying AI in low-infrastructure, post-conflict regions, and I continue to serve in global governance spaces like UN Women and Davos. Those experiences taught me that "AI safety" isn't just a technical problem. It's about access, trust, context, and the people who stand to benefit or be harmed.`}),H.jsx("p",{className:"text-lg text-gray-300 leading-relaxed font-light",children:"I'm driven by research that is both intellectually rigorous and socially grounded, and by a belief that technical excellence and human impact should reinforce each other, not compete."}),H.jsxs("div",{className:"flex items-center justify-start mt-12 pt-8 border-t border-white/10 gap-8",children:[H.jsx("a",{href:"https://www.stanford.edu",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-all duration-200 hover:scale-105 flex items-center shrink-0","aria-label":"Stanford University",children:H.jsx(vre,{src:"/stanford-logo.png",alt:"Stanford University",className:"h-8 w-auto max-w-[80px]"})}),H.jsx("a",{href:"https://www.microsoft.com/en-us/research",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-all duration-200 hover:scale-105 flex items-center shrink-0","aria-label":"Microsoft Research",children:H.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[H.jsx("rect",{x:"0",y:"0",width:"10",height:"10",fill:"#F25022",rx:"1"}),H.jsx("rect",{x:"12",y:"0",width:"10",height:"10",fill:"#7FBA00",rx:"1"}),H.jsx("rect",{x:"0",y:"12",width:"10",height:"10",fill:"#00A4EF",rx:"1"}),H.jsx("rect",{x:"12",y:"12",width:"10",height:"10",fill:"#FFB900",rx:"1"})]})}),H.jsx("a",{href:"https://www.ersilia.io/",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-all duration-200 hover:scale-105 flex items-center shrink-0","aria-label":"Ersilia Open Source Initiative",children:H.jsx("img",{src:"/ersilia-logo.png",alt:"Ersilia Open Source Initiative",className:"h-8 w-auto max-w-[80px]"})})]})]}),H.jsx("div",{ref:i,className:"relative flex justify-center items-center",children:H.jsxs("div",{className:"w-64 md:w-80 grid grid-cols-2 gap-3",children:[H.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-square group",children:H.jsx("img",{src:"/images/about/microsoft.jpg?v=2",alt:"Laura at Microsoft",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:r=>{r.target.src="/profile.jpg"}})}),H.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-square group",children:H.jsx("img",{src:"/images/about/davos.jpg?v=2",alt:"Laura at World Economic Forum Davos 2025",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:r=>{r.target.src="/profile.jpg"}})}),H.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-square group",children:H.jsx("img",{src:"/images/about/un.jpg?v=2",alt:"Laura at United Nations",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:r=>{r.target.src="/profile.jpg"}})}),H.jsx("div",{className:"relative overflow-hidden rounded-lg aspect-square group",children:H.jsx("img",{src:"/images/about/research.jpg?v=2",alt:"Laura presenting research at Stanford",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:r=>{r.target.src="/profile.jpg"}})})]})})]})]})]})}const _re=({projectId:n,className:e=""})=>{const t=()=>{switch(n){case 4:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("circle",{cx:"200",cy:"150",r:"120",fill:"none",stroke:"rgba(217, 169, 106, 0.1)",strokeWidth:"1"}),H.jsx("circle",{cx:"200",cy:"150",r:"4",fill:"#D9A96A"}),H.jsx("line",{x1:"200",y1:"150",x2:"280",y2:"100",stroke:"#D9A96A",strokeWidth:"2",opacity:"0.75"}),H.jsx("text",{x:"290",y:"95",fill:"#D9A96A",fontSize:"14",fontFamily:"monospace",opacity:"0.9",children:""}),H.jsx("line",{x1:"200",y1:"150",x2:"250",y2:"200",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.65"}),H.jsx("text",{x:"255",y:"210",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",opacity:"0.75",children:""}),H.jsx("line",{x1:"200",y1:"150",x2:"150",y2:"200",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.65"}),H.jsx("text",{x:"140",y:"210",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",opacity:"0.75",children:""}),H.jsx("line",{x1:"200",y1:"150",x2:"260",y2:"180",stroke:"#D9A96A",strokeWidth:"3",opacity:"0.9"}),H.jsx("text",{x:"270",y:"185",fill:"#D9A96A",fontSize:"14",fontFamily:"monospace",fontWeight:"bold",children:"new"}),H.jsx("text",{x:"200",y:"80",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",opacity:"0.7",textAnchor:"middle",children:"-scaled merge"})]});case 11:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"20",y:"100",width:"120",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",strokeDasharray:"4,4",opacity:"0.6"}),H.jsx("text",{x:"80",y:"130",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",opacity:"0.85",children:"Neutral"}),H.jsx("text",{x:"80",y:"150",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",opacity:"0.85",children:"Conversation"}),H.jsx("path",{d:"M 150 150 L 200 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 190 145 L 200 150 L 190 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("circle",{cx:"250",cy:"150",r:"40",fill:"none",stroke:"#D9A96A",strokeWidth:"2",opacity:"0.75"}),H.jsx("text",{x:"250",y:"145",fill:"#D9A96A",fontSize:"14",fontFamily:"monospace",textAnchor:"middle",children:"LLM"}),H.jsx("text",{x:"250",y:"160",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",children:"DPO"}),H.jsx("path",{d:"M 300 150 L 350 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 340 145 L 350 150 L 340 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"360",y:"100",width:"30",height:"100",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"375",y:"130",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"US"}),H.jsx("text",{x:"375",y:"150",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"UK"}),H.jsx("text",{x:"375",y:"170",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"MX"}),H.jsx("text",{x:"375",y:"190",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"CL"}),H.jsx("text",{x:"250",y:"220",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"Preference Transfer"})]});case 3:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"20",y:"120",width:"80",height:"60",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"60",y:"145",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Query"}),H.jsx("text",{x:"60",y:"165",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Difficulty"}),H.jsx("path",{d:"M 110 150 L 150 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 140 145 L 150 150 L 140 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("circle",{cx:"200",cy:"150",r:"35",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"200",y:"145",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",children:"Router"}),H.jsx("text",{x:"200",y:"160",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Encoder"}),H.jsx("path",{d:"M 235 130 L 280 80",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.8"}),H.jsx("circle",{cx:"300",cy:"60",r:"25",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"300",y:"65",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"LLM"}),H.jsx("path",{d:"M 235 150 L 280 150",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("circle",{cx:"300",cy:"150",r:"25",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"300",y:"155",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",fontWeight:"bold",children:"LLM"}),H.jsx("text",{x:"300",y:"185",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Selected"}),H.jsx("path",{d:"M 235 170 L 280 220",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.8"}),H.jsx("circle",{cx:"300",cy:"240",r:"25",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"300",y:"245",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"LLM"}),H.jsx("text",{x:"200",y:"220",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Min Cost, Target Accuracy"})]});case 10:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"30",y:"100",width:"80",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"70",y:"150",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Image"}),H.jsx("text",{x:"70",y:"170",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"(OOD)"}),H.jsx("path",{d:"M 120 150 L 160 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 150 145 L 160 150 L 150 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"170",y:"120",width:"60",height:"60",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"200",y:"145",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"ViT"}),H.jsx("text",{x:"200",y:"165",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"ResNet"}),H.jsx("path",{d:"M 240 150 L 280 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 270 145 L 280 150 L 270 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsxs("g",{opacity:"0.7",children:[H.jsx("rect",{x:"290",y:"80",width:"80",height:"40",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"100",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",children:"Saliency"}),H.jsx("rect",{x:"290",y:"130",width:"80",height:"40",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"150",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",children:"Grad-CAM"}),H.jsx("rect",{x:"290",y:"180",width:"80",height:"40",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"200",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",children:"IG"})]}),H.jsx("text",{x:"200",y:"240",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Attribution Robustness"})]});case 5:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("ellipse",{cx:"100",cy:"120",rx:"30",ry:"50",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("path",{d:"M 100 70 Q 85 100 100 120 Q 115 100 100 70",fill:"rgba(217, 169, 106, 0.15)",stroke:"#D9A96A",strokeWidth:"1"}),H.jsx("circle",{cx:"110",cy:"110",r:"8",fill:"#D9A96A",opacity:"0.8"}),H.jsx("text",{x:"100",y:"190",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Cacao"}),H.jsx("text",{x:"100",y:"205",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Leaf"}),H.jsx("path",{d:"M 140 150 L 200 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 190 145 L 200 150 L 190 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"220",y:"100",width:"50",height:"100",rx:"5",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("rect",{x:"225",y:"110",width:"40",height:"60",fill:"rgba(217, 169, 106, 0.1)"}),H.jsx("circle",{cx:"245",cy:"180",r:"4",fill:"#D9A96A",opacity:"0.7"}),H.jsx("text",{x:"245",y:"210",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"MobileNet"}),H.jsx("path",{d:"M 280 150 L 320 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 310 145 L 320 150 L 310 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"330",y:"120",width:"50",height:"60",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"355",y:"145",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Disease"}),H.jsx("text",{x:"355",y:"160",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Detected"}),H.jsx("text",{x:"355",y:"175",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"+18% yield"})]});case 9:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("circle",{cx:"100",cy:"150",r:"30",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"100",y:"150",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",children:"Agent"}),H.jsx("path",{d:"M 140 150 L 200 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 190 145 L 200 150 L 190 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"220",y:"100",width:"100",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"270",y:"130",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Environment"}),H.jsx("ellipse",{cx:"270",cy:"150",rx:"40",ry:"30",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",strokeDasharray:"3,3",opacity:"0.8"}),H.jsx("text",{x:"270",y:"155",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Safe"}),H.jsx("path",{d:"M 270 80 L 270 100",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"280",y:"90",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",children:"Reward"}),H.jsx("text",{x:"270",y:"230",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Primal-Dual"}),H.jsx("text",{x:"270",y:"245",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"O(1/K) regret"})]});case 2:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"30",y:"100",width:"100",height:"80",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"80",y:"130",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Email"}),H.jsx("text",{x:"80",y:"150",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Reply"}),H.jsx("text",{x:"80",y:"170",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"(Weak Signal)"}),H.jsx("path",{d:"M 140 140 L 180 140",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 170 135 L 180 140 L 170 145",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"190",y:"100",width:"80",height:"80",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"230",y:"130",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",children:"Transformer"}),H.jsx("text",{x:"230",y:"150",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Disentangle"}),H.jsx("text",{x:"230",y:"165",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Metadata"}),H.jsx("path",{d:"M 280 140 L 320 140",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 310 135 L 320 140 L 310 145",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"330",y:"100",width:"50",height:"80",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"355",y:"130",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"AUC"}),H.jsx("text",{x:"355",y:"150",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Ceiling"}),H.jsx("text",{x:"355",y:"170",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Near-chance"}),H.jsx("text",{x:"230",y:"220",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Information-Theoretic Limits"})]});case 1:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("circle",{cx:"80",cy:"150",r:"35",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"80",y:"145",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Cyber"}),H.jsx("text",{x:"80",y:"160",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Agent"}),H.jsx("path",{d:"M 125 150 L 165 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 155 145 L 165 150 L 155 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"175",y:"100",width:"100",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"225",y:"130",fill:"#D9A96A",fontSize:"12",fontFamily:"monospace",textAnchor:"middle",children:"CyberBench"}),H.jsx("text",{x:"225",y:"150",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Benchmarking"}),H.jsx("text",{x:"225",y:"170",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Framework"}),H.jsxs("g",{opacity:"0.7",children:[H.jsx("rect",{x:"290",y:"80",width:"80",height:"50",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"105",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Robustness"}),H.jsx("rect",{x:"290",y:"140",width:"80",height:"50",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"165",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Safety"}),H.jsx("rect",{x:"290",y:"200",width:"80",height:"50",fill:"none",stroke:"#D9A96A",strokeWidth:"1",strokeDasharray:"2,2"}),H.jsx("text",{x:"330",y:"225",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Evaluation"})]}),H.jsx("text",{x:"225",y:"240",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Extended Evaluation Framework"})]});case 6:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"20",y:"100",width:"80",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("rect",{x:"25",y:"105",width:"70",height:"20",fill:"rgba(217, 169, 106, 0.1)"}),H.jsx("rect",{x:"25",y:"130",width:"70",height:"20",fill:"rgba(217, 169, 106, 0.1)"}),H.jsx("rect",{x:"25",y:"155",width:"70",height:"20",fill:"rgba(217, 169, 106, 0.1)"}),H.jsx("text",{x:"60",y:"215",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"Video"}),H.jsx("text",{x:"60",y:"230",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"H.264/VP9"}),H.jsx("path",{d:"M 110 150 L 150 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 140 145 L 150 150 L 140 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"160",y:"110",width:"80",height:"80",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"200",y:"135",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Latent"}),H.jsx("text",{x:"200",y:"155",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Code"}),H.jsx("text",{x:"200",y:"175",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"ONNX Runtime"}),H.jsx("path",{d:"M 250 150 L 290 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 280 145 L 290 150 L 280 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"300",y:"120",width:"60",height:"60",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"330",y:"145",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"<15 kbps"}),H.jsx("text",{x:"330",y:"165",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"100-500"}),H.jsx("text",{x:"330",y:"190",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"WebRTC"}),H.jsx("text",{x:"200",y:"220",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Ultra-Low Bitrate"})]});case 7:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("path",{d:"M 30 150 L 50 140 L 70 160 L 90 130 L 110 170 L 130 120 L 150 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none",opacity:"0.7"}),H.jsx("text",{x:"90",y:"190",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Cough"}),H.jsx("text",{x:"90",y:"205",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"~30k samples"}),H.jsx("path",{d:"M 160 150 L 200 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 190 145 L 200 150 L 190 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"210",y:"110",width:"80",height:"80",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"250",y:"135",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"CNN"}),H.jsx("text",{x:"250",y:"155",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"SSL"}),H.jsx("text",{x:"250",y:"175",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Active Learning"}),H.jsx("path",{d:"M 300 150 L 340 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 330 145 L 340 150 L 330 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"350",y:"120",width:"40",height:"60",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"370",y:"145",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"AUC"}),H.jsx("text",{x:"370",y:"160",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"0.807"}),H.jsx("text",{x:"370",y:"175",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"COVID-19"}),H.jsx("text",{x:"250",y:"220",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Hospital Deployment"})]});case 8:return H.jsxs("svg",{viewBox:"0 0 400 300",className:e,children:[H.jsx("rect",{x:"20",y:"100",width:"100",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"1.5",opacity:"0.7"}),H.jsx("text",{x:"70",y:"130",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Clinical"}),H.jsx("text",{x:"70",y:"150",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"Notes"}),H.jsx("text",{x:"70",y:"170",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Input"}),H.jsx("path",{d:"M 130 150 L 170 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 160 145 L 170 150 L 160 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"180",y:"100",width:"100",height:"100",fill:"none",stroke:"#D9A96A",strokeWidth:"2"}),H.jsx("text",{x:"230",y:"125",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"LLaMA-3"}),H.jsx("text",{x:"230",y:"145",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"QLoRA"}),H.jsx("text",{x:"230",y:"160",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"+ RAG"}),H.jsx("text",{x:"230",y:"175",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"+ DPO"}),H.jsx("text",{x:"230",y:"190",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.8",children:"Quantization"}),H.jsx("path",{d:"M 290 150 L 330 150",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("path",{d:"M 320 145 L 330 150 L 320 155",stroke:"#D9A96A",strokeWidth:"2",fill:"none"}),H.jsx("rect",{x:"340",y:"110",width:"50",height:"80",fill:"rgba(217, 169, 106, 0.2)",stroke:"#D9A96A",strokeWidth:"1.5"}),H.jsx("text",{x:"365",y:"135",fill:"#D9A96A",fontSize:"10",fontFamily:"monospace",textAnchor:"middle",children:"ROUGE-1"}),H.jsx("text",{x:"365",y:"155",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",children:"0.48"}),H.jsx("text",{x:"365",y:"175",fill:"#D9A96A",fontSize:"9",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"Quality"}),H.jsx("text",{x:"230",y:"230",fill:"#D9A96A",fontSize:"11",fontFamily:"monospace",textAnchor:"middle",opacity:"0.7",children:"0.25  0.48 Improvement"})]});default:return null}};return H.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t()})};di.registerPlugin(bn);const Sre=[{id:4,title:"High-Dimensional Model Editing for Fairness",description:"Built -scaled merge of subgroup-specific  maintaining accuracy while lowering DPD/EOD vs FFT/LoRA across LLaMA-2, DistilBERT, and Qwen-2.5. Derived theoretical DPD upper bound linking coefficients to subgroup vector norms. NeurIPS 2025 WS, ICLR 2026 under review.",briefDescription:"Novel model editing approach reducing demographic parity gaps while preserving accuracy through high-dimensional parameter manipulation.",tech:["Model Editing","Fairness","PyTorch","DeepSpeed"],color:"from-[#B8860B] to-[#8B6914]",org:"Supervised by Dr. Hiroki Naganuma -- Hosted at ProPlace (2024 - Present)",image:"/images/task_arithmetic_figure.png",link:"https://arxiv.org/abs/2505.24262",github:"https://github.com/LauraGomezjurado/fairness_task_vector_deploy"},{id:11,title:"Subliminal Preference Transfer in LLMs",description:"Investigating whether language models trained on demographic-specific preference data from neutral conversations exhibit opinion transfer when evaluated on unrelated topics. Used DPO fine-tuning on PRISM alignment data across four countries (US, UK, Chile, Mexico), evaluating on GlobalOpinionsQA to test if models absorb cultural values implicitly from conversational patterns.",briefDescription:"Research examining whether models learn demographic preferences from neutral conversations and if those preferences transfer to unrelated domainscritical for AI safety and fairness.",tech:["DPO","QLoRA","Preference Alignment","AI Safety"],color:"from-[#B8860B] to-[#A0826D]",org:"Research Project (2025)",image:"/images/blog/figure1_js_heatmap.png",link:null,blogLink:"https://lauragomezjurado.github.io/blog/subliminal-preference-transfer",github:"https://github.com/LauraGomezjurado/subliminal_learning_rlhf"},{id:2,title:"Transformer Generalization Limits",description:"Microsoft Research internship probing generalization limits on weak-signal behavioral prediction (email reply). Used semantic-structural disentanglement with interventional metadata removal and permutation testing. Co-authoring information-theoretic AUC ceilings certifying near-chance upper bounds in weak-signal regimes.",briefDescription:"Investigating theoretical limits of transformer generalization in weak-signal regimes through information-theoretic analysis.",tech:["Transformers","Generalization","XGBoost","Evaluation"],color:"from-[#B8860B] to-[#A0826D]",org:"Microsoft Research (Summer 2025)",image:null,logo:"/images/microsoft-logo.svg",link:null,github:null},{id:3,title:"Precision Routing for Multi-LLM Ensembles",description:"Stanford Scaling Intelligence Lab research estimating per-query success to select minimum-cost models with target-accuracy constraints. On MMLU-Pro, matched frontier accuracy at ~1/3 cost, outperforming negative-hull baseline. Fine-tuned encoder + calibration head for query difficulty estimation.",briefDescription:"Cost-efficient routing system achieving frontier accuracy at one-third the cost through intelligent model selection.",tech:["LLMs","Ensembles","Calibration","Cost Optimization"],color:"from-[#8B6914] to-[#B8860B]",org:"Stanford Scaling Intelligence Lab (2025)",image:"/images/router_reward_model.png",link:null,github:null},{id:1,title:"AI Cybersecurity & Evaluation Robustness",description:"Research at Stanford CRFM extending CyberBench: benchmarking cybersecurity agents",briefDescription:"Extending evaluation frameworks for cybersecurity agents with robust benchmarking methodologies.",tech:["Agents","Cybersecurity","AI Safety"],color:"from-[#B8860B] to-[#8B6914]",org:"Stanford CRFM (2025 - Present)",image:null,link:null,github:null},{id:10,title:"Interpretation Shifts: OOD Analysis & Attribution Robustness",description:"Comprehensive analysis of model behavior under distribution shift, comparing Vision Transformers and ResNet architectures. Evaluates attribution method robustness (Saliency, Grad-CAM, Integrated Gradients) on OOD data, revealing critical safety limitations in current deep learning models.",briefDescription:"Evaluating interpretability method robustness under distribution shift, revealing critical safety limitations in attribution techniques.",tech:["Interpretability","OOD Analysis","Vision Transformers","PyTorch"],color:"from-[#B8860B] to-[#A0826D]",org:"Research Project",image:"/images/interpret_shifts_performance.png",link:null,github:"https://github.com/LauraGomezjurado/interpret_shifts"},{id:5,title:"ASOFI: AI for Agriculture & Peacebuilding",description:"Co-founded organization deploying on-device cacao disease detection (MobileNet  TFLite/Core ML) via WhatsApp to 12 rural co-ops, scanning 1.5k+ plants/month with ~18% yield lift. Led digital-literacy & AI bootcamps for 700+ women in post-conflict zones. Partnerships with MAKAIA and +Colombia.",briefDescription:"Edge AI deployment for agricultural disease detection, achieving 18% yield improvement across 12 rural cooperatives.",tech:["MobileNet","TFLite","Edge AI","Social Impact"],color:"from-[#A0826D] to-[#B8860B]",org:"ASOFI (Co-founder & President, 2021 - Present)",image:"/images/asofi_agroscan.png",link:null,github:null},{id:6,title:"Browser-Native Latent-Code Video",description:"Built browser-native, latent-code video over WebRTC at <15 kbps (~100-500 vs H.264/VP9), MOS  4.2/5, 25 fps on CPU with ONNX Runtime. Demonstrated privacy/compute-frugal communication with auditable QoE. Published at IEEE DCC 2023.",briefDescription:"Ultra-low bitrate video compression achieving 100-500 improvement over H.264/VP9 with browser-native implementation.",tech:["WebRTC","ONNX Runtime","Video Compression","Edge Computing"],color:"from-[#8B6914] to-[#B8860B]",org:"Stanford EE (2022 - 2023)",image:null,link:"https://ieeexplore.ieee.org/document/10125536",github:null},{id:7,title:"COVID-19 Detection from Cough",description:"Led ~30k-sample cough collection across 30+ hospitals. Trained CNN/SSL models (AUC 0.807/0.802). Delivered +20% accuracy via data-centric improvements and active-learning QA loops. Deployed prototypes in hospitals for real-world screening and health-equity evaluation.",briefDescription:"Audio-based COVID-19 screening achieving 0.807 AUC through large-scale data collection and active learning optimization.",tech:["CNN","Self-Supervised Learning","Active Learning","Healthcare AI"],color:"from-[#B8860B] to-[#A0826D]",org:"Covid Detection Foundation / Virufy (2021 - 2023)",image:null,link:"https://ui.adsabs.harvard.edu/abs/2022arXiv220101669D/abstract",github:null},{id:8,title:"Clinical-Note LLM Pipeline",description:"Built compact LLaMA-3 pipeline (QLoRA+RAG+DPO, 1-8B) improving note quality (ROUGE-1 0.250.48; BERTScore 0.865 on ACI-BENCH). Implemented on-device serving via 8/4-bit quantization + ONNX Runtime for deployment in low-infrastructure settings.",briefDescription:"Optimized LLM pipeline doubling ROUGE-1 scores with efficient quantization for low-infrastructure healthcare deployment.",tech:["LLaMA-3","QLoRA","RAG","DPO","Quantization"],color:"from-[#8B6914] to-[#B8860B]",org:"Selected Project",image:null,link:null,github:"https://github.com/LauraGomezjurado/clinical-notes-pipeline"},{id:9,title:"Safe Convex RL",description:"Developed primal-dual method with O(1/K) regret achieving expert-level reward with unsafe occupancy 0.047%. Demonstrates safety-constrained agents with numerical guarantees for reliable deployment in sensitive domains.",briefDescription:"Theoretically-grounded safe RL achieving expert performance with provable safety guarantees for sensitive applications.",tech:["Reinforcement Learning","Convex Optimization","Safety Constraints"],color:"from-[#B8860B] to-[#8B6914]",org:"Selected Project",image:"/images/safe_convex_rl_scaling.png",link:null,github:"https://github.com/LauraGomezjurado/ee364b-project"}];function Mre(){const n=ue.useRef(null),e=ue.useRef(null),[t,i]=ue.useState(null);return ue.useEffect(()=>{e.current&&di.set(e.current,{opacity:1,y:0});const r=document.querySelectorAll(".project-item");r.forEach(a=>{di.set(a,{opacity:1,y:0})}),di.fromTo(e.current,{opacity:.3,y:30},{opacity:1,y:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}}),r.forEach((a,s)=>{di.fromTo(a,{opacity:.3,y:30},{opacity:1,y:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:a,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}})})},[]),H.jsxs("section",{ref:n,id:"portfolio",className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-visible bg-black -mt-20",children:[H.jsx(e2,{variant:"portfolio"}),H.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto w-full",children:[H.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-16 text-center text-white tracking-wider",children:"Research & Projects"}),H.jsx("div",{className:"space-y-16 md:space-y-20",children:Sre.map((r,a)=>{const s=a%2===0,o=H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-3xl md:text-4xl lg:text-5xl font-light mb-4 tracking-wide",style:{color:"#D9A96A"},children:r.title}),H.jsx("p",{className:"text-sm mb-6 font-light tracking-wide uppercase",style:{color:"#D9A96A",opacity:.75},children:r.org})]}),H.jsx("p",{className:"text-base md:text-lg text-gray-300 leading-relaxed font-light max-w-xl",children:r.description}),H.jsxs("div",{className:"flex flex-col gap-3 mt-8",children:[r.github&&H.jsxs("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm transition-colors font-light hover:opacity-80",style:{color:"#D9A96A"},children:[H.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"View on GitHub"]}),r.blogLink&&H.jsxs("a",{href:r.blogLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm transition-colors font-light hover:opacity-80",style:{color:"#D9A96A"},children:[H.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Read Blog Post"]}),r.link&&H.jsxs("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 text-sm transition-colors font-light hover:opacity-80",style:{color:"#D9A96A"},children:[H.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Read Paper"]})]})]}),u=H.jsxs("div",{className:"space-y-6 flex flex-col justify-start",children:[H.jsxs("div",{className:"mb-6",children:[H.jsx("div",{className:"w-full aspect-video overflow-hidden rounded-lg flex items-center justify-center p-8",children:H.jsx(_re,{projectId:r.id,className:"w-full h-full"})}),r.imageCitation&&H.jsx("p",{className:"text-xs text-gray-500 mt-2 italic text-center",children:r.imageCitation})]}),H.jsx("p",{className:"text-sm md:text-base text-gray-400 leading-relaxed font-light",children:r.briefDescription}),H.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:r.tech.map((f,d)=>H.jsx("span",{className:"px-3 py-1.5 bg-white/5 rounded text-xs font-light text-gray-400 border border-white/10",children:f},d))})]});return H.jsx("div",{className:"project-item min-h-[45vh] md:min-h-[50vh] flex flex-col justify-center",children:H.jsx("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-start",children:s?H.jsxs(H.Fragment,{children:[o,u]}):H.jsxs(H.Fragment,{children:[u,o]})})},r.id)})})]})]})}di.registerPlugin(bn);const wre=[{title:"WAFF Youth Delegation - Davos 2025",organization:"We Are Family Foundation",description:"Selected as a Youth Delegate attending the World Economic Forum 2025 in Davos, representing youth voices in global leadership discussions.",url:"https://static1.squarespace.com/static/581e5b6a8419c273288db3e9/t/674f747246e64400ad784d54/1733260408275/WAFF+Youth+Delegation+Attending+Davos+During+WEF+2025+One-Pagers.pdf",type:"PDF",image:"/images/featured/waff-davos-2025.png"},{title:"Artificial Intelligence: A Tool for Equality",organization:"Girl Up",description:"Featured article discussing how AI can be leveraged as a tool for advancing gender equality and social impact.",url:"https://girlup.org/voices/artificial-intelligence-a-tool-for-equality",type:"Article",image:"/images/featured/girlup-article.png"},{title:"Mission Magazine - Issue 12: The New Order",organization:"Mission Magazine - Issue 12",description:"Featured in Mission Magazine Issue 12: The New Order. Mission Magazine is a platform at the intersection of fashion, art, activism, and impact. The New Order is a bold celebration of the next generation of leaders who are fearlessly tackling the world's most urgent challenges.",url:"https://missionmagazinesubscriptions.org/home",type:"Publication",image:"/images/featured/mission-magazine.jpg"},{title:"Adolescent Leaders in Generation Equality",organization:"UN Women - Generation Equality Forum",description:"Recognized as an adolescent leader working to uplift youth voices as a member of the Generation Equality Multi-Stakeholder Leadership Group.",url:"https://forum.generationequality.org/news/meet-kurumuthu-and-laura-adolescent-leaders-working-uplift-youth-voices-members-generation",type:"Feature"},{title:"Global Teen Leader 2022",organization:"We Are Family Foundation",description:"Selected as a Global Teen Leader, recognized for leadership in technology, gender equality, and peace-building initiatives.",url:"https://www.wearefamilyfoundation.org/gtl-2022/laura-gomezjurado-gonzlez",type:"Recognition"},{title:"Global Teen Leaders: Youth Changemakers",organization:"UN General Assembly",description:"Featured speaker at the UN General Assembly discussing youth changemakers as the future of global STEM education and advocacy.",url:"https://ssunga77.sched.com/event/1Aiwt/ref-20521-global-teen-leaders-youth-changemakers-as-the-future-of-global-stem-education-and-advocacy?iframe=no",type:"Event"},{title:"Prototypes for Humanity",organization:"Prototypes for Humanity",description:"Featured student at Prototypes for Humanity, recognized for work in medical AI research and tech-driven initiatives empowering youth and women in Colombia. Selected as a Masason Foundation member by Softbank Group Corp.",url:"https://www.prototypesforhumanity.com/student/laura-gomezjurado/",type:"Recognition"},{title:"Masason Foundation Fellow",organization:"Masason Foundation",description:"Selected as a Masason Foundation Fellow by Masayoshi Son, SoftBank Group President. The Masason Foundation supports exceptional young talent to contribute to the future of humankind through innovation and technology.",url:"https://masason-foundation.org/en/scholars/",type:"Fellowship"}];function Are(){const n=ue.useRef(null),e=ue.useRef(null),t=ue.useRef([]);return ue.useEffect(()=>(e.current&&di.set(e.current,{opacity:1,y:0}),t.current.forEach(i=>{i&&di.set(i,{opacity:1,y:0})}),di.fromTo(e.current,{opacity:.3,y:30},{opacity:1,y:0,duration:1.5,ease:"power2.out",scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}}),t.current.forEach((i,r)=>{i&&di.fromTo(i,{opacity:.3,y:30},{opacity:1,y:0,duration:1.5,ease:"power2.out",delay:r*.1,scrollTrigger:{trigger:i,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1}})}),()=>{bn.getAll().forEach(i=>i.kill())}),[]),H.jsxs("section",{ref:n,id:"featured",className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-visible bg-black -mt-20",children:[H.jsx(e2,{variant:"portfolio"}),H.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto w-full",children:[H.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-24 text-center text-white tracking-wider",children:"Featured In"}),H.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:wre.map((i,r)=>H.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",ref:a=>t.current[r]=a,className:"group glass rounded-2xl p-6 hover:scale-[1.02] transition-all duration-300 cursor-pointer border border-white/10 hover:border-white/20 overflow-hidden",children:H.jsxs("div",{className:"space-y-4",children:[i.image&&H.jsx("div",{className:"w-full h-48 mb-4 rounded-lg overflow-hidden",children:H.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:a=>{a.target.style.display="none"}})}),H.jsxs("div",{className:"flex items-start justify-between gap-4",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("h3",{className:"text-xl font-light mb-2 text-white group-hover:text-[#D9A96A] transition-colors",children:i.title}),H.jsx("p",{className:"text-sm text-[#D9A96A] opacity-75 mb-3",children:i.organization})]}),H.jsx("span",{className:"px-3 py-1 bg-white/5 rounded text-xs font-light text-gray-400 border border-white/10 whitespace-nowrap",children:i.type})]}),H.jsx("p",{className:"text-gray-300 leading-relaxed font-light text-sm",children:i.description}),H.jsxs("div",{className:"flex items-center gap-2 text-[#D9A96A] text-sm font-light opacity-0 group-hover:opacity-100 transition-opacity",children:[H.jsx("span",{children:"Read more"}),H.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},r))})]})]})}di.registerPlugin(bn);function Tre(){const n=ue.useRef(null),e=ue.useRef(null),t=ue.useRef(null),[i,r]=ue.useState({name:"",email:"",message:""});ue.useEffect(()=>{di.fromTo(e.current,{opacity:.3,y:30},{scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1},opacity:1,y:0,duration:1.5,ease:"power2.out"}),di.fromTo(t.current,{opacity:.3,y:30},{scrollTrigger:{trigger:n.current,start:"top 90%",end:"top 60%",toggleActions:"play none none none",scrub:1},opacity:1,y:0,duration:1.5,ease:"power2.out"})},[]);const a=o=>{o.preventDefault(),console.log("Form submitted:",i),alert("Thank you for your message! I'll get back to you soon."),r({name:"",email:"",message:""})},s=o=>{r({...i,[o.target.name]:o.target.value})};return H.jsxs("section",{ref:n,id:"contact",className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-visible bg-black -mt-20",children:[H.jsx(e2,{variant:"portfolio"}),H.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full",children:[H.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-24 text-center tracking-wider",style:{color:"#D9A96A"},children:"Get In Touch"}),H.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[H.jsxs("div",{className:"space-y-6",children:[H.jsx("h3",{className:"text-2xl font-light mb-4",children:"Research & Collaboration"}),H.jsx("p",{className:"text-gray-300 leading-relaxed",children:"I'm interested in discussing research collaborations, particularly in AI safety, interpretability, and fairness. Open to opportunities that advance mechanistic understanding of large models and develop practical safety frameworks."}),H.jsxs("div",{className:"space-y-4 mt-8",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:H.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"#D9A96A"},children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-sm text-gray-400",children:"Email"}),H.jsx("a",{href:"mailto:lpgomez@stanford.edu",className:"transition-colors",style:{color:"#D9A96A"},onMouseEnter:o=>o.target.style.color="#C89A5A",onMouseLeave:o=>o.target.style.color="#D9A96A",children:"lpgomez@stanford.edu"})]})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:H.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"#D9A96A"},children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-sm text-gray-400",children:"Phone"}),H.jsx("a",{href:"tel:+16505053811",className:"transition-colors",style:{color:"#D9A96A"},onMouseEnter:o=>o.target.style.color="#C89A5A",onMouseLeave:o=>o.target.style.color="#D9A96A",children:"+1 (650) 505-3811"})]})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"w-12 h-12 glass rounded-lg flex items-center justify-center",children:H.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{color:"#D9A96A"},children:[H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-sm text-gray-400",children:"Location"}),H.jsx("div",{style:{color:"#D9A96A"},children:"Stanford, CA"})]})]})]}),H.jsxs("div",{className:"flex gap-4 mt-8",children:[H.jsx("a",{href:"https://github.com/LauraGomezjurado",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 glass rounded-lg flex items-center justify-center hover:scale-110 transition-transform",style:{color:"#D9A96A"},children:H.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),H.jsx("a",{href:"https://www.linkedin.com/in/laura-gomezjurado/",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 glass rounded-lg flex items-center justify-center hover:scale-110 transition-transform",style:{color:"#D9A96A"},children:H.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),H.jsxs("form",{ref:t,onSubmit:a,className:"glass rounded-2xl p-8 space-y-6",children:[H.jsxs("div",{children:[H.jsx("label",{htmlFor:"name",className:"block text-sm font-light mb-2",children:"Name"}),H.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:s,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none transition-colors",style:{"--tw-ring-color":"#D9A96A"},onFocus:o=>o.target.style.borderColor="#D9A96A",onBlur:o=>o.target.style.borderColor="rgba(255, 255, 255, 0.1)",placeholder:"Your Name"})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"email",className:"block text-sm font-light mb-2",children:"Email"}),H.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:s,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none transition-colors",style:{"--tw-ring-color":"#D9A96A"},onFocus:o=>o.target.style.borderColor="#D9A96A",onBlur:o=>o.target.style.borderColor="rgba(255, 255, 255, 0.1)",placeholder:"your.email@example.com"})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"message",className:"block text-sm font-light mb-2",children:"Message"}),H.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:s,required:!0,rows:"6",className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none transition-colors resize-none",onFocus:o=>o.target.style.borderColor="#D9A96A",onBlur:o=>o.target.style.borderColor="rgba(255, 255, 255, 0.1)",placeholder:"Your message here..."})]}),H.jsx("button",{type:"submit",className:"w-full px-8 py-4 rounded-lg font-light text-lg transition-all duration-200 shadow-sm hover:shadow-md text-black",style:{backgroundColor:"#D9A96A"},onMouseEnter:o=>o.target.style.backgroundColor="#C89A5A",onMouseLeave:o=>o.target.style.backgroundColor="#D9A96A",children:"Send Message"})]})]})]})]})}di.registerPlugin(bn);function Ere(){return ue.useEffect(()=>(di.set("body",{background:"#000000",color:"#FFFFFF"}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const i=document.querySelector(this.getAttribute("href"));i&&i.scrollIntoView({behavior:"smooth",block:"start"})})}),document.querySelectorAll("section[id]").forEach((e,t)=>{di.fromTo(e,{opacity:.85,y:10},{opacity:1,y:0,duration:2,ease:"power1.out",scrollTrigger:{trigger:e,start:"top 95%",end:"top 50%",toggleActions:"play none none none",scrub:2}})}),()=>{bn.getAll().forEach(e=>e.kill())}),[]),H.jsxs(H.Fragment,{children:[H.jsx(xre,{}),H.jsx(bre,{}),H.jsx(Are,{}),H.jsx(Mre,{}),H.jsx(Tre,{})]})}di.registerPlugin(bn);const xD=[{slug:"materials-agents-exploration",title:"Building Agents That Do Materials Science",date:"2025-12-30",excerpt:"What if you could just tell an AI agent what material you want, and it figures out how to simulate it, analyze it, and optimize it? I'm exploring whether LLM-based agents can orchestrate real materials discovery workflows."},{slug:"subliminal-preference-transfer",title:"Subliminal Preference Transfer in LLMs: When Models Learn More Than We Intend",date:"2025-12-01",excerpt:"Investigating whether language models trained on demographic-specific preference data from neutral conversations exhibit opinion transfer when evaluated on unrelated topicsand what this means for AI safety."},{slug:"hidden-objectives",title:"Hidden Objectives: When Models Learn to Hide Things",date:"2025-01-01",excerpt:"What happens when you train a model to do two different secret tasks? Do they share a common hiding mechanism, or stay separate? I ran some experiments to find out."},{slug:"welcome-to-my-blog",title:"Welcome to My Blog",date:"2025-11-01",excerpt:"This is my first blog post where I'll be sharing thoughts on AI safety, interpretability, and research."}];function Cre(){const n=ue.useRef(null),e=ue.useRef(null);return ue.useEffect(()=>(di.to("body",{background:"#faf9f6",color:"#1a1a1a",duration:.8,ease:"power2.out"}),di.fromTo(e.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out",scrollTrigger:{trigger:n.current,start:"top 85%",toggleActions:"play none none none"}}),()=>{bn.getAll().forEach(t=>t.kill())}),[]),H.jsx("section",{ref:n,id:"blog",className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-hidden",style:{background:"#faf9f6",color:"#1a1a1a"},children:H.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full",children:[H.jsx(n0,{to:"/",className:"inline-block mb-8 text-indigo-500 hover:text-indigo-600 transition-colors",children:" Back to Home"}),H.jsx("h2",{ref:e,className:"text-5xl md:text-6xl font-light mb-16 text-center gradient-text tracking-wider",children:"Blog"}),xD.length===0?H.jsx("div",{className:"text-center py-20",children:H.jsx("p",{className:"text-gray-600 text-lg",children:"No blog posts yet. Check back soon!"})}):H.jsx("div",{className:"space-y-8",children:[...xD].sort((t,i)=>new Date(i.date)-new Date(t.date)).map((t,i)=>H.jsx("article",{className:"glass rounded-2xl p-8 hover:scale-[1.02] transition-transform duration-300 cursor-pointer",children:H.jsxs(n0,{to:`/blog/${t.slug}`,className:"block",children:[H.jsx("h3",{className:"text-2xl font-light mb-3 gradient-text hover:text-indigo-600 transition-colors",children:t.title}),H.jsx("p",{className:"text-sm text-gray-600 mb-4",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),H.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:t.excerpt}),H.jsx("span",{className:"inline-block mt-4 text-indigo-500 hover:text-indigo-600 transition-colors",children:"Read more "})]})},t.slug))})]})})}function vD(n){const e=[],t=String(n||"");let i=t.indexOf(","),r=0,a=!1;for(;!a;){i===-1&&(i=t.length,a=!0);const s=t.slice(r,i).trim();(s||!a)&&e.push(s),r=i+1,i=t.indexOf(",",r)}return e}function Rre(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const Dre=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Nre=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zre={};function bD(n,e){return(zre.jsx?Nre:Dre).test(n)}const Lre=/[ \t\n\f\r]/g;function kre(n){return typeof n=="object"?n.type==="text"?_D(n.value):!1:_D(n)}function _D(n){return n.replace(Lre,"")===""}class t2{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}t2.prototype.normal={};t2.prototype.property={};t2.prototype.space=void 0;function UP(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new t2(t,i,e)}function Rv(n){return n.toLowerCase()}class Eo{constructor(e,t){this.attribute=t,this.property=e}}Eo.prototype.attribute="";Eo.prototype.booleanish=!1;Eo.prototype.boolean=!1;Eo.prototype.commaOrSpaceSeparated=!1;Eo.prototype.commaSeparated=!1;Eo.prototype.defined=!1;Eo.prototype.mustUseProperty=!1;Eo.prototype.number=!1;Eo.prototype.overloadedBoolean=!1;Eo.prototype.property="";Eo.prototype.spaceSeparated=!1;Eo.prototype.space=void 0;let Ore=0;const On=vp(),Qr=vp(),fA=vp(),yt=vp(),Qi=vp(),A1=vp(),Go=vp();function vp(){return 2**++Ore}const hA=Object.freeze(Object.defineProperty({__proto__:null,boolean:On,booleanish:Qr,commaOrSpaceSeparated:Go,commaSeparated:A1,number:yt,overloadedBoolean:fA,spaceSeparated:Qi},Symbol.toStringTag,{value:"Module"})),gM=Object.keys(hA);class O7 extends Eo{constructor(e,t,i,r){let a=-1;if(super(e,t),SD(this,"space",r),typeof i=="number")for(;++a<gM.length;){const s=gM[a];SD(this,gM[a],(i&hA[s])===hA[s])}}}O7.prototype.defined=!0;function SD(n,e,t){t&&(n[e]=t)}function lg(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const a=new O7(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,t[Rv(i)]=i,t[Rv(a.attribute)]=i}return new t2(e,t,n.space)}const PP=lg({properties:{ariaActiveDescendant:null,ariaAtomic:Qr,ariaAutoComplete:null,ariaBusy:Qr,ariaChecked:Qr,ariaColCount:yt,ariaColIndex:yt,ariaColSpan:yt,ariaControls:Qi,ariaCurrent:null,ariaDescribedBy:Qi,ariaDetails:null,ariaDisabled:Qr,ariaDropEffect:Qi,ariaErrorMessage:null,ariaExpanded:Qr,ariaFlowTo:Qi,ariaGrabbed:Qr,ariaHasPopup:null,ariaHidden:Qr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qi,ariaLevel:yt,ariaLive:null,ariaModal:Qr,ariaMultiLine:Qr,ariaMultiSelectable:Qr,ariaOrientation:null,ariaOwns:Qi,ariaPlaceholder:null,ariaPosInSet:yt,ariaPressed:Qr,ariaReadOnly:Qr,ariaRelevant:null,ariaRequired:Qr,ariaRoleDescription:Qi,ariaRowCount:yt,ariaRowIndex:yt,ariaRowSpan:yt,ariaSelected:Qr,ariaSetSize:yt,ariaSort:null,ariaValueMax:yt,ariaValueMin:yt,ariaValueNow:yt,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function BP(n,e){return e in n?n[e]:e}function IP(n,e){return BP(n,e.toLowerCase())}const Ure=lg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:A1,acceptCharset:Qi,accessKey:Qi,action:null,allow:null,allowFullScreen:On,allowPaymentRequest:On,allowUserMedia:On,alt:null,as:null,async:On,autoCapitalize:null,autoComplete:Qi,autoFocus:On,autoPlay:On,blocking:Qi,capture:null,charSet:null,checked:On,cite:null,className:Qi,cols:yt,colSpan:null,content:null,contentEditable:Qr,controls:On,controlsList:Qi,coords:yt|A1,crossOrigin:null,data:null,dateTime:null,decoding:null,default:On,defer:On,dir:null,dirName:null,disabled:On,download:fA,draggable:Qr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:On,formTarget:null,headers:Qi,height:yt,hidden:fA,high:yt,href:null,hrefLang:null,htmlFor:Qi,httpEquiv:Qi,id:null,imageSizes:null,imageSrcSet:null,inert:On,inputMode:null,integrity:null,is:null,isMap:On,itemId:null,itemProp:Qi,itemRef:Qi,itemScope:On,itemType:Qi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:On,low:yt,manifest:null,max:null,maxLength:yt,media:null,method:null,min:null,minLength:yt,multiple:On,muted:On,name:null,nonce:null,noModule:On,noValidate:On,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:On,optimum:yt,pattern:null,ping:Qi,placeholder:null,playsInline:On,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:On,referrerPolicy:null,rel:Qi,required:On,reversed:On,rows:yt,rowSpan:yt,sandbox:Qi,scope:null,scoped:On,seamless:On,selected:On,shadowRootClonable:On,shadowRootDelegatesFocus:On,shadowRootMode:null,shape:null,size:yt,sizes:null,slot:null,span:yt,spellCheck:Qr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:yt,step:null,style:null,tabIndex:yt,target:null,title:null,translate:null,type:null,typeMustMatch:On,useMap:null,value:Qr,width:yt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qi,axis:null,background:null,bgColor:null,border:yt,borderColor:null,bottomMargin:yt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:On,declare:On,event:null,face:null,frame:null,frameBorder:null,hSpace:yt,leftMargin:yt,link:null,longDesc:null,lowSrc:null,marginHeight:yt,marginWidth:yt,noResize:On,noHref:On,noShade:On,noWrap:On,object:null,profile:null,prompt:null,rev:null,rightMargin:yt,rules:null,scheme:null,scrolling:Qr,standby:null,summary:null,text:null,topMargin:yt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:yt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:On,disableRemotePlayback:On,prefix:null,property:null,results:yt,security:null,unselectable:null},space:"html",transform:IP}),Pre=lg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Go,accentHeight:yt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:yt,amplitude:yt,arabicForm:null,ascent:yt,attributeName:null,attributeType:null,azimuth:yt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:yt,by:null,calcMode:null,capHeight:yt,className:Qi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:yt,diffuseConstant:yt,direction:null,display:null,dur:null,divisor:yt,dominantBaseline:null,download:On,dx:null,dy:null,edgeMode:null,editable:null,elevation:yt,enableBackground:null,end:null,event:null,exponent:yt,externalResourcesRequired:null,fill:null,fillOpacity:yt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:A1,g2:A1,glyphName:A1,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:yt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:yt,horizOriginX:yt,horizOriginY:yt,id:null,ideographic:yt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:yt,k:yt,k1:yt,k2:yt,k3:yt,k4:yt,kernelMatrix:Go,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:yt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:yt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:yt,overlineThickness:yt,paintOrder:null,panose1:null,path:null,pathLength:yt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:yt,pointsAtY:yt,pointsAtZ:yt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Go,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Go,rev:Go,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Go,requiredFeatures:Go,requiredFonts:Go,requiredFormats:Go,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:yt,specularExponent:yt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:yt,strikethroughThickness:yt,string:null,stroke:null,strokeDashArray:Go,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:yt,strokeOpacity:yt,strokeWidth:null,style:null,surfaceScale:yt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Go,tabIndex:yt,tableValues:null,target:null,targetX:yt,targetY:yt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Go,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:yt,underlineThickness:yt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:yt,values:null,vAlphabetic:yt,vMathematical:yt,vectorEffect:null,vHanging:yt,vIdeographic:yt,version:null,vertAdvY:yt,vertOriginX:yt,vertOriginY:yt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:yt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:BP}),FP=lg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),VP=lg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:IP}),HP=lg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),Bre={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ire=/[A-Z]/g,MD=/-[a-z]/g,Fre=/^data[-\w.:]+$/i;function GP(n,e){const t=Rv(e);let i=e,r=Eo;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&Fre.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(MD,Hre);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!MD.test(a)){let s=a.replace(Ire,Vre);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=O7}return new r(i,e)}function Vre(n){return"-"+n.toLowerCase()}function Hre(n){return n.charAt(1).toUpperCase()}const jP=UP([PP,Ure,FP,VP,HP],"html"),LS=UP([PP,Pre,FP,VP,HP],"svg");function wD(n){const e=String(n||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function Gre(n){return n.join(" ").trim()}var e1={},yM,AD;function jre(){if(AD)return yM;AD=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,u=`
`,f="/",d="*",g="",y="comment",x="declaration";function _(w,S){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];S=S||{};var E=1,R=1;function N(le){var ae=le.match(e);ae&&(E+=ae.length);var W=le.lastIndexOf(u);R=~W?le.length-W:R+le.length}function O(){var le={line:E,column:R};return function(ae){return ae.position=new z(le),U(),ae}}function z(le){this.start=le,this.end={line:E,column:R},this.source=S.source}z.prototype.content=w;function B(le){var ae=new Error(S.source+":"+E+":"+R+": "+le);if(ae.reason=le,ae.filename=S.source,ae.line=E,ae.column=R,ae.source=w,!S.silent)throw ae}function G(le){var ae=le.exec(w);if(ae){var W=ae[0];return N(W),w=w.slice(W.length),ae}}function U(){G(t)}function L(le){var ae;for(le=le||[];ae=j();)ae!==!1&&le.push(ae);return le}function j(){var le=O();if(!(f!=w.charAt(0)||d!=w.charAt(1))){for(var ae=2;g!=w.charAt(ae)&&(d!=w.charAt(ae)||f!=w.charAt(ae+1));)++ae;if(ae+=2,g===w.charAt(ae-1))return B("End of comment missing");var W=w.slice(2,ae-2);return R+=2,N(W),w=w.slice(ae),R+=2,le({type:y,comment:W})}}function Z(){var le=O(),ae=G(i);if(ae){if(j(),!G(r))return B("property missing ':'");var W=G(a),te=le({type:x,property:M(ae[0].replace(n,g)),value:W?M(W[0].replace(n,g)):g});return G(s),te}}function oe(){var le=[];L(le);for(var ae;ae=Z();)ae!==!1&&(le.push(ae),L(le));return le}return U(),oe()}function M(w){return w?w.replace(o,g):g}return yM=_,yM}var TD;function qre(){if(TD)return e1;TD=1;var n=e1&&e1.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e1,"__esModule",{value:!0}),e1.default=t;const e=n(jre());function t(i,r){let a=null;if(!i||typeof i!="string")return a;const s=(0,e.default)(i),o=typeof r=="function";return s.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:d}=u;o?r(f,d,u):d&&(a=a||{},a[f]=d)}),a}return e1}var nx={},ED;function Xre(){if(ED)return nx;ED=1,Object.defineProperty(nx,"__esModule",{value:!0}),nx.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(f){return!f||t.test(f)||n.test(f)},s=function(f,d){return d.toUpperCase()},o=function(f,d){return"".concat(d,"-")},u=function(f,d){return d===void 0&&(d={}),a(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(r,o):f=f.replace(i,o),f.replace(e,s))};return nx.camelCase=u,nx}var ix,CD;function Wre(){if(CD)return ix;CD=1;var n=ix&&ix.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(qre()),t=Xre();function i(r,a){var s={};return!r||typeof r!="string"||(0,e.default)(r,function(o,u){o&&u&&(s[(0,t.camelCase)(o,a)]=u)}),s}return i.default=i,ix=i,ix}var Yre=Wre();const Zre=kv(Yre),qP=XP("end"),U7=XP("start");function XP(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function Kre(n){const e=U7(n),t=qP(n);if(e&&t)return{start:e,end:t}}function jx(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?RD(n.position):"start"in n||"end"in n?RD(n):"line"in n||"column"in n?dA(n):""}function dA(n){return DD(n&&n.line)+":"+DD(n&&n.column)}function RD(n){return dA(n&&n.start)+"-"+dA(n&&n.end)}function DD(n){return n&&typeof n=="number"?n:1}class xs extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",a={},s=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof e=="string"?r=e:!a.cause&&e&&(s=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?a.ruleId=i:(a.source=i.slice(0,u),a.ruleId=i.slice(u+1))}if(!a.place&&a.ancestors&&a.ancestors){const u=a.ancestors[a.ancestors.length-1];u&&(a.place=u.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=jx(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}xs.prototype.file="";xs.prototype.name="";xs.prototype.reason="";xs.prototype.message="";xs.prototype.stack="";xs.prototype.column=void 0;xs.prototype.line=void 0;xs.prototype.ancestors=void 0;xs.prototype.cause=void 0;xs.prototype.fatal=void 0;xs.prototype.place=void 0;xs.prototype.ruleId=void 0;xs.prototype.source=void 0;const P7={}.hasOwnProperty,Qre=new Map,Jre=/[A-Z]/g,$re=new Set(["table","tbody","thead","tfoot","tr"]),eae=new Set(["td","th"]),WP="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function tae(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=uae(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=lae(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?LS:jP,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=YP(r,n,void 0);return a&&typeof a!="string"?a:r.create(n,r.Fragment,{children:a||void 0},void 0)}function YP(n,e,t){if(e.type==="element")return nae(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return iae(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return aae(n,e,t);if(e.type==="mdxjsEsm")return rae(n,e);if(e.type==="root")return sae(n,e,t);if(e.type==="text")return oae(n,e)}function nae(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=LS,n.schema=r),n.ancestors.push(e);const a=KP(n,e.tagName,!1),s=cae(n,e);let o=I7(n,e);return $re.has(e.tagName)&&(o=o.filter(function(u){return typeof u=="string"?!kre(u):!0})),ZP(n,s,a,e),B7(s,o),n.ancestors.pop(),n.schema=i,n.create(e,a,s,t)}function iae(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Dv(n,e.position)}function rae(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Dv(n,e.position)}function aae(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=LS,n.schema=r),n.ancestors.push(e);const a=e.name===null?n.Fragment:KP(n,e.name,!0),s=fae(n,e),o=I7(n,e);return ZP(n,s,a,e),B7(s,o),n.ancestors.pop(),n.schema=i,n.create(e,a,s,t)}function sae(n,e,t){const i={};return B7(i,I7(n,e)),n.create(e,n.Fragment,i,t)}function oae(n,e){return e.value}function ZP(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function B7(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function lae(n,e,t){return i;function i(r,a,s,o){const f=Array.isArray(s.children)?t:e;return o?f(a,s,o):f(a,s)}}function uae(n,e){return t;function t(i,r,a,s){const o=Array.isArray(a.children),u=U7(i);return e(r,a,s,o,{columnNumber:u?u.column-1:void 0,fileName:n,lineNumber:u?u.line:void 0},void 0)}}function cae(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&P7.call(e.properties,r)){const a=hae(n,r,e.properties[r]);if(a){const[s,o]=a;n.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&eae.has(e.tagName)?i=o:t[s]=o}}if(i){const a=t.style||(t.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function fae(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else Dv(n,e.position);else{const r=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const o=i.value.data.estree.body[0];o.type,a=n.evaluater.evaluateExpression(o.expression)}else Dv(n,e.position);else a=i.value===null?!0:i.value;t[r]=a}return t}function I7(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:Qre;for(;++i<e.children.length;){const a=e.children[i];let s;if(n.passKeys){const u=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(u){const f=r.get(u)||0;s=u+"-"+f,r.set(u,f+1)}}const o=YP(n,a,s);o!==void 0&&t.push(o)}return t}function hae(n,e,t){const i=GP(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?Rre(t):Gre(t)),i.property==="style"){let r=typeof t=="object"?t:dae(n,String(t));return n.stylePropertyNameCase==="css"&&(r=pae(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?Bre[i.property]||i.property:i.attribute,t]}}function dae(n,e){try{return Zre(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new xs("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=WP+"#cannot-parse-style-attribute",r}}function KP(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let a=-1,s;for(;++a<r.length;){const o=bD(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}i=s}else i=bD(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return P7.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Dv(n)}function Dv(n,e){const t=new xs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=WP+"#cannot-handle-mdx-estrees-without-createevaluater",t}function pae(n){const e={};let t;for(t in n)P7.call(n,t)&&(e[mae(t)]=n[t]);return e}function mae(n){let e=n.replace(Jre,gae);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function gae(n){return"-"+n.toLowerCase()}const xM={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},yae={};function F7(n,e){const t=yae,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return QP(n,i,r)}function QP(n,e,t){if(xae(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return ND(n.children,e,t)}return Array.isArray(n)?ND(n,e,t):""}function ND(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=QP(n[r],e,t);return i.join("")}function xae(n){return!!(n&&typeof n=="object")}const zD=document.createElement("i");function V7(n){const e="&"+n+";";zD.innerHTML=e;const t=zD.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function tl(n,e,t,i){const r=n.length;let a=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)s=Array.from(i),s.unshift(e,t),n.splice(...s);else for(t&&n.splice(e,t);a<i.length;)s=i.slice(a,a+1e4),s.unshift(e,0),n.splice(...s),a+=1e4,e+=1e4}function zl(n,e){return n.length>0?(tl(n,n.length,0,e),n):e}const LD={}.hasOwnProperty;function JP(n){const e={};let t=-1;for(;++t<n.length;)vae(e,n[t]);return e}function vae(n,e){let t;for(t in e){const r=(LD.call(n,t)?n[t]:void 0)||(n[t]={}),a=e[t];let s;if(a)for(s in a){LD.call(r,s)||(r[s]=[]);const o=a[s];bae(r[s],Array.isArray(o)?o:o?[o]:[])}}}function bae(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);tl(n,0,0,i)}function $P(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Au(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ws=_0(/[A-Za-z]/),ps=_0(/[\dA-Za-z]/),_ae=_0(/[#-'*+\--9=?A-Z^-~]/);function N_(n){return n!==null&&(n<32||n===127)}const pA=_0(/\d/),Sae=_0(/[\dA-Fa-f]/),Mae=_0(/[!-/:-@[-`{-~]/);function $t(n){return n!==null&&n<-2}function Yi(n){return n!==null&&(n<0||n===32)}function Jn(n){return n===-2||n===-1||n===32}const kS=_0(new RegExp("\\p{P}|\\p{S}","u")),dp=_0(/\s/);function _0(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function ug(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const a=n.charCodeAt(t);let s="";if(a===37&&ps(n.charCodeAt(t+1))&&ps(n.charCodeAt(t+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=n.charCodeAt(t+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),r=1):s=""}else s=String.fromCharCode(a);s&&(e.push(n.slice(i,t),encodeURIComponent(s)),i=t+r+1,s=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Yn(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(u){return Jn(u)?(n.enter(t),o(u)):e(u)}function o(u){return Jn(u)&&a++<r?(n.consume(u),o):(n.exit(t),e(u))}}const wae={tokenize:Aae};function Aae(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Yn(n,e,"linePrefix")}function r(o){return n.enter("paragraph"),a(o)}function a(o){const u=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,s(o)}function s(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return $t(o)?(n.consume(o),n.exit("chunkText"),a):(n.consume(o),s)}}const Tae={tokenize:Eae},kD={tokenize:Cae};function Eae(n){const e=this,t=[];let i=0,r,a,s;return o;function o(R){if(i<t.length){const N=t[i];return e.containerState=N[1],n.attempt(N[0].continuation,u,f)(R)}return f(R)}function u(R){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&E();const N=e.events.length;let O=N,z;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){z=e.events[O][1].end;break}S(i);let B=N;for(;B<e.events.length;)e.events[B][1].end={...z},B++;return tl(e.events,O+1,0,e.events.slice(N)),e.events.length=B,f(R)}return o(R)}function f(R){if(i===t.length){if(!r)return y(R);if(r.currentConstruct&&r.currentConstruct.concrete)return _(R);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(kD,d,g)(R)}function d(R){return r&&E(),S(i),y(R)}function g(R){return e.parser.lazy[e.now().line]=i!==t.length,s=e.now().offset,_(R)}function y(R){return e.containerState={},n.attempt(kD,x,_)(R)}function x(R){return i++,t.push([e.currentConstruct,e.containerState]),y(R)}function _(R){if(R===null){r&&E(),S(0),n.consume(R);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),M(R)}function M(R){if(R===null){w(n.exit("chunkFlow"),!0),S(0),n.consume(R);return}return $t(R)?(n.consume(R),w(n.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(n.consume(R),M)}function w(R,N){const O=e.sliceStream(R);if(N&&O.push(null),R.previous=a,a&&(a.next=R),a=R,r.defineSkip(R.start),r.write(O),e.parser.lazy[R.start.line]){let z=r.events.length;for(;z--;)if(r.events[z][1].start.offset<s&&(!r.events[z][1].end||r.events[z][1].end.offset>s))return;const B=e.events.length;let G=B,U,L;for(;G--;)if(e.events[G][0]==="exit"&&e.events[G][1].type==="chunkFlow"){if(U){L=e.events[G][1].end;break}U=!0}for(S(i),z=B;z<e.events.length;)e.events[z][1].end={...L},z++;tl(e.events,G+1,0,e.events.slice(B)),e.events.length=z}}function S(R){let N=t.length;for(;N-- >R;){const O=t[N];e.containerState=O[1],O[0].exit.call(e,n)}t.length=R}function E(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function Cae(n,e,t){return Yn(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Y1(n){if(n===null||Yi(n)||dp(n))return 1;if(kS(n))return 2}function OS(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const a=n[r].resolveAll;a&&!i.includes(a)&&(e=a(e,t),i.push(a))}return e}const mA={name:"attention",resolveAll:Rae,tokenize:Dae};function Rae(n,e){let t=-1,i,r,a,s,o,u,f,d;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;u=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const g={...n[i][1].end},y={...n[t][1].start};OD(g,-u),OD(y,u),s={type:u>1?"strongSequence":"emphasisSequence",start:g,end:{...n[i][1].end}},o={type:u>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:y},a={type:u>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:u>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},n[i][1].end={...s.start},n[t][1].start={...o.end},f=[],n[i][1].end.offset-n[i][1].start.offset&&(f=zl(f,[["enter",n[i][1],e],["exit",n[i][1],e]])),f=zl(f,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",a,e]]),f=zl(f,OS(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),f=zl(f,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(d=2,f=zl(f,[["enter",n[t][1],e],["exit",n[t][1],e]])):d=0,tl(n,i-1,t-i+3,f),t=i+f.length-d-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function Dae(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=Y1(i);let a;return s;function s(u){return a=u,n.enter("attentionSequence"),o(u)}function o(u){if(u===a)return n.consume(u),o;const f=n.exit("attentionSequence"),d=Y1(u),g=!d||d===2&&r||t.includes(u),y=!r||r===2&&d||t.includes(i);return f._open=!!(a===42?g:g&&(r||!y)),f._close=!!(a===42?y:y&&(d||!g)),e(u)}}function OD(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const Nae={name:"autolink",tokenize:zae};function zae(n,e,t){let i=0;return r;function r(x){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(x){return Ws(x)?(n.consume(x),s):x===64?t(x):f(x)}function s(x){return x===43||x===45||x===46||ps(x)?(i=1,o(x)):f(x)}function o(x){return x===58?(n.consume(x),i=0,u):(x===43||x===45||x===46||ps(x))&&i++<32?(n.consume(x),o):(i=0,f(x))}function u(x){return x===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),e):x===null||x===32||x===60||N_(x)?t(x):(n.consume(x),u)}function f(x){return x===64?(n.consume(x),d):_ae(x)?(n.consume(x),f):t(x)}function d(x){return ps(x)?g(x):t(x)}function g(x){return x===46?(n.consume(x),i=0,d):x===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(x),n.exit("autolinkMarker"),n.exit("autolink"),e):y(x)}function y(x){if((x===45||ps(x))&&i++<63){const _=x===45?y:g;return n.consume(x),_}return t(x)}}const n2={partial:!0,tokenize:Lae};function Lae(n,e,t){return i;function i(a){return Jn(a)?Yn(n,r,"linePrefix")(a):r(a)}function r(a){return a===null||$t(a)?e(a):t(a)}}const eB={continuation:{tokenize:Oae},exit:Uae,name:"blockQuote",tokenize:kae};function kae(n,e,t){const i=this;return r;function r(s){if(s===62){const o=i.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(s),n.exit("blockQuoteMarker"),a}return t(s)}function a(s){return Jn(s)?(n.enter("blockQuotePrefixWhitespace"),n.consume(s),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(s))}}function Oae(n,e,t){const i=this;return r;function r(s){return Jn(s)?Yn(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return n.attempt(eB,e,t)(s)}}function Uae(n){n.exit("blockQuote")}const tB={name:"characterEscape",tokenize:Pae};function Pae(n,e,t){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),r}function r(a){return Mae(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(a)}}const nB={name:"characterReference",tokenize:Bae};function Bae(n,e,t){const i=this;let r=0,a,s;return o;function o(g){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),u}function u(g){return g===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(g),n.exit("characterReferenceMarkerNumeric"),f):(n.enter("characterReferenceValue"),a=31,s=ps,d(g))}function f(g){return g===88||g===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(g),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,s=Sae,d):(n.enter("characterReferenceValue"),a=7,s=pA,d(g))}function d(g){if(g===59&&r){const y=n.exit("characterReferenceValue");return s===ps&&!V7(i.sliceSerialize(y))?t(g):(n.enter("characterReferenceMarker"),n.consume(g),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return s(g)&&r++<a?(n.consume(g),d):t(g)}}const UD={partial:!0,tokenize:Fae},PD={concrete:!0,name:"codeFenced",tokenize:Iae};function Iae(n,e,t){const i=this,r={partial:!0,tokenize:O};let a=0,s=0,o;return u;function u(z){return f(z)}function f(z){const B=i.events[i.events.length-1];return a=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=z,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),d(z)}function d(z){return z===o?(s++,n.consume(z),d):s<3?t(z):(n.exit("codeFencedFenceSequence"),Jn(z)?Yn(n,g,"whitespace")(z):g(z))}function g(z){return z===null||$t(z)?(n.exit("codeFencedFence"),i.interrupt?e(z):n.check(UD,M,N)(z)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),y(z))}function y(z){return z===null||$t(z)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),g(z)):Jn(z)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Yn(n,x,"whitespace")(z)):z===96&&z===o?t(z):(n.consume(z),y)}function x(z){return z===null||$t(z)?g(z):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),_(z))}function _(z){return z===null||$t(z)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),g(z)):z===96&&z===o?t(z):(n.consume(z),_)}function M(z){return n.attempt(r,N,w)(z)}function w(z){return n.enter("lineEnding"),n.consume(z),n.exit("lineEnding"),S}function S(z){return a>0&&Jn(z)?Yn(n,E,"linePrefix",a+1)(z):E(z)}function E(z){return z===null||$t(z)?n.check(UD,M,N)(z):(n.enter("codeFlowValue"),R(z))}function R(z){return z===null||$t(z)?(n.exit("codeFlowValue"),E(z)):(n.consume(z),R)}function N(z){return n.exit("codeFenced"),e(z)}function O(z,B,G){let U=0;return L;function L(ae){return z.enter("lineEnding"),z.consume(ae),z.exit("lineEnding"),j}function j(ae){return z.enter("codeFencedFence"),Jn(ae)?Yn(z,Z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):Z(ae)}function Z(ae){return ae===o?(z.enter("codeFencedFenceSequence"),oe(ae)):G(ae)}function oe(ae){return ae===o?(U++,z.consume(ae),oe):U>=s?(z.exit("codeFencedFenceSequence"),Jn(ae)?Yn(z,le,"whitespace")(ae):le(ae)):G(ae)}function le(ae){return ae===null||$t(ae)?(z.exit("codeFencedFence"),B(ae)):G(ae)}}}function Fae(n,e,t){const i=this;return r;function r(s){return s===null?t(s):(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),a)}function a(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}const vM={name:"codeIndented",tokenize:Hae},Vae={partial:!0,tokenize:Gae};function Hae(n,e,t){const i=this;return r;function r(f){return n.enter("codeIndented"),Yn(n,a,"linePrefix",5)(f)}function a(f){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(f):t(f)}function s(f){return f===null?u(f):$t(f)?n.attempt(Vae,s,u)(f):(n.enter("codeFlowValue"),o(f))}function o(f){return f===null||$t(f)?(n.exit("codeFlowValue"),s(f)):(n.consume(f),o)}function u(f){return n.exit("codeIndented"),e(f)}}function Gae(n,e,t){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?t(s):$t(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),r):Yn(n,a,"linePrefix",5)(s)}function a(s){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):$t(s)?r(s):t(s)}}const jae={name:"codeText",previous:Xae,resolve:qae,tokenize:Wae};function qae(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function Xae(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wae(n,e,t){let i=0,r,a;return s;function s(g){return n.enter("codeText"),n.enter("codeTextSequence"),o(g)}function o(g){return g===96?(n.consume(g),i++,o):(n.exit("codeTextSequence"),u(g))}function u(g){return g===null?t(g):g===32?(n.enter("space"),n.consume(g),n.exit("space"),u):g===96?(a=n.enter("codeTextSequence"),r=0,d(g)):$t(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),u):(n.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||$t(g)?(n.exit("codeTextData"),u(g)):(n.consume(g),f)}function d(g){return g===96?(n.consume(g),r++,d):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(g)):(a.type="codeTextData",f(g))}}class Yae{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&rx(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rx(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rx(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rx(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rx(this.left,t.reverse())}}}function rx(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function iB(n){const e={};let t=-1,i,r,a,s,o,u,f;const d=new Yae(n);for(;++t<d.length;){for(;t in e;)t=e[t];if(i=d.get(t),t&&i[1].type==="chunkFlow"&&d.get(t-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,a=0,a<u.length&&u[a][1].type==="lineEndingBlank"&&(a+=2),a<u.length&&u[a][1].type==="content"))for(;++a<u.length&&u[a][1].type!=="content";)u[a][1].type==="chunkText"&&(u[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Zae(d,t)),t=e[t],f=!0);else if(i[1]._container){for(a=t,r=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(r&&(d.get(r)[1].type="lineEndingBlank"),s[1].type="lineEnding",r=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;r&&(i[1].end={...d.get(r)[1].start},o=d.slice(r,t),o.unshift(i),d.splice(r,t-r+1,o))}}return tl(n,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function Zae(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const a=[];let s=t._tokenizer;s||(s=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,u=[],f={};let d,g,y=-1,x=t,_=0,M=0;const w=[M];for(;x;){for(;n.get(++r)[1]!==x;);a.push(r),x._tokenizer||(d=i.sliceStream(x),x.next||d.push(null),g&&s.defineSkip(x.start),x._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),x._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=t;++y<o.length;)o[y][0]==="exit"&&o[y-1][0]==="enter"&&o[y][1].type===o[y-1][1].type&&o[y][1].start.line!==o[y][1].end.line&&(M=y+1,w.push(M),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(s.events=[],x?(x._tokenizer=void 0,x.previous=void 0):w.pop(),y=w.length;y--;){const S=o.slice(w[y],w[y+1]),E=a.pop();u.push([E,E+S.length-1]),n.splice(E,2,S)}for(u.reverse(),y=-1;++y<u.length;)f[_+u[y][0]]=_+u[y][1],_+=u[y][1]-u[y][0]-1;return f}const Kae={resolve:Jae,tokenize:$ae},Qae={partial:!0,tokenize:ese};function Jae(n){return iB(n),n}function $ae(n,e){let t;return i;function i(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?a(o):$t(o)?n.check(Qae,s,a)(o):(n.consume(o),r)}function a(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function s(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function ese(n,e,t){const i=this;return r;function r(s){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),Yn(n,a,"linePrefix")}function a(s){if(s===null||$t(s))return t(s);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):n.interrupt(i.parser.constructs.flow,t,e)(s)}}function rB(n,e,t,i,r,a,s,o,u){const f=u||Number.POSITIVE_INFINITY;let d=0;return g;function g(S){return S===60?(n.enter(i),n.enter(r),n.enter(a),n.consume(S),n.exit(a),y):S===null||S===32||S===41||N_(S)?t(S):(n.enter(i),n.enter(s),n.enter(o),n.enter("chunkString",{contentType:"string"}),M(S))}function y(S){return S===62?(n.enter(a),n.consume(S),n.exit(a),n.exit(r),n.exit(i),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===62?(n.exit("chunkString"),n.exit(o),y(S)):S===null||S===60||$t(S)?t(S):(n.consume(S),S===92?_:x)}function _(S){return S===60||S===62||S===92?(n.consume(S),x):x(S)}function M(S){return!d&&(S===null||S===41||Yi(S))?(n.exit("chunkString"),n.exit(o),n.exit(s),n.exit(i),e(S)):d<f&&S===40?(n.consume(S),d++,M):S===41?(n.consume(S),d--,M):S===null||S===32||S===40||N_(S)?t(S):(n.consume(S),S===92?w:M)}function w(S){return S===40||S===41||S===92?(n.consume(S),M):M(S)}}function aB(n,e,t,i,r,a){const s=this;let o=0,u;return f;function f(x){return n.enter(i),n.enter(r),n.consume(x),n.exit(r),n.enter(a),d}function d(x){return o>999||x===null||x===91||x===93&&!u||x===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?t(x):x===93?(n.exit(a),n.enter(r),n.consume(x),n.exit(r),n.exit(i),e):$t(x)?(n.enter("lineEnding"),n.consume(x),n.exit("lineEnding"),d):(n.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||$t(x)||o++>999?(n.exit("chunkString"),d(x)):(n.consume(x),u||(u=!Jn(x)),x===92?y:g)}function y(x){return x===91||x===92||x===93?(n.consume(x),o++,g):g(x)}}function sB(n,e,t,i,r,a){let s;return o;function o(y){return y===34||y===39||y===40?(n.enter(i),n.enter(r),n.consume(y),n.exit(r),s=y===40?41:y,u):t(y)}function u(y){return y===s?(n.enter(r),n.consume(y),n.exit(r),n.exit(i),e):(n.enter(a),f(y))}function f(y){return y===s?(n.exit(a),u(s)):y===null?t(y):$t(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),Yn(n,f,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===s||y===null||$t(y)?(n.exit("chunkString"),f(y)):(n.consume(y),y===92?g:d)}function g(y){return y===s||y===92?(n.consume(y),d):d(y)}}function qx(n,e){let t;return i;function i(r){return $t(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Jn(r)?Yn(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const tse={name:"definition",tokenize:ise},nse={partial:!0,tokenize:rse};function ise(n,e,t){const i=this;let r;return a;function a(x){return n.enter("definition"),s(x)}function s(x){return aB.call(i,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function o(x){return r=Au(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),x===58?(n.enter("definitionMarker"),n.consume(x),n.exit("definitionMarker"),u):t(x)}function u(x){return Yi(x)?qx(n,f)(x):f(x)}function f(x){return rB(n,d,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function d(x){return n.attempt(nse,g,g)(x)}function g(x){return Jn(x)?Yn(n,y,"whitespace")(x):y(x)}function y(x){return x===null||$t(x)?(n.exit("definition"),i.parser.defined.push(r),e(x)):t(x)}}function rse(n,e,t){return i;function i(o){return Yi(o)?qx(n,r)(o):t(o)}function r(o){return sB(n,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Jn(o)?Yn(n,s,"whitespace")(o):s(o)}function s(o){return o===null||$t(o)?e(o):t(o)}}const ase={name:"hardBreakEscape",tokenize:sse};function sse(n,e,t){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),r}function r(a){return $t(a)?(n.exit("hardBreakEscape"),e(a)):t(a)}}const ose={name:"headingAtx",resolve:lse,tokenize:use};function lse(n,e){let t=n.length-2,i=3,r,a;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},a={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},tl(n,i,t-i+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),n}function use(n,e,t){let i=0;return r;function r(d){return n.enter("atxHeading"),a(d)}function a(d){return n.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&i++<6?(n.consume(d),s):d===null||Yi(d)?(n.exit("atxHeadingSequence"),o(d)):t(d)}function o(d){return d===35?(n.enter("atxHeadingSequence"),u(d)):d===null||$t(d)?(n.exit("atxHeading"),e(d)):Jn(d)?Yn(n,o,"whitespace")(d):(n.enter("atxHeadingText"),f(d))}function u(d){return d===35?(n.consume(d),u):(n.exit("atxHeadingSequence"),o(d))}function f(d){return d===null||d===35||Yi(d)?(n.exit("atxHeadingText"),o(d)):(n.consume(d),f)}}const cse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],BD=["pre","script","style","textarea"],fse={concrete:!0,name:"htmlFlow",resolveTo:pse,tokenize:mse},hse={partial:!0,tokenize:yse},dse={partial:!0,tokenize:gse};function pse(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function mse(n,e,t){const i=this;let r,a,s,o,u;return f;function f(K){return d(K)}function d(K){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(K),g}function g(K){return K===33?(n.consume(K),y):K===47?(n.consume(K),a=!0,M):K===63?(n.consume(K),r=3,i.interrupt?e:F):Ws(K)?(n.consume(K),s=String.fromCharCode(K),w):t(K)}function y(K){return K===45?(n.consume(K),r=2,x):K===91?(n.consume(K),r=5,o=0,_):Ws(K)?(n.consume(K),r=4,i.interrupt?e:F):t(K)}function x(K){return K===45?(n.consume(K),i.interrupt?e:F):t(K)}function _(K){const Le="CDATA[";return K===Le.charCodeAt(o++)?(n.consume(K),o===Le.length?i.interrupt?e:Z:_):t(K)}function M(K){return Ws(K)?(n.consume(K),s=String.fromCharCode(K),w):t(K)}function w(K){if(K===null||K===47||K===62||Yi(K)){const Le=K===47,Ye=s.toLowerCase();return!Le&&!a&&BD.includes(Ye)?(r=1,i.interrupt?e(K):Z(K)):cse.includes(s.toLowerCase())?(r=6,Le?(n.consume(K),S):i.interrupt?e(K):Z(K)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(K):a?E(K):R(K))}return K===45||ps(K)?(n.consume(K),s+=String.fromCharCode(K),w):t(K)}function S(K){return K===62?(n.consume(K),i.interrupt?e:Z):t(K)}function E(K){return Jn(K)?(n.consume(K),E):L(K)}function R(K){return K===47?(n.consume(K),L):K===58||K===95||Ws(K)?(n.consume(K),N):Jn(K)?(n.consume(K),R):L(K)}function N(K){return K===45||K===46||K===58||K===95||ps(K)?(n.consume(K),N):O(K)}function O(K){return K===61?(n.consume(K),z):Jn(K)?(n.consume(K),O):R(K)}function z(K){return K===null||K===60||K===61||K===62||K===96?t(K):K===34||K===39?(n.consume(K),u=K,B):Jn(K)?(n.consume(K),z):G(K)}function B(K){return K===u?(n.consume(K),u=null,U):K===null||$t(K)?t(K):(n.consume(K),B)}function G(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||Yi(K)?O(K):(n.consume(K),G)}function U(K){return K===47||K===62||Jn(K)?R(K):t(K)}function L(K){return K===62?(n.consume(K),j):t(K)}function j(K){return K===null||$t(K)?Z(K):Jn(K)?(n.consume(K),j):t(K)}function Z(K){return K===45&&r===2?(n.consume(K),W):K===60&&r===1?(n.consume(K),te):K===62&&r===4?(n.consume(K),J):K===63&&r===3?(n.consume(K),F):K===93&&r===5?(n.consume(K),ve):$t(K)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(hse,ye,oe)(K)):K===null||$t(K)?(n.exit("htmlFlowData"),oe(K)):(n.consume(K),Z)}function oe(K){return n.check(dse,le,ye)(K)}function le(K){return n.enter("lineEnding"),n.consume(K),n.exit("lineEnding"),ae}function ae(K){return K===null||$t(K)?oe(K):(n.enter("htmlFlowData"),Z(K))}function W(K){return K===45?(n.consume(K),F):Z(K)}function te(K){return K===47?(n.consume(K),s="",re):Z(K)}function re(K){if(K===62){const Le=s.toLowerCase();return BD.includes(Le)?(n.consume(K),J):Z(K)}return Ws(K)&&s.length<8?(n.consume(K),s+=String.fromCharCode(K),re):Z(K)}function ve(K){return K===93?(n.consume(K),F):Z(K)}function F(K){return K===62?(n.consume(K),J):K===45&&r===2?(n.consume(K),F):Z(K)}function J(K){return K===null||$t(K)?(n.exit("htmlFlowData"),ye(K)):(n.consume(K),J)}function ye(K){return n.exit("htmlFlow"),e(K)}}function gse(n,e,t){const i=this;return r;function r(s){return $t(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),a):t(s)}function a(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}function yse(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(n2,e,t)}}const xse={name:"htmlText",tokenize:vse};function vse(n,e,t){const i=this;let r,a,s;return o;function o(F){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(F),u}function u(F){return F===33?(n.consume(F),f):F===47?(n.consume(F),O):F===63?(n.consume(F),R):Ws(F)?(n.consume(F),G):t(F)}function f(F){return F===45?(n.consume(F),d):F===91?(n.consume(F),a=0,_):Ws(F)?(n.consume(F),E):t(F)}function d(F){return F===45?(n.consume(F),x):t(F)}function g(F){return F===null?t(F):F===45?(n.consume(F),y):$t(F)?(s=g,te(F)):(n.consume(F),g)}function y(F){return F===45?(n.consume(F),x):g(F)}function x(F){return F===62?W(F):F===45?y(F):g(F)}function _(F){const J="CDATA[";return F===J.charCodeAt(a++)?(n.consume(F),a===J.length?M:_):t(F)}function M(F){return F===null?t(F):F===93?(n.consume(F),w):$t(F)?(s=M,te(F)):(n.consume(F),M)}function w(F){return F===93?(n.consume(F),S):M(F)}function S(F){return F===62?W(F):F===93?(n.consume(F),S):M(F)}function E(F){return F===null||F===62?W(F):$t(F)?(s=E,te(F)):(n.consume(F),E)}function R(F){return F===null?t(F):F===63?(n.consume(F),N):$t(F)?(s=R,te(F)):(n.consume(F),R)}function N(F){return F===62?W(F):R(F)}function O(F){return Ws(F)?(n.consume(F),z):t(F)}function z(F){return F===45||ps(F)?(n.consume(F),z):B(F)}function B(F){return $t(F)?(s=B,te(F)):Jn(F)?(n.consume(F),B):W(F)}function G(F){return F===45||ps(F)?(n.consume(F),G):F===47||F===62||Yi(F)?U(F):t(F)}function U(F){return F===47?(n.consume(F),W):F===58||F===95||Ws(F)?(n.consume(F),L):$t(F)?(s=U,te(F)):Jn(F)?(n.consume(F),U):W(F)}function L(F){return F===45||F===46||F===58||F===95||ps(F)?(n.consume(F),L):j(F)}function j(F){return F===61?(n.consume(F),Z):$t(F)?(s=j,te(F)):Jn(F)?(n.consume(F),j):U(F)}function Z(F){return F===null||F===60||F===61||F===62||F===96?t(F):F===34||F===39?(n.consume(F),r=F,oe):$t(F)?(s=Z,te(F)):Jn(F)?(n.consume(F),Z):(n.consume(F),le)}function oe(F){return F===r?(n.consume(F),r=void 0,ae):F===null?t(F):$t(F)?(s=oe,te(F)):(n.consume(F),oe)}function le(F){return F===null||F===34||F===39||F===60||F===61||F===96?t(F):F===47||F===62||Yi(F)?U(F):(n.consume(F),le)}function ae(F){return F===47||F===62||Yi(F)?U(F):t(F)}function W(F){return F===62?(n.consume(F),n.exit("htmlTextData"),n.exit("htmlText"),e):t(F)}function te(F){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),re}function re(F){return Jn(F)?Yn(n,ve,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):ve(F)}function ve(F){return n.enter("htmlTextData"),s(F)}}const H7={name:"labelEnd",resolveAll:Mse,resolveTo:wse,tokenize:Ase},bse={tokenize:Tse},_se={tokenize:Ese},Sse={tokenize:Cse};function Mse(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&tl(n,0,n.length,t),n}function wse(n,e){let t=n.length,i=0,r,a,s,o;for(;t--;)if(r=n[t][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=t);const u={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},f={type:"label",start:{...n[a][1].start},end:{...n[s][1].end}},d={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[s-2][1].start}};return o=[["enter",u,e],["enter",f,e]],o=zl(o,n.slice(a+1,a+i+3)),o=zl(o,[["enter",d,e]]),o=zl(o,OS(e.parser.constructs.insideSpan.null,n.slice(a+i+4,s-3),e)),o=zl(o,[["exit",d,e],n[s-2],n[s-1],["exit",f,e]]),o=zl(o,n.slice(s+1)),o=zl(o,[["exit",u,e]]),tl(n,a,n.length,o),n}function Ase(n,e,t){const i=this;let r=i.events.length,a,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){a=i.events[r][1];break}return o;function o(y){return a?a._inactive?g(y):(s=i.parser.defined.includes(Au(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(y),n.exit("labelMarker"),n.exit("labelEnd"),u):t(y)}function u(y){return y===40?n.attempt(bse,d,s?d:g)(y):y===91?n.attempt(_se,d,s?f:g)(y):s?d(y):g(y)}function f(y){return n.attempt(Sse,d,g)(y)}function d(y){return e(y)}function g(y){return a._balanced=!0,t(y)}}function Tse(n,e,t){return i;function i(g){return n.enter("resource"),n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),r}function r(g){return Yi(g)?qx(n,a)(g):a(g)}function a(g){return g===41?d(g):rB(n,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return Yi(g)?qx(n,u)(g):d(g)}function o(g){return t(g)}function u(g){return g===34||g===39||g===40?sB(n,f,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):d(g)}function f(g){return Yi(g)?qx(n,d)(g):d(g)}function d(g){return g===41?(n.enter("resourceMarker"),n.consume(g),n.exit("resourceMarker"),n.exit("resource"),e):t(g)}}function Ese(n,e,t){const i=this;return r;function r(o){return aB.call(i,n,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return i.parser.defined.includes(Au(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function s(o){return t(o)}}function Cse(n,e,t){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),r}function r(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),e):t(a)}}const Rse={name:"labelStartImage",resolveAll:H7.resolveAll,tokenize:Dse};function Dse(n,e,t){const i=this;return r;function r(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),a}function a(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),s):t(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const Nse={name:"labelStartLink",resolveAll:H7.resolveAll,tokenize:zse};function zse(n,e,t){const i=this;return r;function r(s){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(s),n.exit("labelMarker"),n.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(s):e(s)}}const bM={name:"lineEnding",tokenize:Lse};function Lse(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Yn(n,e,"linePrefix")}}const y4={name:"thematicBreak",tokenize:kse};function kse(n,e,t){let i=0,r;return a;function a(f){return n.enter("thematicBreak"),s(f)}function s(f){return r=f,o(f)}function o(f){return f===r?(n.enter("thematicBreakSequence"),u(f)):i>=3&&(f===null||$t(f))?(n.exit("thematicBreak"),e(f)):t(f)}function u(f){return f===r?(n.consume(f),i++,u):(n.exit("thematicBreakSequence"),Jn(f)?Yn(n,o,"whitespace")(f):o(f))}}const co={continuation:{tokenize:Bse},exit:Fse,name:"list",tokenize:Pse},Ose={partial:!0,tokenize:Vse},Use={partial:!0,tokenize:Ise};function Pse(n,e,t){const i=this,r=i.events[i.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return o;function o(x){const _=i.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!i.containerState.marker||x===i.containerState.marker:pA(x)){if(i.containerState.type||(i.containerState.type=_,n.enter(_,{_container:!0})),_==="listUnordered")return n.enter("listItemPrefix"),x===42||x===45?n.check(y4,t,f)(x):f(x);if(!i.interrupt||x===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),u(x)}return t(x)}function u(x){return pA(x)&&++s<10?(n.consume(x),u):(!i.interrupt||s<2)&&(i.containerState.marker?x===i.containerState.marker:x===41||x===46)?(n.exit("listItemValue"),f(x)):t(x)}function f(x){return n.enter("listItemMarker"),n.consume(x),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||x,n.check(n2,i.interrupt?t:d,n.attempt(Ose,y,g))}function d(x){return i.containerState.initialBlankLine=!0,a++,y(x)}function g(x){return Jn(x)?(n.enter("listItemPrefixWhitespace"),n.consume(x),n.exit("listItemPrefixWhitespace"),y):t(x)}function y(x){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(x)}}function Bse(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(n2,r,a);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Yn(n,e,"listItemIndent",i.containerState.size+1)(o)}function a(o){return i.containerState.furtherBlankLines||!Jn(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(Use,e,s)(o))}function s(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Yn(n,n.attempt(co,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Ise(n,e,t){const i=this;return Yn(n,r,"listItemIndent",i.containerState.size+1);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(a):t(a)}}function Fse(n){n.exit(this.containerState.type)}function Vse(n,e,t){const i=this;return Yn(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const s=i.events[i.events.length-1];return!Jn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):t(a)}}const ID={name:"setextUnderline",resolveTo:Hse,tokenize:Gse};function Hse(n,e){let t=n.length,i,r,a;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!a&&n[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",a?(n.splice(r,0,["enter",s,e]),n.splice(a+1,0,["exit",n[i][1],e]),n[i][1].end={...n[a][1].end}):n[i][1]=s,n.push(["exit",s,e]),n}function Gse(n,e,t){const i=this;let r;return a;function a(f){let d=i.events.length,g;for(;d--;)if(i.events[d][1].type!=="lineEnding"&&i.events[d][1].type!=="linePrefix"&&i.events[d][1].type!=="content"){g=i.events[d][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(n.enter("setextHeadingLine"),r=f,s(f)):t(f)}function s(f){return n.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===r?(n.consume(f),o):(n.exit("setextHeadingLineSequence"),Jn(f)?Yn(n,u,"lineSuffix")(f):u(f))}function u(f){return f===null||$t(f)?(n.exit("setextHeadingLine"),e(f)):t(f)}}const jse={tokenize:qse};function qse(n){const e=this,t=n.attempt(n2,i,n.attempt(this.parser.constructs.flowInitial,r,Yn(n,n.attempt(this.parser.constructs.flow,r,n.attempt(Kae,r)),"linePrefix")));return t;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const Xse={resolveAll:lB()},Wse=oB("string"),Yse=oB("text");function oB(n){return{resolveAll:lB(n==="text"?Zse:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],a=t.attempt(r,s,o);return s;function s(d){return f(d)?a(d):o(d)}function o(d){if(d===null){t.consume(d);return}return t.enter("data"),t.consume(d),u}function u(d){return f(d)?(t.exit("data"),a(d)):(t.consume(d),u)}function f(d){if(d===null)return!0;const g=r[d];let y=-1;if(g)for(;++y<g.length;){const x=g[y];if(!x.previous||x.previous.call(i,i.previous))return!0}return!1}}}function lB(n){return e;function e(t,i){let r=-1,a;for(;++r<=t.length;)a===void 0?t[r]&&t[r][1].type==="data"&&(a=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),r=a+2),a=void 0);return n?n(t,i):t}}function Zse(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let a=r.length,s=-1,o=0,u;for(;a--;){const f=r[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(f===-2)u=!0,o++;else if(f!==-1){a++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const f={type:t===n.length||u||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:i.start._bufferIndex+s,_index:i.start._index+a,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...f.start},i.start.offset===i.end.offset?Object.assign(i,f):(n.splice(t,0,["enter",f,e],["exit",f,e]),t+=2)}t++}return n}const Kse={42:co,43:co,45:co,48:co,49:co,50:co,51:co,52:co,53:co,54:co,55:co,56:co,57:co,62:eB},Qse={91:tse},Jse={[-2]:vM,[-1]:vM,32:vM},$se={35:ose,42:y4,45:[ID,y4],60:fse,61:ID,95:y4,96:PD,126:PD},eoe={38:nB,92:tB},toe={[-5]:bM,[-4]:bM,[-3]:bM,33:Rse,38:nB,42:mA,60:[Nae,xse],91:Nse,92:[ase,tB],93:H7,95:mA,96:jae},noe={null:[mA,Xse]},ioe={null:[42,95]},roe={null:[]},aoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ioe,contentInitial:Qse,disable:roe,document:Kse,flow:$se,flowInitial:Jse,insideSpan:noe,string:eoe,text:toe},Symbol.toStringTag,{value:"Module"}));function soe(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},a=[];let s=[],o=[];const u={attempt:B(O),check:B(z),consume:E,enter:R,exit:N,interrupt:B(z,{interrupt:!0})},f={code:null,containerState:{},defineSkip:M,events:[],now:_,parser:n,previous:null,sliceSerialize:y,sliceStream:x,write:g};let d=e.tokenize.call(f,u);return e.resolveAll&&a.push(e),f;function g(j){return s=zl(s,j),w(),s[s.length-1]!==null?[]:(G(e,0),f.events=OS(a,f.events,f),f.events)}function y(j,Z){return loe(x(j),Z)}function x(j){return ooe(s,j)}function _(){const{_bufferIndex:j,_index:Z,line:oe,column:le,offset:ae}=i;return{_bufferIndex:j,_index:Z,line:oe,column:le,offset:ae}}function M(j){r[j.line]=j.column,L()}function w(){let j;for(;i._index<s.length;){const Z=s[i._index];if(typeof Z=="string")for(j=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===j&&i._bufferIndex<Z.length;)S(Z.charCodeAt(i._bufferIndex));else S(Z)}}function S(j){d=d(j)}function E(j){$t(j)?(i.line++,i.column=1,i.offset+=j===-3?2:1,L()):j!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=j}function R(j,Z){const oe=Z||{};return oe.type=j,oe.start=_(),f.events.push(["enter",oe,f]),o.push(oe),oe}function N(j){const Z=o.pop();return Z.end=_(),f.events.push(["exit",Z,f]),Z}function O(j,Z){G(j,Z.from)}function z(j,Z){Z.restore()}function B(j,Z){return oe;function oe(le,ae,W){let te,re,ve,F;return Array.isArray(le)?ye(le):"tokenize"in le?ye([le]):J(le);function J(_e){return Ne;function Ne(Xe){const at=Xe!==null&&_e[Xe],_t=Xe!==null&&_e.null,Pt=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(_t)?_t:_t?[_t]:[]];return ye(Pt)(Xe)}}function ye(_e){return te=_e,re=0,_e.length===0?W:K(_e[re])}function K(_e){return Ne;function Ne(Xe){return F=U(),ve=_e,_e.partial||(f.currentConstruct=_e),_e.name&&f.parser.constructs.disable.null.includes(_e.name)?Ye():_e.tokenize.call(Z?Object.assign(Object.create(f),Z):f,u,Le,Ye)(Xe)}}function Le(_e){return j(ve,F),ae}function Ye(_e){return F.restore(),++re<te.length?K(te[re]):W}}}function G(j,Z){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&tl(f.events,Z,f.events.length-Z,j.resolve(f.events.slice(Z),f)),j.resolveTo&&(f.events=j.resolveTo(f.events,f))}function U(){const j=_(),Z=f.previous,oe=f.currentConstruct,le=f.events.length,ae=Array.from(o);return{from:le,restore:W};function W(){i=j,f.previous=Z,f.currentConstruct=oe,f.events.length=le,o=ae,L()}}function L(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function ooe(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let s;if(t===r)s=[n[t].slice(i,a)];else{if(s=n.slice(t,r),i>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(i):s.shift()}a>0&&s.push(n[r].slice(0,a))}return s}function loe(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const a=n[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(a)}r=a===-2,i.push(s)}return i.join("")}function uoe(n){const i={constructs:JP([aoe,...(n||{}).extensions||[]]),content:r(wae),defined:[],document:r(Tae),flow:r(jse),lazy:{},string:r(Wse),text:r(Yse)};return i;function r(a){return s;function s(o){return soe(i,a,o)}}}function coe(n){for(;!iB(n););return n}const FD=/[\0\t\n\r]/g;function foe(){let n=1,e="",t=!0,i;return r;function r(a,s,o){const u=[];let f,d,g,y,x;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),g=0,e="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(FD.lastIndex=g,f=FD.exec(a),y=f&&f.index!==void 0?f.index:a.length,x=a.charCodeAt(y),!f){e=a.slice(g);break}if(x===10&&g===y&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),g<y&&(u.push(a.slice(g,y)),n+=y-g),x){case 0:{u.push(65533),n++;break}case 9:{for(d=Math.ceil(n/4)*4,u.push(-2);n++<d;)u.push(-1);break}case 10:{u.push(-4),n=1;break}default:i=!0,n=1}g=y+1}return o&&(i&&u.push(-5),e&&u.push(e),u.push(null)),u}}const hoe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function doe(n){return n.replace(hoe,poe)}function poe(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),a=r===120||r===88;return $P(t.slice(a?2:1),a?16:10)}return V7(t)||n}const uB={}.hasOwnProperty;function moe(n,e,t){return typeof e!="string"&&(t=e,e=void 0),goe(t)(coe(uoe(t).document().write(foe()(n,e,!0))))}function goe(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ze),autolinkProtocol:U,autolinkEmail:U,atxHeading:a(ne),blockQuote:a(_t),characterEscape:U,characterReference:U,codeFenced:a(Pt),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Pt,s),codeText:a(rn,s),codeTextData:U,data:U,codeFlowValue:U,definition:a(dt),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(Fe),hardBreakEscape:a(Ge),hardBreakTrailing:a(Ge),htmlFlow:a(de,s),htmlFlowData:U,htmlText:a(de,s),htmlTextData:U,image:a(it),label:s,link:a(Ze),listItem:a(tt),listItemValue:y,listOrdered:a(xt,g),listUnordered:a(xt),paragraph:a(Mt),reference:K,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ne),strong:a(ie),thematicBreak:a(Ae)},exit:{atxHeading:u(),atxHeadingSequence:O,autolink:u(),autolinkEmail:at,autolinkProtocol:Xe,blockQuote:u(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Ye,characterReferenceMarkerNumeric:Ye,characterReferenceValue:_e,characterReference:Ne,codeFenced:u(w),codeFencedFence:M,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:L,codeIndented:u(S),codeText:u(ae),codeTextData:L,data:L,definition:u(),definitionDestinationString:N,definitionLabelString:E,definitionTitleString:R,emphasis:u(),hardBreakEscape:u(Z),hardBreakTrailing:u(Z),htmlFlow:u(oe),htmlFlowData:L,htmlText:u(le),htmlTextData:L,image:u(te),label:ve,labelText:re,lineEnding:j,link:u(W),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:Le,resourceDestinationString:F,resourceTitleString:J,resource:ye,setextHeading:u(G),setextHeadingLineSequence:B,setextHeadingText:z,strong:u(),thematicBreak:u()}};cB(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(ce){let xe={type:"root",children:[]};const Me={stack:[xe],tokenStack:[],config:e,enter:o,exit:f,buffer:s,resume:d,data:t},nt=[];let Qe=-1;for(;++Qe<ce.length;)if(ce[Qe][1].type==="listOrdered"||ce[Qe][1].type==="listUnordered")if(ce[Qe][0]==="enter")nt.push(Qe);else{const Rt=nt.pop();Qe=r(ce,Rt,Qe)}for(Qe=-1;++Qe<ce.length;){const Rt=e[ce[Qe][0]];uB.call(Rt,ce[Qe][1].type)&&Rt[ce[Qe][1].type].call(Object.assign({sliceSerialize:ce[Qe][2].sliceSerialize},Me),ce[Qe][1])}if(Me.tokenStack.length>0){const Rt=Me.tokenStack[Me.tokenStack.length-1];(Rt[1]||VD).call(Me,void 0,Rt[0])}for(xe.position={start:Ph(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Ph(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},Qe=-1;++Qe<e.transforms.length;)xe=e.transforms[Qe](xe)||xe;return xe}function r(ce,xe,Me){let nt=xe-1,Qe=-1,Rt=!1,ft,He,Ke,Nt;for(;++nt<=Me;){const bt=ce[nt];switch(bt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{bt[0]==="enter"?Qe++:Qe--,Nt=void 0;break}case"lineEndingBlank":{bt[0]==="enter"&&(ft&&!Nt&&!Qe&&!Ke&&(Ke=nt),Nt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nt=void 0}if(!Qe&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||Qe===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(ft){let mt=nt;for(He=void 0;mt--;){const Bt=ce[mt];if(Bt[1].type==="lineEnding"||Bt[1].type==="lineEndingBlank"){if(Bt[0]==="exit")continue;He&&(ce[He][1].type="lineEndingBlank",Rt=!0),Bt[1].type="lineEnding",He=mt}else if(!(Bt[1].type==="linePrefix"||Bt[1].type==="blockQuotePrefix"||Bt[1].type==="blockQuotePrefixWhitespace"||Bt[1].type==="blockQuoteMarker"||Bt[1].type==="listItemIndent"))break}Ke&&(!He||Ke<He)&&(ft._spread=!0),ft.end=Object.assign({},He?ce[He][1].start:bt[1].end),ce.splice(He||nt,0,["exit",ft,bt[2]]),nt++,Me++}if(bt[1].type==="listItemPrefix"){const mt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start),end:void 0};ft=mt,ce.splice(nt,0,["enter",mt,bt[2]]),nt++,Me++,Ke=void 0,Nt=!0}}}return ce[xe][1]._spread=Rt,Me}function a(ce,xe){return Me;function Me(nt){o.call(this,ce(nt),nt),xe&&xe.call(this,nt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ce,xe,Me){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([xe,Me||void 0]),ce.position={start:Ph(xe.start),end:void 0}}function u(ce){return xe;function xe(Me){ce&&ce.call(this,Me),f.call(this,Me)}}function f(ce,xe){const Me=this.stack.pop(),nt=this.tokenStack.pop();if(nt)nt[0].type!==ce.type&&(xe?xe.call(this,ce,nt[0]):(nt[1]||VD).call(this,ce,nt[0]));else throw new Error("Cannot close `"+ce.type+"` ("+jx({start:ce.start,end:ce.end})+"): its not open");Me.position.end=Ph(ce.end)}function d(){return F7(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(ce){if(this.data.expectingFirstListItemValue){const xe=this.stack[this.stack.length-2];xe.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function x(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.lang=ce}function _(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.meta=ce}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce.replace(/(\r?\n|\r)$/g,"")}function E(ce){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.label=xe,Me.identifier=Au(this.sliceSerialize(ce)).toLowerCase()}function R(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ce}function N(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ce}function O(ce){const xe=this.stack[this.stack.length-1];if(!xe.depth){const Me=this.sliceSerialize(ce).length;xe.depth=Me}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function B(ce){const xe=this.stack[this.stack.length-1];xe.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function G(){this.data.setextHeadingSlurpLineEnding=void 0}function U(ce){const Me=this.stack[this.stack.length-1].children;let nt=Me[Me.length-1];(!nt||nt.type!=="text")&&(nt=X(),nt.position={start:Ph(ce.start),end:void 0},Me.push(nt)),this.stack.push(nt)}function L(ce){const xe=this.stack.pop();xe.value+=this.sliceSerialize(ce),xe.position.end=Ph(ce.end)}function j(ce){const xe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Me=xe.children[xe.children.length-1];Me.position.end=Ph(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(xe.type)&&(U.call(this,ce),L.call(this,ce))}function Z(){this.data.atHardBreak=!0}function oe(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function le(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function ae(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.value=ce}function W(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=xe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function te(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const xe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=xe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function re(ce){const xe=this.sliceSerialize(ce),Me=this.stack[this.stack.length-2];Me.label=doe(xe),Me.identifier=Au(xe).toLowerCase()}function ve(){const ce=this.stack[this.stack.length-1],xe=this.resume(),Me=this.stack[this.stack.length-1];if(this.data.inReference=!0,Me.type==="link"){const nt=ce.children;Me.children=nt}else Me.alt=xe}function F(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.url=ce}function J(){const ce=this.resume(),xe=this.stack[this.stack.length-1];xe.title=ce}function ye(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function Le(ce){const xe=this.resume(),Me=this.stack[this.stack.length-1];Me.label=xe,Me.identifier=Au(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function Ye(ce){this.data.characterReferenceType=ce.type}function _e(ce){const xe=this.sliceSerialize(ce),Me=this.data.characterReferenceType;let nt;Me?(nt=$P(xe,Me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nt=V7(xe);const Qe=this.stack[this.stack.length-1];Qe.value+=nt}function Ne(ce){const xe=this.stack.pop();xe.position.end=Ph(ce.end)}function Xe(ce){L.call(this,ce);const xe=this.stack[this.stack.length-1];xe.url=this.sliceSerialize(ce)}function at(ce){L.call(this,ce);const xe=this.stack[this.stack.length-1];xe.url="mailto:"+this.sliceSerialize(ce)}function _t(){return{type:"blockquote",children:[]}}function Pt(){return{type:"code",lang:null,meta:null,value:""}}function rn(){return{type:"inlineCode",value:""}}function dt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function ne(){return{type:"heading",depth:0,children:[]}}function Ge(){return{type:"break"}}function de(){return{type:"html",value:""}}function it(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function xt(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function tt(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Mt(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function X(){return{type:"text",value:""}}function Ae(){return{type:"thematicBreak"}}}function Ph(n){return{line:n.line,column:n.column,offset:n.offset}}function cB(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?cB(n,i):yoe(n,i)}}function yoe(n,e){let t;for(t in e)if(uB.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function VD(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+jx({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+jx({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+jx({start:e.start,end:e.end})+") is still open")}function xoe(n){const e=this;e.parser=t;function t(i){return moe(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function voe(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function boe(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function _oe(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(a.data={meta:e.meta}),n.patch(e,a),a=n.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(e,a),a}function Soe(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Moe(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function woe(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=ug(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let s,o=n.footnoteCounts.get(i);o===void 0?(o=0,n.footnoteOrder.push(i),s=n.footnoteOrder.length):s=a+1,o+=1,n.footnoteCounts.set(i,o);const u={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};n.patch(e,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return n.patch(e,f),n.applyData(e,f)}function Aoe(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Toe(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function fB(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push({type:"text",value:i}),r}function Eoe(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fB(n,e);const r={src:ug(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,a),n.applyData(e,a)}function Coe(n,e){const t={src:ug(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function Roe(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function Doe(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return fB(n,e);const r={href:ug(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function Noe(n,e){const t={href:ug(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function zoe(n,e,t){const i=n.all(e),r=t?Loe(t):hB(e),a={},s=[];if(typeof e.checked=="boolean"){const d=i[0];let g;d&&d.type==="element"&&d.tagName==="p"?g=d:(g={type:"element",tagName:"p",properties:{},children:[]},i.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const d=i[o];(r||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!r?s.push(...d.children):s.push(d)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return n.patch(e,f),n.applyData(e,f)}function Loe(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=hB(t[i])}return e}function hB(n){const e=n.spread;return e??n.children.length>1}function koe(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const s=i[r];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,a),n.applyData(e,a)}function Ooe(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Uoe(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function Poe(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function Boe(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const s={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],s),r.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=U7(e.children[1]),u=qP(e.children[e.children.length-1]);o&&u&&(s.position={start:o,end:u}),r.push(s)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,a),n.applyData(e,a)}function Ioe(n,e,t){const i=t?t.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,o=s?s.length:e.children.length;let u=-1;const f=[];for(;++u<o;){const g=e.children[u],y={},x=s?s[u]:void 0;x&&(y.align=x);let _={type:"element",tagName:a,properties:y,children:[]};g&&(_.children=n.all(g),n.patch(g,_),_=n.applyData(g,_)),f.push(_)}const d={type:"element",tagName:"tr",properties:{},children:n.wrap(f,!0)};return n.patch(e,d),n.applyData(e,d)}function Foe(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const HD=9,GD=32;function Voe(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const a=[];for(;i;)a.push(jD(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return a.push(jD(e.slice(r),r>0,!1)),a.join("")}function jD(n,e,t){let i=0,r=n.length;if(e){let a=n.codePointAt(i);for(;a===HD||a===GD;)i++,a=n.codePointAt(i)}if(t){let a=n.codePointAt(r-1);for(;a===HD||a===GD;)r--,a=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function Hoe(n,e){const t={type:"text",value:Voe(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function Goe(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const joe={blockquote:voe,break:boe,code:_oe,delete:Soe,emphasis:Moe,footnoteReference:woe,heading:Aoe,html:Toe,imageReference:Eoe,image:Coe,inlineCode:Roe,linkReference:Doe,link:Noe,listItem:zoe,list:koe,paragraph:Ooe,root:Uoe,strong:Poe,table:Boe,tableCell:Foe,tableRow:Ioe,text:Hoe,thematicBreak:Goe,toml:Pb,yaml:Pb,definition:Pb,footnoteDefinition:Pb};function Pb(){}const dB=-1,US=0,Xx=1,z_=2,G7=3,j7=4,q7=5,X7=6,pB=7,mB=8,qD=typeof self=="object"?self:globalThis,qoe=(n,e)=>{const t=(r,a)=>(n.set(a,r),r),i=r=>{if(n.has(r))return n.get(r);const[a,s]=e[r];switch(a){case US:case dB:return t(s,r);case Xx:{const o=t([],r);for(const u of s)o.push(i(u));return o}case z_:{const o=t({},r);for(const[u,f]of s)o[i(u)]=i(f);return o}case G7:return t(new Date(s),r);case j7:{const{source:o,flags:u}=s;return t(new RegExp(o,u),r)}case q7:{const o=t(new Map,r);for(const[u,f]of s)o.set(i(u),i(f));return o}case X7:{const o=t(new Set,r);for(const u of s)o.add(i(u));return o}case pB:{const{name:o,message:u}=s;return t(new qD[o](u),r)}case mB:return t(BigInt(s),r);case"BigInt":return t(Object(BigInt(s)),r);case"ArrayBuffer":return t(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return t(new DataView(o),s)}}return t(new qD[a](s),r)};return i},XD=n=>qoe(new Map,n)(0),t1="",{toString:Xoe}={},{keys:Woe}=Object,ax=n=>{const e=typeof n;if(e!=="object"||!n)return[US,e];const t=Xoe.call(n).slice(8,-1);switch(t){case"Array":return[Xx,t1];case"Object":return[z_,t1];case"Date":return[G7,t1];case"RegExp":return[j7,t1];case"Map":return[q7,t1];case"Set":return[X7,t1];case"DataView":return[Xx,t]}return t.includes("Array")?[Xx,t]:t.includes("Error")?[pB,t]:[z_,t]},Bb=([n,e])=>n===US&&(e==="function"||e==="symbol"),Yoe=(n,e,t,i)=>{const r=(s,o)=>{const u=i.push(s)-1;return t.set(o,u),u},a=s=>{if(t.has(s))return t.get(s);let[o,u]=ax(s);switch(o){case US:{let d=s;switch(u){case"bigint":o=mB,d=s.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+u);d=null;break;case"undefined":return r([dB],s)}return r([o,d],s)}case Xx:{if(u){let y=s;return u==="DataView"?y=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(y=new Uint8Array(s)),r([u,[...y]],s)}const d=[],g=r([o,d],s);for(const y of s)d.push(a(y));return g}case z_:{if(u)switch(u){case"BigInt":return r([u,s.toString()],s);case"Boolean":case"Number":case"String":return r([u,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const d=[],g=r([o,d],s);for(const y of Woe(s))(n||!Bb(ax(s[y])))&&d.push([a(y),a(s[y])]);return g}case G7:return r([o,s.toISOString()],s);case j7:{const{source:d,flags:g}=s;return r([o,{source:d,flags:g}],s)}case q7:{const d=[],g=r([o,d],s);for(const[y,x]of s)(n||!(Bb(ax(y))||Bb(ax(x))))&&d.push([a(y),a(x)]);return g}case X7:{const d=[],g=r([o,d],s);for(const y of s)(n||!Bb(ax(y)))&&d.push(a(y));return g}}const{message:f}=s;return r([o,{name:u,message:f}],s)};return a},WD=(n,{json:e,lossy:t}={})=>{const i=[];return Yoe(!(e||t),!!e,new Map,i)(n),i},L_=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?XD(WD(n,e)):structuredClone(n):(n,e)=>XD(WD(n,e));function Zoe(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function Koe(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Qoe(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||Zoe,i=n.options.footnoteBackLabel||Koe,r=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",s=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let u=-1;for(;++u<n.footnoteOrder.length;){const f=n.footnoteById.get(n.footnoteOrder[u]);if(!f)continue;const d=n.all(f),g=String(f.identifier).toUpperCase(),y=ug(g.toLowerCase());let x=0;const _=[],M=n.footnoteCounts.get(g);for(;M!==void 0&&++x<=M;){_.length>0&&_.push({type:"text",value:" "});let E=typeof t=="string"?t:t(u,x);typeof E=="string"&&(E={type:"text",value:E}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+y+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,x),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const w=d[d.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const E=w.children[w.children.length-1];E&&E.type==="text"?E.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(..._)}else d.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+y},children:n.wrap(d,!0)};n.patch(f,S),o.push(S)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...L_(s),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const i2=(function(n){if(n==null)return tle;if(typeof n=="function")return PS(n);if(typeof n=="object")return Array.isArray(n)?Joe(n):$oe(n);if(typeof n=="string")return ele(n);throw new Error("Expected function, string, or object as test")});function Joe(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=i2(n[t]);return PS(i);function i(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function $oe(n){const e=n;return PS(t);function t(i){const r=i;let a;for(a in n)if(r[a]!==e[a])return!1;return!0}}function ele(n){return PS(e);function e(t){return t&&t.type===n}}function PS(n){return e;function e(t,i,r){return!!(nle(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function tle(){return!0}function nle(n){return n!==null&&typeof n=="object"&&"type"in n}const gB=[],ile=!0,gA=!1,yB="skip";function W7(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const a=i2(r),s=i?-1:1;o(n,void 0,[])();function o(u,f,d){const g=u&&typeof u=="object"?u:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(u.type+(x?"<"+x+">":""))+")"})}return y;function y(){let x=gB,_,M,w;if((!e||a(u,f,d[d.length-1]||void 0))&&(x=rle(t(u,d)),x[0]===gA))return x;if("children"in u&&u.children){const S=u;if(S.children&&x[0]!==yB)for(M=(i?S.children.length:-1)+s,w=d.concat(S);M>-1&&M<S.children.length;){const E=S.children[M];if(_=o(E,M,w)(),_[0]===gA)return _;M=typeof _[1]=="number"?_[1]:M+s}}return x}}}function rle(n){return Array.isArray(n)?n:typeof n=="number"?[ile,n]:n==null?gB:[n]}function Y7(n,e,t,i){let r,a,s;typeof e=="function"&&typeof t!="function"?(a=void 0,s=e,r=t):(a=e,s=t,r=i),W7(n,a,o,r);function o(u,f){const d=f[f.length-1],g=d?d.children.indexOf(u):void 0;return s(u,g,d)}}const yA={}.hasOwnProperty,ale={};function sle(n,e){const t=e||ale,i=new Map,r=new Map,a=new Map,s={...joe,...t.handlers},o={all:f,applyData:lle,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:s,one:u,options:t,patch:ole,wrap:cle};return Y7(n,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const g=d.type==="definition"?i:r,y=String(d.identifier).toUpperCase();g.has(y)||g.set(y,d)}}),o;function u(d,g){const y=d.type,x=o.handlers[y];if(yA.call(o.handlers,y)&&x)return x(o,d,g);if(o.options.passThrough&&o.options.passThrough.includes(y)){if("children"in d){const{children:M,...w}=d,S=L_(w);return S.children=o.all(d),S}return L_(d)}return(o.options.unknownHandler||ule)(o,d,g)}function f(d){const g=[];if("children"in d){const y=d.children;let x=-1;for(;++x<y.length;){const _=o.one(y[x],d);if(_){if(x&&y[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=YD(_.value)),!Array.isArray(_)&&_.type==="element")){const M=_.children[0];M&&M.type==="text"&&(M.value=YD(M.value))}Array.isArray(_)?g.push(..._):g.push(_)}}}return g}}function ole(n,e){n.position&&(e.position=Kre(n))}function lle(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const s="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:s}}t.type==="element"&&a&&Object.assign(t.properties,L_(a)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function ule(n,e){const t=e.data||{},i="value"in e&&!(yA.call(t,"hProperties")||yA.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function cle(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function YD(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function ZD(n,e){const t=sle(n,e),i=t.one(n,void 0),r=Qoe(t),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function fle(n,e){return n&&"run"in n?async function(t,i){const r=ZD(t,{file:i,...e});await n.run(r,i)}:function(t,i){return ZD(t,{file:i,...n||e})}}function KD(n){if(n)throw n}var _M,QD;function hle(){if(QD)return _M;QD=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var d=n.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&n.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!g)return!1;var y;for(y in f);return typeof y>"u"||n.call(f,y)},s=function(f,d){t&&d.name==="__proto__"?t(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},o=function(f,d){if(d==="__proto__")if(n.call(f,d)){if(i)return i(f,d).value}else return;return f[d]};return _M=function u(){var f,d,g,y,x,_,M=arguments[0],w=1,S=arguments.length,E=!1;for(typeof M=="boolean"&&(E=M,M=arguments[1]||{},w=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});w<S;++w)if(f=arguments[w],f!=null)for(d in f)g=o(M,d),y=o(f,d),M!==y&&(E&&y&&(a(y)||(x=r(y)))?(x?(x=!1,_=g&&r(g)?g:[]):_=g&&a(g)?g:{},s(M,{name:d,newValue:u(E,_,y)})):typeof y<"u"&&s(M,{name:d,newValue:y}));return M},_M}var dle=hle();const SM=kv(dle);function xA(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function ple(){const n=[],e={run:t,use:i};return e;function t(...r){let a=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...r);function o(u,...f){const d=n[++a];let g=-1;if(u){s(u);return}for(;++g<r.length;)(f[g]===null||f[g]===void 0)&&(f[g]=r[g]);r=f,d?mle(d,o)(...f):s(null,...f)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function mle(n,e){let t;return i;function i(...s){const o=n.length>s.length;let u;o&&s.push(r);try{u=n.apply(this,s)}catch(f){const d=f;if(o&&t)throw d;return r(d)}o||(u&&u.then&&typeof u.then=="function"?u.then(a,r):u instanceof Error?r(u):a(u))}function r(s,...o){t||(t=!0,e(s,...o))}function a(s){r(null,s)}}const uc={basename:gle,dirname:yle,extname:xle,join:vle,sep:"/"};function gle(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');r2(n);let t=0,i=-1,r=n.length,a;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else i<0&&(a=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let s=-1,o=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else s<0&&(a=!0,s=r+1),o>-1&&(n.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=s));return t===i?i=s:i<0&&(i=n.length),n.slice(t,i)}function yle(n){if(r2(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function xle(n){r2(n);let e=n.length,t=-1,i=0,r=-1,a=0,s;for(;e--;){const o=n.codePointAt(e);if(o===47){if(s){i=e+1;break}continue}t<0&&(s=!0,t=e+1),o===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||t<0||a===0||a===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function vle(...n){let e=-1,t;for(;++e<n.length;)r2(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":ble(t)}function ble(n){r2(n);const e=n.codePointAt(0)===47;let t=_le(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function _le(n,e){let t="",i=0,r=-1,a=0,s=-1,o,u;for(;++s<=n.length;){if(s<n.length)o=n.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(r===s-1||a===1))if(r!==s-1&&a===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",i=0):(t=t.slice(0,u),i=t.length-1-t.lastIndexOf("/")),r=s,a=0;continue}}else if(t.length>0){t="",i=0,r=s,a=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,s):t=n.slice(r+1,s),i=s-r-1;r=s,a=0}else o===46&&a>-1?a++:a=-1}return t}function r2(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Sle={cwd:Mle};function Mle(){return"/"}function vA(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function wle(n){if(typeof n=="string")n=new URL(n);else if(!vA(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Ale(n)}function Ale(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const MM=["history","path","basename","stem","extname","dirname"];class xB{constructor(e){let t;e?vA(e)?t={path:e}:typeof e=="string"||Tle(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Sle.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<MM.length;){const a=MM[i];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let r;for(r in t)MM.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?uc.basename(this.path):void 0}set basename(e){AM(e,"basename"),wM(e,"basename"),this.path=uc.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?uc.dirname(this.path):void 0}set dirname(e){JD(this.basename,"dirname"),this.path=uc.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?uc.extname(this.path):void 0}set extname(e){if(wM(e,"extname"),JD(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=uc.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){vA(e)&&(e=wle(e)),AM(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?uc.basename(this.path,this.extname):void 0}set stem(e){AM(e,"stem"),wM(e,"stem"),this.path=uc.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new xs(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function wM(n,e){if(n&&n.includes(uc.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+uc.sep+"`")}function AM(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function JD(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Tle(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Ele=(function(n){const i=this.constructor.prototype,r=i[n],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),Cle={}.hasOwnProperty;class Z7 extends Ele{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ple()}copy(){const e=new Z7;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(SM(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(CM("data",this.frozen),this.namespace[e]=t,this):Cle.call(this.namespace,e)&&this.namespace[e]||void 0:e?(CM("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ib(e),i=this.parser||this.Parser;return TM("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),TM("process",this.parser||this.Parser),EM("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(a,s){const o=Ib(e),u=i.parse(o);i.run(u,o,function(d,g,y){if(d||!g||!y)return f(d);const x=g,_=i.stringify(x,y);Nle(_)?y.value=_:y.result=_,f(d,y)});function f(d,g){d||!g?s(d):a?a(g):t(void 0,g)}}}processSync(e){let t=!1,i;return this.freeze(),TM("processSync",this.parser||this.Parser),EM("processSync",this.compiler||this.Compiler),this.process(e,r),eN("processSync","process",t),i;function r(a,s){t=!0,KD(a),i=s}}run(e,t,i){$D(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?a(void 0,i):new Promise(a);function a(s,o){const u=Ib(t);r.run(e,u,f);function f(d,g,y){const x=g||e;d?o(d):s?s(x):i(void 0,x,y)}}}runSync(e,t){let i=!1,r;return this.run(e,t,a),eN("runSync","run",i),r;function a(s,o){KD(s),r=o,i=!0}}stringify(e,t){this.freeze();const i=Ib(t),r=this.compiler||this.Compiler;return EM("stringify",r),$D(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(CM("use",this.frozen),e!=null)if(typeof e=="function")u(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...g]=f;u(d,g)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(r.settings=SM(!0,r.settings,f.settings))}function o(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const g=f[d];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,d){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===f){y=g;break}if(y===-1)i.push([f,...d]);else if(d.length>0){let[x,..._]=d;const M=i[y][1];xA(M)&&xA(x)&&(x=SM(!0,M,x)),i[y]=[f,x,..._]}}}}const Rle=new Z7().freeze();function TM(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function EM(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function CM(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $D(n){if(!xA(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function eN(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Ib(n){return Dle(n)?n:new xB(n)}function Dle(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function Nle(n){return typeof n=="string"||zle(n)}function zle(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Lle="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tN=[],nN={allowDangerousHtml:!0},kle=/^(https?|ircs?|mailto|xmpp)$/i,Ole=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ule(n){const e=Ple(n),t=Ble(n);return Ile(e.runSync(e.parse(t),t),n)}function Ple(n){const e=n.rehypePlugins||tN,t=n.remarkPlugins||tN,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...nN}:nN;return Rle().use(xoe).use(t).use(fle,i).use(e)}function Ble(n){const e=n.children||"",t=new xB;return typeof e=="string"&&(t.value=e),t}function Ile(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,u=e.urlTransform||Fle;for(const d of Ole)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Lle+d.id,void 0);return Y7(n,f),tae(n,{Fragment:H.Fragment,components:r,ignoreInvalidStyle:!0,jsx:H.jsx,jsxs:H.jsxs,passKeys:!0,passNode:!0});function f(d,g,y){if(d.type==="raw"&&y&&typeof g=="number")return s?y.children.splice(g,1):y.children[g]={type:"text",value:d.value},g;if(d.type==="element"){let x;for(x in xM)if(Object.hasOwn(xM,x)&&Object.hasOwn(d.properties,x)){const _=d.properties[x],M=xM[x];(M===null||M.includes(d.tagName))&&(d.properties[x]=u(String(_||""),x,d))}}if(d.type==="element"){let x=t?!t.includes(d.tagName):a?a.includes(d.tagName):!1;if(!x&&i&&typeof g=="number"&&(x=!i(d,g,y)),x&&y&&typeof g=="number")return o&&d.children?y.children.splice(g,1,...d.children):y.children.splice(g,1),g}}}function Fle(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||kle.test(n.slice(0,e))?n:""}function iN(n,e){const t=String(n);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=t.indexOf(e);for(;r!==-1;)i++,r=t.indexOf(e,r+e.length);return i}function Vle(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hle(n,e,t){const r=i2((t||{}).ignore||[]),a=Gle(e);let s=-1;for(;++s<a.length;)W7(n,"text",o);function o(f,d){let g=-1,y;for(;++g<d.length;){const x=d[g],_=y?y.children:void 0;if(r(x,_?_.indexOf(x):void 0,y))return;y=x}if(y)return u(f,d)}function u(f,d){const g=d[d.length-1],y=a[s][0],x=a[s][1];let _=0;const w=g.children.indexOf(f);let S=!1,E=[];y.lastIndex=0;let R=y.exec(f.value);for(;R;){const N=R.index,O={index:R.index,input:R.input,stack:[...d,f]};let z=x(...R,O);if(typeof z=="string"&&(z=z.length>0?{type:"text",value:z}:void 0),z===!1?y.lastIndex=N+1:(_!==N&&E.push({type:"text",value:f.value.slice(_,N)}),Array.isArray(z)?E.push(...z):z&&E.push(z),_=N+R[0].length,S=!0),!y.global)break;R=y.exec(f.value)}return S?(_<f.value.length&&E.push({type:"text",value:f.value.slice(_)}),g.children.splice(w,1,...E)):E=[f],w+E.length}}function Gle(n){const e=[];if(!Array.isArray(n))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!n[0]||Array.isArray(n[0])?n:[n];let i=-1;for(;++i<t.length;){const r=t[i];e.push([jle(r[0]),qle(r[1])])}return e}function jle(n){return typeof n=="string"?new RegExp(Vle(n),"g"):n}function qle(n){return typeof n=="function"?n:function(){return n}}const RM="phrasing",DM=["autolink","link","image","label"];function Xle(){return{transforms:[$le],enter:{literalAutolink:Yle,literalAutolinkEmail:NM,literalAutolinkHttp:NM,literalAutolinkWww:NM},exit:{literalAutolink:Jle,literalAutolinkEmail:Qle,literalAutolinkHttp:Zle,literalAutolinkWww:Kle}}}function Wle(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:RM,notInConstruct:DM},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:RM,notInConstruct:DM},{character:":",before:"[ps]",after:"\\/",inConstruct:RM,notInConstruct:DM}]}}function Yle(n){this.enter({type:"link",title:null,url:"",children:[]},n)}function NM(n){this.config.enter.autolinkProtocol.call(this,n)}function Zle(n){this.config.exit.autolinkProtocol.call(this,n)}function Kle(n){this.config.exit.data.call(this,n);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(n)}function Qle(n){this.config.exit.autolinkEmail.call(this,n)}function Jle(n){this.exit(n)}function $le(n){Hle(n,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,eue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),tue]],{ignore:["link","linkReference"]})}function eue(n,e,t,i,r){let a="";if(!vB(r)||(/^w/i.test(e)&&(t=e+t,e="",a="http://"),!nue(t)))return!1;const s=iue(t+i);if(!s[0])return!1;const o={type:"link",title:null,url:a+e+s[0],children:[{type:"text",value:e+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function tue(n,e,t,i){return!vB(i,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+t,children:[{type:"text",value:e+"@"+t}]}}function nue(n){const e=n.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function iue(n){const e=/[!"&'),.:;<>?\]}]+$/.exec(n);if(!e)return[n,void 0];n=n.slice(0,e.index);let t=e[0],i=t.indexOf(")");const r=iN(n,"(");let a=iN(n,")");for(;i!==-1&&r>a;)n+=t.slice(0,i+1),t=t.slice(i+1),i=t.indexOf(")"),a++;return[n,t]}function vB(n,e){const t=n.input.charCodeAt(n.index-1);return(n.index===0||dp(t)||kS(t))&&(!e||t!==47)}bB.peek=hue;function rue(){this.buffer()}function aue(n){this.enter({type:"footnoteReference",identifier:"",label:""},n)}function sue(){this.buffer()}function oue(n){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},n)}function lue(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Au(this.sliceSerialize(n)).toLowerCase(),t.label=e}function uue(n){this.exit(n)}function cue(n){const e=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=Au(this.sliceSerialize(n)).toLowerCase(),t.label=e}function fue(n){this.exit(n)}function hue(){return"["}function bB(n,e,t,i){const r=t.createTracker(i);let a=r.move("[^");const s=t.enter("footnoteReference"),o=t.enter("reference");return a+=r.move(t.safe(t.associationId(n),{after:"]",before:a})),o(),s(),a+=r.move("]"),a}function due(){return{enter:{gfmFootnoteCallString:rue,gfmFootnoteCall:aue,gfmFootnoteDefinitionLabelString:sue,gfmFootnoteDefinition:oue},exit:{gfmFootnoteCallString:lue,gfmFootnoteCall:uue,gfmFootnoteDefinitionLabelString:cue,gfmFootnoteDefinition:fue}}}function pue(n){let e=!1;return n&&n.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:t,footnoteReference:bB},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(i,r,a,s){const o=a.createTracker(s);let u=o.move("[^");const f=a.enter("footnoteDefinition"),d=a.enter("label");return u+=o.move(a.safe(a.associationId(i),{before:u,after:"]"})),d(),u+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),u+=o.move((e?`
`:" ")+a.indentLines(a.containerFlow(i,o.current()),e?_B:mue))),f(),u}}function mue(n,e,t){return e===0?n:_B(n,e,t)}function _B(n,e,t){return(t?"":"    ")+n}const gue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];SB.peek=_ue;function yue(){return{canContainEols:["delete"],enter:{strikethrough:vue},exit:{strikethrough:bue}}}function xue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:gue}],handlers:{delete:SB}}}function vue(n){this.enter({type:"delete",children:[]},n)}function bue(n){this.exit(n)}function SB(n,e,t,i){const r=t.createTracker(i),a=t.enter("strikethrough");let s=r.move("~~");return s+=t.containerPhrasing(n,{...r.current(),before:s,after:"~"}),s+=r.move("~~"),a(),s}function _ue(){return"~"}function Sue(n){return n.length}function Mue(n,e){const t=e||{},i=(t.align||[]).concat(),r=t.stringLength||Sue,a=[],s=[],o=[],u=[];let f=0,d=-1;for(;++d<n.length;){const M=[],w=[];let S=-1;for(n[d].length>f&&(f=n[d].length);++S<n[d].length;){const E=wue(n[d][S]);if(t.alignDelimiters!==!1){const R=r(E);w[S]=R,(u[S]===void 0||R>u[S])&&(u[S]=R)}M.push(E)}s[d]=M,o[d]=w}let g=-1;if(typeof i=="object"&&"length"in i)for(;++g<f;)a[g]=rN(i[g]);else{const M=rN(i);for(;++g<f;)a[g]=M}g=-1;const y=[],x=[];for(;++g<f;){const M=a[g];let w="",S="";M===99?(w=":",S=":"):M===108?w=":":M===114&&(S=":");let E=t.alignDelimiters===!1?1:Math.max(1,u[g]-w.length-S.length);const R=w+"-".repeat(E)+S;t.alignDelimiters!==!1&&(E=w.length+E+S.length,E>u[g]&&(u[g]=E),x[g]=E),y[g]=R}s.splice(1,0,y),o.splice(1,0,x),d=-1;const _=[];for(;++d<s.length;){const M=s[d],w=o[d];g=-1;const S=[];for(;++g<f;){const E=M[g]||"";let R="",N="";if(t.alignDelimiters!==!1){const O=u[g]-(w[g]||0),z=a[g];z===114?R=" ".repeat(O):z===99?O%2?(R=" ".repeat(O/2+.5),N=" ".repeat(O/2-.5)):(R=" ".repeat(O/2),N=R):N=" ".repeat(O)}t.delimiterStart!==!1&&!g&&S.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&E==="")&&(t.delimiterStart!==!1||g)&&S.push(" "),t.alignDelimiters!==!1&&S.push(R),S.push(E),t.alignDelimiters!==!1&&S.push(N),t.padding!==!1&&S.push(" "),(t.delimiterEnd!==!1||g!==f-1)&&S.push("|")}_.push(t.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return _.join(`
`)}function wue(n){return n==null?"":String(n)}function rN(n){const e=typeof n=="string"?n.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Aue(n,e,t,i){const r=t.enter("blockquote"),a=t.createTracker(i);a.move("> "),a.shift(2);const s=t.indentLines(t.containerFlow(n,a.current()),Tue);return r(),s}function Tue(n,e,t){return">"+(t?"":" ")+n}function Eue(n,e){return aN(n,e.inConstruct,!0)&&!aN(n,e.notInConstruct,!1)}function aN(n,e,t){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return t;let i=-1;for(;++i<e.length;)if(n.includes(e[i]))return!0;return!1}function sN(n,e,t,i){let r=-1;for(;++r<t.unsafe.length;)if(t.unsafe[r].character===`
`&&Eue(t.stack,t.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function MB(n,e){const t=String(n);let i=t.indexOf(e),r=i,a=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++a>s&&(s=a):a=1,r=i+e.length,i=t.indexOf(e,r);return s}function Cue(n,e){return!!(e.options.fences===!1&&n.value&&!n.lang&&/[^ \r\n]/.test(n.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(n.value))}function Rue(n){const e=n.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Due(n,e,t,i){const r=Rue(t),a=n.value||"",s=r==="`"?"GraveAccent":"Tilde";if(Cue(n,t)){const g=t.enter("codeIndented"),y=t.indentLines(a,Nue);return g(),y}const o=t.createTracker(i),u=r.repeat(Math.max(MB(a,r)+1,3)),f=t.enter("codeFenced");let d=o.move(u);if(n.lang){const g=t.enter(`codeFencedLang${s}`);d+=o.move(t.safe(n.lang,{before:d,after:" ",encode:["`"],...o.current()})),g()}if(n.lang&&n.meta){const g=t.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(t.safe(n.meta,{before:d,after:`
`,encode:["`"],...o.current()})),g()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(u),f(),d}function Nue(n,e,t){return(t?"":"    ")+n}function K7(n){const e=n.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function zue(n,e,t,i){const r=K7(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("definition");let o=t.enter("label");const u=t.createTracker(i);let f=u.move("[");return f+=u.move(t.safe(t.associationId(n),{before:f,after:"]",...u.current()})),f+=u.move("]: "),o(),!n.url||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(t.safe(n.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(o=t.enter("destinationRaw"),f+=u.move(t.safe(n.url,{before:f,after:n.title?" ":`
`,...u.current()}))),o(),n.title&&(o=t.enter(`title${a}`),f+=u.move(" "+r),f+=u.move(t.safe(n.title,{before:f,after:r,...u.current()})),f+=u.move(r),o()),s(),f}function Lue(n){const e=n.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Nv(n){return"&#x"+n.toString(16).toUpperCase()+";"}function k_(n,e,t){const i=Y1(n),r=Y1(e);return i===void 0?r===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}wB.peek=kue;function wB(n,e,t,i){const r=Lue(t),a=t.enter("emphasis"),s=t.createTracker(i),o=s.move(r);let u=s.move(t.containerPhrasing(n,{after:r,before:o,...s.current()}));const f=u.charCodeAt(0),d=k_(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(u=Nv(f)+u.slice(1));const g=u.charCodeAt(u.length-1),y=k_(i.after.charCodeAt(0),g,r);y.inside&&(u=u.slice(0,-1)+Nv(g));const x=s.move(r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:d.outside},o+u+x}function kue(n,e,t){return t.options.emphasis||"*"}function Oue(n,e){let t=!1;return Y7(n,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return t=!0,gA}),!!((!n.depth||n.depth<3)&&F7(n)&&(e.options.setext||t))}function Uue(n,e,t,i){const r=Math.max(Math.min(6,n.depth||1),1),a=t.createTracker(i);if(Oue(n,t)){const d=t.enter("headingSetext"),g=t.enter("phrasing"),y=t.containerPhrasing(n,{...a.current(),before:`
`,after:`
`});return g(),d(),y+`
`+(r===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}const s="#".repeat(r),o=t.enter("headingAtx"),u=t.enter("phrasing");a.move(s+" ");let f=t.containerPhrasing(n,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=Nv(f.charCodeAt(0))+f.slice(1)),f=f?s+" "+f:s,t.options.closeAtx&&(f+=" "+s),u(),o(),f}AB.peek=Pue;function AB(n){return n.value||""}function Pue(){return"<"}TB.peek=Bue;function TB(n,e,t,i){const r=K7(t),a=r==='"'?"Quote":"Apostrophe",s=t.enter("image");let o=t.enter("label");const u=t.createTracker(i);let f=u.move("![");return f+=u.move(t.safe(n.alt,{before:f,after:"]",...u.current()})),f+=u.move("]("),o(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(o=t.enter("destinationLiteral"),f+=u.move("<"),f+=u.move(t.safe(n.url,{before:f,after:">",...u.current()})),f+=u.move(">")):(o=t.enter("destinationRaw"),f+=u.move(t.safe(n.url,{before:f,after:n.title?" ":")",...u.current()}))),o(),n.title&&(o=t.enter(`title${a}`),f+=u.move(" "+r),f+=u.move(t.safe(n.title,{before:f,after:r,...u.current()})),f+=u.move(r),o()),f+=u.move(")"),s(),f}function Bue(){return"!"}EB.peek=Iue;function EB(n,e,t,i){const r=n.referenceType,a=t.enter("imageReference");let s=t.enter("label");const o=t.createTracker(i);let u=o.move("![");const f=t.safe(n.alt,{before:u,after:"]",...o.current()});u+=o.move(f+"]["),s();const d=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(n),{before:u,after:"]",...o.current()});return s(),t.stack=d,a(),r==="full"||!f||f!==g?u+=o.move(g+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Iue(){return"!"}CB.peek=Fue;function CB(n,e,t){let i=n.value||"",r="`",a=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<t.unsafe.length;){const s=t.unsafe[a],o=t.compilePattern(s);let u;if(s.atBreak)for(;u=o.exec(i);){let f=u.index;i.charCodeAt(f)===10&&i.charCodeAt(f-1)===13&&f--,i=i.slice(0,f)+" "+i.slice(u.index+1)}}return r+i+r}function Fue(){return"`"}function RB(n,e){const t=F7(n);return!!(!e.options.resourceLink&&n.url&&!n.title&&n.children&&n.children.length===1&&n.children[0].type==="text"&&(t===n.url||"mailto:"+t===n.url)&&/^[a-z][a-z+.-]+:/i.test(n.url)&&!/[\0- <>\u007F]/.test(n.url))}DB.peek=Vue;function DB(n,e,t,i){const r=K7(t),a=r==='"'?"Quote":"Apostrophe",s=t.createTracker(i);let o,u;if(RB(n,t)){const d=t.stack;t.stack=[],o=t.enter("autolink");let g=s.move("<");return g+=s.move(t.containerPhrasing(n,{before:g,after:">",...s.current()})),g+=s.move(">"),o(),t.stack=d,g}o=t.enter("link"),u=t.enter("label");let f=s.move("[");return f+=s.move(t.containerPhrasing(n,{before:f,after:"](",...s.current()})),f+=s.move("]("),u(),!n.url&&n.title||/[\0- \u007F]/.test(n.url)?(u=t.enter("destinationLiteral"),f+=s.move("<"),f+=s.move(t.safe(n.url,{before:f,after:">",...s.current()})),f+=s.move(">")):(u=t.enter("destinationRaw"),f+=s.move(t.safe(n.url,{before:f,after:n.title?" ":")",...s.current()}))),u(),n.title&&(u=t.enter(`title${a}`),f+=s.move(" "+r),f+=s.move(t.safe(n.title,{before:f,after:r,...s.current()})),f+=s.move(r),u()),f+=s.move(")"),o(),f}function Vue(n,e,t){return RB(n,t)?"<":"["}NB.peek=Hue;function NB(n,e,t,i){const r=n.referenceType,a=t.enter("linkReference");let s=t.enter("label");const o=t.createTracker(i);let u=o.move("[");const f=t.containerPhrasing(n,{before:u,after:"]",...o.current()});u+=o.move(f+"]["),s();const d=t.stack;t.stack=[],s=t.enter("reference");const g=t.safe(t.associationId(n),{before:u,after:"]",...o.current()});return s(),t.stack=d,a(),r==="full"||!f||f!==g?u+=o.move(g+"]"):r==="shortcut"?u=u.slice(0,-1):u+=o.move("]"),u}function Hue(){return"["}function Q7(n){const e=n.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Gue(n){const e=Q7(n),t=n.options.bulletOther;if(!t)return e==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+t+"`) to be different");return t}function jue(n){const e=n.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function zB(n){const e=n.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function que(n,e,t,i){const r=t.enter("list"),a=t.bulletCurrent;let s=n.ordered?jue(t):Q7(t);const o=n.ordered?s==="."?")":".":Gue(t);let u=e&&t.bulletLastUsed?s===t.bulletLastUsed:!1;if(!n.ordered){const d=n.children?n.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(u=!0),zB(t)===s&&d){let g=-1;for(;++g<n.children.length;){const y=n.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(s=o),t.bulletCurrent=s;const f=t.containerFlow(n,i);return t.bulletLastUsed=s,t.bulletCurrent=a,r(),f}function Xue(n){const e=n.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Wue(n,e,t,i){const r=Xue(t);let a=t.bulletCurrent||Q7(t);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(t.options.incrementListMarker===!1?0:e.children.indexOf(n))+a);let s=a.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||n.spread))&&(s=Math.ceil(s/4)*4);const o=t.createTracker(i);o.move(a+" ".repeat(s-a.length)),o.shift(s);const u=t.enter("listItem"),f=t.indentLines(t.containerFlow(n,o.current()),d);return u(),f;function d(g,y,x){return y?(x?"":" ".repeat(s))+g:(x?a:a+" ".repeat(s-a.length))+g}}function Yue(n,e,t,i){const r=t.enter("paragraph"),a=t.enter("phrasing"),s=t.containerPhrasing(n,i);return a(),r(),s}const Zue=i2(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Kue(n,e,t,i){return(n.children.some(function(s){return Zue(s)})?t.containerPhrasing:t.containerFlow).call(t,n,i)}function Que(n){const e=n.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}LB.peek=Jue;function LB(n,e,t,i){const r=Que(t),a=t.enter("strong"),s=t.createTracker(i),o=s.move(r+r);let u=s.move(t.containerPhrasing(n,{after:r,before:o,...s.current()}));const f=u.charCodeAt(0),d=k_(i.before.charCodeAt(i.before.length-1),f,r);d.inside&&(u=Nv(f)+u.slice(1));const g=u.charCodeAt(u.length-1),y=k_(i.after.charCodeAt(0),g,r);y.inside&&(u=u.slice(0,-1)+Nv(g));const x=s.move(r+r);return a(),t.attentionEncodeSurroundingInfo={after:y.outside,before:d.outside},o+u+x}function Jue(n,e,t){return t.options.strong||"*"}function $ue(n,e,t,i){return t.safe(n.value,i)}function ece(n){const e=n.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function tce(n,e,t){const i=(zB(t)+(t.options.ruleSpaces?" ":"")).repeat(ece(t));return t.options.ruleSpaces?i.slice(0,-1):i}const kB={blockquote:Aue,break:sN,code:Due,definition:zue,emphasis:wB,hardBreak:sN,heading:Uue,html:AB,image:TB,imageReference:EB,inlineCode:CB,link:DB,linkReference:NB,list:que,listItem:Wue,paragraph:Yue,root:Kue,strong:LB,text:$ue,thematicBreak:tce};function nce(){return{enter:{table:ice,tableData:oN,tableHeader:oN,tableRow:ace},exit:{codeText:sce,table:rce,tableData:zM,tableHeader:zM,tableRow:zM}}}function ice(n){const e=n._align;this.enter({type:"table",align:e.map(function(t){return t==="none"?null:t}),children:[]},n),this.data.inTable=!0}function rce(n){this.exit(n),this.data.inTable=void 0}function ace(n){this.enter({type:"tableRow",children:[]},n)}function zM(n){this.exit(n)}function oN(n){this.enter({type:"tableCell",children:[]},n)}function sce(n){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,oce));const t=this.stack[this.stack.length-1];t.type,t.value=e,this.exit(n)}function oce(n,e){return e==="|"?e:n}function lce(n){const e=n||{},t=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,a=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:y,table:s,tableCell:u,tableRow:o}};function s(x,_,M,w){return f(d(x,M,w),x.align)}function o(x,_,M,w){const S=g(x,M,w),E=f([S]);return E.slice(0,E.indexOf(`
`))}function u(x,_,M,w){const S=M.enter("tableCell"),E=M.enter("phrasing"),R=M.containerPhrasing(x,{...w,before:a,after:a});return E(),S(),R}function f(x,_){return Mue(x,{align:_,alignDelimiters:i,padding:t,stringLength:r})}function d(x,_,M){const w=x.children;let S=-1;const E=[],R=_.enter("table");for(;++S<w.length;)E[S]=g(w[S],_,M);return R(),E}function g(x,_,M){const w=x.children;let S=-1;const E=[],R=_.enter("tableRow");for(;++S<w.length;)E[S]=u(w[S],x,_,M);return R(),E}function y(x,_,M){let w=kB.inlineCode(x,_,M);return M.stack.includes("tableCell")&&(w=w.replace(/\|/g,"\\$&")),w}}function uce(){return{exit:{taskListCheckValueChecked:lN,taskListCheckValueUnchecked:lN,paragraph:fce}}}function cce(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hce}}}function lN(n){const e=this.stack[this.stack.length-2];e.type,e.checked=n.type==="taskListCheckValueChecked"}function fce(n){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const i=t.children[0];if(i&&i.type==="text"){const r=e.children;let a=-1,s;for(;++a<r.length;){const o=r[a];if(o.type==="paragraph"){s=o;break}}s===t&&(i.value=i.value.slice(1),i.value.length===0?t.children.shift():t.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,t.position.start=Object.assign({},i.position.start)))}}this.exit(n)}function hce(n,e,t,i){const r=n.children[0],a=typeof n.checked=="boolean"&&r&&r.type==="paragraph",s="["+(n.checked?"x":" ")+"] ",o=t.createTracker(i);a&&o.move(s);let u=kB.listItem(n,e,t,{...i,...o.current()});return a&&(u=u.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),u;function f(d){return d+s}}function dce(){return[Xle(),due(),yue(),nce(),uce()]}function pce(n){return{extensions:[Wle(),pue(n),xue(),lce(n),cce()]}}const mce={tokenize:_ce,partial:!0},OB={tokenize:Sce,partial:!0},UB={tokenize:Mce,partial:!0},PB={tokenize:wce,partial:!0},gce={tokenize:Ace,partial:!0},BB={name:"wwwAutolink",tokenize:vce,previous:FB},IB={name:"protocolAutolink",tokenize:bce,previous:VB},jf={name:"emailAutolink",tokenize:xce,previous:HB},Nc={};function yce(){return{text:Nc}}let Nd=48;for(;Nd<123;)Nc[Nd]=jf,Nd++,Nd===58?Nd=65:Nd===91&&(Nd=97);Nc[43]=jf;Nc[45]=jf;Nc[46]=jf;Nc[95]=jf;Nc[72]=[jf,IB];Nc[104]=[jf,IB];Nc[87]=[jf,BB];Nc[119]=[jf,BB];function xce(n,e,t){const i=this;let r,a;return s;function s(g){return!bA(g)||!HB.call(i,i.previous)||J7(i.events)?t(g):(n.enter("literalAutolink"),n.enter("literalAutolinkEmail"),o(g))}function o(g){return bA(g)?(n.consume(g),o):g===64?(n.consume(g),u):t(g)}function u(g){return g===46?n.check(gce,d,f)(g):g===45||g===95||ps(g)?(a=!0,n.consume(g),u):d(g)}function f(g){return n.consume(g),r=!0,u}function d(g){return a&&r&&Ws(i.previous)?(n.exit("literalAutolinkEmail"),n.exit("literalAutolink"),e(g)):t(g)}}function vce(n,e,t){const i=this;return r;function r(s){return s!==87&&s!==119||!FB.call(i,i.previous)||J7(i.events)?t(s):(n.enter("literalAutolink"),n.enter("literalAutolinkWww"),n.check(mce,n.attempt(OB,n.attempt(UB,a),t),t)(s))}function a(s){return n.exit("literalAutolinkWww"),n.exit("literalAutolink"),e(s)}}function bce(n,e,t){const i=this;let r="",a=!1;return s;function s(g){return(g===72||g===104)&&VB.call(i,i.previous)&&!J7(i.events)?(n.enter("literalAutolink"),n.enter("literalAutolinkHttp"),r+=String.fromCodePoint(g),n.consume(g),o):t(g)}function o(g){if(Ws(g)&&r.length<5)return r+=String.fromCodePoint(g),n.consume(g),o;if(g===58){const y=r.toLowerCase();if(y==="http"||y==="https")return n.consume(g),u}return t(g)}function u(g){return g===47?(n.consume(g),a?f:(a=!0,u)):t(g)}function f(g){return g===null||N_(g)||Yi(g)||dp(g)||kS(g)?t(g):n.attempt(OB,n.attempt(UB,d),t)(g)}function d(g){return n.exit("literalAutolinkHttp"),n.exit("literalAutolink"),e(g)}}function _ce(n,e,t){let i=0;return r;function r(s){return(s===87||s===119)&&i<3?(i++,n.consume(s),r):s===46&&i===3?(n.consume(s),a):t(s)}function a(s){return s===null?t(s):e(s)}}function Sce(n,e,t){let i,r,a;return s;function s(f){return f===46||f===95?n.check(PB,u,o)(f):f===null||Yi(f)||dp(f)||f!==45&&kS(f)?u(f):(a=!0,n.consume(f),s)}function o(f){return f===95?i=!0:(r=i,i=void 0),n.consume(f),s}function u(f){return r||i||!a?t(f):e(f)}}function Mce(n,e){let t=0,i=0;return r;function r(s){return s===40?(t++,n.consume(s),r):s===41&&i<t?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?n.check(PB,e,a)(s):s===null||Yi(s)||dp(s)?e(s):(n.consume(s),r)}function a(s){return s===41&&i++,n.consume(s),r}}function wce(n,e,t){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(n.consume(o),i):o===38?(n.consume(o),a):o===93?(n.consume(o),r):o===60||o===null||Yi(o)||dp(o)?e(o):t(o)}function r(o){return o===null||o===40||o===91||Yi(o)||dp(o)?e(o):i(o)}function a(o){return Ws(o)?s(o):t(o)}function s(o){return o===59?(n.consume(o),i):Ws(o)?(n.consume(o),s):t(o)}}function Ace(n,e,t){return i;function i(a){return n.consume(a),r}function r(a){return ps(a)?t(a):e(a)}}function FB(n){return n===null||n===40||n===42||n===95||n===91||n===93||n===126||Yi(n)}function VB(n){return!Ws(n)}function HB(n){return!(n===47||bA(n))}function bA(n){return n===43||n===45||n===46||n===95||ps(n)}function J7(n){let e=n.length,t=!1;for(;e--;){const i=n[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){t=!0;break}if(i._gfmAutolinkLiteralWalkedInto){t=!1;break}}return n.length>0&&!t&&(n[n.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const Tce={tokenize:kce,partial:!0};function Ece(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Nce,continuation:{tokenize:zce},exit:Lce}},text:{91:{name:"gfmFootnoteCall",tokenize:Dce},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Cce,resolveTo:Rce}}}}function Cce(n,e,t){const i=this;let r=i.events.length;const a=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;r--;){const u=i.events[r][1];if(u.type==="labelImage"){s=u;break}if(u.type==="gfmFootnoteCall"||u.type==="labelLink"||u.type==="label"||u.type==="image"||u.type==="link")break}return o;function o(u){if(!s||!s._balanced)return t(u);const f=Au(i.sliceSerialize({start:s.end,end:i.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?t(u):(n.enter("gfmFootnoteCallLabelMarker"),n.consume(u),n.exit("gfmFootnoteCallLabelMarker"),e(u))}}function Rce(n,e){let t=n.length;for(;t--;)if(n[t][1].type==="labelImage"&&n[t][0]==="enter"){n[t][1];break}n[t+1][1].type="data",n[t+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},n[t+3][1].start),end:Object.assign({},n[n.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},n[t+3][1].end),end:Object.assign({},n[t+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},n[n.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[n[t+1],n[t+2],["enter",i,e],n[t+3],n[t+4],["enter",r,e],["exit",r,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],n[n.length-2],n[n.length-1],["exit",i,e]];return n.splice(t,n.length-t+1,...o),n}function Dce(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a=0,s;return o;function o(g){return n.enter("gfmFootnoteCall"),n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),u}function u(g){return g!==94?t(g):(n.enter("gfmFootnoteCallMarker"),n.consume(g),n.exit("gfmFootnoteCallMarker"),n.enter("gfmFootnoteCallString"),n.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!s||g===null||g===91||Yi(g))return t(g);if(g===93){n.exit("chunkString");const y=n.exit("gfmFootnoteCallString");return r.includes(Au(i.sliceSerialize(y)))?(n.enter("gfmFootnoteCallLabelMarker"),n.consume(g),n.exit("gfmFootnoteCallLabelMarker"),n.exit("gfmFootnoteCall"),e):t(g)}return Yi(g)||(s=!0),a++,n.consume(g),g===92?d:f}function d(g){return g===91||g===92||g===93?(n.consume(g),a++,f):f(g)}}function Nce(n,e,t){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a,s=0,o;return u;function u(_){return n.enter("gfmFootnoteDefinition")._container=!0,n.enter("gfmFootnoteDefinitionLabel"),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(_){return _===94?(n.enter("gfmFootnoteDefinitionMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionMarker"),n.enter("gfmFootnoteDefinitionLabelString"),n.enter("chunkString").contentType="string",d):t(_)}function d(_){if(s>999||_===93&&!o||_===null||_===91||Yi(_))return t(_);if(_===93){n.exit("chunkString");const M=n.exit("gfmFootnoteDefinitionLabelString");return a=Au(i.sliceSerialize(M)),n.enter("gfmFootnoteDefinitionLabelMarker"),n.consume(_),n.exit("gfmFootnoteDefinitionLabelMarker"),n.exit("gfmFootnoteDefinitionLabel"),y}return Yi(_)||(o=!0),s++,n.consume(_),_===92?g:d}function g(_){return _===91||_===92||_===93?(n.consume(_),s++,d):d(_)}function y(_){return _===58?(n.enter("definitionMarker"),n.consume(_),n.exit("definitionMarker"),r.includes(a)||r.push(a),Yn(n,x,"gfmFootnoteDefinitionWhitespace")):t(_)}function x(_){return e(_)}}function zce(n,e,t){return n.check(n2,e,n.attempt(Tce,e,t))}function Lce(n){n.exit("gfmFootnoteDefinition")}function kce(n,e,t){const i=this;return Yn(n,r,"gfmFootnoteDefinitionIndent",5);function r(a){const s=i.events[i.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?e(a):t(a)}}function Oce(n){let t=(n||{}).singleTilde;const i={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(s,o){let u=-1;for(;++u<s.length;)if(s[u][0]==="enter"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._close){let f=u;for(;f--;)if(s[f][0]==="exit"&&s[f][1].type==="strikethroughSequenceTemporary"&&s[f][1]._open&&s[u][1].end.offset-s[u][1].start.offset===s[f][1].end.offset-s[f][1].start.offset){s[u][1].type="strikethroughSequence",s[f][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[f][1].start),end:Object.assign({},s[u][1].end)},g={type:"strikethroughText",start:Object.assign({},s[f][1].end),end:Object.assign({},s[u][1].start)},y=[["enter",d,o],["enter",s[f][1],o],["exit",s[f][1],o],["enter",g,o]],x=o.parser.constructs.insideSpan.null;x&&tl(y,y.length,0,OS(x,s.slice(f+1,u),o)),tl(y,y.length,0,[["exit",g,o],["enter",s[u][1],o],["exit",s[u][1],o],["exit",d,o]]),tl(s,f-1,u-f+3,y),u=f+y.length-2;break}}for(u=-1;++u<s.length;)s[u][1].type==="strikethroughSequenceTemporary"&&(s[u][1].type="data");return s}function a(s,o,u){const f=this.previous,d=this.events;let g=0;return y;function y(_){return f===126&&d[d.length-1][1].type!=="characterEscape"?u(_):(s.enter("strikethroughSequenceTemporary"),x(_))}function x(_){const M=Y1(f);if(_===126)return g>1?u(_):(s.consume(_),g++,x);if(g<2&&!t)return u(_);const w=s.exit("strikethroughSequenceTemporary"),S=Y1(_);return w._open=!S||S===2&&!!M,w._close=!M||M===2&&!!S,o(_)}}}class Uce{constructor(){this.map=[]}add(e,t,i){Pce(this,e,t,i)}consume(e){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let t=this.map.length;const i=[];for(;t>0;)t-=1,i.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const a of r)e.push(a);r=i.pop()}this.map.length=0}}function Pce(n,e,t,i){let r=0;if(!(t===0&&i.length===0)){for(;r<n.map.length;){if(n.map[r][0]===e){n.map[r][1]+=t,n.map[r][2].push(...i);return}r+=1}n.map.push([e,t,i])}}function Bce(n,e){let t=!1;const i=[];for(;e<n.length;){const r=n[e];if(t){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(n[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(n[e-1][1].type==="tableDelimiterMarker"){const a=i.length-1;i[a]=i[a]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(t=!0);e+=1}return i}function Ice(){return{flow:{null:{name:"table",tokenize:Fce,resolveAll:Vce}}}}function Fce(n,e,t){const i=this;let r=0,a=0,s;return o;function o(L){let j=i.events.length-1;for(;j>-1;){const le=i.events[j][1].type;if(le==="lineEnding"||le==="linePrefix")j--;else break}const Z=j>-1?i.events[j][1].type:null,oe=Z==="tableHead"||Z==="tableRow"?z:u;return oe===z&&i.parser.lazy[i.now().line]?t(L):oe(L)}function u(L){return n.enter("tableHead"),n.enter("tableRow"),f(L)}function f(L){return L===124||(s=!0,a+=1),d(L)}function d(L){return L===null?t(L):$t(L)?a>1?(a=0,i.interrupt=!0,n.exit("tableRow"),n.enter("lineEnding"),n.consume(L),n.exit("lineEnding"),x):t(L):Jn(L)?Yn(n,d,"whitespace")(L):(a+=1,s&&(s=!1,r+=1),L===124?(n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),s=!0,d):(n.enter("data"),g(L)))}function g(L){return L===null||L===124||Yi(L)?(n.exit("data"),d(L)):(n.consume(L),L===92?y:g)}function y(L){return L===92||L===124?(n.consume(L),g):g(L)}function x(L){return i.interrupt=!1,i.parser.lazy[i.now().line]?t(L):(n.enter("tableDelimiterRow"),s=!1,Jn(L)?Yn(n,_,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):_(L))}function _(L){return L===45||L===58?w(L):L===124?(s=!0,n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),M):O(L)}function M(L){return Jn(L)?Yn(n,w,"whitespace")(L):w(L)}function w(L){return L===58?(a+=1,s=!0,n.enter("tableDelimiterMarker"),n.consume(L),n.exit("tableDelimiterMarker"),S):L===45?(a+=1,S(L)):L===null||$t(L)?N(L):O(L)}function S(L){return L===45?(n.enter("tableDelimiterFiller"),E(L)):O(L)}function E(L){return L===45?(n.consume(L),E):L===58?(s=!0,n.exit("tableDelimiterFiller"),n.enter("tableDelimiterMarker"),n.consume(L),n.exit("tableDelimiterMarker"),R):(n.exit("tableDelimiterFiller"),R(L))}function R(L){return Jn(L)?Yn(n,N,"whitespace")(L):N(L)}function N(L){return L===124?_(L):L===null||$t(L)?!s||r!==a?O(L):(n.exit("tableDelimiterRow"),n.exit("tableHead"),e(L)):O(L)}function O(L){return t(L)}function z(L){return n.enter("tableRow"),B(L)}function B(L){return L===124?(n.enter("tableCellDivider"),n.consume(L),n.exit("tableCellDivider"),B):L===null||$t(L)?(n.exit("tableRow"),e(L)):Jn(L)?Yn(n,B,"whitespace")(L):(n.enter("data"),G(L))}function G(L){return L===null||L===124||Yi(L)?(n.exit("data"),B(L)):(n.consume(L),L===92?U:G)}function U(L){return L===92||L===124?(n.consume(L),G):G(L)}}function Vce(n,e){let t=-1,i=!0,r=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,u=0,f,d,g;const y=new Uce;for(;++t<n.length;){const x=n[t],_=x[1];x[0]==="enter"?_.type==="tableHead"?(o=!1,u!==0&&(uN(y,e,u,f,d),d=void 0,u=0),f={type:"table",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",f,e]])):_.type==="tableRow"||_.type==="tableDelimiterRow"?(i=!0,g=void 0,a=[0,0,0,0],s=[0,t+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},_.start),end:Object.assign({},_.end)},y.add(t,0,[["enter",d,e]])),r=_.type==="tableDelimiterRow"?2:d?3:1):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")?(i=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],g=Fb(y,e,a,r,void 0,g),a=[0,0,0,0]),s[2]=t)):_.type==="tableCellDivider"&&(i?i=!1:(a[1]!==0&&(s[0]=s[1],g=Fb(y,e,a,r,void 0,g)),a=s,s=[a[1],t,0,0])):_.type==="tableHead"?(o=!0,u=t):_.type==="tableRow"||_.type==="tableDelimiterRow"?(u=t,a[1]!==0?(s[0]=s[1],g=Fb(y,e,a,r,t,g)):s[1]!==0&&(g=Fb(y,e,s,r,t,g)),r=0):r&&(_.type==="data"||_.type==="tableDelimiterMarker"||_.type==="tableDelimiterFiller")&&(s[3]=t)}for(u!==0&&uN(y,e,u,f,d),y.consume(e.events),t=-1;++t<e.events.length;){const x=e.events[t];x[0]==="enter"&&x[1].type==="table"&&(x[1]._align=Bce(e.events,t))}return n}function Fb(n,e,t,i,r,a){const s=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";t[0]!==0&&(a.end=Object.assign({},a1(e.events,t[0])),n.add(t[0],0,[["exit",a,e]]));const u=a1(e.events,t[1]);if(a={type:s,start:Object.assign({},u),end:Object.assign({},u)},n.add(t[1],0,[["enter",a,e]]),t[2]!==0){const f=a1(e.events,t[2]),d=a1(e.events,t[3]),g={type:o,start:Object.assign({},f),end:Object.assign({},d)};if(n.add(t[2],0,[["enter",g,e]]),i!==2){const y=e.events[t[2]],x=e.events[t[3]];if(y[1].end=Object.assign({},x[1].end),y[1].type="chunkText",y[1].contentType="text",t[3]>t[2]+1){const _=t[2]+1,M=t[3]-t[2]-1;n.add(_,M,[])}}n.add(t[3]+1,0,[["exit",g,e]])}return r!==void 0&&(a.end=Object.assign({},a1(e.events,r)),n.add(r,0,[["exit",a,e]]),a=void 0),a}function uN(n,e,t,i,r){const a=[],s=a1(e.events,t);r&&(r.end=Object.assign({},s),a.push(["exit",r,e])),i.end=Object.assign({},s),a.push(["exit",i,e]),n.add(t+1,0,a)}function a1(n,e){const t=n[e],i=t[0]==="enter"?"start":"end";return t[1][i]}const Hce={name:"tasklistCheck",tokenize:jce};function Gce(){return{text:{91:Hce}}}function jce(n,e,t){const i=this;return r;function r(u){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?t(u):(n.enter("taskListCheck"),n.enter("taskListCheckMarker"),n.consume(u),n.exit("taskListCheckMarker"),a)}function a(u){return Yi(u)?(n.enter("taskListCheckValueUnchecked"),n.consume(u),n.exit("taskListCheckValueUnchecked"),s):u===88||u===120?(n.enter("taskListCheckValueChecked"),n.consume(u),n.exit("taskListCheckValueChecked"),s):t(u)}function s(u){return u===93?(n.enter("taskListCheckMarker"),n.consume(u),n.exit("taskListCheckMarker"),n.exit("taskListCheck"),o):t(u)}function o(u){return $t(u)?e(u):Jn(u)?n.check({tokenize:qce},e,t)(u):t(u)}}function qce(n,e,t){return Yn(n,i,"whitespace");function i(r){return r===null?t(r):e(r)}}function Xce(n){return JP([yce(),Ece(),Oce(n),Ice(),Gce()])}const Wce={};function Yce(n){const e=this,t=n||Wce,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(Xce(t)),a.push(dce()),s.push(pce(t))}function Zce(){return{enter:{mathFlow:n,mathFlowFenceMeta:e,mathText:a},exit:{mathFlow:r,mathFlowFence:i,mathFlowFenceMeta:t,mathFlowValue:o,mathText:s,mathTextData:o}};function n(u){const f={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[f]}},u)}function e(){this.buffer()}function t(){const u=this.resume(),f=this.stack[this.stack.length-1];f.type,f.meta=u}function i(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function r(u){const f=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(u),d.value=f;const g=d.data.hChildren[0];g.type,g.tagName,g.children.push({type:"text",value:f}),this.data.mathFlowInside=void 0}function a(u){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},u),this.buffer()}function s(u){const f=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(u),d.value=f,d.data.hChildren.push({type:"text",value:f})}function o(u){this.config.enter.data.call(this,u),this.config.exit.data.call(this,u)}}function Kce(n){let e=(n||{}).singleDollarTextMath;return e==null&&(e=!0),i.peek=r,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:t,inlineMath:i}};function t(a,s,o,u){const f=a.value||"",d=o.createTracker(u),g="$".repeat(Math.max(MB(f,"$")+1,2)),y=o.enter("mathFlow");let x=d.move(g);if(a.meta){const _=o.enter("mathFlowMeta");x+=d.move(o.safe(a.meta,{after:`
`,before:x,encode:["$"],...d.current()})),_()}return x+=d.move(`
`),f&&(x+=d.move(f+`
`)),x+=d.move(g),y(),x}function i(a,s,o){let u=a.value||"",f=1;for(e||f++;new RegExp("(^|[^$])"+"\\$".repeat(f)+"([^$]|$)").test(u);)f++;const d="$".repeat(f);/[^ \r\n]/.test(u)&&(/^[ \r\n]/.test(u)&&/[ \r\n]$/.test(u)||/^\$|\$$/.test(u))&&(u=" "+u+" ");let g=-1;for(;++g<o.unsafe.length;){const y=o.unsafe[g];if(!y.atBreak)continue;const x=o.compilePattern(y);let _;for(;_=x.exec(u);){let M=_.index;u.codePointAt(M)===10&&u.codePointAt(M-1)===13&&M--,u=u.slice(0,M)+" "+u.slice(_.index+1)}}return d+u+d}function r(){return"$"}}const Qce={tokenize:Jce,concrete:!0,name:"mathFlow"},cN={tokenize:$ce,partial:!0};function Jce(n,e,t){const i=this,r=i.events[i.events.length-1],a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0;let s=0;return o;function o(E){return n.enter("mathFlow"),n.enter("mathFlowFence"),n.enter("mathFlowFenceSequence"),u(E)}function u(E){return E===36?(n.consume(E),s++,u):s<2?t(E):(n.exit("mathFlowFenceSequence"),Yn(n,f,"whitespace")(E))}function f(E){return E===null||$t(E)?g(E):(n.enter("mathFlowFenceMeta"),n.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||$t(E)?(n.exit("chunkString"),n.exit("mathFlowFenceMeta"),g(E)):E===36?t(E):(n.consume(E),d)}function g(E){return n.exit("mathFlowFence"),i.interrupt?e(E):n.attempt(cN,y,w)(E)}function y(E){return n.attempt({tokenize:S,partial:!0},w,x)(E)}function x(E){return(a?Yn(n,_,"linePrefix",a+1):_)(E)}function _(E){return E===null?w(E):$t(E)?n.attempt(cN,y,w)(E):(n.enter("mathFlowValue"),M(E))}function M(E){return E===null||$t(E)?(n.exit("mathFlowValue"),_(E)):(n.consume(E),M)}function w(E){return n.exit("mathFlow"),e(E)}function S(E,R,N){let O=0;return Yn(E,z,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function z(U){return E.enter("mathFlowFence"),E.enter("mathFlowFenceSequence"),B(U)}function B(U){return U===36?(O++,E.consume(U),B):O<s?N(U):(E.exit("mathFlowFenceSequence"),Yn(E,G,"whitespace")(U))}function G(U){return U===null||$t(U)?(E.exit("mathFlowFence"),R(U)):N(U)}}}function $ce(n,e,t){const i=this;return r;function r(s){return s===null?e(s):(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),a)}function a(s){return i.parser.lazy[i.now().line]?t(s):e(s)}}function efe(n){let t=(n||{}).singleDollarTextMath;return t==null&&(t=!0),{tokenize:i,resolve:tfe,previous:nfe,name:"mathText"};function i(r,a,s){let o=0,u,f;return d;function d(M){return r.enter("mathText"),r.enter("mathTextSequence"),g(M)}function g(M){return M===36?(r.consume(M),o++,g):o<2&&!t?s(M):(r.exit("mathTextSequence"),y(M))}function y(M){return M===null?s(M):M===36?(f=r.enter("mathTextSequence"),u=0,_(M)):M===32?(r.enter("space"),r.consume(M),r.exit("space"),y):$t(M)?(r.enter("lineEnding"),r.consume(M),r.exit("lineEnding"),y):(r.enter("mathTextData"),x(M))}function x(M){return M===null||M===32||M===36||$t(M)?(r.exit("mathTextData"),y(M)):(r.consume(M),x)}function _(M){return M===36?(r.consume(M),u++,_):u===o?(r.exit("mathTextSequence"),r.exit("mathText"),a(M)):(f.type="mathTextData",x(M))}}}function tfe(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="mathTextData"){n[e][1].type="mathTextPadding",n[t][1].type="mathTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="mathTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function nfe(n){return n!==36||this.events[this.events.length-1][1].type==="characterEscape"}function ife(n){return{flow:{36:Qce},text:{36:efe(n)}}}class mo{constructor(e,t,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=i}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new mo(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class nl{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new nl(t,mo.range(this,e))}}class pt{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+e,r,a,s=t&&t.loc;if(s&&s.start<=s.end){var o=s.lexer.input;r=s.start,a=s.end,r===o.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var u=o.slice(r,a).replace(/[^]/g,"$&"),f;r>15?f=""+o.slice(r-15,r):f=o.slice(0,r);var d;a+15<o.length?d=o.slice(a,a+15)+"":d=o.slice(a),i+=f+u+d}var g=new Error(i);return g.name="ParseError",g.__proto__=pt.prototype,g.position=r,r!=null&&a!=null&&(g.length=a-r),g.rawMessage=e,g}}pt.prototype.__proto__=Error.prototype;var rfe=function(e,t){return e===void 0?t:e},afe=/([A-Z])/g,sfe=function(e){return e.replace(afe,"-$1").toLowerCase()},ofe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},lfe=/[&><"']/g;function ufe(n){return String(n).replace(lfe,e=>ofe[e])}var GB=function n(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?n(e.body[0]):e:e.type==="font"?n(e.body):e},cfe=function(e){var t=GB(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},ffe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},hfe=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},Mi={deflt:rfe,escape:ufe,hyphenate:sfe,getBaseElem:GB,isCharacterBox:cfe,protocolFromUrl:hfe},x4={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:n=>"#"+n},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(n,e)=>(e.push(n),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:n=>Math.max(0,n),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:n=>Math.max(0,n),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>n==="Infinity"?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function dfe(n){if(n.default)return n.default;var e=n.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class $7{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in x4)if(x4.hasOwnProperty(t)){var i=x4[t];this[t]=e[t]!==void 0?i.processor?i.processor(e[t]):e[t]:dfe(i)}}reportNonstrict(e,t,i){var r=this.strict;if(typeof r=="function"&&(r=r(e,t,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new pt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,i){var r=this.strict;if(typeof r=="function")try{r=r(e,t,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Mi.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var i=typeof this.trust=="function"?this.trust(e):this.trust;return!!i}}class Bh{constructor(e,t,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=i}sup(){return hc[pfe[this.id]]}sub(){return hc[mfe[this.id]]}fracNum(){return hc[gfe[this.id]]}fracDen(){return hc[yfe[this.id]]}cramp(){return hc[xfe[this.id]]}text(){return hc[vfe[this.id]]}isTight(){return this.size>=2}}var e8=0,O_=1,T1=2,Rf=3,zv=4,Pl=5,Z1=6,Zs=7,hc=[new Bh(e8,0,!1),new Bh(O_,0,!0),new Bh(T1,1,!1),new Bh(Rf,1,!0),new Bh(zv,2,!1),new Bh(Pl,2,!0),new Bh(Z1,3,!1),new Bh(Zs,3,!0)],pfe=[zv,Pl,zv,Pl,Z1,Zs,Z1,Zs],mfe=[Pl,Pl,Pl,Pl,Zs,Zs,Zs,Zs],gfe=[T1,Rf,zv,Pl,Z1,Zs,Z1,Zs],yfe=[Rf,Rf,Pl,Pl,Zs,Zs,Zs,Zs],xfe=[O_,O_,Rf,Rf,Pl,Pl,Zs,Zs],vfe=[e8,O_,T1,Rf,T1,Rf,T1,Rf],cn={DISPLAY:hc[e8],TEXT:hc[T1],SCRIPT:hc[zv],SCRIPTSCRIPT:hc[Z1]},_A=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function bfe(n){for(var e=0;e<_A.length;e++)for(var t=_A[e],i=0;i<t.blocks.length;i++){var r=t.blocks[i];if(n>=r[0]&&n<=r[1])return t.name}return null}var v4=[];_A.forEach(n=>n.blocks.forEach(e=>v4.push(...e)));function jB(n){for(var e=0;e<v4.length;e+=2)if(n>=v4[e]&&n<=v4[e+1])return!0;return!1}var n1=80,_fe=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Sfe=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Mfe=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},wfe=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},Afe=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},Tfe=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},Efe=function(e,t,i){var r=i-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},Cfe=function(e,t,i){t=1e3*t;var r="";switch(e){case"sqrtMain":r=_fe(t,n1);break;case"sqrtSize1":r=Sfe(t,n1);break;case"sqrtSize2":r=Mfe(t,n1);break;case"sqrtSize3":r=wfe(t,n1);break;case"sqrtSize4":r=Afe(t,n1);break;case"sqrtTall":r=Efe(t,n1,i)}return r},Rfe=function(e,t){switch(e){case"":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},fN={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Dfe=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class a2{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var vc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Vb={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hN={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function Nfe(n,e){vc[n]=e}function t8(n,e,t){if(!vc[e])throw new Error("Font metrics not found for font: "+e+".");var i=n.charCodeAt(0),r=vc[e][i];if(!r&&n[0]in hN&&(i=hN[n[0]].charCodeAt(0),r=vc[e][i]),!r&&t==="text"&&jB(i)&&(r=vc[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var LM={};function zfe(n){var e;if(n>=5?e=0:n>=3?e=1:e=2,!LM[e]){var t=LM[e]={cssEmPerMu:Vb.quad[e]/18};for(var i in Vb)Vb.hasOwnProperty(i)&&(t[i]=Vb[i][e])}return LM[e]}var Lfe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],dN=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],pN=function(e,t){return t.size<2?e:Lfe[e-1][t.size-1]};class _f{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||_f.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=dN[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return new _f(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:pN(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:dN[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=pN(_f.BASESIZE,e);return this.size===t&&this.textSize===_f.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==_f.BASESIZE?["sizing","reset-size"+this.size,"size"+_f.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=zfe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}_f.BASESIZE=6;var SA={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},kfe={ex:!0,em:!0,mu:!0},qB=function(e){return typeof e!="string"&&(e=e.unit),e in SA||e in kfe||e==="ex"},vr=function(e,t){var i;if(e.unit in SA)i=SA[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")i=t.fontMetrics().cssEmPerMu;else{var r;if(t.style.isTight()?r=t.havingStyle(t.style.text()):r=t,e.unit==="ex")i=r.fontMetrics().xHeight;else if(e.unit==="em")i=r.fontMetrics().quad;else throw new pt("Invalid unit: '"+e.unit+"'");r!==t&&(i*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*i,t.maxSize)},wt=function(e){return+e.toFixed(4)+"em"},h0=function(e){return e.filter(t=>t).join(" ")},XB=function(e,t,i){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},WB=function(e){var t=document.createElement(e);t.className=h0(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(t.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},Ofe=/[\s"'>/=\x00-\x1f]/,YB=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Mi.escape(h0(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=Mi.hyphenate(r)+":"+this.style[r]+";");i&&(t+=' style="'+Mi.escape(i)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(Ofe.test(a))throw new pt("Invalid attribute name '"+a+"'");t+=" "+a+'="'+Mi.escape(this.attributes[a])+'"'}t+=">";for(var s=0;s<this.children.length;s++)t+=this.children[s].toMarkup();return t+="</"+e+">",t};class s2{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,XB.call(this,e,i,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return WB.call(this,"span")}toMarkup(){return YB.call(this,"span")}}class n8{constructor(e,t,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,XB.call(this,t,r),this.children=i||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return WB.call(this,"a")}toMarkup(){return YB.call(this,"a")}}class Ufe{constructor(e,t,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=i}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Mi.escape(this.src)+'"'+(' alt="'+Mi.escape(this.alt)+'"'),t="";for(var i in this.style)this.style.hasOwnProperty(i)&&(t+=Mi.hyphenate(i)+":"+this.style[i]+";");return t&&(e+=' style="'+Mi.escape(t)+'"'),e+="'/>",e}}var Pfe={:"",:"",:"",:""};class Hl{constructor(e,t,i,r,a,s,o,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=i||0,this.italic=r||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=u||{},this.maxFontSize=0;var f=bfe(this.text.charCodeAt(0));f&&this.classes.push(f+"_fallback"),/[]/.test(this.text)&&(this.text=Pfe[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=wt(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=h0(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(t=t||document.createElement("span"),t.style[i]=this.style[i]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Mi.escape(h0(this.classes)),t+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=Mi.hyphenate(r)+":"+this.style[r]+";");i&&(e=!0,t+=' style="'+Mi.escape(i)+'"');var a=Mi.escape(this.text);return e?(t+=">",t+=a,t+="</span>",t):a}}class Ff{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Mi.escape(this.attributes[t])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</svg>",e}}class d0{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",fN[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Mi.escape(this.alternate)+'"/>':'<path d="'+Mi.escape(fN[this.pathName])+'"/>'}}class MA{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&t.setAttribute(i,this.attributes[i]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Mi.escape(this.attributes[t])+'"');return e+="/>",e}}function mN(n){if(n instanceof Hl)return n;throw new Error("Expected symbolNode but got "+String(n)+".")}function Bfe(n){if(n instanceof s2)return n;throw new Error("Expected span<HtmlDomNode> but got "+String(n)+".")}var Ife={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ffe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ji={math:{},text:{}};function k(n,e,t,i,r,a){Ji[n][r]={font:e,group:t,replace:i},a&&i&&(Ji[n][i]=Ji[n][r])}var I="math",st="text",q="main",he="ams",cr="accent-token",Vt="bin",Js="close",cg="inner",un="mathord",na="op-token",sl="open",BS="punct",pe="rel",qf="spacing",Se="textord";k(I,q,pe,"","\\equiv",!0);k(I,q,pe,"","\\prec",!0);k(I,q,pe,"","\\succ",!0);k(I,q,pe,"","\\sim",!0);k(I,q,pe,"","\\perp");k(I,q,pe,"","\\preceq",!0);k(I,q,pe,"","\\succeq",!0);k(I,q,pe,"","\\simeq",!0);k(I,q,pe,"","\\mid",!0);k(I,q,pe,"","\\ll",!0);k(I,q,pe,"","\\gg",!0);k(I,q,pe,"","\\asymp",!0);k(I,q,pe,"","\\parallel");k(I,q,pe,"","\\bowtie",!0);k(I,q,pe,"","\\smile",!0);k(I,q,pe,"","\\sqsubseteq",!0);k(I,q,pe,"","\\sqsupseteq",!0);k(I,q,pe,"","\\doteq",!0);k(I,q,pe,"","\\frown",!0);k(I,q,pe,"","\\ni",!0);k(I,q,pe,"","\\propto",!0);k(I,q,pe,"","\\vdash",!0);k(I,q,pe,"","\\dashv",!0);k(I,q,pe,"","\\owns");k(I,q,BS,".","\\ldotp");k(I,q,BS,"","\\cdotp");k(I,q,Se,"#","\\#");k(st,q,Se,"#","\\#");k(I,q,Se,"&","\\&");k(st,q,Se,"&","\\&");k(I,q,Se,"","\\aleph",!0);k(I,q,Se,"","\\forall",!0);k(I,q,Se,"","\\hbar",!0);k(I,q,Se,"","\\exists",!0);k(I,q,Se,"","\\nabla",!0);k(I,q,Se,"","\\flat",!0);k(I,q,Se,"","\\ell",!0);k(I,q,Se,"","\\natural",!0);k(I,q,Se,"","\\clubsuit",!0);k(I,q,Se,"","\\wp",!0);k(I,q,Se,"","\\sharp",!0);k(I,q,Se,"","\\diamondsuit",!0);k(I,q,Se,"","\\Re",!0);k(I,q,Se,"","\\heartsuit",!0);k(I,q,Se,"","\\Im",!0);k(I,q,Se,"","\\spadesuit",!0);k(I,q,Se,"","\\S",!0);k(st,q,Se,"","\\S");k(I,q,Se,"","\\P",!0);k(st,q,Se,"","\\P");k(I,q,Se,"","\\dag");k(st,q,Se,"","\\dag");k(st,q,Se,"","\\textdagger");k(I,q,Se,"","\\ddag");k(st,q,Se,"","\\ddag");k(st,q,Se,"","\\textdaggerdbl");k(I,q,Js,"","\\rmoustache",!0);k(I,q,sl,"","\\lmoustache",!0);k(I,q,Js,"","\\rgroup",!0);k(I,q,sl,"","\\lgroup",!0);k(I,q,Vt,"","\\mp",!0);k(I,q,Vt,"","\\ominus",!0);k(I,q,Vt,"","\\uplus",!0);k(I,q,Vt,"","\\sqcap",!0);k(I,q,Vt,"","\\ast");k(I,q,Vt,"","\\sqcup",!0);k(I,q,Vt,"","\\bigcirc",!0);k(I,q,Vt,"","\\bullet",!0);k(I,q,Vt,"","\\ddagger");k(I,q,Vt,"","\\wr",!0);k(I,q,Vt,"","\\amalg");k(I,q,Vt,"&","\\And");k(I,q,pe,"","\\longleftarrow",!0);k(I,q,pe,"","\\Leftarrow",!0);k(I,q,pe,"","\\Longleftarrow",!0);k(I,q,pe,"","\\longrightarrow",!0);k(I,q,pe,"","\\Rightarrow",!0);k(I,q,pe,"","\\Longrightarrow",!0);k(I,q,pe,"","\\leftrightarrow",!0);k(I,q,pe,"","\\longleftrightarrow",!0);k(I,q,pe,"","\\Leftrightarrow",!0);k(I,q,pe,"","\\Longleftrightarrow",!0);k(I,q,pe,"","\\mapsto",!0);k(I,q,pe,"","\\longmapsto",!0);k(I,q,pe,"","\\nearrow",!0);k(I,q,pe,"","\\hookleftarrow",!0);k(I,q,pe,"","\\hookrightarrow",!0);k(I,q,pe,"","\\searrow",!0);k(I,q,pe,"","\\leftharpoonup",!0);k(I,q,pe,"","\\rightharpoonup",!0);k(I,q,pe,"","\\swarrow",!0);k(I,q,pe,"","\\leftharpoondown",!0);k(I,q,pe,"","\\rightharpoondown",!0);k(I,q,pe,"","\\nwarrow",!0);k(I,q,pe,"","\\rightleftharpoons",!0);k(I,he,pe,"","\\nless",!0);k(I,he,pe,"","\\@nleqslant");k(I,he,pe,"","\\@nleqq");k(I,he,pe,"","\\lneq",!0);k(I,he,pe,"","\\lneqq",!0);k(I,he,pe,"","\\@lvertneqq");k(I,he,pe,"","\\lnsim",!0);k(I,he,pe,"","\\lnapprox",!0);k(I,he,pe,"","\\nprec",!0);k(I,he,pe,"","\\npreceq",!0);k(I,he,pe,"","\\precnsim",!0);k(I,he,pe,"","\\precnapprox",!0);k(I,he,pe,"","\\nsim",!0);k(I,he,pe,"","\\@nshortmid");k(I,he,pe,"","\\nmid",!0);k(I,he,pe,"","\\nvdash",!0);k(I,he,pe,"","\\nvDash",!0);k(I,he,pe,"","\\ntriangleleft");k(I,he,pe,"","\\ntrianglelefteq",!0);k(I,he,pe,"","\\subsetneq",!0);k(I,he,pe,"","\\@varsubsetneq");k(I,he,pe,"","\\subsetneqq",!0);k(I,he,pe,"","\\@varsubsetneqq");k(I,he,pe,"","\\ngtr",!0);k(I,he,pe,"","\\@ngeqslant");k(I,he,pe,"","\\@ngeqq");k(I,he,pe,"","\\gneq",!0);k(I,he,pe,"","\\gneqq",!0);k(I,he,pe,"","\\@gvertneqq");k(I,he,pe,"","\\gnsim",!0);k(I,he,pe,"","\\gnapprox",!0);k(I,he,pe,"","\\nsucc",!0);k(I,he,pe,"","\\nsucceq",!0);k(I,he,pe,"","\\succnsim",!0);k(I,he,pe,"","\\succnapprox",!0);k(I,he,pe,"","\\ncong",!0);k(I,he,pe,"","\\@nshortparallel");k(I,he,pe,"","\\nparallel",!0);k(I,he,pe,"","\\nVDash",!0);k(I,he,pe,"","\\ntriangleright");k(I,he,pe,"","\\ntrianglerighteq",!0);k(I,he,pe,"","\\@nsupseteqq");k(I,he,pe,"","\\supsetneq",!0);k(I,he,pe,"","\\@varsupsetneq");k(I,he,pe,"","\\supsetneqq",!0);k(I,he,pe,"","\\@varsupsetneqq");k(I,he,pe,"","\\nVdash",!0);k(I,he,pe,"","\\precneqq",!0);k(I,he,pe,"","\\succneqq",!0);k(I,he,pe,"","\\@nsubseteqq");k(I,he,Vt,"","\\unlhd");k(I,he,Vt,"","\\unrhd");k(I,he,pe,"","\\nleftarrow",!0);k(I,he,pe,"","\\nrightarrow",!0);k(I,he,pe,"","\\nLeftarrow",!0);k(I,he,pe,"","\\nRightarrow",!0);k(I,he,pe,"","\\nleftrightarrow",!0);k(I,he,pe,"","\\nLeftrightarrow",!0);k(I,he,pe,"","\\vartriangle");k(I,he,Se,"","\\hslash");k(I,he,Se,"","\\triangledown");k(I,he,Se,"","\\lozenge");k(I,he,Se,"","\\circledS");k(I,he,Se,"","\\circledR");k(st,he,Se,"","\\circledR");k(I,he,Se,"","\\measuredangle",!0);k(I,he,Se,"","\\nexists");k(I,he,Se,"","\\mho");k(I,he,Se,"","\\Finv",!0);k(I,he,Se,"","\\Game",!0);k(I,he,Se,"","\\backprime");k(I,he,Se,"","\\blacktriangle");k(I,he,Se,"","\\blacktriangledown");k(I,he,Se,"","\\blacksquare");k(I,he,Se,"","\\blacklozenge");k(I,he,Se,"","\\bigstar");k(I,he,Se,"","\\sphericalangle",!0);k(I,he,Se,"","\\complement",!0);k(I,he,Se,"","\\eth",!0);k(st,q,Se,"","");k(I,he,Se,"","\\diagup");k(I,he,Se,"","\\diagdown");k(I,he,Se,"","\\square");k(I,he,Se,"","\\Box");k(I,he,Se,"","\\Diamond");k(I,he,Se,"","\\yen",!0);k(st,he,Se,"","\\yen",!0);k(I,he,Se,"","\\checkmark",!0);k(st,he,Se,"","\\checkmark");k(I,he,Se,"","\\beth",!0);k(I,he,Se,"","\\daleth",!0);k(I,he,Se,"","\\gimel",!0);k(I,he,Se,"","\\digamma",!0);k(I,he,Se,"","\\varkappa");k(I,he,sl,"","\\@ulcorner",!0);k(I,he,Js,"","\\@urcorner",!0);k(I,he,sl,"","\\@llcorner",!0);k(I,he,Js,"","\\@lrcorner",!0);k(I,he,pe,"","\\leqq",!0);k(I,he,pe,"","\\leqslant",!0);k(I,he,pe,"","\\eqslantless",!0);k(I,he,pe,"","\\lesssim",!0);k(I,he,pe,"","\\lessapprox",!0);k(I,he,pe,"","\\approxeq",!0);k(I,he,Vt,"","\\lessdot");k(I,he,pe,"","\\lll",!0);k(I,he,pe,"","\\lessgtr",!0);k(I,he,pe,"","\\lesseqgtr",!0);k(I,he,pe,"","\\lesseqqgtr",!0);k(I,he,pe,"","\\doteqdot");k(I,he,pe,"","\\risingdotseq",!0);k(I,he,pe,"","\\fallingdotseq",!0);k(I,he,pe,"","\\backsim",!0);k(I,he,pe,"","\\backsimeq",!0);k(I,he,pe,"","\\subseteqq",!0);k(I,he,pe,"","\\Subset",!0);k(I,he,pe,"","\\sqsubset",!0);k(I,he,pe,"","\\preccurlyeq",!0);k(I,he,pe,"","\\curlyeqprec",!0);k(I,he,pe,"","\\precsim",!0);k(I,he,pe,"","\\precapprox",!0);k(I,he,pe,"","\\vartriangleleft");k(I,he,pe,"","\\trianglelefteq");k(I,he,pe,"","\\vDash",!0);k(I,he,pe,"","\\Vvdash",!0);k(I,he,pe,"","\\smallsmile");k(I,he,pe,"","\\smallfrown");k(I,he,pe,"","\\bumpeq",!0);k(I,he,pe,"","\\Bumpeq",!0);k(I,he,pe,"","\\geqq",!0);k(I,he,pe,"","\\geqslant",!0);k(I,he,pe,"","\\eqslantgtr",!0);k(I,he,pe,"","\\gtrsim",!0);k(I,he,pe,"","\\gtrapprox",!0);k(I,he,Vt,"","\\gtrdot");k(I,he,pe,"","\\ggg",!0);k(I,he,pe,"","\\gtrless",!0);k(I,he,pe,"","\\gtreqless",!0);k(I,he,pe,"","\\gtreqqless",!0);k(I,he,pe,"","\\eqcirc",!0);k(I,he,pe,"","\\circeq",!0);k(I,he,pe,"","\\triangleq",!0);k(I,he,pe,"","\\thicksim");k(I,he,pe,"","\\thickapprox");k(I,he,pe,"","\\supseteqq",!0);k(I,he,pe,"","\\Supset",!0);k(I,he,pe,"","\\sqsupset",!0);k(I,he,pe,"","\\succcurlyeq",!0);k(I,he,pe,"","\\curlyeqsucc",!0);k(I,he,pe,"","\\succsim",!0);k(I,he,pe,"","\\succapprox",!0);k(I,he,pe,"","\\vartriangleright");k(I,he,pe,"","\\trianglerighteq");k(I,he,pe,"","\\Vdash",!0);k(I,he,pe,"","\\shortmid");k(I,he,pe,"","\\shortparallel");k(I,he,pe,"","\\between",!0);k(I,he,pe,"","\\pitchfork",!0);k(I,he,pe,"","\\varpropto");k(I,he,pe,"","\\blacktriangleleft");k(I,he,pe,"","\\therefore",!0);k(I,he,pe,"","\\backepsilon");k(I,he,pe,"","\\blacktriangleright");k(I,he,pe,"","\\because",!0);k(I,he,pe,"","\\llless");k(I,he,pe,"","\\gggtr");k(I,he,Vt,"","\\lhd");k(I,he,Vt,"","\\rhd");k(I,he,pe,"","\\eqsim",!0);k(I,q,pe,"","\\Join");k(I,he,pe,"","\\Doteq",!0);k(I,he,Vt,"","\\dotplus",!0);k(I,he,Vt,"","\\smallsetminus");k(I,he,Vt,"","\\Cap",!0);k(I,he,Vt,"","\\Cup",!0);k(I,he,Vt,"","\\doublebarwedge",!0);k(I,he,Vt,"","\\boxminus",!0);k(I,he,Vt,"","\\boxplus",!0);k(I,he,Vt,"","\\divideontimes",!0);k(I,he,Vt,"","\\ltimes",!0);k(I,he,Vt,"","\\rtimes",!0);k(I,he,Vt,"","\\leftthreetimes",!0);k(I,he,Vt,"","\\rightthreetimes",!0);k(I,he,Vt,"","\\curlywedge",!0);k(I,he,Vt,"","\\curlyvee",!0);k(I,he,Vt,"","\\circleddash",!0);k(I,he,Vt,"","\\circledast",!0);k(I,he,Vt,"","\\centerdot");k(I,he,Vt,"","\\intercal",!0);k(I,he,Vt,"","\\doublecap");k(I,he,Vt,"","\\doublecup");k(I,he,Vt,"","\\boxtimes",!0);k(I,he,pe,"","\\dashrightarrow",!0);k(I,he,pe,"","\\dashleftarrow",!0);k(I,he,pe,"","\\leftleftarrows",!0);k(I,he,pe,"","\\leftrightarrows",!0);k(I,he,pe,"","\\Lleftarrow",!0);k(I,he,pe,"","\\twoheadleftarrow",!0);k(I,he,pe,"","\\leftarrowtail",!0);k(I,he,pe,"","\\looparrowleft",!0);k(I,he,pe,"","\\leftrightharpoons",!0);k(I,he,pe,"","\\curvearrowleft",!0);k(I,he,pe,"","\\circlearrowleft",!0);k(I,he,pe,"","\\Lsh",!0);k(I,he,pe,"","\\upuparrows",!0);k(I,he,pe,"","\\upharpoonleft",!0);k(I,he,pe,"","\\downharpoonleft",!0);k(I,q,pe,"","\\origof",!0);k(I,q,pe,"","\\imageof",!0);k(I,he,pe,"","\\multimap",!0);k(I,he,pe,"","\\leftrightsquigarrow",!0);k(I,he,pe,"","\\rightrightarrows",!0);k(I,he,pe,"","\\rightleftarrows",!0);k(I,he,pe,"","\\twoheadrightarrow",!0);k(I,he,pe,"","\\rightarrowtail",!0);k(I,he,pe,"","\\looparrowright",!0);k(I,he,pe,"","\\curvearrowright",!0);k(I,he,pe,"","\\circlearrowright",!0);k(I,he,pe,"","\\Rsh",!0);k(I,he,pe,"","\\downdownarrows",!0);k(I,he,pe,"","\\upharpoonright",!0);k(I,he,pe,"","\\downharpoonright",!0);k(I,he,pe,"","\\rightsquigarrow",!0);k(I,he,pe,"","\\leadsto");k(I,he,pe,"","\\Rrightarrow",!0);k(I,he,pe,"","\\restriction");k(I,q,Se,"","`");k(I,q,Se,"$","\\$");k(st,q,Se,"$","\\$");k(st,q,Se,"$","\\textdollar");k(I,q,Se,"%","\\%");k(st,q,Se,"%","\\%");k(I,q,Se,"_","\\_");k(st,q,Se,"_","\\_");k(st,q,Se,"_","\\textunderscore");k(I,q,Se,"","\\angle",!0);k(I,q,Se,"","\\infty",!0);k(I,q,Se,"","\\prime");k(I,q,Se,"","\\triangle");k(I,q,Se,"","\\Gamma",!0);k(I,q,Se,"","\\Delta",!0);k(I,q,Se,"","\\Theta",!0);k(I,q,Se,"","\\Lambda",!0);k(I,q,Se,"","\\Xi",!0);k(I,q,Se,"","\\Pi",!0);k(I,q,Se,"","\\Sigma",!0);k(I,q,Se,"","\\Upsilon",!0);k(I,q,Se,"","\\Phi",!0);k(I,q,Se,"","\\Psi",!0);k(I,q,Se,"","\\Omega",!0);k(I,q,Se,"A","");k(I,q,Se,"B","");k(I,q,Se,"E","");k(I,q,Se,"Z","");k(I,q,Se,"H","");k(I,q,Se,"I","");k(I,q,Se,"K","");k(I,q,Se,"M","");k(I,q,Se,"N","");k(I,q,Se,"O","");k(I,q,Se,"P","");k(I,q,Se,"T","");k(I,q,Se,"X","");k(I,q,Se,"","\\neg",!0);k(I,q,Se,"","\\lnot");k(I,q,Se,"","\\top");k(I,q,Se,"","\\bot");k(I,q,Se,"","\\emptyset");k(I,he,Se,"","\\varnothing");k(I,q,un,"","\\alpha",!0);k(I,q,un,"","\\beta",!0);k(I,q,un,"","\\gamma",!0);k(I,q,un,"","\\delta",!0);k(I,q,un,"","\\epsilon",!0);k(I,q,un,"","\\zeta",!0);k(I,q,un,"","\\eta",!0);k(I,q,un,"","\\theta",!0);k(I,q,un,"","\\iota",!0);k(I,q,un,"","\\kappa",!0);k(I,q,un,"","\\lambda",!0);k(I,q,un,"","\\mu",!0);k(I,q,un,"","\\nu",!0);k(I,q,un,"","\\xi",!0);k(I,q,un,"","\\omicron",!0);k(I,q,un,"","\\pi",!0);k(I,q,un,"","\\rho",!0);k(I,q,un,"","\\sigma",!0);k(I,q,un,"","\\tau",!0);k(I,q,un,"","\\upsilon",!0);k(I,q,un,"","\\phi",!0);k(I,q,un,"","\\chi",!0);k(I,q,un,"","\\psi",!0);k(I,q,un,"","\\omega",!0);k(I,q,un,"","\\varepsilon",!0);k(I,q,un,"","\\vartheta",!0);k(I,q,un,"","\\varpi",!0);k(I,q,un,"","\\varrho",!0);k(I,q,un,"","\\varsigma",!0);k(I,q,un,"","\\varphi",!0);k(I,q,Vt,"","*",!0);k(I,q,Vt,"+","+");k(I,q,Vt,"","-",!0);k(I,q,Vt,"","\\cdot",!0);k(I,q,Vt,"","\\circ",!0);k(I,q,Vt,"","\\div",!0);k(I,q,Vt,"","\\pm",!0);k(I,q,Vt,"","\\times",!0);k(I,q,Vt,"","\\cap",!0);k(I,q,Vt,"","\\cup",!0);k(I,q,Vt,"","\\setminus",!0);k(I,q,Vt,"","\\land");k(I,q,Vt,"","\\lor");k(I,q,Vt,"","\\wedge",!0);k(I,q,Vt,"","\\vee",!0);k(I,q,Se,"","\\surd");k(I,q,sl,"","\\langle",!0);k(I,q,sl,"","\\lvert");k(I,q,sl,"","\\lVert");k(I,q,Js,"?","?");k(I,q,Js,"!","!");k(I,q,Js,"","\\rangle",!0);k(I,q,Js,"","\\rvert");k(I,q,Js,"","\\rVert");k(I,q,pe,"=","=");k(I,q,pe,":",":");k(I,q,pe,"","\\approx",!0);k(I,q,pe,"","\\cong",!0);k(I,q,pe,"","\\ge");k(I,q,pe,"","\\geq",!0);k(I,q,pe,"","\\gets");k(I,q,pe,">","\\gt",!0);k(I,q,pe,"","\\in",!0);k(I,q,pe,"","\\@not");k(I,q,pe,"","\\subset",!0);k(I,q,pe,"","\\supset",!0);k(I,q,pe,"","\\subseteq",!0);k(I,q,pe,"","\\supseteq",!0);k(I,he,pe,"","\\nsubseteq",!0);k(I,he,pe,"","\\nsupseteq",!0);k(I,q,pe,"","\\models");k(I,q,pe,"","\\leftarrow",!0);k(I,q,pe,"","\\le");k(I,q,pe,"","\\leq",!0);k(I,q,pe,"<","\\lt",!0);k(I,q,pe,"","\\rightarrow",!0);k(I,q,pe,"","\\to");k(I,he,pe,"","\\ngeq",!0);k(I,he,pe,"","\\nleq",!0);k(I,q,qf,"","\\ ");k(I,q,qf,"","\\space");k(I,q,qf,"","\\nobreakspace");k(st,q,qf,"","\\ ");k(st,q,qf,""," ");k(st,q,qf,"","\\space");k(st,q,qf,"","\\nobreakspace");k(I,q,qf,null,"\\nobreak");k(I,q,qf,null,"\\allowbreak");k(I,q,BS,",",",");k(I,q,BS,";",";");k(I,he,Vt,"","\\barwedge",!0);k(I,he,Vt,"","\\veebar",!0);k(I,q,Vt,"","\\odot",!0);k(I,q,Vt,"","\\oplus",!0);k(I,q,Vt,"","\\otimes",!0);k(I,q,Se,"","\\partial",!0);k(I,q,Vt,"","\\oslash",!0);k(I,he,Vt,"","\\circledcirc",!0);k(I,he,Vt,"","\\boxdot",!0);k(I,q,Vt,"","\\bigtriangleup");k(I,q,Vt,"","\\bigtriangledown");k(I,q,Vt,"","\\dagger");k(I,q,Vt,"","\\diamond");k(I,q,Vt,"","\\star");k(I,q,Vt,"","\\triangleleft");k(I,q,Vt,"","\\triangleright");k(I,q,sl,"{","\\{");k(st,q,Se,"{","\\{");k(st,q,Se,"{","\\textbraceleft");k(I,q,Js,"}","\\}");k(st,q,Se,"}","\\}");k(st,q,Se,"}","\\textbraceright");k(I,q,sl,"{","\\lbrace");k(I,q,Js,"}","\\rbrace");k(I,q,sl,"[","\\lbrack",!0);k(st,q,Se,"[","\\lbrack",!0);k(I,q,Js,"]","\\rbrack",!0);k(st,q,Se,"]","\\rbrack",!0);k(I,q,sl,"(","\\lparen",!0);k(I,q,Js,")","\\rparen",!0);k(st,q,Se,"<","\\textless",!0);k(st,q,Se,">","\\textgreater",!0);k(I,q,sl,"","\\lfloor",!0);k(I,q,Js,"","\\rfloor",!0);k(I,q,sl,"","\\lceil",!0);k(I,q,Js,"","\\rceil",!0);k(I,q,Se,"\\","\\backslash");k(I,q,Se,"","|");k(I,q,Se,"","\\vert");k(st,q,Se,"|","\\textbar",!0);k(I,q,Se,"","\\|");k(I,q,Se,"","\\Vert");k(st,q,Se,"","\\textbardbl");k(st,q,Se,"~","\\textasciitilde");k(st,q,Se,"\\","\\textbackslash");k(st,q,Se,"^","\\textasciicircum");k(I,q,pe,"","\\uparrow",!0);k(I,q,pe,"","\\Uparrow",!0);k(I,q,pe,"","\\downarrow",!0);k(I,q,pe,"","\\Downarrow",!0);k(I,q,pe,"","\\updownarrow",!0);k(I,q,pe,"","\\Updownarrow",!0);k(I,q,na,"","\\coprod");k(I,q,na,"","\\bigvee");k(I,q,na,"","\\bigwedge");k(I,q,na,"","\\biguplus");k(I,q,na,"","\\bigcap");k(I,q,na,"","\\bigcup");k(I,q,na,"","\\int");k(I,q,na,"","\\intop");k(I,q,na,"","\\iint");k(I,q,na,"","\\iiint");k(I,q,na,"","\\prod");k(I,q,na,"","\\sum");k(I,q,na,"","\\bigotimes");k(I,q,na,"","\\bigoplus");k(I,q,na,"","\\bigodot");k(I,q,na,"","\\oint");k(I,q,na,"","\\oiint");k(I,q,na,"","\\oiiint");k(I,q,na,"","\\bigsqcup");k(I,q,na,"","\\smallint");k(st,q,cg,"","\\textellipsis");k(I,q,cg,"","\\mathellipsis");k(st,q,cg,"","\\ldots",!0);k(I,q,cg,"","\\ldots",!0);k(I,q,cg,"","\\@cdots",!0);k(I,q,cg,"","\\ddots",!0);k(I,q,Se,"","\\varvdots");k(st,q,Se,"","\\varvdots");k(I,q,cr,"","\\acute");k(I,q,cr,"","\\grave");k(I,q,cr,"","\\ddot");k(I,q,cr,"~","\\tilde");k(I,q,cr,"","\\bar");k(I,q,cr,"","\\breve");k(I,q,cr,"","\\check");k(I,q,cr,"^","\\hat");k(I,q,cr,"","\\vec");k(I,q,cr,"","\\dot");k(I,q,cr,"","\\mathring");k(I,q,un,"","\\@imath");k(I,q,un,"","\\@jmath");k(I,q,Se,"","");k(I,q,Se,"","");k(st,q,Se,"","\\i",!0);k(st,q,Se,"","\\j",!0);k(st,q,Se,"","\\ss",!0);k(st,q,Se,"","\\ae",!0);k(st,q,Se,"","\\oe",!0);k(st,q,Se,"","\\o",!0);k(st,q,Se,"","\\AE",!0);k(st,q,Se,"","\\OE",!0);k(st,q,Se,"","\\O",!0);k(st,q,cr,"","\\'");k(st,q,cr,"","\\`");k(st,q,cr,"","\\^");k(st,q,cr,"","\\~");k(st,q,cr,"","\\=");k(st,q,cr,"","\\u");k(st,q,cr,"","\\.");k(st,q,cr,"","\\c");k(st,q,cr,"","\\r");k(st,q,cr,"","\\v");k(st,q,cr,"",'\\"');k(st,q,cr,"","\\H");k(st,q,cr,"","\\textcircled");var ZB={"--":!0,"---":!0,"``":!0,"''":!0};k(st,q,Se,"","--",!0);k(st,q,Se,"","\\textendash");k(st,q,Se,"","---",!0);k(st,q,Se,"","\\textemdash");k(st,q,Se,"","`",!0);k(st,q,Se,"","\\textquoteleft");k(st,q,Se,"","'",!0);k(st,q,Se,"","\\textquoteright");k(st,q,Se,"","``",!0);k(st,q,Se,"","\\textquotedblleft");k(st,q,Se,"","''",!0);k(st,q,Se,"","\\textquotedblright");k(I,q,Se,"","\\degree",!0);k(st,q,Se,"","\\degree");k(st,q,Se,"","\\textdegree",!0);k(I,q,Se,"","\\pounds");k(I,q,Se,"","\\mathsterling",!0);k(st,q,Se,"","\\pounds");k(st,q,Se,"","\\textsterling",!0);k(I,he,Se,"","\\maltese");k(st,he,Se,"","\\maltese");var gN='0123456789/@."';for(var kM=0;kM<gN.length;kM++){var yN=gN.charAt(kM);k(I,q,Se,yN,yN)}var xN='0123456789!@*()-=+";:?/.,';for(var OM=0;OM<xN.length;OM++){var vN=xN.charAt(OM);k(st,q,Se,vN,vN)}var U_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var UM=0;UM<U_.length;UM++){var Hb=U_.charAt(UM);k(I,q,un,Hb,Hb),k(st,q,Se,Hb,Hb)}k(I,he,Se,"C","");k(st,he,Se,"C","");k(I,he,Se,"H","");k(st,he,Se,"H","");k(I,he,Se,"N","");k(st,he,Se,"N","");k(I,he,Se,"P","");k(st,he,Se,"P","");k(I,he,Se,"Q","");k(st,he,Se,"Q","");k(I,he,Se,"R","");k(st,he,Se,"R","");k(I,he,Se,"Z","");k(st,he,Se,"Z","");k(I,q,un,"h","");k(st,q,un,"h","");var xn="";for(var Bs=0;Bs<U_.length;Bs++){var Rr=U_.charAt(Bs);xn=String.fromCharCode(55349,56320+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56372+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56424+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56580+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56684+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56736+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56788+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56840+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56944+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),Bs<26&&(xn=String.fromCharCode(55349,56632+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn),xn=String.fromCharCode(55349,56476+Bs),k(I,q,un,Rr,xn),k(st,q,Se,Rr,xn))}xn="";k(I,q,un,"k",xn);k(st,q,Se,"k",xn);for(var zd=0;zd<10;zd++){var Ih=zd.toString();xn=String.fromCharCode(55349,57294+zd),k(I,q,un,Ih,xn),k(st,q,Se,Ih,xn),xn=String.fromCharCode(55349,57314+zd),k(I,q,un,Ih,xn),k(st,q,Se,Ih,xn),xn=String.fromCharCode(55349,57324+zd),k(I,q,un,Ih,xn),k(st,q,Se,Ih,xn),xn=String.fromCharCode(55349,57334+zd),k(I,q,un,Ih,xn),k(st,q,Se,Ih,xn)}var wA="";for(var PM=0;PM<wA.length;PM++){var Gb=wA.charAt(PM);k(I,q,un,Gb,Gb),k(st,q,Se,Gb,Gb)}var jb=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bN=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Vfe=function(e,t){var i=e.charCodeAt(0),r=e.charCodeAt(1),a=(i-55296)*1024+(r-56320)+65536,s=t==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[jb[o][2],jb[o][s]]}else if(120782<=a&&a<=120831){var u=Math.floor((a-120782)/10);return[bN[u][2],bN[u][s]]}else{if(a===120485||a===120486)return[jb[0][2],jb[0][s]];if(120486<a&&a<120782)return["",""];throw new pt("Unsupported character: "+e)}},IS=function(e,t,i){return Ji[i][e]&&Ji[i][e].replace&&(e=Ji[i][e].replace),{value:e,metrics:t8(e,t,i)}},_u=function(e,t,i,r,a){var s=IS(e,t,i),o=s.metrics;e=s.value;var u;if(o){var f=o.italic;(i==="text"||r&&r.font==="mathit")&&(f=0),u=new Hl(e,o.height,o.depth,f,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+i+"'")),u=new Hl(e,0,0,0,0,0,a);if(r){u.maxFontSize=r.sizeMultiplier,r.style.isTight()&&u.classes.push("mtight");var d=r.getColor();d&&(u.style.color=d)}return u},Hfe=function(e,t,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&IS(e,"Main-Bold",t).metrics?_u(e,"Main-Bold",t,i,r.concat(["mathbf"])):e==="\\"||Ji[t][e].font==="main"?_u(e,"Main-Regular",t,i,r):_u(e,"AMS-Regular",t,i,r.concat(["amsrm"]))},Gfe=function(e,t,i,r,a){return a!=="textord"&&IS(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},jfe=function(e,t,i){var r=e.mode,a=e.text,s=["mord"],o=r==="math"||r==="text"&&t.font,u=o?t.font:t.fontFamily,f="",d="";if(a.charCodeAt(0)===55349&&([f,d]=Vfe(a,r)),f.length>0)return _u(a,f,r,t,s.concat(d));if(u){var g,y;if(u==="boldsymbol"){var x=Gfe(a,r,t,s,i);g=x.fontName,y=[x.fontClass]}else o?(g=JB[u].fontName,y=[u]):(g=qb(u,t.fontWeight,t.fontShape),y=[u,t.fontWeight,t.fontShape]);if(IS(a,g,r).metrics)return _u(a,g,r,t,s.concat(y));if(ZB.hasOwnProperty(a)&&g.slice(0,10)==="Typewriter"){for(var _=[],M=0;M<a.length;M++)_.push(_u(a[M],g,r,t,s.concat(y)));return QB(_)}}if(i==="mathord")return _u(a,"Math-Italic",r,t,s.concat(["mathnormal"]));if(i==="textord"){var w=Ji[r][a]&&Ji[r][a].font;if(w==="ams"){var S=qb("amsrm",t.fontWeight,t.fontShape);return _u(a,S,r,t,s.concat("amsrm",t.fontWeight,t.fontShape))}else if(w==="main"||!w){var E=qb("textrm",t.fontWeight,t.fontShape);return _u(a,E,r,t,s.concat(t.fontWeight,t.fontShape))}else{var R=qb(w,t.fontWeight,t.fontShape);return _u(a,R,r,t,s.concat(R,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},qfe=(n,e)=>{if(h0(n.classes)!==h0(e.classes)||n.skew!==e.skew||n.maxFontSize!==e.maxFontSize)return!1;if(n.classes.length===1){var t=n.classes[0];if(t==="mbin"||t==="mord")return!1}for(var i in n.style)if(n.style.hasOwnProperty(i)&&n.style[i]!==e.style[i])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&n.style[r]!==e.style[r])return!1;return!0},Xfe=n=>{for(var e=0;e<n.length-1;e++){var t=n[e],i=n[e+1];t instanceof Hl&&i instanceof Hl&&qfe(t,i)&&(t.text+=i.text,t.height=Math.max(t.height,i.height),t.depth=Math.max(t.depth,i.depth),t.italic=i.italic,n.splice(e+1,1),e--)}return n},i8=function(e){for(var t=0,i=0,r=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>t&&(t=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>r&&(r=s.maxFontSize)}e.height=t,e.depth=i,e.maxFontSize=r},fo=function(e,t,i,r){var a=new s2(e,t,i,r);return i8(a),a},KB=(n,e,t,i)=>new s2(n,e,t,i),Wfe=function(e,t,i){var r=fo([e],[],t);return r.height=Math.max(i||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=wt(r.height),r.maxFontSize=1,r},Yfe=function(e,t,i,r){var a=new n8(e,t,i,r);return i8(a),a},QB=function(e){var t=new a2(e);return i8(t),t},Zfe=function(e,t){return e instanceof a2?fo([],[e],t):e},Kfe=function(e){if(e.positionType==="individualShift"){for(var t=e.children,i=[t[0]],r=-t[0].shift-t[0].elem.depth,a=r,s=1;s<t.length;s++){var o=-t[s].shift-a-t[s].elem.depth,u=o-(t[s-1].elem.height+t[s-1].elem.depth);a=a+o,i.push({type:"kern",size:u}),i.push(t[s])}return{children:i,depth:r}}var f;if(e.positionType==="top"){for(var d=e.positionData,g=0;g<e.children.length;g++){var y=e.children[g];d-=y.type==="kern"?y.size:y.elem.height+y.elem.depth}f=d}else if(e.positionType==="bottom")f=-e.positionData;else{var x=e.children[0];if(x.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")f=-x.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")f=-x.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:f}},Qfe=function(e,t){for(var{children:i,depth:r}=Kfe(e),a=0,s=0;s<i.length;s++){var o=i[s];if(o.type==="elem"){var u=o.elem;a=Math.max(a,u.maxFontSize,u.height)}}a+=2;var f=fo(["pstrut"],[]);f.style.height=wt(a);for(var d=[],g=r,y=r,x=r,_=0;_<i.length;_++){var M=i[_];if(M.type==="kern")x+=M.size;else{var w=M.elem,S=M.wrapperClasses||[],E=M.wrapperStyle||{},R=fo(S,[f,w],void 0,E);R.style.top=wt(-a-x-w.depth),M.marginLeft&&(R.style.marginLeft=M.marginLeft),M.marginRight&&(R.style.marginRight=M.marginRight),d.push(R),x+=w.height+w.depth}g=Math.min(g,x),y=Math.max(y,x)}var N=fo(["vlist"],d);N.style.height=wt(y);var O;if(g<0){var z=fo([],[]),B=fo(["vlist"],[z]);B.style.height=wt(-g);var G=fo(["vlist-s"],[new Hl("")]);O=[fo(["vlist-r"],[N,G]),fo(["vlist-r"],[B])]}else O=[fo(["vlist-r"],[N])];var U=fo(["vlist-t"],O);return O.length===2&&U.classes.push("vlist-t2"),U.height=y,U.depth=-g,U},Jfe=(n,e)=>{var t=fo(["mspace"],[],e),i=vr(n,e);return t.style.marginRight=wt(i),t},qb=function(e,t,i){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return t==="textbf"&&i==="textit"?a="BoldItalic":t==="textbf"?a="Bold":t==="textit"?a="Italic":a="Regular",r+"-"+a},JB={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},$B={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},$fe=function(e,t){var[i,r,a]=$B[e],s=new d0(i),o=new Ff([s],{width:wt(r),height:wt(a),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),u=KB(["overlay"],[o],t);return u.height=a,u.style.height=wt(a),u.style.width=wt(r),u},Oe={fontMap:JB,makeSymbol:_u,mathsym:Hfe,makeSpan:fo,makeSvgSpan:KB,makeLineSpan:Wfe,makeAnchor:Yfe,makeFragment:QB,wrapFragment:Zfe,makeVList:Qfe,makeOrd:jfe,makeGlue:Jfe,staticSvg:$fe,svgData:$B,tryCombineChars:Xfe},gr={number:3,unit:"mu"},Ld={number:4,unit:"mu"},xf={number:5,unit:"mu"},ehe={mord:{mop:gr,mbin:Ld,mrel:xf,minner:gr},mop:{mord:gr,mop:gr,mrel:xf,minner:gr},mbin:{mord:Ld,mop:Ld,mopen:Ld,minner:Ld},mrel:{mord:xf,mop:xf,mopen:xf,minner:xf},mopen:{},mclose:{mop:gr,mbin:Ld,mrel:xf,minner:gr},mpunct:{mord:gr,mop:gr,mrel:xf,mopen:gr,mclose:gr,mpunct:gr,minner:gr},minner:{mord:gr,mop:gr,mbin:Ld,mrel:xf,mopen:gr,mpunct:gr,minner:gr}},the={mord:{mop:gr},mop:{mord:gr,mop:gr},mbin:{},mrel:{},mopen:{},mclose:{mop:gr},mpunct:{},minner:{mop:gr}},eI={},P_={},B_={};function Ut(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:a,mathmlBuilder:s}=n,o={type:e,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},u=0;u<t.length;++u)eI[t[u]]=o;e&&(a&&(P_[e]=a),s&&(B_[e]=s))}function bp(n){var{type:e,htmlBuilder:t,mathmlBuilder:i}=n;Ut({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:i})}var I_=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},jr=function(e){return e.type==="ordgroup"?e.body:[e]},Vf=Oe.makeSpan,nhe=["leftmost","mbin","mopen","mrel","mop","mpunct"],ihe=["rightmost","mrel","mclose","mpunct"],rhe={display:cn.DISPLAY,text:cn.TEXT,script:cn.SCRIPT,scriptscript:cn.SCRIPTSCRIPT},ahe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},xa=function(e,t,i,r){r===void 0&&(r=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=gi(e[s],t);if(o instanceof a2){var u=o.children;a.push(...u)}else a.push(o)}if(Oe.tryCombineChars(a),!i)return a;var f=t;if(e.length===1){var d=e[0];d.type==="sizing"?f=t.havingSize(d.size):d.type==="styling"&&(f=t.havingStyle(rhe[d.style]))}var g=Vf([r[0]||"leftmost"],[],t),y=Vf([r[1]||"rightmost"],[],t),x=i==="root";return _N(a,(_,M)=>{var w=M.classes[0],S=_.classes[0];w==="mbin"&&ihe.includes(S)?M.classes[0]="mord":S==="mbin"&&nhe.includes(w)&&(_.classes[0]="mord")},{node:g},y,x),_N(a,(_,M)=>{var w=AA(M),S=AA(_),E=w&&S?_.hasClass("mtight")?the[w][S]:ehe[w][S]:null;if(E)return Oe.makeGlue(E,f)},{node:g},y,x),a},_N=function n(e,t,i,r,a){r&&e.push(r);for(var s=0;s<e.length;s++){var o=e[s],u=tI(o);if(u){n(u.children,t,i,null,a);continue}var f=!o.hasClass("mspace");if(f){var d=t(o,i.node);d&&(i.insertAfter?i.insertAfter(d):(e.unshift(d),s++))}f?i.node=o:a&&o.hasClass("newline")&&(i.node=Vf(["leftmost"])),i.insertAfter=(g=>y=>{e.splice(g+1,0,y),s++})(s)}r&&e.pop()},tI=function(e){return e instanceof a2||e instanceof n8||e instanceof s2&&e.hasClass("enclosing")?e:null},she=function n(e,t){var i=tI(e);if(i){var r=i.children;if(r.length){if(t==="right")return n(r[r.length-1],"right");if(t==="left")return n(r[0],"left")}}return e},AA=function(e,t){return e?(t&&(e=she(e,t)),ahe[e.classes[0]]||null):null},Lv=function(e,t){var i=["nulldelimiter"].concat(e.baseSizingClasses());return Vf(t.concat(i))},gi=function(e,t,i){if(!e)return Vf();if(P_[e.type]){var r=P_[e.type](e,t);if(i&&t.size!==i.size){r=Vf(t.sizingClasses(i),[r],t);var a=t.sizeMultiplier/i.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new pt("Got group of unknown type: '"+e.type+"'")};function Xb(n,e){var t=Vf(["base"],n,e),i=Vf(["strut"]);return i.style.height=wt(t.height+t.depth),t.depth&&(i.style.verticalAlign=wt(-t.depth)),t.children.unshift(i),t}function TA(n,e){var t=null;n.length===1&&n[0].type==="tag"&&(t=n[0].tag,n=n[0].body);var i=xa(n,e,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var u=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(u=!0);u||(a.push(Xb(s,e)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Xb(s,e)),s=[]),a.push(i[o]));s.length>0&&a.push(Xb(s,e));var f;t?(f=Xb(xa(t,e,!0)),f.classes=["tag"],a.push(f)):r&&a.push(r);var d=Vf(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),f){var g=f.children[0];g.style.height=wt(d.height+d.depth),d.depth&&(g.style.verticalAlign=wt(-d.depth))}return d}function nI(n){return new a2(n)}class Ko{constructor(e,t,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=i||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=h0(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof bc&&this.children[i+1]instanceof bc){for(var r=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof bc;)r+=this.children[++i].toText();e.appendChild(new bc(r).toNode())}else e.appendChild(this.children[i].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Mi.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Mi.escape(h0(this.classes))+'"'),e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class bc{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Mi.escape(this.toText())}toText(){return this.text}}class ohe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",wt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+wt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ct={MathNode:Ko,TextNode:bc,SpaceNode:ohe,newDocumentFragment:nI},Gl=function(e,t,i){return Ji[t][e]&&Ji[t][e].replace&&e.charCodeAt(0)!==55349&&!(ZB.hasOwnProperty(e)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(e=Ji[t][e].replace),new ct.TextNode(e)},r8=function(e){return e.length===1?e[0]:new ct.MathNode("mrow",e)},a8=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var i=t.font;if(!i||i==="mathnormal")return null;var r=e.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Ji[r][a]&&Ji[r][a].replace&&(a=Ji[r][a].replace);var s=Oe.fontMap[i].fontName;return t8(a,s,r)?Oe.fontMap[i].variant:null};function BM(n){if(!n)return!1;if(n.type==="mi"&&n.children.length===1){var e=n.children[0];return e instanceof bc&&e.text==="."}else if(n.type==="mo"&&n.children.length===1&&n.getAttribute("separator")==="true"&&n.getAttribute("lspace")==="0em"&&n.getAttribute("rspace")==="0em"){var t=n.children[0];return t instanceof bc&&t.text===","}else return!1}var Co=function(e,t,i){if(e.length===1){var r=Zi(e[0],t);return i&&r instanceof Ko&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],s,o=0;o<e.length;o++){var u=Zi(e[o],t);if(u instanceof Ko&&s instanceof Ko){if(u.type==="mtext"&&s.type==="mtext"&&u.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...u.children);continue}else if(u.type==="mn"&&s.type==="mn"){s.children.push(...u.children);continue}else if(BM(u)&&s.type==="mn"){s.children.push(...u.children);continue}else if(u.type==="mn"&&BM(s))u.children=[...s.children,...u.children],a.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(s.type==="mn"||BM(s))){var f=u.children[0];f instanceof Ko&&f.type==="mn"&&(f.children=[...s.children,...f.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var d=s.children[0];if(d instanceof bc&&d.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var g=u.children[0];g instanceof bc&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),a.pop())}}}a.push(u),s=u}return a},p0=function(e,t,i){return r8(Co(e,t,i))},Zi=function(e,t){if(!e)return new ct.MathNode("mrow");if(B_[e.type]){var i=B_[e.type](e,t);return i}else throw new pt("Got group of unknown type: '"+e.type+"'")};function SN(n,e,t,i,r){var a=Co(n,t),s;a.length===1&&a[0]instanceof Ko&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new ct.MathNode("mrow",a);var o=new ct.MathNode("annotation",[new ct.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var u=new ct.MathNode("semantics",[s,o]),f=new ct.MathNode("math",[u]);f.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&f.setAttribute("display","block");var d=r?"katex":"katex-mathml";return Oe.makeSpan([d],[f])}var iI=function(e){return new _f({style:e.displayMode?cn.DISPLAY:cn.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},rI=function(e,t){if(t.displayMode){var i=["katex-display"];t.leqno&&i.push("leqno"),t.fleqn&&i.push("fleqn"),e=Oe.makeSpan(i,[e])}return e},lhe=function(e,t,i){var r=iI(i),a;if(i.output==="mathml")return SN(e,t,r,i.displayMode,!0);if(i.output==="html"){var s=TA(e,r);a=Oe.makeSpan(["katex"],[s])}else{var o=SN(e,t,r,i.displayMode,!1),u=TA(e,r);a=Oe.makeSpan(["katex"],[o,u])}return rI(a,i)},uhe=function(e,t,i){var r=iI(i),a=TA(e,r),s=Oe.makeSpan(["katex"],[a]);return rI(s,i)},che={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},fhe=function(e){var t=new ct.MathNode("mo",[new ct.TextNode(che[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},hhe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},dhe=function(e){return e.type==="ordgroup"?e.body.length:1},phe=function(e,t){function i(){var o=4e5,u=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var f=e,d=dhe(f.base),g,y,x;if(d>5)u==="widehat"||u==="widecheck"?(g=420,o=2364,x=.42,y=u+"4"):(g=312,o=2340,x=.34,y="tilde4");else{var _=[1,1,2,2,3,3][d];u==="widehat"||u==="widecheck"?(o=[0,1062,2364,2364,2364][_],g=[0,239,300,360,420][_],x=[0,.24,.3,.3,.36,.42][_],y=u+_):(o=[0,600,1033,2339,2340][_],g=[0,260,286,306,312][_],x=[0,.26,.286,.3,.306,.34][_],y="tilde"+_)}var M=new d0(y),w=new Ff([M],{width:"100%",height:wt(x),viewBox:"0 0 "+o+" "+g,preserveAspectRatio:"none"});return{span:Oe.makeSvgSpan([],[w],t),minWidth:0,height:x}}else{var S=[],E=hhe[u],[R,N,O]=E,z=O/1e3,B=R.length,G,U;if(B===1){var L=E[3];G=["hide-tail"],U=[L]}else if(B===2)G=["halfarrow-left","halfarrow-right"],U=["xMinYMin","xMaxYMin"];else if(B===3)G=["brace-left","brace-center","brace-right"],U=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var j=0;j<B;j++){var Z=new d0(R[j]),oe=new Ff([Z],{width:"400em",height:wt(z),viewBox:"0 0 "+o+" "+O,preserveAspectRatio:U[j]+" slice"}),le=Oe.makeSvgSpan([G[j]],[oe],t);if(B===1)return{span:le,minWidth:N,height:z};le.style.height=wt(z),S.push(le)}return{span:Oe.makeSpan(["stretchy"],S,t),minWidth:N,height:z}}}var{span:r,minWidth:a,height:s}=i();return r.height=s,r.style.height=wt(s),a>0&&(r.style.minWidth=wt(a)),r},mhe=function(e,t,i,r,a){var s,o=e.height+e.depth+i+r;if(/fbox|color|angl/.test(t)){if(s=Oe.makeSpan(["stretchy",t],[],a),t==="fbox"){var u=a.color&&a.getColor();u&&(s.style.borderColor=u)}}else{var f=[];/^[bx]cancel$/.test(t)&&f.push(new MA({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&f.push(new MA({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new Ff(f,{width:"100%",height:wt(o)});s=Oe.makeSvgSpan([],[d],a)}return s.height=o,s.style.height=wt(o),s},Hf={encloseSpan:mhe,mathMLnode:fhe,svgSpan:phe};function Pn(n,e){if(!n||n.type!==e)throw new Error("Expected node of type "+e+", but got "+(n?"node of type "+n.type:String(n)));return n}function s8(n){var e=FS(n);if(!e)throw new Error("Expected node of symbol group type, but got "+(n?"node of type "+n.type:String(n)));return e}function FS(n){return n&&(n.type==="atom"||Ffe.hasOwnProperty(n.type))?n:null}var o8=(n,e)=>{var t,i,r;n&&n.type==="supsub"?(i=Pn(n.base,"accent"),t=i.base,n.base=t,r=Bfe(gi(n,e)),n.base=i):(i=Pn(n,"accent"),t=i.base);var a=gi(t,e.havingCrampedStyle()),s=i.isShifty&&Mi.isCharacterBox(t),o=0;if(s){var u=Mi.getBaseElem(t),f=gi(u,e.havingCrampedStyle());o=mN(f).skew}var d=i.label==="\\c",g=d?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),y;if(i.isStretchy)y=Hf.svgSpan(i,e),y=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:y,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+wt(2*o)+")",marginLeft:wt(2*o)}:void 0}]},e);else{var x,_;i.label==="\\vec"?(x=Oe.staticSvg("vec",e),_=Oe.svgData.vec[1]):(x=Oe.makeOrd({mode:i.mode,text:i.label},e,"textord"),x=mN(x),x.italic=0,_=x.width,d&&(g+=x.depth)),y=Oe.makeSpan(["accent-body"],[x]);var M=i.label==="\\textcircled";M&&(y.classes.push("accent-full"),g=a.height);var w=o;M||(w-=_/2),y.style.left=wt(w),i.label==="\\textcircled"&&(y.style.top=".2em"),y=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-g},{type:"elem",elem:y}]},e)}var S=Oe.makeSpan(["mord","accent"],[y],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},aI=(n,e)=>{var t=n.isStretchy?Hf.mathMLnode(n.label):new ct.MathNode("mo",[Gl(n.label,n.mode)]),i=new ct.MathNode("mover",[Zi(n.base,e),t]);return i.setAttribute("accent","true"),i},ghe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(n=>"\\"+n).join("|"));Ut({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(n,e)=>{var t=I_(e[0]),i=!ghe.test(n.funcName),r=!i||n.funcName==="\\widehat"||n.funcName==="\\widetilde"||n.funcName==="\\widecheck";return{type:"accent",mode:n.parser.mode,label:n.funcName,isStretchy:i,isShifty:r,base:t}},htmlBuilder:o8,mathmlBuilder:aI});Ut({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(n,e)=>{var t=e[0],i=n.parser.mode;return i==="math"&&(n.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+n.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:n.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:o8,mathmlBuilder:aI});Ut({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"accentUnder",mode:t.mode,label:i,base:r}},htmlBuilder:(n,e)=>{var t=gi(n.base,e),i=Hf.svgSpan(n,e),r=n.label==="\\utilde"?.12:0,a=Oe.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:t}]},e);return Oe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(n,e)=>{var t=Hf.mathMLnode(n.label),i=new ct.MathNode("munder",[Zi(n.base,e),t]);return i.setAttribute("accentunder","true"),i}});var Wb=n=>{var e=new ct.MathNode("mpadded",n?[n]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ut({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i,funcName:r}=n;return{type:"xArrow",mode:i.mode,label:r,body:e[0],below:t[0]}},htmlBuilder(n,e){var t=e.style,i=e.havingStyle(t.sup()),r=Oe.wrapFragment(gi(n.body,i,e),e),a=n.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var s;n.below&&(i=e.havingStyle(t.sub()),s=Oe.wrapFragment(gi(n.below,i,e),e),s.classes.push(a+"-arrow-pad"));var o=Hf.svgSpan(n,e),u=-e.fontMetrics().axisHeight+.5*o.height,f=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||n.label==="\\xleftequilibrium")&&(f-=r.depth);var d;if(s){var g=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;d=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:f},{type:"elem",elem:o,shift:u},{type:"elem",elem:s,shift:g}]},e)}else d=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:f},{type:"elem",elem:o,shift:u}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),Oe.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(n,e){var t=Hf.mathMLnode(n.label);t.setAttribute("minsize",n.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(n.body){var r=Wb(Zi(n.body,e));if(n.below){var a=Wb(Zi(n.below,e));i=new ct.MathNode("munderover",[t,a,r])}else i=new ct.MathNode("mover",[t,r])}else if(n.below){var s=Wb(Zi(n.below,e));i=new ct.MathNode("munder",[t,s])}else i=Wb(),i=new ct.MathNode("mover",[t,i]);return i}});var yhe=Oe.makeSpan;function sI(n,e){var t=xa(n.body,e,!0);return yhe([n.mclass],t,e)}function oI(n,e){var t,i=Co(n.body,e);return n.mclass==="minner"?t=new ct.MathNode("mpadded",i):n.mclass==="mord"?n.isCharacterBox?(t=i[0],t.type="mi"):t=new ct.MathNode("mi",i):(n.isCharacterBox?(t=i[0],t.type="mo"):t=new ct.MathNode("mo",i),n.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):n.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):n.mclass==="mopen"||n.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):n.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Ut({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+i.slice(5),body:jr(r),isCharacterBox:Mi.isCharacterBox(r)}},htmlBuilder:sI,mathmlBuilder:oI});var VS=n=>{var e=n.type==="ordgroup"&&n.body.length?n.body[0]:n;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ut({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(n,e){var{parser:t}=n;return{type:"mclass",mode:t.mode,mclass:VS(e[0]),body:jr(e[1]),isCharacterBox:Mi.isCharacterBox(e[1])}}});Ut({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(n,e){var{parser:t,funcName:i}=n,r=e[1],a=e[0],s;i!=="\\stackrel"?s=VS(r):s="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:jr(r)},u={type:"supsub",mode:a.mode,base:o,sup:i==="\\underset"?null:a,sub:i==="\\underset"?a:null};return{type:"mclass",mode:t.mode,mclass:s,body:[u],isCharacterBox:Mi.isCharacterBox(u)}},htmlBuilder:sI,mathmlBuilder:oI});Ut({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"pmb",mode:t.mode,mclass:VS(e[0]),body:jr(e[0])}},htmlBuilder(n,e){var t=xa(n.body,e,!0),i=Oe.makeSpan([n.mclass],t,e);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(n,e){var t=Co(n.body,e),i=new ct.MathNode("mstyle",t);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var xhe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},MN=()=>({type:"styling",body:[],mode:"math",style:"display"}),wN=n=>n.type==="textord"&&n.text==="@",vhe=(n,e)=>(n.type==="mathord"||n.type==="atom")&&n.text===e;function bhe(n,e,t){var i=xhe[n];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(i,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=t.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=t.callFunction("\\Big",[a],[]),o=t.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[r,s,o]};return t.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var f={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[f],[])}default:return{type:"textord",text:" ",mode:"math"}}}function _he(n){var e=[];for(n.gullet.beginGroup(),n.gullet.macros.set("\\cr","\\\\\\relax"),n.gullet.beginGroup();;){e.push(n.parseExpression(!1,"\\\\")),n.gullet.endGroup(),n.gullet.beginGroup();var t=n.fetch().text;if(t==="&"||t==="\\\\")n.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new pt("Expected \\\\ or \\cr or \\end",n.nextToken)}for(var i=[],r=[i],a=0;a<e.length;a++){for(var s=e[a],o=MN(),u=0;u<s.length;u++)if(!wN(s[u]))o.body.push(s[u]);else{i.push(o),u+=1;var f=s8(s[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(f)>-1))if("<>AV".indexOf(f)>-1)for(var g=0;g<2;g++){for(var y=!0,x=u+1;x<s.length;x++){if(vhe(s[x],f)){y=!1,u=x;break}if(wN(s[x]))throw new pt("Missing a "+f+" character to complete a CD arrow.",s[x]);d[g].body.push(s[x])}if(y)throw new pt("Missing a "+f+" character to complete a CD arrow.",s[u])}else throw new pt('Expected one of "<>AV=|." after @',s[u]);var _=bhe(f,d,n),M={type:"styling",body:[_],mode:"math",style:"display"};i.push(M),o=MN()}a%2===0?i.push(o):i.shift(),i=[],r.push(i)}n.gullet.endGroup(),n.gullet.endGroup();var w=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Ut({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"cdlabel",mode:t.mode,side:i.slice(4),label:e[0]}},htmlBuilder(n,e){var t=e.havingStyle(e.style.sup()),i=Oe.wrapFragment(gi(n.label,t,e),e);return i.classes.push("cd-label-"+n.side),i.style.bottom=wt(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(n,e){var t=new ct.MathNode("mrow",[Zi(n.label,e)]);return t=new ct.MathNode("mpadded",[t]),t.setAttribute("width","0"),n.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new ct.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Ut({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(n,e){var{parser:t}=n;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(n,e){var t=Oe.wrapFragment(gi(n.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(n,e){return new ct.MathNode("mrow",[Zi(n.fragment,e)])}});Ut({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(n,e){for(var{parser:t}=n,i=Pn(e[0],"ordgroup"),r=i.body,a="",s=0;s<r.length;s++){var o=Pn(r[s],"textord");a+=o.text}var u=parseInt(a),f;if(isNaN(u))throw new pt("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new pt("\\@char with invalid code point "+a);return u<=65535?f=String.fromCharCode(u):(u-=65536,f=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:t.mode,text:f}}});var lI=(n,e)=>{var t=xa(n.body,e.withColor(n.color),!1);return Oe.makeFragment(t)},uI=(n,e)=>{var t=Co(n.body,e.withColor(n.color)),i=new ct.MathNode("mstyle",t);return i.setAttribute("mathcolor",n.color),i};Ut({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(n,e){var{parser:t}=n,i=Pn(e[0],"color-token").color,r=e[1];return{type:"color",mode:t.mode,color:i,body:jr(r)}},htmlBuilder:lI,mathmlBuilder:uI});Ut({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(n,e){var{parser:t,breakOnTokenText:i}=n,r=Pn(e[0],"color-token").color;t.gullet.macros.set("\\current@color",r);var a=t.parseExpression(!0,i);return{type:"color",mode:t.mode,color:r,body:a}},htmlBuilder:lI,mathmlBuilder:uI});Ut({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(n,e,t){var{parser:i}=n,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,a=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:a,size:r&&Pn(r,"size").value}},htmlBuilder(n,e){var t=Oe.makeSpan(["mspace"],[],e);return n.newLine&&(t.classes.push("newline"),n.size&&(t.style.marginTop=wt(vr(n.size,e)))),t},mathmlBuilder(n,e){var t=new ct.MathNode("mspace");return n.newLine&&(t.setAttribute("linebreak","newline"),n.size&&t.setAttribute("height",wt(vr(n.size,e)))),t}});var EA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},cI=n=>{var e=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new pt("Expected a control sequence",n);return e},She=n=>{var e=n.gullet.popToken();return e.text==="="&&(e=n.gullet.popToken(),e.text===" "&&(e=n.gullet.popToken())),e},fI=(n,e,t,i)=>{var r=n.gullet.macros.get(t.text);r==null&&(t.noexpand=!0,r={tokens:[t],numArgs:0,unexpandable:!n.gullet.isExpandable(t.text)}),n.gullet.macros.set(e,r,i)};Ut({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(n){var{parser:e,funcName:t}=n;e.consumeSpaces();var i=e.fetch();if(EA[i.text])return(t==="\\global"||t==="\\\\globallong")&&(i.text=EA[i.text]),Pn(e.parseFunction(),"internal");throw new pt("Invalid token after macro prefix",i)}});Ut({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=e.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new pt("Expected a control sequence",i);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(i=e.gullet.popToken(),i.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(i=e.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new pt('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new pt('Argument number "'+i.text+'" out of order');a++,o.push([])}else{if(i.text==="EOF")throw new pt("Expected a macro definition");o[a].push(i.text)}var{tokens:u}=e.gullet.consumeArg();return s&&u.unshift(s),(t==="\\edef"||t==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(r,{tokens:u,numArgs:a,delimiters:o},t===EA[t]),{type:"internal",mode:e.mode}}});Ut({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=cI(e.gullet.popToken());e.gullet.consumeSpaces();var r=She(e);return fI(e,i,r,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ut({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n){var{parser:e,funcName:t}=n,i=cI(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return fI(e,i,a,t==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var yx=function(e,t,i){var r=Ji.math[e]&&Ji.math[e].replace,a=t8(r||e,t,i);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return a},l8=function(e,t,i,r){var a=i.havingBaseStyle(t),s=Oe.makeSpan(r.concat(a.sizingClasses(i)),[e],i),o=a.sizeMultiplier/i.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},hI=function(e,t,i){var r=t.havingBaseStyle(i),a=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=wt(a),e.height-=a,e.depth+=a},Mhe=function(e,t,i,r,a,s){var o=Oe.makeSymbol(e,"Main-Regular",a,r),u=l8(o,t,r,s);return i&&hI(u,r,t),u},whe=function(e,t,i,r){return Oe.makeSymbol(e,"Size"+t+"-Regular",i,r)},dI=function(e,t,i,r,a,s){var o=whe(e,t,a,r),u=l8(Oe.makeSpan(["delimsizing","size"+t],[o],r),cn.TEXT,r,s);return i&&hI(u,r,cn.TEXT),u},IM=function(e,t,i){var r;t==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=Oe.makeSpan(["delimsizinginner",r],[Oe.makeSpan([],[Oe.makeSymbol(e,t,i)])]);return{type:"elem",elem:a}},FM=function(e,t,i){var r=vc["Size4-Regular"][e.charCodeAt(0)]?vc["Size4-Regular"][e.charCodeAt(0)][4]:vc["Size1-Regular"][e.charCodeAt(0)][4],a=new d0("inner",Rfe(e,Math.round(1e3*t))),s=new Ff([a],{width:wt(r),height:wt(t),style:"width:"+wt(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Oe.makeSvgSpan([],[s],i);return o.height=t,o.style.height=wt(t),o.style.width=wt(r),{type:"elem",elem:o}},CA=.008,Yb={type:"kern",size:-1*CA},Ahe=["|","\\lvert","\\rvert","\\vert"],The=["\\|","\\lVert","\\rVert","\\Vert"],pI=function(e,t,i,r,a,s){var o,u,f,d,g="",y=0;o=f=d=e,u=null;var x="Size1-Regular";e==="\\uparrow"?f=d="":e==="\\Uparrow"?f=d="":e==="\\downarrow"?o=f="":e==="\\Downarrow"?o=f="":e==="\\updownarrow"?(o="\\uparrow",f="",d="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",f="",d="\\Downarrow"):Ahe.includes(e)?(f="",g="vert",y=333):The.includes(e)?(f="",g="doublevert",y=556):e==="["||e==="\\lbrack"?(o="",f="",d="",x="Size4-Regular",g="lbrack",y=667):e==="]"||e==="\\rbrack"?(o="",f="",d="",x="Size4-Regular",g="rbrack",y=667):e==="\\lfloor"||e===""?(f=o="",d="",x="Size4-Regular",g="lfloor",y=667):e==="\\lceil"||e===""?(o="",f=d="",x="Size4-Regular",g="lceil",y=667):e==="\\rfloor"||e===""?(f=o="",d="",x="Size4-Regular",g="rfloor",y=667):e==="\\rceil"||e===""?(o="",f=d="",x="Size4-Regular",g="rceil",y=667):e==="("||e==="\\lparen"?(o="",f="",d="",x="Size4-Regular",g="lparen",y=875):e===")"||e==="\\rparen"?(o="",f="",d="",x="Size4-Regular",g="rparen",y=875):e==="\\{"||e==="\\lbrace"?(o="",u="",d="",f="",x="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",u="",d="",f="",x="Size4-Regular"):e==="\\lgroup"||e===""?(o="",d="",f="",x="Size4-Regular"):e==="\\rgroup"||e===""?(o="",d="",f="",x="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",d="",f="",x="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",d="",f="",x="Size4-Regular");var _=yx(o,x,a),M=_.height+_.depth,w=yx(f,x,a),S=w.height+w.depth,E=yx(d,x,a),R=E.height+E.depth,N=0,O=1;if(u!==null){var z=yx(u,x,a);N=z.height+z.depth,O=2}var B=M+R+N,G=Math.max(0,Math.ceil((t-B)/(O*S))),U=B+G*O*S,L=r.fontMetrics().axisHeight;i&&(L*=r.sizeMultiplier);var j=U/2-L,Z=[];if(g.length>0){var oe=U-M-R,le=Math.round(U*1e3),ae=Dfe(g,Math.round(oe*1e3)),W=new d0(g,ae),te=(y/1e3).toFixed(3)+"em",re=(le/1e3).toFixed(3)+"em",ve=new Ff([W],{width:te,height:re,viewBox:"0 0 "+y+" "+le}),F=Oe.makeSvgSpan([],[ve],r);F.height=le/1e3,F.style.width=te,F.style.height=re,Z.push({type:"elem",elem:F})}else{if(Z.push(IM(d,x,a)),Z.push(Yb),u===null){var J=U-M-R+2*CA;Z.push(FM(f,J,r))}else{var ye=(U-M-R-N)/2+2*CA;Z.push(FM(f,ye,r)),Z.push(Yb),Z.push(IM(u,x,a)),Z.push(Yb),Z.push(FM(f,ye,r))}Z.push(Yb),Z.push(IM(o,x,a))}var K=r.havingBaseStyle(cn.TEXT),Le=Oe.makeVList({positionType:"bottom",positionData:j,children:Z},K);return l8(Oe.makeSpan(["delimsizing","mult"],[Le],K),cn.TEXT,r,s)},VM=80,HM=.08,GM=function(e,t,i,r,a){var s=Cfe(e,r,i),o=new d0(e,s),u=new Ff([o],{width:"400em",height:wt(t),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return Oe.makeSvgSpan(["hide-tail"],[u],a)},Ehe=function(e,t){var i=t.havingBaseSizing(),r=xI("\\surd",e*i.sizeMultiplier,yI,i),a=i.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,u=0,f=0,d=0,g;return r.type==="small"?(d=1e3+1e3*s+VM,e<1?a=1:e<1.4&&(a=.7),u=(1+s+HM)/a,f=(1+s)/a,o=GM("sqrtMain",u,d,s,t),o.style.minWidth="0.853em",g=.833/a):r.type==="large"?(d=(1e3+VM)*Wx[r.size],f=(Wx[r.size]+s)/a,u=(Wx[r.size]+s+HM)/a,o=GM("sqrtSize"+r.size,u,d,s,t),o.style.minWidth="1.02em",g=1/a):(u=e+s+HM,f=e+s,d=Math.floor(1e3*e+s)+VM,o=GM("sqrtTall",u,d,s,t),o.style.minWidth="0.742em",g=1.056),o.height=f,o.style.height=wt(u),{span:o,advanceWidth:g,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},mI=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Che=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],gI=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Wx=[0,1.2,1.8,2.4,3],Rhe=function(e,t,i,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),mI.includes(e)||gI.includes(e))return dI(e,t,!1,i,r,a);if(Che.includes(e))return pI(e,Wx[t],!1,i,r,a);throw new pt("Illegal delimiter: '"+e+"'")},Dhe=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Nhe=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"stack"}],yI=[{type:"small",style:cn.SCRIPTSCRIPT},{type:"small",style:cn.SCRIPT},{type:"small",style:cn.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],zhe=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},xI=function(e,t,i,r){for(var a=Math.min(2,3-r.style.size),s=a;s<i.length&&i[s].type!=="stack";s++){var o=yx(e,zhe(i[s]),"math"),u=o.height+o.depth;if(i[s].type==="small"){var f=r.havingBaseStyle(i[s].style);u*=f.sizeMultiplier}if(u>t)return i[s]}return i[i.length-1]},vI=function(e,t,i,r,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;gI.includes(e)?o=Dhe:mI.includes(e)?o=yI:o=Nhe;var u=xI(e,t,o,r);return u.type==="small"?Mhe(e,u.style,i,r,a,s):u.type==="large"?dI(e,u.size,i,r,a,s):pI(e,t,i,r,a,s)},Lhe=function(e,t,i,r,a,s){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,u=901,f=5/r.fontMetrics().ptPerEm,d=Math.max(t-o,i+o),g=Math.max(d/500*u,2*d-f);return vI(e,g,!0,r,a,s)},Df={sqrtImage:Ehe,sizedDelim:Rhe,sizeToMaxHeight:Wx,customSizedDelim:vI,leftRightDelim:Lhe},AN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},khe=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function HS(n,e){var t=FS(n);if(t&&khe.includes(t.text))return t;throw t?new pt("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",n):new pt("Invalid delimiter type '"+n.type+"'",n)}Ut({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(n,e)=>{var t=HS(e[0],n);return{type:"delimsizing",mode:n.parser.mode,size:AN[n.funcName].size,mclass:AN[n.funcName].mclass,delim:t.text}},htmlBuilder:(n,e)=>n.delim==="."?Oe.makeSpan([n.mclass]):Df.sizedDelim(n.delim,n.size,e,n.mode,[n.mclass]),mathmlBuilder:n=>{var e=[];n.delim!=="."&&e.push(Gl(n.delim,n.mode));var t=new ct.MathNode("mo",e);n.mclass==="mopen"||n.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var i=wt(Df.sizeToMaxHeight[n.size]);return t.setAttribute("minsize",i),t.setAttribute("maxsize",i),t}});function TN(n){if(!n.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ut({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=n.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new pt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:n.parser.mode,delim:HS(e[0],n).text,color:t}}});Ut({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=HS(e[0],n),i=n.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var a=Pn(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:t.text,right:a.delim,rightColor:a.color}},htmlBuilder:(n,e)=>{TN(n);for(var t=xa(n.body,e,!0,["mopen","mclose"]),i=0,r=0,a=!1,s=0;s<t.length;s++)t[s].isMiddle?a=!0:(i=Math.max(t[s].height,i),r=Math.max(t[s].depth,r));i*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(n.left==="."?o=Lv(e,["mopen"]):o=Df.leftRightDelim(n.left,i,r,e,n.mode,["mopen"]),t.unshift(o),a)for(var u=1;u<t.length;u++){var f=t[u],d=f.isMiddle;d&&(t[u]=Df.leftRightDelim(d.delim,i,r,d.options,n.mode,[]))}var g;if(n.right===".")g=Lv(e,["mclose"]);else{var y=n.rightColor?e.withColor(n.rightColor):e;g=Df.leftRightDelim(n.right,i,r,y,n.mode,["mclose"])}return t.push(g),Oe.makeSpan(["minner"],t,e)},mathmlBuilder:(n,e)=>{TN(n);var t=Co(n.body,e);if(n.left!=="."){var i=new ct.MathNode("mo",[Gl(n.left,n.mode)]);i.setAttribute("fence","true"),t.unshift(i)}if(n.right!=="."){var r=new ct.MathNode("mo",[Gl(n.right,n.mode)]);r.setAttribute("fence","true"),n.rightColor&&r.setAttribute("mathcolor",n.rightColor),t.push(r)}return r8(t)}});Ut({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var t=HS(e[0],n);if(!n.parser.leftrightDepth)throw new pt("\\middle without preceding \\left",t);return{type:"middle",mode:n.parser.mode,delim:t.text}},htmlBuilder:(n,e)=>{var t;if(n.delim===".")t=Lv(e,[]);else{t=Df.sizedDelim(n.delim,1,e,n.mode,[]);var i={delim:n.delim,options:e};t.isMiddle=i}return t},mathmlBuilder:(n,e)=>{var t=n.delim==="\\vert"||n.delim==="|"?Gl("|","text"):Gl(n.delim,n.mode),i=new ct.MathNode("mo",[t]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var u8=(n,e)=>{var t=Oe.wrapFragment(gi(n.body,e),e),i=n.label.slice(1),r=e.sizeMultiplier,a,s=0,o=Mi.isCharacterBox(n.body);if(i==="sout")a=Oe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,s=-.5*e.fontMetrics().xHeight;else if(i==="phase"){var u=vr({number:.6,unit:"pt"},e),f=vr({number:.35,unit:"ex"},e),d=e.havingBaseSizing();r=r/d.sizeMultiplier;var g=t.height+t.depth+u+f;t.style.paddingLeft=wt(g/2+u);var y=Math.floor(1e3*g*r),x=Tfe(y),_=new Ff([new d0("phase",x)],{width:"400em",height:wt(y/1e3),viewBox:"0 0 400000 "+y,preserveAspectRatio:"xMinYMin slice"});a=Oe.makeSvgSpan(["hide-tail"],[_],e),a.style.height=wt(g),s=t.depth+u+f}else{/cancel/.test(i)?o||t.classes.push("cancel-pad"):i==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var M=0,w=0,S=0;/box/.test(i)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),M=e.fontMetrics().fboxsep+(i==="colorbox"?0:S),w=M):i==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),M=4*S,w=Math.max(0,.25-t.depth)):(M=o?.2:0,w=M),a=Hf.encloseSpan(t,i,M,w,e),/fbox|boxed|fcolorbox/.test(i)?(a.style.borderStyle="solid",a.style.borderWidth=wt(S)):i==="angl"&&S!==.049&&(a.style.borderTopWidth=wt(S),a.style.borderRightWidth=wt(S)),s=t.depth+w,n.backgroundColor&&(a.style.backgroundColor=n.backgroundColor,n.borderColor&&(a.style.borderColor=n.borderColor))}var E;if(n.backgroundColor)E=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:t,shift:0}]},e);else{var R=/cancel|phase/.test(i)?["svg-align"]:[];E=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:R}]},e)}return/cancel/.test(i)&&(E.height=t.height,E.depth=t.depth),/cancel/.test(i)&&!o?Oe.makeSpan(["mord","cancel-lap"],[E],e):Oe.makeSpan(["mord"],[E],e)},c8=(n,e)=>{var t=0,i=new ct.MathNode(n.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Zi(n.body,e)]);switch(n.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*t+"pt"),i.setAttribute("height","+"+2*t+"pt"),i.setAttribute("lspace",t+"pt"),i.setAttribute("voffset",t+"pt"),n.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(n.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return n.backgroundColor&&i.setAttribute("mathbackground",n.backgroundColor),i};Ut({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,a=Pn(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:a,body:s}},htmlBuilder:u8,mathmlBuilder:c8});Ut({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(n,e,t){var{parser:i,funcName:r}=n,a=Pn(e[0],"color-token").color,s=Pn(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:u8,mathmlBuilder:c8});Ut({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Ut({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"enclose",mode:t.mode,label:i,body:r}},htmlBuilder:u8,mathmlBuilder:c8});Ut({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var bI={};function zc(n){for(var{type:e,names:t,props:i,handler:r,htmlBuilder:a,mathmlBuilder:s}=n,o={type:e,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},u=0;u<t.length;++u)bI[t[u]]=o;a&&(P_[e]=a),s&&(B_[e]=s)}var _I={};function $(n,e){_I[n]=e}function EN(n){var e=[];n.consumeSpaces();var t=n.fetch().text;for(t==="\\relax"&&(n.consume(),n.consumeSpaces(),t=n.fetch().text);t==="\\hline"||t==="\\hdashline";)n.consume(),e.push(t==="\\hdashline"),n.consumeSpaces(),t=n.fetch().text;return e}var GS=n=>{var e=n.parser.settings;if(!e.displayMode)throw new pt("{"+n.envName+"} can be used only in display mode.")};function f8(n){if(n.indexOf("ed")===-1)return n.indexOf("*")===-1}function S0(n,e,t){var{hskipBeforeAndAfter:i,addJot:r,cols:a,arraystretch:s,colSeparationType:o,autoTag:u,singleRow:f,emptySingleRow:d,maxNumCols:g,leqno:y}=e;if(n.gullet.beginGroup(),f||n.gullet.macros.set("\\cr","\\\\\\relax"),!s){var x=n.gullet.expandMacroAsText("\\arraystretch");if(x==null)s=1;else if(s=parseFloat(x),!s||s<0)throw new pt("Invalid \\arraystretch: "+x)}n.gullet.beginGroup();var _=[],M=[_],w=[],S=[],E=u!=null?[]:void 0;function R(){u&&n.gullet.macros.set("\\@eqnsw","1",!0)}function N(){E&&(n.gullet.macros.get("\\df@tag")?(E.push(n.subparse([new nl("\\df@tag")])),n.gullet.macros.set("\\df@tag",void 0,!0)):E.push(!!u&&n.gullet.macros.get("\\@eqnsw")==="1"))}for(R(),S.push(EN(n));;){var O=n.parseExpression(!1,f?"\\end":"\\\\");n.gullet.endGroup(),n.gullet.beginGroup(),O={type:"ordgroup",mode:n.mode,body:O},t&&(O={type:"styling",mode:n.mode,style:t,body:[O]}),_.push(O);var z=n.fetch().text;if(z==="&"){if(g&&_.length===g){if(f||o)throw new pt("Too many tab characters: &",n.nextToken);n.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}n.consume()}else if(z==="\\end"){N(),_.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(M.length>1||!d)&&M.pop(),S.length<M.length+1&&S.push([]);break}else if(z==="\\\\"){n.consume();var B=void 0;n.gullet.future().text!==" "&&(B=n.parseSizeGroup(!0)),w.push(B?B.value:null),N(),S.push(EN(n)),_=[],M.push(_),R()}else throw new pt("Expected & or \\\\ or \\cr or \\end",n.nextToken)}return n.gullet.endGroup(),n.gullet.endGroup(),{type:"array",mode:n.mode,addJot:r,arraystretch:s,body:M,cols:a,rowGaps:w,hskipBeforeAndAfter:i,hLinesBeforeRow:S,colSeparationType:o,tags:E,leqno:y}}function h8(n){return n.slice(0,1)==="d"?"display":"text"}var Lc=function(e,t){var i,r,a=e.body.length,s=e.hLinesBeforeRow,o=0,u=new Array(a),f=[],d=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),g=1/t.fontMetrics().ptPerEm,y=5*g;if(e.colSeparationType&&e.colSeparationType==="small"){var x=t.havingStyle(cn.SCRIPT).sizeMultiplier;y=.2778*(x/t.sizeMultiplier)}var _=e.colSeparationType==="CD"?vr({number:3,unit:"ex"},t):12*g,M=3*g,w=e.arraystretch*_,S=.7*w,E=.3*w,R=0;function N(it){for(var Ze=0;Ze<it.length;++Ze)Ze>0&&(R+=.25),f.push({pos:R,isDashed:it[Ze]})}for(N(s[0]),i=0;i<e.body.length;++i){var O=e.body[i],z=S,B=E;o<O.length&&(o=O.length);var G=new Array(O.length);for(r=0;r<O.length;++r){var U=gi(O[r],t);B<U.depth&&(B=U.depth),z<U.height&&(z=U.height),G[r]=U}var L=e.rowGaps[i],j=0;L&&(j=vr(L,t),j>0&&(j+=E,B<j&&(B=j),j=0)),e.addJot&&(B+=M),G.height=z,G.depth=B,R+=z,G.pos=R,R+=B+j,u[i]=G,N(s[i+1])}var Z=R/2+t.fontMetrics().axisHeight,oe=e.cols||[],le=[],ae,W,te=[];if(e.tags&&e.tags.some(it=>it))for(i=0;i<a;++i){var re=u[i],ve=re.pos-Z,F=e.tags[i],J=void 0;F===!0?J=Oe.makeSpan(["eqn-num"],[],t):F===!1?J=Oe.makeSpan([],[],t):J=Oe.makeSpan([],xa(F,t,!0),t),J.depth=re.depth,J.height=re.height,te.push({type:"elem",elem:J,shift:ve})}for(r=0,W=0;r<o||W<oe.length;++r,++W){for(var ye=oe[W]||{},K=!0;ye.type==="separator";){if(K||(ae=Oe.makeSpan(["arraycolsep"],[]),ae.style.width=wt(t.fontMetrics().doubleRuleSep),le.push(ae)),ye.separator==="|"||ye.separator===":"){var Le=ye.separator==="|"?"solid":"dashed",Ye=Oe.makeSpan(["vertical-separator"],[],t);Ye.style.height=wt(R),Ye.style.borderRightWidth=wt(d),Ye.style.borderRightStyle=Le,Ye.style.margin="0 "+wt(-d/2);var _e=R-Z;_e&&(Ye.style.verticalAlign=wt(-_e)),le.push(Ye)}else throw new pt("Invalid separator type: "+ye.separator);W++,ye=oe[W]||{},K=!1}if(!(r>=o)){var Ne=void 0;(r>0||e.hskipBeforeAndAfter)&&(Ne=Mi.deflt(ye.pregap,y),Ne!==0&&(ae=Oe.makeSpan(["arraycolsep"],[]),ae.style.width=wt(Ne),le.push(ae)));var Xe=[];for(i=0;i<a;++i){var at=u[i],_t=at[r];if(_t){var Pt=at.pos-Z;_t.depth=at.depth,_t.height=at.height,Xe.push({type:"elem",elem:_t,shift:Pt})}}Xe=Oe.makeVList({positionType:"individualShift",children:Xe},t),Xe=Oe.makeSpan(["col-align-"+(ye.align||"c")],[Xe]),le.push(Xe),(r<o-1||e.hskipBeforeAndAfter)&&(Ne=Mi.deflt(ye.postgap,y),Ne!==0&&(ae=Oe.makeSpan(["arraycolsep"],[]),ae.style.width=wt(Ne),le.push(ae)))}}if(u=Oe.makeSpan(["mtable"],le),f.length>0){for(var rn=Oe.makeLineSpan("hline",t,d),dt=Oe.makeLineSpan("hdashline",t,d),Fe=[{type:"elem",elem:u,shift:0}];f.length>0;){var ne=f.pop(),Ge=ne.pos-Z;ne.isDashed?Fe.push({type:"elem",elem:dt,shift:Ge}):Fe.push({type:"elem",elem:rn,shift:Ge})}u=Oe.makeVList({positionType:"individualShift",children:Fe},t)}if(te.length===0)return Oe.makeSpan(["mord"],[u],t);var de=Oe.makeVList({positionType:"individualShift",children:te},t);return de=Oe.makeSpan(["tag"],[de],t),Oe.makeFragment([u,de])},Ohe={c:"center ",l:"left ",r:"right "},kc=function(e,t){for(var i=[],r=new ct.MathNode("mtd",[],["mtr-glue"]),a=new ct.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],u=[],f=0;f<o.length;f++)u.push(new ct.MathNode("mtd",[Zi(o[f],t)]));e.tags&&e.tags[s]&&(u.unshift(r),u.push(r),e.leqno?u.unshift(a):u.push(a)),i.push(new ct.MathNode("mtr",u))}var d=new ct.MathNode("mtable",i),g=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",wt(g));var y="",x="";if(e.cols&&e.cols.length>0){var _=e.cols,M="",w=!1,S=0,E=_.length;_[0].type==="separator"&&(y+="top ",S=1),_[_.length-1].type==="separator"&&(y+="bottom ",E-=1);for(var R=S;R<E;R++)_[R].type==="align"?(x+=Ohe[_[R].align],w&&(M+="none "),w=!0):_[R].type==="separator"&&w&&(M+=_[R].separator==="|"?"solid ":"dashed ",w=!1);d.setAttribute("columnalign",x.trim()),/[sd]/.test(M)&&d.setAttribute("columnlines",M.trim())}if(e.colSeparationType==="align"){for(var N=e.cols||[],O="",z=1;z<N.length;z++)O+=z%2?"0em ":"1em ";d.setAttribute("columnspacing",O.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var B="",G=e.hLinesBeforeRow;y+=G[0].length>0?"left ":"",y+=G[G.length-1].length>0?"right ":"";for(var U=1;U<G.length-1;U++)B+=G[U].length===0?"none ":G[U][0]?"dashed ":"solid ";return/[sd]/.test(B)&&d.setAttribute("rowlines",B.trim()),y!==""&&(d=new ct.MathNode("menclose",[d]),d.setAttribute("notation",y.trim())),e.arraystretch&&e.arraystretch<1&&(d=new ct.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},SI=function(e,t){e.envName.indexOf("ed")===-1&&GS(e);var i=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=S0(e.parser,{cols:i,addJot:!0,autoTag:a?void 0:f8(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,u=0,f={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var d="",g=0;g<t[0].body.length;g++){var y=Pn(t[0].body[g],"textord");d+=y.text}o=Number(d),u=o*2}var x=!u;s.body.forEach(function(S){for(var E=1;E<S.length;E+=2){var R=Pn(S[E],"styling"),N=Pn(R.body[0],"ordgroup");N.body.unshift(f)}if(x)u<S.length&&(u=S.length);else{var O=S.length/2;if(o<O)throw new pt("Too many math in a row: "+("expected "+o+", but got "+O),S[0])}});for(var _=0;_<u;++_){var M="r",w=0;_%2===1?M="l":_>0&&x&&(w=1),i[_]={type:"align",align:M,pregap:w,postgap:0}}return s.colSeparationType=x?"align":"alignat",s};zc({type:"array",names:["array","darray"],props:{numArgs:1},handler(n,e){var t=FS(e[0]),i=t?[e[0]]:Pn(e[0],"ordgroup").body,r=i.map(function(s){var o=s8(s),u=o.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new pt("Unknown column alignment: "+u,s)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return S0(n.parser,a,h8(n.envName))},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(n){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[n.envName.replace("*","")],t="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(n.envName.charAt(n.envName.length-1)==="*"){var r=n.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),t=r.fetch().text,"lcr".indexOf(t)===-1)throw new pt("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:t}]}}var a=S0(n.parser,i,h8(n.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:t}),e?{type:"leftright",mode:n.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(n){var e={arraystretch:.5},t=S0(n.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["subarray"],props:{numArgs:1},handler(n,e){var t=FS(e[0]),i=t?[e[0]]:Pn(e[0],"ordgroup").body,r=i.map(function(s){var o=s8(s),u=o.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new pt("Unknown column alignment: "+u,s)});if(r.length>1)throw new pt("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=S0(n.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new pt("{subarray} can contain only one column");return a},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(n){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=S0(n.parser,e,h8(n.envName));return{type:"leftright",mode:n.mode,body:[t],left:n.envName.indexOf("r")>-1?".":"\\{",right:n.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:SI,htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(n){["gather","gather*"].includes(n.envName)&&GS(n);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:f8(n.envName),emptySingleRow:!0,leqno:n.parser.settings.leqno};return S0(n.parser,e,"display")},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:SI,htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(n){GS(n);var e={autoTag:f8(n.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:n.parser.settings.leqno};return S0(n.parser,e,"display")},htmlBuilder:Lc,mathmlBuilder:kc});zc({type:"array",names:["CD"],props:{numArgs:0},handler(n){return GS(n),_he(n.parser)},htmlBuilder:Lc,mathmlBuilder:kc});$("\\nonumber","\\gdef\\@eqnsw{0}");$("\\notag","\\nonumber");Ut({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(n,e){throw new pt(n.funcName+" valid only within array environment")}});var CN=bI;Ut({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];if(r.type!=="ordgroup")throw new pt("Invalid environment name",r);for(var a="",s=0;s<r.body.length;++s)a+=Pn(r.body[s],"textord").text;if(i==="\\begin"){if(!CN.hasOwnProperty(a))throw new pt("No such environment: "+a,r);var o=CN[a],{args:u,optArgs:f}=t.parseArguments("\\begin{"+a+"}",o),d={mode:t.mode,envName:a,parser:t},g=o.handler(d,u,f);t.expect("\\end",!1);var y=t.nextToken,x=Pn(t.parseFunction(),"environment");if(x.name!==a)throw new pt("Mismatch: \\begin{"+a+"} matched by \\end{"+x.name+"}",y);return g}return{type:"environment",mode:t.mode,name:a,nameGroup:r}}});var MI=(n,e)=>{var t=n.font,i=e.withFont(t);return gi(n.body,i)},wI=(n,e)=>{var t=n.font,i=e.withFont(t);return Zi(n.body,i)},RN={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ut({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=I_(e[0]),a=i;return a in RN&&(a=RN[a]),{type:"font",mode:t.mode,font:a.slice(1),body:r}},htmlBuilder:MI,mathmlBuilder:wI});Ut({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(n,e)=>{var{parser:t}=n,i=e[0],r=Mi.isCharacterBox(i);return{type:"mclass",mode:t.mode,mclass:VS(i),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});Ut({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,breakOnTokenText:r}=n,{mode:a}=t,s=t.parseExpression(!0,r),o="math"+i.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:t.mode,body:s}}},htmlBuilder:MI,mathmlBuilder:wI});var AI=(n,e)=>{var t=e;return n==="display"?t=t.id>=cn.SCRIPT.id?t.text():cn.DISPLAY:n==="text"&&t.size===cn.DISPLAY.size?t=cn.TEXT:n==="script"?t=cn.SCRIPT:n==="scriptscript"&&(t=cn.SCRIPTSCRIPT),t},d8=(n,e)=>{var t=AI(n.size,e.style),i=t.fracNum(),r=t.fracDen(),a;a=e.havingStyle(i);var s=gi(n.numer,a,e);if(n.continued){var o=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<u?u:s.depth}a=e.havingStyle(r);var f=gi(n.denom,a,e),d,g,y;n.hasBarLine?(n.barSize?(g=vr(n.barSize,e),d=Oe.makeLineSpan("frac-line",e,g)):d=Oe.makeLineSpan("frac-line",e),g=d.height,y=d.height):(d=null,g=0,y=e.fontMetrics().defaultRuleThickness);var x,_,M;t.size===cn.DISPLAY.size||n.size==="display"?(x=e.fontMetrics().num1,g>0?_=3*y:_=7*y,M=e.fontMetrics().denom1):(g>0?(x=e.fontMetrics().num2,_=y):(x=e.fontMetrics().num3,_=3*y),M=e.fontMetrics().denom2);var w;if(d){var E=e.fontMetrics().axisHeight;x-s.depth-(E+.5*g)<_&&(x+=_-(x-s.depth-(E+.5*g))),E-.5*g-(f.height-M)<_&&(M+=_-(E-.5*g-(f.height-M)));var R=-(E-.5*g);w=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:M},{type:"elem",elem:d,shift:R},{type:"elem",elem:s,shift:-x}]},e)}else{var S=x-s.depth-(f.height-M);S<_&&(x+=.5*(_-S),M+=.5*(_-S)),w=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:M},{type:"elem",elem:s,shift:-x}]},e)}a=e.havingStyle(t),w.height*=a.sizeMultiplier/e.sizeMultiplier,w.depth*=a.sizeMultiplier/e.sizeMultiplier;var N;t.size===cn.DISPLAY.size?N=e.fontMetrics().delim1:t.size===cn.SCRIPTSCRIPT.size?N=e.havingStyle(cn.SCRIPT).fontMetrics().delim2:N=e.fontMetrics().delim2;var O,z;return n.leftDelim==null?O=Lv(e,["mopen"]):O=Df.customSizedDelim(n.leftDelim,N,!0,e.havingStyle(t),n.mode,["mopen"]),n.continued?z=Oe.makeSpan([]):n.rightDelim==null?z=Lv(e,["mclose"]):z=Df.customSizedDelim(n.rightDelim,N,!0,e.havingStyle(t),n.mode,["mclose"]),Oe.makeSpan(["mord"].concat(a.sizingClasses(e)),[O,Oe.makeSpan(["mfrac"],[w]),z],e)},p8=(n,e)=>{var t=new ct.MathNode("mfrac",[Zi(n.numer,e),Zi(n.denom,e)]);if(!n.hasBarLine)t.setAttribute("linethickness","0px");else if(n.barSize){var i=vr(n.barSize,e);t.setAttribute("linethickness",wt(i))}var r=AI(n.size,e.style);if(r.size!==e.style.size){t=new ct.MathNode("mstyle",[t]);var a=r.size===cn.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",a),t.setAttribute("scriptlevel","0")}if(n.leftDelim!=null||n.rightDelim!=null){var s=[];if(n.leftDelim!=null){var o=new ct.MathNode("mo",[new ct.TextNode(n.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(t),n.rightDelim!=null){var u=new ct.MathNode("mo",[new ct.TextNode(n.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return r8(s)}return t};Ut({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],a=e[1],s,o=null,u=null,f="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",u=")";break;case"\\\\bracefrac":s=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":f="display";break;case"\\tfrac":case"\\tbinom":f="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:r,denom:a,hasBarLine:s,leftDelim:o,rightDelim:u,size:f,barSize:null}},htmlBuilder:d8,mathmlBuilder:p8});Ut({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],a=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ut({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(n){var{parser:e,funcName:t,token:i}=n,r;switch(t){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:i}}});var DN=["display","text","script","scriptscript"],NN=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Ut({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(n,e){var{parser:t}=n,i=e[4],r=e[5],a=I_(e[0]),s=a.type==="atom"&&a.family==="open"?NN(a.text):null,o=I_(e[1]),u=o.type==="atom"&&o.family==="close"?NN(o.text):null,f=Pn(e[2],"size"),d,g=null;f.isBlank?d=!0:(g=f.value,d=g.number>0);var y="auto",x=e[3];if(x.type==="ordgroup"){if(x.body.length>0){var _=Pn(x.body[0],"textord");y=DN[Number(_.text)]}}else x=Pn(x,"textord"),y=DN[Number(x.text)];return{type:"genfrac",mode:t.mode,numer:i,denom:r,continued:!1,hasBarLine:d,barSize:g,leftDelim:s,rightDelim:u,size:y}},htmlBuilder:d8,mathmlBuilder:p8});Ut({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(n,e){var{parser:t,funcName:i,token:r}=n;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:Pn(e[0],"size").value,token:r}}});Ut({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0],a=ffe(Pn(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:t.mode,numer:r,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:d8,mathmlBuilder:p8});var TI=(n,e)=>{var t=e.style,i,r;n.type==="supsub"?(i=n.sup?gi(n.sup,e.havingStyle(t.sup()),e):gi(n.sub,e.havingStyle(t.sub()),e),r=Pn(n.base,"horizBrace")):r=Pn(n,"horizBrace");var a=gi(r.base,e.havingBaseStyle(cn.DISPLAY)),s=Hf.svgSpan(r,e),o;if(r.isOver?(o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=Oe.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),i){var u=Oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:i}]},e):o=Oe.makeVList({positionType:"bottom",positionData:u.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return Oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},Uhe=(n,e)=>{var t=Hf.mathMLnode(n.label);return new ct.MathNode(n.isOver?"mover":"munder",[Zi(n.base,e),t])};Ut({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(n,e){var{parser:t,funcName:i}=n;return{type:"horizBrace",mode:t.mode,label:i,isOver:/^\\over/.test(i),base:e[0]}},htmlBuilder:TI,mathmlBuilder:Uhe});Ut({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[1],r=Pn(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:t.mode,href:r,body:jr(i)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(n,e)=>{var t=xa(n.body,e,!1);return Oe.makeAnchor(n.href,[],t,e)},mathmlBuilder:(n,e)=>{var t=p0(n.body,e);return t instanceof Ko||(t=new Ko("mrow",[t])),t.setAttribute("href",n.href),t}});Ut({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=Pn(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:i}))return t.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<i.length;a++){var s=i[a];s==="~"&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:t.mode,font:"\\texttt",body:r};return{type:"href",mode:t.mode,href:i,body:jr(o)}}});Ut({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(n,e){var{parser:t}=n;return{type:"hbox",mode:t.mode,body:jr(e[0])}},htmlBuilder(n,e){var t=xa(n.body,e,!1);return Oe.makeFragment(t)},mathmlBuilder(n,e){return new ct.MathNode("mrow",Co(n.body,e))}});Ut({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i,token:r}=n,a=Pn(e[0],"raw").string,s=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,u={};switch(i){case"\\htmlClass":u.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var f=a.split(","),d=0;d<f.length;d++){var g=f[d],y=g.indexOf("=");if(y<0)throw new pt("\\htmlData key/value '"+g+"' missing equals sign");var x=g.slice(0,y),_=g.slice(y+1);u["data-"+x.trim()]=_}o={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(o)?{type:"html",mode:t.mode,attributes:u,body:jr(s)}:t.formatUnsupportedCmd(i)},htmlBuilder:(n,e)=>{var t=xa(n.body,e,!1),i=["enclosing"];n.attributes.class&&i.push(...n.attributes.class.trim().split(/\s+/));var r=Oe.makeSpan(i,t,e);for(var a in n.attributes)a!=="class"&&n.attributes.hasOwnProperty(a)&&r.setAttribute(a,n.attributes[a]);return r},mathmlBuilder:(n,e)=>p0(n.body,e)});Ut({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"htmlmathml",mode:t.mode,html:jr(e[0]),mathml:jr(e[1])}},htmlBuilder:(n,e)=>{var t=xa(n.html,e,!1);return Oe.makeFragment(t)},mathmlBuilder:(n,e)=>p0(n.mathml,e)});var jM=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new pt("Invalid size: '"+e+"' in \\includegraphics");var i={number:+(t[1]+t[2]),unit:t[3]};if(!qB(i))throw new pt("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ut({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(n,e,t)=>{var{parser:i}=n,r={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(t[0])for(var u=Pn(t[0],"raw").string,f=u.split(","),d=0;d<f.length;d++){var g=f[d].split("=");if(g.length===2){var y=g[1].trim();switch(g[0].trim()){case"alt":o=y;break;case"width":r=jM(y);break;case"height":a=jM(y);break;case"totalheight":s=jM(y);break;default:throw new pt("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var x=Pn(e[0],"url").url;return o===""&&(o=x,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:x})?{type:"includegraphics",mode:i.mode,alt:o,width:r,height:a,totalheight:s,src:x}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(n,e)=>{var t=vr(n.height,e),i=0;n.totalheight.number>0&&(i=vr(n.totalheight,e)-t);var r=0;n.width.number>0&&(r=vr(n.width,e));var a={height:wt(t+i)};r>0&&(a.width=wt(r)),i>0&&(a.verticalAlign=wt(-i));var s=new Ufe(n.src,n.alt,a);return s.height=t,s.depth=i,s},mathmlBuilder:(n,e)=>{var t=new ct.MathNode("mglyph",[]);t.setAttribute("alt",n.alt);var i=vr(n.height,e),r=0;if(n.totalheight.number>0&&(r=vr(n.totalheight,e)-i,t.setAttribute("valign",wt(-r))),t.setAttribute("height",wt(i+r)),n.width.number>0){var a=vr(n.width,e);t.setAttribute("width",wt(a))}return t.setAttribute("src",n.src),t}});Ut({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=Pn(e[0],"size");if(t.settings.strict){var a=i[1]==="m",s=r.value.unit==="mu";a?(s||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:r.value}},htmlBuilder(n,e){return Oe.makeGlue(n.dimension,e)},mathmlBuilder(n,e){var t=vr(n.dimension,e);return new ct.SpaceNode(t)}});Ut({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"lap",mode:t.mode,alignment:i.slice(5),body:r}},htmlBuilder:(n,e)=>{var t;n.alignment==="clap"?(t=Oe.makeSpan([],[gi(n.body,e)]),t=Oe.makeSpan(["inner"],[t],e)):t=Oe.makeSpan(["inner"],[gi(n.body,e)]);var i=Oe.makeSpan(["fix"],[]),r=Oe.makeSpan([n.alignment],[t,i],e),a=Oe.makeSpan(["strut"]);return a.style.height=wt(r.height+r.depth),r.depth&&(a.style.verticalAlign=wt(-r.depth)),r.children.unshift(a),r=Oe.makeSpan(["thinbox"],[r],e),Oe.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(n,e)=>{var t=new ct.MathNode("mpadded",[Zi(n.body,e)]);if(n.alignment!=="rlap"){var i=n.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",i+"width")}return t.setAttribute("width","0px"),t}});Ut({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){var{funcName:t,parser:i}=n,r=i.mode;i.switchMode("math");var a=t==="\\("?"\\)":"$",s=i.parseExpression(!1,a);return i.expect(a),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:s}}});Ut({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(n,e){throw new pt("Mismatched "+n.funcName)}});var zN=(n,e)=>{switch(e.style.size){case cn.DISPLAY.size:return n.display;case cn.TEXT.size:return n.text;case cn.SCRIPT.size:return n.script;case cn.SCRIPTSCRIPT.size:return n.scriptscript;default:return n.text}};Ut({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(n,e)=>{var{parser:t}=n;return{type:"mathchoice",mode:t.mode,display:jr(e[0]),text:jr(e[1]),script:jr(e[2]),scriptscript:jr(e[3])}},htmlBuilder:(n,e)=>{var t=zN(n,e),i=xa(t,e,!1);return Oe.makeFragment(i)},mathmlBuilder:(n,e)=>{var t=zN(n,e);return p0(t,e)}});var EI=(n,e,t,i,r,a,s)=>{n=Oe.makeSpan([],[n]);var o=t&&Mi.isCharacterBox(t),u,f;if(e){var d=gi(e,i.havingStyle(r.sup()),i);f={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-d.depth)}}if(t){var g=gi(t,i.havingStyle(r.sub()),i);u={elem:g,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-g.height)}}var y;if(f&&u){var x=i.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+n.depth+s;y=Oe.makeVList({positionType:"bottom",positionData:x,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:wt(-a)},{type:"kern",size:u.kern},{type:"elem",elem:n},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:wt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(u){var _=n.height-s;y=Oe.makeVList({positionType:"top",positionData:_,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:wt(-a)},{type:"kern",size:u.kern},{type:"elem",elem:n}]},i)}else if(f){var M=n.depth+s;y=Oe.makeVList({positionType:"bottom",positionData:M,children:[{type:"elem",elem:n},{type:"kern",size:f.kern},{type:"elem",elem:f.elem,marginLeft:wt(a)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return n;var w=[y];if(u&&a!==0&&!o){var S=Oe.makeSpan(["mspace"],[],i);S.style.marginRight=wt(a),w.unshift(S)}return Oe.makeSpan(["mop","op-limits"],w,i)},CI=["\\smallint"],fg=(n,e)=>{var t,i,r=!1,a;n.type==="supsub"?(t=n.sup,i=n.sub,a=Pn(n.base,"op"),r=!0):a=Pn(n,"op");var s=e.style,o=!1;s.size===cn.DISPLAY.size&&a.symbol&&!CI.includes(a.name)&&(o=!0);var u;if(a.symbol){var f=o?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),u=Oe.makeSymbol(a.name,f,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var g=u.italic,y=Oe.staticSvg(d+"Size"+(o?"2":"1"),e);u=Oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:y,shift:o?.08:0}]},e),a.name="\\"+d,u.classes.unshift("mop"),u.italic=g}}else if(a.body){var x=xa(a.body,e,!0);x.length===1&&x[0]instanceof Hl?(u=x[0],u.classes[0]="mop"):u=Oe.makeSpan(["mop"],x,e)}else{for(var _=[],M=1;M<a.name.length;M++)_.push(Oe.mathsym(a.name[M],a.mode,e));u=Oe.makeSpan(["mop"],_,e)}var w=0,S=0;return(u instanceof Hl||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(w=(u.height-u.depth)/2-e.fontMetrics().axisHeight,S=u.italic),r?EI(u,t,i,e,s,S,w):(w&&(u.style.position="relative",u.style.top=wt(w)),u)},o2=(n,e)=>{var t;if(n.symbol)t=new Ko("mo",[Gl(n.name,n.mode)]),CI.includes(n.name)&&t.setAttribute("largeop","false");else if(n.body)t=new Ko("mo",Co(n.body,e));else{t=new Ko("mi",[new bc(n.name.slice(1))]);var i=new Ko("mo",[Gl("","text")]);n.parentIsSupSub?t=new Ko("mrow",[t,i]):t=nI([t,i])}return t},Phe={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ut({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=i;return r.length===1&&(r=Phe[r]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:fg,mathmlBuilder:o2});Ut({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:jr(i)}},htmlBuilder:fg,mathmlBuilder:o2});var Bhe={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ut({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:fg,mathmlBuilder:o2});Ut({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(n){var{parser:e,funcName:t}=n;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:fg,mathmlBuilder:o2});Ut({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(n){var{parser:e,funcName:t}=n,i=t;return i.length===1&&(i=Bhe[i]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:fg,mathmlBuilder:o2});var RI=(n,e)=>{var t,i,r=!1,a;n.type==="supsub"?(t=n.sup,i=n.sub,a=Pn(n.base,"operatorname"),r=!0):a=Pn(n,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(g=>{var y=g.text;return typeof y=="string"?{type:"textord",mode:g.mode,text:y}:g}),u=xa(o,e.withFont("mathrm"),!0),f=0;f<u.length;f++){var d=u[f];d instanceof Hl&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=Oe.makeSpan(["mop"],u,e)}else s=Oe.makeSpan(["mop"],[],e);return r?EI(s,t,i,e,e.style,0,0):s},Ihe=(n,e)=>{for(var t=Co(n.body,e.withFont("mathrm")),i=!0,r=0;r<t.length;r++){var a=t[r];if(!(a instanceof ct.SpaceNode))if(a instanceof ct.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof ct.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var o=t.map(d=>d.toText()).join("");t=[new ct.TextNode(o)]}var u=new ct.MathNode("mi",t);u.setAttribute("mathvariant","normal");var f=new ct.MathNode("mo",[Gl("","text")]);return n.parentIsSupSub?new ct.MathNode("mrow",[u,f]):ct.newDocumentFragment([u,f])};Ut({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(n,e)=>{var{parser:t,funcName:i}=n,r=e[0];return{type:"operatorname",mode:t.mode,body:jr(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:RI,mathmlBuilder:Ihe});$("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");bp({type:"ordgroup",htmlBuilder(n,e){return n.semisimple?Oe.makeFragment(xa(n.body,e,!1)):Oe.makeSpan(["mord"],xa(n.body,e,!0),e)},mathmlBuilder(n,e){return p0(n.body,e,!0)}});Ut({type:"overline",names:["\\overline"],props:{numArgs:1},handler(n,e){var{parser:t}=n,i=e[0];return{type:"overline",mode:t.mode,body:i}},htmlBuilder(n,e){var t=gi(n.body,e.havingCrampedStyle()),i=Oe.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},e);return Oe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(n,e){var t=new ct.MathNode("mo",[new ct.TextNode("")]);t.setAttribute("stretchy","true");var i=new ct.MathNode("mover",[Zi(n.body,e),t]);return i.setAttribute("accent","true"),i}});Ut({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"phantom",mode:t.mode,body:jr(i)}},htmlBuilder:(n,e)=>{var t=xa(n.body,e.withPhantom(),!1);return Oe.makeFragment(t)},mathmlBuilder:(n,e)=>{var t=Co(n.body,e);return new ct.MathNode("mphantom",t)}});Ut({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"hphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=Oe.makeSpan([],[gi(n.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var i=0;i<t.children.length;i++)t.children[i].height=0,t.children[i].depth=0;return t=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),Oe.makeSpan(["mord"],[t],e)},mathmlBuilder:(n,e)=>{var t=Co(jr(n.body),e),i=new ct.MathNode("mphantom",t),r=new ct.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Ut({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(n,e)=>{var{parser:t}=n,i=e[0];return{type:"vphantom",mode:t.mode,body:i}},htmlBuilder:(n,e)=>{var t=Oe.makeSpan(["inner"],[gi(n.body,e.withPhantom())]),i=Oe.makeSpan(["fix"],[]);return Oe.makeSpan(["mord","rlap"],[t,i],e)},mathmlBuilder:(n,e)=>{var t=Co(jr(n.body),e),i=new ct.MathNode("mphantom",t),r=new ct.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});Ut({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(n,e){var{parser:t}=n,i=Pn(e[0],"size").value,r=e[1];return{type:"raisebox",mode:t.mode,dy:i,body:r}},htmlBuilder(n,e){var t=gi(n.body,e),i=vr(n.dy,e);return Oe.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){var t=new ct.MathNode("mpadded",[Zi(n.body,e)]),i=n.dy.number+n.dy.unit;return t.setAttribute("voffset",i),t}});Ut({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(n){var{parser:e}=n;return{type:"internal",mode:e.mode}}});Ut({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(n,e,t){var{parser:i}=n,r=t[0],a=Pn(e[0],"size"),s=Pn(e[1],"size");return{type:"rule",mode:i.mode,shift:r&&Pn(r,"size").value,width:a.value,height:s.value}},htmlBuilder(n,e){var t=Oe.makeSpan(["mord","rule"],[],e),i=vr(n.width,e),r=vr(n.height,e),a=n.shift?vr(n.shift,e):0;return t.style.borderRightWidth=wt(i),t.style.borderTopWidth=wt(r),t.style.bottom=wt(a),t.width=i,t.height=r+a,t.depth=-a,t.maxFontSize=r*1.125*e.sizeMultiplier,t},mathmlBuilder(n,e){var t=vr(n.width,e),i=vr(n.height,e),r=n.shift?vr(n.shift,e):0,a=e.color&&e.getColor()||"black",s=new ct.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",wt(t)),s.setAttribute("height",wt(i));var o=new ct.MathNode("mpadded",[s]);return r>=0?o.setAttribute("height",wt(r)):(o.setAttribute("height",wt(r)),o.setAttribute("depth",wt(-r))),o.setAttribute("voffset",wt(r)),o}});function DI(n,e,t){for(var i=xa(n,e,!1),r=e.sizeMultiplier/t.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,e.sizingClasses(t)):i[a].classes[s+1]==="reset-size"+e.size&&(i[a].classes[s+1]="reset-size"+t.size),i[a].height*=r,i[a].depth*=r}return Oe.makeFragment(i)}var LN=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Fhe=(n,e)=>{var t=e.havingSize(n.size);return DI(n.body,t,e)};Ut({type:"sizing",names:LN,props:{numArgs:0,allowedInText:!0},handler:(n,e)=>{var{breakOnTokenText:t,funcName:i,parser:r}=n,a=r.parseExpression(!1,t);return{type:"sizing",mode:r.mode,size:LN.indexOf(i)+1,body:a}},htmlBuilder:Fhe,mathmlBuilder:(n,e)=>{var t=e.havingSize(n.size),i=Co(n.body,t),r=new ct.MathNode("mstyle",i);return r.setAttribute("mathsize",wt(t.sizeMultiplier)),r}});Ut({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(n,e,t)=>{var{parser:i}=n,r=!1,a=!1,s=t[0]&&Pn(t[0],"ordgroup");if(s)for(var o="",u=0;u<s.body.length;++u){var f=s.body[u];if(o=f.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var d=e[0];return{type:"smash",mode:i.mode,body:d,smashHeight:r,smashDepth:a}},htmlBuilder:(n,e)=>{var t=Oe.makeSpan([],[gi(n.body,e)]);if(!n.smashHeight&&!n.smashDepth)return t;if(n.smashHeight&&(t.height=0,t.children))for(var i=0;i<t.children.length;i++)t.children[i].height=0;if(n.smashDepth&&(t.depth=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].depth=0;var a=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return Oe.makeSpan(["mord"],[a],e)},mathmlBuilder:(n,e)=>{var t=new ct.MathNode("mpadded",[Zi(n.body,e)]);return n.smashHeight&&t.setAttribute("height","0px"),n.smashDepth&&t.setAttribute("depth","0px"),t}});Ut({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(n,e,t){var{parser:i}=n,r=t[0],a=e[0];return{type:"sqrt",mode:i.mode,body:a,index:r}},htmlBuilder(n,e){var t=gi(n.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=Oe.wrapFragment(t,e);var i=e.fontMetrics(),r=i.defaultRuleThickness,a=r;e.style.id<cn.TEXT.id&&(a=e.fontMetrics().xHeight);var s=r+a/4,o=t.height+t.depth+s+r,{span:u,ruleWidth:f,advanceWidth:d}=Df.sqrtImage(o,e),g=u.height-f;g>t.height+t.depth+s&&(s=(s+g-t.height-t.depth)/2);var y=u.height-t.height-s-f;t.style.paddingLeft=wt(d);var x=Oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+y)},{type:"elem",elem:u},{type:"kern",size:f}]},e);if(n.index){var _=e.havingStyle(cn.SCRIPTSCRIPT),M=gi(n.index,_,e),w=.6*(x.height-x.depth),S=Oe.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:M}]},e),E=Oe.makeSpan(["root"],[S]);return Oe.makeSpan(["mord","sqrt"],[E,x],e)}else return Oe.makeSpan(["mord","sqrt"],[x],e)},mathmlBuilder(n,e){var{body:t,index:i}=n;return i?new ct.MathNode("mroot",[Zi(t,e),Zi(i,e)]):new ct.MathNode("msqrt",[Zi(t,e)])}});var kN={display:cn.DISPLAY,text:cn.TEXT,script:cn.SCRIPT,scriptscript:cn.SCRIPTSCRIPT};Ut({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(n,e){var{breakOnTokenText:t,funcName:i,parser:r}=n,a=r.parseExpression(!0,t),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:a}},htmlBuilder(n,e){var t=kN[n.style],i=e.havingStyle(t).withFont("");return DI(n.body,i,e)},mathmlBuilder(n,e){var t=kN[n.style],i=e.havingStyle(t),r=Co(n.body,i),a=new ct.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[n.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var Vhe=function(e,t){var i=e.base;if(i)if(i.type==="op"){var r=i.limits&&(t.style.size===cn.DISPLAY.size||i.alwaysHandleSupSub);return r?fg:null}else if(i.type==="operatorname"){var a=i.alwaysHandleSupSub&&(t.style.size===cn.DISPLAY.size||i.limits);return a?RI:null}else{if(i.type==="accent")return Mi.isCharacterBox(i.base)?o8:null;if(i.type==="horizBrace"){var s=!e.sub;return s===i.isOver?TI:null}else return null}else return null};bp({type:"supsub",htmlBuilder(n,e){var t=Vhe(n,e);if(t)return t(n,e);var{base:i,sup:r,sub:a}=n,s=gi(i,e),o,u,f=e.fontMetrics(),d=0,g=0,y=i&&Mi.isCharacterBox(i);if(r){var x=e.havingStyle(e.style.sup());o=gi(r,x,e),y||(d=s.height-x.fontMetrics().supDrop*x.sizeMultiplier/e.sizeMultiplier)}if(a){var _=e.havingStyle(e.style.sub());u=gi(a,_,e),y||(g=s.depth+_.fontMetrics().subDrop*_.sizeMultiplier/e.sizeMultiplier)}var M;e.style===cn.DISPLAY?M=f.sup1:e.style.cramped?M=f.sup3:M=f.sup2;var w=e.sizeMultiplier,S=wt(.5/f.ptPerEm/w),E=null;if(u){var R=n.base&&n.base.type==="op"&&n.base.name&&(n.base.name==="\\oiint"||n.base.name==="\\oiiint");(s instanceof Hl||R)&&(E=wt(-s.italic))}var N;if(o&&u){d=Math.max(d,M,o.depth+.25*f.xHeight),g=Math.max(g,f.sub2);var O=f.defaultRuleThickness,z=4*O;if(d-o.depth-(u.height-g)<z){g=z-(d-o.depth)+u.height;var B=.8*f.xHeight-(d-o.depth);B>0&&(d+=B,g-=B)}var G=[{type:"elem",elem:u,shift:g,marginRight:S,marginLeft:E},{type:"elem",elem:o,shift:-d,marginRight:S}];N=Oe.makeVList({positionType:"individualShift",children:G},e)}else if(u){g=Math.max(g,f.sub1,u.height-.8*f.xHeight);var U=[{type:"elem",elem:u,marginLeft:E,marginRight:S}];N=Oe.makeVList({positionType:"shift",positionData:g,children:U},e)}else if(o)d=Math.max(d,M,o.depth+.25*f.xHeight),N=Oe.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var L=AA(s,"right")||"mord";return Oe.makeSpan([L],[s,Oe.makeSpan(["msupsub"],[N])],e)},mathmlBuilder(n,e){var t=!1,i,r;n.base&&n.base.type==="horizBrace"&&(r=!!n.sup,r===n.base.isOver&&(t=!0,i=n.base.isOver)),n.base&&(n.base.type==="op"||n.base.type==="operatorname")&&(n.base.parentIsSupSub=!0);var a=[Zi(n.base,e)];n.sub&&a.push(Zi(n.sub,e)),n.sup&&a.push(Zi(n.sup,e));var s;if(t)s=i?"mover":"munder";else if(n.sub)if(n.sup){var f=n.base;f&&f.type==="op"&&f.limits&&e.style===cn.DISPLAY||f&&f.type==="operatorname"&&f.alwaysHandleSupSub&&(e.style===cn.DISPLAY||f.limits)?s="munderover":s="msubsup"}else{var u=n.base;u&&u.type==="op"&&u.limits&&(e.style===cn.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===cn.DISPLAY)?s="munder":s="msub"}else{var o=n.base;o&&o.type==="op"&&o.limits&&(e.style===cn.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===cn.DISPLAY)?s="mover":s="msup"}return new ct.MathNode(s,a)}});bp({type:"atom",htmlBuilder(n,e){return Oe.mathsym(n.text,n.mode,e,["m"+n.family])},mathmlBuilder(n,e){var t=new ct.MathNode("mo",[Gl(n.text,n.mode)]);if(n.family==="bin"){var i=a8(n,e);i==="bold-italic"&&t.setAttribute("mathvariant",i)}else n.family==="punct"?t.setAttribute("separator","true"):(n.family==="open"||n.family==="close")&&t.setAttribute("stretchy","false");return t}});var NI={mi:"italic",mn:"normal",mtext:"normal"};bp({type:"mathord",htmlBuilder(n,e){return Oe.makeOrd(n,e,"mathord")},mathmlBuilder(n,e){var t=new ct.MathNode("mi",[Gl(n.text,n.mode,e)]),i=a8(n,e)||"italic";return i!==NI[t.type]&&t.setAttribute("mathvariant",i),t}});bp({type:"textord",htmlBuilder(n,e){return Oe.makeOrd(n,e,"textord")},mathmlBuilder(n,e){var t=Gl(n.text,n.mode,e),i=a8(n,e)||"normal",r;return n.mode==="text"?r=new ct.MathNode("mtext",[t]):/[0-9]/.test(n.text)?r=new ct.MathNode("mn",[t]):n.text==="\\prime"?r=new ct.MathNode("mo",[t]):r=new ct.MathNode("mi",[t]),i!==NI[r.type]&&r.setAttribute("mathvariant",i),r}});var qM={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},XM={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};bp({type:"spacing",htmlBuilder(n,e){if(XM.hasOwnProperty(n.text)){var t=XM[n.text].className||"";if(n.mode==="text"){var i=Oe.makeOrd(n,e,"textord");return i.classes.push(t),i}else return Oe.makeSpan(["mspace",t],[Oe.mathsym(n.text,n.mode,e)],e)}else{if(qM.hasOwnProperty(n.text))return Oe.makeSpan(["mspace",qM[n.text]],[],e);throw new pt('Unknown type of space "'+n.text+'"')}},mathmlBuilder(n,e){var t;if(XM.hasOwnProperty(n.text))t=new ct.MathNode("mtext",[new ct.TextNode("")]);else{if(qM.hasOwnProperty(n.text))return new ct.MathNode("mspace");throw new pt('Unknown type of space "'+n.text+'"')}return t}});var ON=()=>{var n=new ct.MathNode("mtd",[]);return n.setAttribute("width","50%"),n};bp({type:"tag",mathmlBuilder(n,e){var t=new ct.MathNode("mtable",[new ct.MathNode("mtr",[ON(),new ct.MathNode("mtd",[p0(n.body,e)]),ON(),new ct.MathNode("mtd",[p0(n.tag,e)])])]);return t.setAttribute("width","100%"),t}});var UN={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},PN={"\\textbf":"textbf","\\textmd":"textmd"},Hhe={"\\textit":"textit","\\textup":"textup"},BN=(n,e)=>{var t=n.font;if(t){if(UN[t])return e.withTextFontFamily(UN[t]);if(PN[t])return e.withTextFontWeight(PN[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(Hhe[t])};Ut({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(n,e){var{parser:t,funcName:i}=n,r=e[0];return{type:"text",mode:t.mode,body:jr(r),font:i}},htmlBuilder(n,e){var t=BN(n,e),i=xa(n.body,t,!0);return Oe.makeSpan(["mord","text"],i,t)},mathmlBuilder(n,e){var t=BN(n,e);return p0(n.body,t)}});Ut({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(n,e){var{parser:t}=n;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=gi(n.body,e),i=Oe.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=Oe.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:t}]},e);return Oe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(n,e){var t=new ct.MathNode("mo",[new ct.TextNode("")]);t.setAttribute("stretchy","true");var i=new ct.MathNode("munder",[Zi(n.body,e),t]);return i.setAttribute("accentunder","true"),i}});Ut({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(n,e){var{parser:t}=n;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(n,e){var t=gi(n.body,e),i=e.fontMetrics().axisHeight,r=.5*(t.height-i-(t.depth+i));return Oe.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(n,e){return new ct.MathNode("mpadded",[Zi(n.body,e)],["vcenter"])}});Ut({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(n,e,t){throw new pt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(n,e){for(var t=IN(n),i=[],r=e.havingStyle(e.style.text()),a=0;a<t.length;a++){var s=t[a];s==="~"&&(s="\\textasciitilde"),i.push(Oe.makeSymbol(s,"Typewriter-Regular",n.mode,r,["mord","texttt"]))}return Oe.makeSpan(["mord","text"].concat(r.sizingClasses(e)),Oe.tryCombineChars(i),r)},mathmlBuilder(n,e){var t=new ct.TextNode(IN(n)),i=new ct.MathNode("mtext",[t]);return i.setAttribute("mathvariant","monospace"),i}});var IN=n=>n.body.replace(/ /g,n.star?"":""),Jh=eI,zI=`[ \r
	]`,Ghe="\\\\[a-zA-Z@]+",jhe="\\\\[^\uD800-\uDFFF]",qhe="("+Ghe+")"+zI+"*",Xhe=`\\\\(
|[ \r	]+
?)[ \r	]*`,RA="[-]",Whe=new RegExp(RA+"+$"),Yhe="("+zI+"+)|"+(Xhe+"|")+"([!-\\[\\]---]"+(RA+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(RA+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+qhe)+("|"+jhe+")");class FN{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Yhe,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new nl("EOF",new mo(this,t,t));var i=this.tokenRegex.exec(e);if(i===null||i.index!==t)throw new pt("Unexpected character: '"+e[t]+"'",new nl(e[t],new mo(this,t,t+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new nl(r,new mo(this,t,this.tokenRegex.lastIndex))}}class Zhe{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new pt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var Khe=_I;$("\\noexpand",function(n){var e=n.popToken();return n.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});$("\\expandafter",function(n){var e=n.popToken();return n.expandOnce(!0),{tokens:[e],numArgs:0}});$("\\@firstoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[0],numArgs:0}});$("\\@secondoftwo",function(n){var e=n.consumeArgs(2);return{tokens:e[1],numArgs:0}});$("\\@ifnextchar",function(n){var e=n.consumeArgs(3);n.consumeSpaces();var t=n.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});$("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");$("\\TextOrMath",function(n){var e=n.consumeArgs(2);return n.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var VN={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};$("\\char",function(n){var e=n.popToken(),t,i="";if(e.text==="'")t=8,e=n.popToken();else if(e.text==='"')t=16,e=n.popToken();else if(e.text==="`")if(e=n.popToken(),e.text[0]==="\\")i=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new pt("\\char` missing argument");i=e.text.charCodeAt(0)}else t=10;if(t){if(i=VN[e.text],i==null||i>=t)throw new pt("Invalid base-"+t+" digit "+e.text);for(var r;(r=VN[n.future().text])!=null&&r<t;)i*=t,i+=r,n.popToken()}return"\\@char{"+i+"}"});var m8=(n,e,t,i)=>{var r=n.consumeArg().tokens;if(r.length!==1)throw new pt("\\newcommand's first argument must be a macro name");var a=r[0].text,s=n.isDefined(a);if(s&&!e)throw new pt("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!t)throw new pt("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=n.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var u="",f=n.expandNextToken();f.text!=="]"&&f.text!=="EOF";)u+=f.text,f=n.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new pt("Invalid number of arguments: "+u);o=parseInt(u),r=n.consumeArg().tokens}return s&&i||n.macros.set(a,{tokens:r,numArgs:o}),""};$("\\newcommand",n=>m8(n,!1,!0,!1));$("\\renewcommand",n=>m8(n,!0,!1,!1));$("\\providecommand",n=>m8(n,!0,!0,!0));$("\\message",n=>{var e=n.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});$("\\errmessage",n=>{var e=n.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});$("\\show",n=>{var e=n.popToken(),t=e.text;return console.log(e,n.macros.get(t),Jh[t],Ji.math[t],Ji.text[t]),""});$("\\bgroup","{");$("\\egroup","}");$("~","\\nobreakspace");$("\\lq","`");$("\\rq","'");$("\\aa","\\r a");$("\\AA","\\r A");$("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");$("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");$("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");$("","\\mathscr{B}");$("","\\mathscr{E}");$("","\\mathscr{F}");$("","\\mathscr{H}");$("","\\mathscr{I}");$("","\\mathscr{L}");$("","\\mathscr{M}");$("","\\mathscr{R}");$("","\\mathfrak{C}");$("","\\mathfrak{H}");$("","\\mathfrak{Z}");$("\\Bbbk","\\Bbb{k}");$("","\\cdotp");$("\\llap","\\mathllap{\\textrm{#1}}");$("\\rlap","\\mathrlap{\\textrm{#1}}");$("\\clap","\\mathclap{\\textrm{#1}}");$("\\mathstrut","\\vphantom{(}");$("\\underbar","\\underline{\\text{#1}}");$("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');$("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");$("\\ne","\\neq");$("","\\neq");$("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");$("","\\notin");$("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");$("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");$("","\\perp");$("","\\mathclose{!\\mkern-0.8mu!}");$("","\\notni");$("","\\ulcorner");$("","\\urcorner");$("","\\llcorner");$("","\\lrcorner");$("","\\copyright");$("","\\textregistered");$("","\\textregistered");$("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');$("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');$("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');$("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');$("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");$("","\\vdots");$("\\varGamma","\\mathit{\\Gamma}");$("\\varDelta","\\mathit{\\Delta}");$("\\varTheta","\\mathit{\\Theta}");$("\\varLambda","\\mathit{\\Lambda}");$("\\varXi","\\mathit{\\Xi}");$("\\varPi","\\mathit{\\Pi}");$("\\varSigma","\\mathit{\\Sigma}");$("\\varUpsilon","\\mathit{\\Upsilon}");$("\\varPhi","\\mathit{\\Phi}");$("\\varPsi","\\mathit{\\Psi}");$("\\varOmega","\\mathit{\\Omega}");$("\\substack","\\begin{subarray}{c}#1\\end{subarray}");$("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");$("\\boxed","\\fbox{$\\displaystyle{#1}$}");$("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");$("\\implies","\\DOTSB\\;\\Longrightarrow\\;");$("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");$("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");$("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var HN={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};$("\\dots",function(n){var e="\\dotso",t=n.expandAfterFuture().text;return t in HN?e=HN[t]:(t.slice(0,4)==="\\not"||t in Ji.math&&["bin","rel"].includes(Ji.math[t].group))&&(e="\\dotsb"),e});var g8={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};$("\\dotso",function(n){var e=n.future().text;return e in g8?"\\ldots\\,":"\\ldots"});$("\\dotsc",function(n){var e=n.future().text;return e in g8&&e!==","?"\\ldots\\,":"\\ldots"});$("\\cdots",function(n){var e=n.future().text;return e in g8?"\\@cdots\\,":"\\@cdots"});$("\\dotsb","\\cdots");$("\\dotsm","\\cdots");$("\\dotsi","\\!\\cdots");$("\\dotsx","\\ldots\\,");$("\\DOTSI","\\relax");$("\\DOTSB","\\relax");$("\\DOTSX","\\relax");$("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");$("\\,","\\tmspace+{3mu}{.1667em}");$("\\thinspace","\\,");$("\\>","\\mskip{4mu}");$("\\:","\\tmspace+{4mu}{.2222em}");$("\\medspace","\\:");$("\\;","\\tmspace+{5mu}{.2777em}");$("\\thickspace","\\;");$("\\!","\\tmspace-{3mu}{.1667em}");$("\\negthinspace","\\!");$("\\negmedspace","\\tmspace-{4mu}{.2222em}");$("\\negthickspace","\\tmspace-{5mu}{.277em}");$("\\enspace","\\kern.5em ");$("\\enskip","\\hskip.5em\\relax");$("\\quad","\\hskip1em\\relax");$("\\qquad","\\hskip2em\\relax");$("\\tag","\\@ifstar\\tag@literal\\tag@paren");$("\\tag@paren","\\tag@literal{({#1})}");$("\\tag@literal",n=>{if(n.macros.get("\\df@tag"))throw new pt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});$("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");$("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");$("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");$("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");$("\\newline","\\\\\\relax");$("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var LI=wt(vc["Main-Regular"][84][1]-.7*vc["Main-Regular"][65][1]);$("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+LI+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");$("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+LI+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");$("\\hspace","\\@ifstar\\@hspacer\\@hspace");$("\\@hspace","\\hskip #1\\relax");$("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");$("\\ordinarycolon",":");$("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");$("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');$("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');$("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');$("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');$("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');$("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');$("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');$("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');$("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');$("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');$("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');$("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');$("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');$("","\\dblcolon");$("","\\eqcolon");$("","\\coloneqq");$("","\\eqqcolon");$("","\\Coloneqq");$("\\ratio","\\vcentcolon");$("\\coloncolon","\\dblcolon");$("\\colonequals","\\coloneqq");$("\\coloncolonequals","\\Coloneqq");$("\\equalscolon","\\eqqcolon");$("\\equalscoloncolon","\\Eqqcolon");$("\\colonminus","\\coloneq");$("\\coloncolonminus","\\Coloneq");$("\\minuscolon","\\eqcolon");$("\\minuscoloncolon","\\Eqcolon");$("\\coloncolonapprox","\\Colonapprox");$("\\coloncolonsim","\\Colonsim");$("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");$("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");$("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");$("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");$("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");$("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");$("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");$("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");$("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");$("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");$("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");$("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");$("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");$("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");$("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");$("\\ngeqq","\\html@mathml{\\@ngeqq}{}");$("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");$("\\nleqq","\\html@mathml{\\@nleqq}{}");$("\\nleqslant","\\html@mathml{\\@nleqslant}{}");$("\\nshortmid","\\html@mathml{\\@nshortmid}{}");$("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");$("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");$("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");$("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");$("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");$("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");$("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");$("\\imath","\\html@mathml{\\@imath}{}");$("\\jmath","\\html@mathml{\\@jmath}{}");$("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");$("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");$("","\\llbracket");$("","\\rrbracket");$("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");$("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");$("","\\lBrace");$("","\\rBrace");$("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");$("","\\minuso");$("\\darr","\\downarrow");$("\\dArr","\\Downarrow");$("\\Darr","\\Downarrow");$("\\lang","\\langle");$("\\rang","\\rangle");$("\\uarr","\\uparrow");$("\\uArr","\\Uparrow");$("\\Uarr","\\Uparrow");$("\\N","\\mathbb{N}");$("\\R","\\mathbb{R}");$("\\Z","\\mathbb{Z}");$("\\alef","\\aleph");$("\\alefsym","\\aleph");$("\\Alpha","\\mathrm{A}");$("\\Beta","\\mathrm{B}");$("\\bull","\\bullet");$("\\Chi","\\mathrm{X}");$("\\clubs","\\clubsuit");$("\\cnums","\\mathbb{C}");$("\\Complex","\\mathbb{C}");$("\\Dagger","\\ddagger");$("\\diamonds","\\diamondsuit");$("\\empty","\\emptyset");$("\\Epsilon","\\mathrm{E}");$("\\Eta","\\mathrm{H}");$("\\exist","\\exists");$("\\harr","\\leftrightarrow");$("\\hArr","\\Leftrightarrow");$("\\Harr","\\Leftrightarrow");$("\\hearts","\\heartsuit");$("\\image","\\Im");$("\\infin","\\infty");$("\\Iota","\\mathrm{I}");$("\\isin","\\in");$("\\Kappa","\\mathrm{K}");$("\\larr","\\leftarrow");$("\\lArr","\\Leftarrow");$("\\Larr","\\Leftarrow");$("\\lrarr","\\leftrightarrow");$("\\lrArr","\\Leftrightarrow");$("\\Lrarr","\\Leftrightarrow");$("\\Mu","\\mathrm{M}");$("\\natnums","\\mathbb{N}");$("\\Nu","\\mathrm{N}");$("\\Omicron","\\mathrm{O}");$("\\plusmn","\\pm");$("\\rarr","\\rightarrow");$("\\rArr","\\Rightarrow");$("\\Rarr","\\Rightarrow");$("\\real","\\Re");$("\\reals","\\mathbb{R}");$("\\Reals","\\mathbb{R}");$("\\Rho","\\mathrm{P}");$("\\sdot","\\cdot");$("\\sect","\\S");$("\\spades","\\spadesuit");$("\\sub","\\subset");$("\\sube","\\subseteq");$("\\supe","\\supseteq");$("\\Tau","\\mathrm{T}");$("\\thetasym","\\vartheta");$("\\weierp","\\wp");$("\\Zeta","\\mathrm{Z}");$("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");$("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");$("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");$("\\bra","\\mathinner{\\langle{#1}|}");$("\\ket","\\mathinner{|{#1}\\rangle}");$("\\braket","\\mathinner{\\langle{#1}\\rangle}");$("\\Bra","\\left\\langle#1\\right|");$("\\Ket","\\left|#1\\right\\rangle");var kI=n=>e=>{var t=e.consumeArg().tokens,i=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var u=g=>y=>{n&&(y.macros.set("|",s),r.length&&y.macros.set("\\|",o));var x=g;if(!g&&r.length){var _=y.future();_.text==="|"&&(y.popToken(),x=!0)}return{tokens:x?r:i,numArgs:0}};e.macros.set("|",u(!1)),r.length&&e.macros.set("\\|",u(!0));var f=e.consumeArg().tokens,d=e.expandTokens([...a,...f,...t]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};$("\\bra@ket",kI(!1));$("\\bra@set",kI(!0));$("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");$("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");$("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");$("\\angln","{\\angl n}");$("\\blue","\\textcolor{##6495ed}{#1}");$("\\orange","\\textcolor{##ffa500}{#1}");$("\\pink","\\textcolor{##ff00af}{#1}");$("\\red","\\textcolor{##df0030}{#1}");$("\\green","\\textcolor{##28ae7b}{#1}");$("\\gray","\\textcolor{gray}{#1}");$("\\purple","\\textcolor{##9d38bd}{#1}");$("\\blueA","\\textcolor{##ccfaff}{#1}");$("\\blueB","\\textcolor{##80f6ff}{#1}");$("\\blueC","\\textcolor{##63d9ea}{#1}");$("\\blueD","\\textcolor{##11accd}{#1}");$("\\blueE","\\textcolor{##0c7f99}{#1}");$("\\tealA","\\textcolor{##94fff5}{#1}");$("\\tealB","\\textcolor{##26edd5}{#1}");$("\\tealC","\\textcolor{##01d1c1}{#1}");$("\\tealD","\\textcolor{##01a995}{#1}");$("\\tealE","\\textcolor{##208170}{#1}");$("\\greenA","\\textcolor{##b6ffb0}{#1}");$("\\greenB","\\textcolor{##8af281}{#1}");$("\\greenC","\\textcolor{##74cf70}{#1}");$("\\greenD","\\textcolor{##1fab54}{#1}");$("\\greenE","\\textcolor{##0d923f}{#1}");$("\\goldA","\\textcolor{##ffd0a9}{#1}");$("\\goldB","\\textcolor{##ffbb71}{#1}");$("\\goldC","\\textcolor{##ff9c39}{#1}");$("\\goldD","\\textcolor{##e07d10}{#1}");$("\\goldE","\\textcolor{##a75a05}{#1}");$("\\redA","\\textcolor{##fca9a9}{#1}");$("\\redB","\\textcolor{##ff8482}{#1}");$("\\redC","\\textcolor{##f9685d}{#1}");$("\\redD","\\textcolor{##e84d39}{#1}");$("\\redE","\\textcolor{##bc2612}{#1}");$("\\maroonA","\\textcolor{##ffbde0}{#1}");$("\\maroonB","\\textcolor{##ff92c6}{#1}");$("\\maroonC","\\textcolor{##ed5fa6}{#1}");$("\\maroonD","\\textcolor{##ca337c}{#1}");$("\\maroonE","\\textcolor{##9e034e}{#1}");$("\\purpleA","\\textcolor{##ddd7ff}{#1}");$("\\purpleB","\\textcolor{##c6b9fc}{#1}");$("\\purpleC","\\textcolor{##aa87ff}{#1}");$("\\purpleD","\\textcolor{##7854ab}{#1}");$("\\purpleE","\\textcolor{##543b78}{#1}");$("\\mintA","\\textcolor{##f5f9e8}{#1}");$("\\mintB","\\textcolor{##edf2df}{#1}");$("\\mintC","\\textcolor{##e0e5cc}{#1}");$("\\grayA","\\textcolor{##f6f7f7}{#1}");$("\\grayB","\\textcolor{##f0f1f2}{#1}");$("\\grayC","\\textcolor{##e3e5e6}{#1}");$("\\grayD","\\textcolor{##d6d8da}{#1}");$("\\grayE","\\textcolor{##babec2}{#1}");$("\\grayF","\\textcolor{##888d93}{#1}");$("\\grayG","\\textcolor{##626569}{#1}");$("\\grayH","\\textcolor{##3b3e40}{#1}");$("\\grayI","\\textcolor{##21242c}{#1}");$("\\kaBlue","\\textcolor{##314453}{#1}");$("\\kaGreen","\\textcolor{##71B307}{#1}");var OI={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Qhe{constructor(e,t,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Zhe(Khe,t.macros),this.mode=i,this.stack=[]}feed(e){this.lexer=new FN(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,i,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:t,end:i}=this.consumeArg());return this.pushToken(new nl("EOF",i.loc)),this.pushTokens(r),new nl("",mo.range(t,i))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],i=e&&e.length>0;i||this.consumeSpaces();var r=this.future(),a,s=0,o=0;do{if(a=this.popToken(),t.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new pt("Extra }",a)}else if(a.text==="EOF")throw new pt("Unexpected end of input in a macro argument, expected '"+(e&&i?e[o]:"}")+"'",a);if(e&&i)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){t.splice(-o,o);break}}else o=0}while(s!==0||i);return r.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:r,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new pt("The length of delimiters doesn't match the number of args!");for(var i=t[0],r=0;r<i.length;r++){var a=this.popToken();if(i[r]!==a.text)throw new pt("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(t&&t[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new pt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),i=t.text,r=t.noexpand?null:this._getExpansion(i);if(r==null||e&&r.unexpandable){if(e&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new pt("Undefined control sequence: "+i);return this.pushToken(t),!1}this.countExpansion(1);var a=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var u=a[o];if(u.text==="#"){if(o===0)throw new pt("Incomplete placeholder at end of macro body",u);if(u=a[--o],u.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(u.text))a.splice(o,2,...s[+u.text-1]);else throw new pt("Not a valid argument number",u)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new nl(e)]):void 0}expandTokens(e){var t=[],i=this.stack.length;for(this.pushTokens(e);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(i=>i.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var i=this.lexer.catcodes[e];if(i!=null&&i!==13)return}var r=typeof t=="function"?t(this):t;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var s=r.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new FN(r,this.settings),u=[],f=o.lex();f.text!=="EOF";)u.push(f),f=o.lex();u.reverse();var d={tokens:u,numArgs:a};return d}return r}isDefined(e){return this.macros.has(e)||Jh.hasOwnProperty(e)||Ji.math.hasOwnProperty(e)||Ji.text.hasOwnProperty(e)||OI.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:Jh.hasOwnProperty(e)&&!Jh[e].primitive}}var GN=/^[]/,Zb=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),WM={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},jN={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class jS{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Qhe(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new pt("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new nl("}")),this.gullet.pushTokens(e);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,i}parseExpression(e,t){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(jS.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&Jh[r.text]&&Jh[r.text].infix)break;var a=this.parseAtom(t);if(a){if(a.type==="internal")continue}else break;i.push(a)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(e){for(var t=-1,i,r=0;r<e.length;r++)if(e[r].type==="infix"){if(t!==-1)throw new pt("only one infix operator per group",e[r].token);t=r,i=e[r].replaceWith}if(t!==-1&&i){var a,s,o=e.slice(0,t),u=e.slice(t+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var f;return i==="\\\\abovefrac"?f=this.callFunction(i,[a,e[t],s],[]):f=this.callFunction(i,[a,s],[]),[f]}else return e}handleSupSubscript(e){var t=this.fetch(),i=t.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new pt("Expected group after '"+i+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],i=0;i<e.length;i++)t.push({type:"textord",mode:"text",text:e[i]});var r={type:"text",mode:this.mode,body:t},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var t=this.parseGroup("atom",e);if(t?.type==="internal"||this.mode==="text")return t;for(var i,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(t&&t.type==="op"){var s=a.text==="\\limits";t.limits=s,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=a.text==="\\limits");else throw new pt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(i)throw new pt("Double superscript",a);i=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new pt("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(i)throw new pt("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},u=[o];for(this.consume();this.fetch().text==="'";)u.push(o),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:u}}else if(Zb[a.text]){var f=GN.test(a.text),d=[];for(d.push(new nl(Zb[a.text])),this.consume();;){var g=this.fetch().text;if(!Zb[g]||GN.test(g)!==f)break;d.unshift(new nl(Zb[g])),this.consume()}var y=this.subparse(d);f?r={type:"ordgroup",mode:"math",body:y}:i={type:"ordgroup",mode:"math",body:y}}else break}return i||r?{type:"supsub",mode:this.mode,base:t,sup:i,sub:r}:t}parseFunction(e,t){var i=this.fetch(),r=i.text,a=Jh[r];if(!a)return null;if(this.consume(),t&&t!=="atom"&&!a.allowedInArgument)throw new pt("Got function '"+r+"' with no arguments"+(t?" as "+t:""),i);if(this.mode==="text"&&!a.allowedInText)throw new pt("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&a.allowedInMath===!1)throw new pt("Can't use function '"+r+"' in math mode",i);var{args:s,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,s,o,i,e)}callFunction(e,t,i,r,a){var s={funcName:e,parser:this,token:r,breakOnTokenText:a},o=Jh[e];if(o&&o.handler)return o.handler(s,t,i);throw new pt("No function handler for "+e)}parseArguments(e,t){var i=t.numArgs+t.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],a=[],s=0;s<i;s++){var o=t.argTypes&&t.argTypes[s],u=s<t.numOptionalArgs;(t.primitive&&o==null||t.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var f=this.parseGroupOfType("argument to '"+e+"'",o,u);if(u)a.push(f);else if(f!=null)r.push(f);else throw new pt("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,t,i){switch(t){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,t);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",i);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(i)throw new pt("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new pt("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new pt("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var i=this.gullet.scanArgument(t);if(i==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(e,t){for(var i=this.fetch(),r=i,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)r=s,a+=r.text,this.consume();if(a==="")throw new pt("Invalid "+t+": '"+i.text+"'",i);return i.range(r,a)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var i=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!i)throw new pt("Invalid color: '"+t.text+"'",t);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,i=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new pt("Invalid size: '"+t.text+"'",t);var a={number:+(r[1]+r[2]),unit:r[3]};if(!qB(a))throw new pt("Invalid unit: '"+a.unit+"'",t);return{type:"size",mode:this.mode,value:a,isBlank:i}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var i=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(e,t){var i=this.gullet.scanArgument(e);if(i==null)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:a};return t&&this.switchMode(r),s}parseGroup(e,t){var i=this.fetch(),r=i.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var s=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:mo.range(i,u),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(t,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!OI.hasOwnProperty(r)){if(this.settings.throwOnError)throw new pt("Undefined control sequence: "+r,i);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var t=e.length-1,i=0;i<t;++i){var r=e[i],a=r.text;a==="-"&&e[i+1].text==="-"&&(i+1<t&&e[i+2].text==="-"?(e.splice(i,3,{type:"textord",mode:"text",loc:mo.range(r,e[i+2]),text:"---"}),t-=2):(e.splice(i,2,{type:"textord",mode:"text",loc:mo.range(r,e[i+1]),text:"--"}),t-=1)),(a==="'"||a==="`")&&e[i+1].text===a&&(e.splice(i,2,{type:"textord",mode:"text",loc:mo.range(r,e[i+1]),text:a+a}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var i=t.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new pt(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}jN.hasOwnProperty(t[0])&&!Ji[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=jN[t[0]]+t.slice(1));var a=Whe.exec(t);a&&(t=t.substring(0,a.index),t==="i"?t="":t==="j"&&(t=""));var s;if(Ji[this.mode][t]){this.settings.strict&&this.mode==="math"&&wA.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var o=Ji[this.mode][t].group,u=mo.range(e),f;if(Ife.hasOwnProperty(o)){var d=o;f={type:"atom",mode:this.mode,family:d,loc:u,text:t}}else f={type:o,mode:this.mode,loc:u,text:t};s=f}else if(t.charCodeAt(0)>=128)this.settings.strict&&(jB(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:mo.range(e),text:t};else return null;if(this.consume(),a)for(var g=0;g<a[0].length;g++){var y=a[0][g];if(!WM[y])throw new pt("Unknown accent ' "+y+"'",e);var x=WM[y][this.mode]||WM[y].text;if(!x)throw new pt("Accent "+y+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:mo.range(e),label:x,isStretchy:!1,isShifty:!0,base:s}}return s}}jS.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var y8=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new jS(e,t);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new pt("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new nl("\\df@tag")])}]}return r},UI=function(e,t,i){t.textContent="";var r=x8(e,i).toNode();t.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),UI=function(){throw new pt("KaTeX doesn't work in quirks mode.")});var Jhe=function(e,t){var i=x8(e,t).toMarkup();return i},$he=function(e,t){var i=new $7(t);return y8(e,i)},PI=function(e,t,i){if(i.throwOnError||!(e instanceof pt))throw e;var r=Oe.makeSpan(["katex-error"],[new Hl(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+i.errorColor),r},x8=function(e,t){var i=new $7(t);try{var r=y8(e,i);return lhe(r,e,i)}catch(a){return PI(a,e,i)}},e0e=function(e,t){var i=new $7(t);try{var r=y8(e,i);return uhe(r,e,i)}catch(a){return PI(a,e,i)}},t0e="0.16.27",n0e={Span:s2,Anchor:n8,SymbolNode:Hl,SvgNode:Ff,PathNode:d0,LineNode:MA},qN={version:t0e,render:UI,renderToString:Jhe,ParseError:pt,SETTINGS_SCHEMA:x4,__parse:$he,__renderToDomTree:x8,__renderToHTMLTree:e0e,__setFontMetrics:Nfe,__defineSymbol:k,__defineFunction:Ut,__defineMacro:$,__domTree:n0e};const i0e={};function r0e(n){const e=this,t=n||i0e,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),a=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),s=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(ife(t)),a.push(Zce()),s.push(Kce(t))}const XN=/[#.]/g;function a0e(n,e){const t=n||"",i={};let r=0,a,s;for(;r<t.length;){XN.lastIndex=r;const o=XN.exec(t),u=t.slice(r,o?o.index:t.length);u&&(a?a==="#"?i.id=u:Array.isArray(i.className)?i.className.push(u):i.className=[u]:s=u,r+=u.length),o&&(a=o[0],r++)}return{type:"element",tagName:s||e||"div",properties:i,children:[]}}function BI(n,e,t){const i=t?u0e(t):void 0;function r(a,s,...o){let u;if(a==null){u={type:"root",children:[]};const f=s;o.unshift(f)}else{u=a0e(a,e);const f=u.tagName.toLowerCase(),d=i?i.get(f):void 0;if(u.tagName=d||f,s0e(s))o.unshift(s);else for(const[g,y]of Object.entries(s))o0e(n,u.properties,g,y)}for(const f of o)DA(u.children,f);return u.type==="element"&&u.tagName==="template"&&(u.content={type:"root",children:u.children},u.children=[]),u}return r}function s0e(n){if(n===null||typeof n!="object"||Array.isArray(n))return!0;if(typeof n.type!="string")return!1;const e=n,t=Object.keys(n);for(const i of t){const r=e[i];if(r&&typeof r=="object"){if(!Array.isArray(r))return!0;const a=r;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in n&&Array.isArray(n.children))}function o0e(n,e,t,i){const r=GP(n,t);let a;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;a=i}else typeof i=="boolean"?a=i:typeof i=="string"?r.spaceSeparated?a=wD(i):r.commaSeparated?a=vD(i):r.commaOrSpaceSeparated?a=wD(vD(i).join(" ")):a=WN(r,r.property,i):Array.isArray(i)?a=[...i]:a=r.property==="style"?l0e(i):String(i);if(Array.isArray(a)){const s=[];for(const o of a)s.push(WN(r,r.property,o));a=s}r.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[r.property]=a}}function DA(n,e){if(e!=null)if(typeof e=="number"||typeof e=="string")n.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const t of e)DA(n,t);else if(typeof e=="object"&&"type"in e)e.type==="root"?DA(n,e.children):n.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function WN(n,e,t){if(typeof t=="string"){if(n.number&&t&&!Number.isNaN(Number(t)))return Number(t);if((n.boolean||n.overloadedBoolean)&&(t===""||Rv(t)===Rv(e)))return!0}return t}function l0e(n){const e=[];for(const[t,i]of Object.entries(n))e.push([t,i].join(": "));return e.join("; ")}function u0e(n){const e=new Map;for(const t of n)e.set(t.toLowerCase(),t);return e}const c0e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],f0e=BI(jP,"div"),h0e=BI(LS,"g",c0e),YM={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function d0e(n,e){return II(n,{})||{type:"root",children:[]}}function II(n,e){const t=p0e(n,e);return t&&e.afterTransform&&e.afterTransform(n,t),t}function p0e(n,e){switch(n.nodeType){case 1:return x0e(n,e);case 3:return g0e(n);case 8:return y0e(n);case 9:return YN(n,e);case 10:return m0e();case 11:return YN(n,e);default:return}}function YN(n,e){return{type:"root",children:FI(n,e)}}function m0e(){return{type:"doctype"}}function g0e(n){return{type:"text",value:n.nodeValue||""}}function y0e(n){return{type:"comment",value:n.nodeValue||""}}function x0e(n,e){const t=n.namespaceURI,i=t===YM.svg?h0e:f0e,r=t===YM.html?n.tagName.toLowerCase():n.tagName,a=t===YM.html&&r==="template"?n.content:n,s=n.getAttributeNames(),o={};let u=-1;for(;++u<s.length;)o[s[u]]=n.getAttribute(s[u])||"";return i(r,o,FI(a,e))}function FI(n,e){const t=n.childNodes,i=[];let r=-1;for(;++r<t.length;){const a=II(t[r],e);a!==void 0&&i.push(a)}return i}new DOMParser;function v0e(n,e){const t=b0e(n);return d0e(t)}function b0e(n){const e=document.createElement("template");return e.innerHTML=n,e.content}const ZN=(function(n,e,t){const i=i2(t);if(!n||!n.type||!n.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=n.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<n.children.length;)if(i(n.children[e],e,n))return n.children[e]}),_p=(function(n){if(n==null)return M0e;if(typeof n=="string")return S0e(n);if(typeof n=="object")return _0e(n);if(typeof n=="function")return v8(n);throw new Error("Expected function, string, or array as `test`")});function _0e(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=_p(n[t]);return v8(i);function i(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function S0e(n){return v8(e);function e(t){return t.tagName===n}}function v8(n){return e;function e(t,i,r){return!!(w0e(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function M0e(n){return!!(n&&typeof n=="object"&&"type"in n&&n.type==="element"&&"tagName"in n&&typeof n.tagName=="string")}function w0e(n){return n!==null&&typeof n=="object"&&"type"in n&&"tagName"in n}const KN=/\n/g,QN=/[\t ]+/g,NA=_p("br"),JN=_p(z0e),A0e=_p("p"),$N=_p("tr"),T0e=_p(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",N0e,L0e]),VI=_p(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function E0e(n,e){const t=e||{},i="children"in n?n.children:[],r=VI(n),a=jI(n,{whitespace:t.whitespace||"normal"}),s=[];(n.type==="text"||n.type==="comment")&&s.push(...GI(n,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<i.length;)s.push(...HI(i[o],n,{whitespace:a,breakBefore:o?void 0:r,breakAfter:o<i.length-1?NA(i[o+1]):r}));const u=[];let f;for(o=-1;++o<s.length;){const d=s[o];typeof d=="number"?f!==void 0&&d>f&&(f=d):d&&(f!==void 0&&f>-1&&u.push(`
`.repeat(f)||" "),f=-1,u.push(d))}return u.join("")}function HI(n,e,t){return n.type==="element"?C0e(n,e,t):n.type==="text"?t.whitespace==="normal"?GI(n,t):R0e(n):[]}function C0e(n,e,t){const i=jI(n,t),r=n.children||[];let a=-1,s=[];if(T0e(n))return s;let o,u;for(NA(n)||$N(n)&&ZN(e,n,$N)?u=`
`:A0e(n)?(o=2,u=2):VI(n)&&(o=1,u=1);++a<r.length;)s=s.concat(HI(r[a],n,{whitespace:i,breakBefore:a?void 0:o,breakAfter:a<r.length-1?NA(r[a+1]):u}));return JN(n)&&ZN(e,n,JN)&&s.push("	"),o&&s.unshift(o),u&&s.push(u),s}function GI(n,e){const t=String(n.value),i=[],r=[];let a=0;for(;a<=t.length;){KN.lastIndex=a;const u=KN.exec(t),f=u&&"index"in u?u.index:t.length;i.push(D0e(t.slice(a,f).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?e.breakBefore:!0,f===t.length?e.breakAfter:!0)),a=f+1}let s=-1,o;for(;++s<i.length;)i[s].charCodeAt(i[s].length-1)===8203||s<i.length-1&&i[s+1].charCodeAt(0)===8203?(r.push(i[s]),o=void 0):i[s]?(typeof o=="number"&&r.push(o),r.push(i[s]),o=0):(s===0||s===i.length-1)&&r.push(0);return r}function R0e(n){return[String(n.value)]}function D0e(n,e,t){const i=[];let r=0,a;for(;r<n.length;){QN.lastIndex=r;const s=QN.exec(n);a=s?s.index:n.length,!r&&!a&&s&&!e&&i.push(""),r!==a&&i.push(n.slice(r,a)),r=s?a+s[0].length:a}return r!==a&&!t&&i.push(""),i.join(" ")}function jI(n,e){if(n.type==="element"){const t=n.properties||{};switch(n.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.wrap?"pre-wrap":"pre";case"td":case"th":return t.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function N0e(n){return!!(n.properties||{}).hidden}function z0e(n){return n.tagName==="td"||n.tagName==="th"}function L0e(n){return n.tagName==="dialog"&&!(n.properties||{}).open}const k0e={},O0e=[];function U0e(n){const e=n||k0e;return function(t,i){W7(t,"element",function(r,a){const s=Array.isArray(r.properties.className)?r.properties.className:O0e,o=s.includes("language-math"),u=s.includes("math-display"),f=s.includes("math-inline");let d=u;if(!o&&!u&&!f)return;let g=a[a.length-1],y=r;if(r.tagName==="code"&&o&&g&&g.type==="element"&&g.tagName==="pre"&&(y=g,g=a[a.length-2],d=!0),!g)return;const x=E0e(y,{whitespace:"pre"});let _;try{_=qN.renderToString(x,{...e,displayMode:d,throwOnError:!0})}catch(w){const S=w,E=S.name.toLowerCase();i.message("Could not render math with KaTeX",{ancestors:[...a,r],cause:S,place:r.position,ruleId:E,source:"rehype-katex"});try{_=qN.renderToString(x,{...e,displayMode:d,strict:"ignore",throwOnError:!1})}catch{_=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(w)},children:[{type:"text",value:x}]}]}}typeof _=="string"&&(_=v0e(_).children);const M=g.children.indexOf(y);return g.children.splice(M,1,..._),yB})}}const P0e=n=>n.replace(/<!--[\s\S]*?-->/g,"");di.registerPlugin(bn);const B0e={"materials-agents-exploration":{title:"Building Agents That Do Materials Science",date:"2025-01-25",content:`What if you could just tell an AI agent "find me a better battery material" and it actually figures out how to do it? Not just suggest some papers or write some code, but actually plan the simulations, run them, check if they converged, compare results, decide what to try next, and iterate until it finds something useful.

That's the question I've been exploring with a project I'm calling [materials_agents](https://github.com/LauraGomezjurado/materials_agents). It's a proof of concept system where LLM-based agents orchestrate real materials science workflows. The idea is simple: instead of manually chaining together structure generation, simulation setup, convergence monitoring, and optimization steps, what if an agent could handle all of that?

## The Problem With Materials Discovery

Materials discovery workflows are messy. You start with a goal like "find a stable crystal structure" or "optimize this material's band gap." Then you need to:

1. Generate candidate structures (maybe FCC, maybe BCC, maybe something more exotic)
2. Set up simulations (DFT calculations, molecular dynamics, whatever)
3. Monitor convergence (did the energy actually converge? Is the structure stable?)
4. Compare results (which structure is most stable? What properties does it have?)
5. Decide what to try next (should we explore this parameter space? Try a different structure?)
6. Iterate until you have an answer

Each step can be automated individually, but stringing them together into a coherent campaign? That's still expert-intensive and brittle. One failed calculation, one convergence issue, one weird result, and the whole workflow breaks down.

The vision is an agent that can handle all of this end to end. You give it a natural language goal, and it figures out the rest.

## What I Built

The system has a few key pieces:

**A planner agent** that uses Claude to understand natural language goals and generate multi-step workflows. Tell it "find the most stable semiconductor structure" and it breaks that down into concrete steps: generate silicon in diamond lattice, generate germanium in diamond lattice, calculate formation energies, compare results, etc.

**Specialized agents** for different tasks:
- A structure agent that can generate 30 or more different crystal structures (FCC, BCC, diamond, rocksalt, zincblende, perovskite, surfaces, supercells)
- A simulation agent that runs energy calculations using ML potentials (M3GNet, CHGNet) or fallback to simpler methods (EMT, Morse)
- An analysis agent that extracts properties, checks convergence, compares results
- A Bayesian optimizer that uses Gaussian Process surrogates to intelligently explore parameter spaces
- A property predictor that estimates band gaps, bulk moduli, formation energies

The planner coordinates all of these. It's like having a research assistant that actually understands what you're trying to do and can execute the plan.

## Why This Is Interesting

There's a lot of work on AI agents for science, but most of it is either:
- Very narrow (one specific task, one specific workflow)
- Very abstract (proofs of concept that don't actually run real simulations)
- Very brittle (works great until something unexpected happens)

This project tries to bridge that gap. It's modular enough that you can swap in different backends (start with ML potentials, upgrade to real DFT later). It's robust enough to handle common failure modes (convergence issues, missing data, weird results). And it's flexible enough to handle different types of goals (optimization, comparison, exploration).

The key insight is that materials workflows have a natural hierarchical structure. You have high-level goals (find stable structure), mid-level tasks (generate structures, run simulations), and low-level operations (calculate energy, extract properties). An LLM planner is actually pretty good at reasoning about this hierarchy, especially when you give it specialized tools for each level.

## What Actually Works

The system can handle a surprising range of tasks:

**Lattice constant optimization**: The Bayesian optimizer can suggest the next parameter to try based on uncertainty, using acquisition functions like expected improvement or upper confidence bound. It's not just random search, it's actually reasoning about where to explore next.

**Property prediction**: The property predictor can estimate band gaps, bulk moduli, and formation energies from crystal structures. It uses learned representations (crystal features) rather than just heuristics.

**Comparative analysis**: Give it multiple materials and it can compare their properties, check which is most stable, identify trends. The analysis agent extracts the relevant properties and the planner interprets what they mean.

**Natural language planning**: This is where it gets interesting. You can say things like "find optimal catalyst for CO2 reduction" and the planner will generate a multi-step workflow. It's not perfect, but it's way better than manually scripting everything.

## What Doesn't Work (Yet)

This is still a proof of concept. For real materials discovery, you'd need:

**Real DFT backends**: Right now it uses ML potentials (M3GNet, CHGNet) which are fast but not as accurate as full DFT. For production, you'd want to integrate with VASP, Quantum ESPRESSO, or similar.

**HPC integration**: Materials simulations run on clusters. You'd need to integrate with schedulers like Slurm or PBS, handle job submission, monitor queue status, etc.

**Persistent storage**: Right now everything is in-memory. You'd want a database to track calculation history, cache results, enable resumable workflows.

**Better error recovery**: When a calculation fails, the agent should be able to diagnose why (convergence issue? Memory problem? Invalid structure?) and try alternatives.

**Larger material databases**: 30 or more materials is a good start, but real discovery needs access to Materials Project, OQMD, or similar databases.

## The Bigger Picture

This connects to a broader vision of agentic science. The idea is that as LLMs get better at reasoning and planning, and as scientific tools get better APIs, we can build systems that actually do science autonomously. Not just assist scientists, but actually run experiments, analyze results, form hypotheses, test them.

Materials science is a good testbed because:
- The workflows are well-defined (structure  simulation  analysis  decision)
- The tools are mature (DFT codes, structure databases, property predictors)
- The problems are important (batteries, catalysts, semiconductors)
- The failure modes are manageable (convergence issues are common but solvable)

But the same principles could apply to other domains. Drug discovery, protein design, climate modeling, whatever. The key is having agents that can reason about scientific workflows, not just execute fixed scripts.

## What I Learned

Building this made me realize how much of materials science is actually workflow orchestration. The hard part isn't running a single DFT calculation (that's well-automated). The hard part is deciding which calculations to run, in what order, how to interpret the results, what to try next.

LLMs are surprisingly good at this kind of reasoning. They can understand natural language goals, break them down into steps, handle edge cases, interpret results. The challenge is giving them the right tools and making sure they use them correctly.

The modular architecture helps a lot. Each agent has a clear interface, so you can swap implementations without breaking the whole system. Start with ML potentials, upgrade to DFT later. Start with simple structure generation, add more sophisticated methods later.

The evaluation framework is also crucial. You need to be able to test whether the agent is actually doing the right thing, not just generating plausible-looking outputs. I built evaluation metrics (MAE, RMSE, R) and benchmark datasets to check this.

## Where This Could Go

The obvious next steps are:
- Integrate real DFT backends (VASP, QE)
- Add HPC job scheduling
- Expand the material database
- Add more sophisticated optimization methods
- Test on real discovery problems (not just proof of concept)

But the more interesting direction is making the agents more autonomous. Right now the planner generates a plan and executes it. What if it could also:
- Detect when results are unexpected and replan?
- Learn from past workflows to improve future ones?
- Collaborate with other agents (or human scientists)?
- Explain its reasoning in ways that humans can verify?

The vision is agents that don't just execute workflows, but actually understand what they're doing and why. That's still far off, but this project is a step in that direction.

## Try It Yourself

The code is on [GitHub](https://github.com/LauraGomezjurado/materials_agents). It's set up to run with minimal dependencies (Python 3.9 or later, pymatgen, ASE, anthropic). You can try the full demo with:

\`\`\`bash
python examples/demo_agentic_workflow.py
\`\`\`

This runs through a complete workflow: planning, structure generation, simulation, analysis, optimization, result interpretation. It's not production-ready, but it's a working proof of concept.

The system is designed to be extensible. Want to add a new structure type? Add it to the structure agent. Want to use a different optimizer? Swap in a different implementation. Want to add new properties? Extend the property predictor.

## Final Thoughts

This is still early work. The system works for proof of concept tasks, but real materials discovery is harder. Still, I think the approach is promising. LLM-based agents can reason about scientific workflows in ways that traditional automation can't. They can handle natural language goals, adapt to unexpected situations, interpret results.

The key is making sure they're actually doing science, not just generating plausible-looking outputs. That requires good evaluation, clear interfaces, robust error handling. But if we get that right, I think agentic science could be transformative.

Not because it replaces scientists, but because it lets scientists focus on the interesting parts: forming hypotheses, interpreting results, making connections. The agent handles the workflow orchestration, the scientist handles the science.

That's the vision anyway. We'll see how far we can take it.`},"subliminal-preference-transfer":{title:"Subliminal Preference Transfer in LLMs: When Models Learn More Than We Intend",date:"2025-12-01",content:`Aligning language models with human preferences seems straightforward: make them helpful, safe, honest, and able to follow instructions. In reality, though, preference data is much messier. Data labelers bring their own backgrounds, writing styles, and beliefs. Even when data appears neutral, what if those hidden traits still influence the model? (this possibility is fascinating!).

Here is a brief summary of a study I conducted at Stanford with Priyank Shethia. We explored subliminal preference transfer in large language models. Our main question was:

Can a model learn demographic preferences from neutral conversations, and do those preferences appear in unrelated areas?

These days, most people steer language models using things like supervised fine-tuning, reinforcement learning from human feedback, or Direct Preference Optimization. But its still not clear how much extra, group-specific information gets picked up along the way (stuff that isnt part of the main alignment goal).

We test three hypotheses:

- **H1.** Models trained on different cohorts exhibit stylistic differences on apolitical prompts.

- **H2.** Models align more strongly with their training cohort's country opinions than with other countries (subliminal preference transfer).

- **H3.** Cohort membership is recoverable from stylistic features alone.


Our code, trained models, and results are available in the [GitHub repository](https://github.com/LauraGomezjurado/subliminal_learning_rlhf), with pre-trained model checkpoints for evaluation.


## Key results


We found subtle style differences connected to cohort on neutral prompts. The overall stylistic gap between US-trained and UK-trained models is measurable but small (JensenShannon divergence 0.1474), and appears mainly in formatting and verbosity rather than major style changes.

We did not find strong evidence that models transfer country-specific opinions. On GlobalOpinionsQA, models do not consistently align better with their own training country, and all confidence intervals for own-country advantage include zero.

It is only weakly possible to identify which cohort trained a model by examining its writing style. A logistic regression using 22 stylometric features achieved 52.67%  9.57% accuracy, which is just above chance and not consistent across tests.

Mechanistically, differences between cohorts appear late in the model and are low-dimensional. US and UK models are very similar in early and middle layers, but diverge more in later layers. At layer 18, one main difference is closely related to punctuation and structure features.

## Why This Matters

This issue is not only academic. As AI is used worldwide, it is important to consider how alignment data might shape model behavior in unexpected ways, especially if those changes are linked to certain groups. This has implications for fairness, safety, and trust.

Recent work from Anthropic showed that a models behavioral trait (bias, stylistic preference) can transfer to another model through semantically neutral data such as numeric sequences, even after aggressive filtering. In their setup, a teacher model is trained to have a hidden preference for owls. They then generate a dataset of numbers from the teacher, filter it aggressively for semantics, and train a student model on that numeric dataset. The student still appears to pick up the owl preference, suggesting a non-semantic channel of trait transmission that they call subliminal learning (Cloud et al., 2025).

More generally, deep models often exploit shortcut signals: features that are predictive in the training data but not causally related to the intended task (Geirhos et al., 2020). In NLP, spurious lexical cues can drive success without semantic reasoning (Gururangan et al., 2018; McCoy et al., 2019). From a causal perspective, artifacts of this kind arise through confounding: a third variable (for example, rater cohort) influences both the training signal (which completions are preferred) and the learned behavior, creating non-causal correlations (Pearl, 2009; Hernn and Robins, 2020).
 
In preference alignment, if the rater cohort correlates with stylistic idiosyncrasies, models may internalize cohort-linked traits without learning the intended alignment signal.

There is also evidence that ideological orientation surfaces in style. Conservative language favors noun-based constructions (Cichocka et al., 2016), and ideology is inferable from non-political social media text (Kurnaz and Hale, 2022; Preoiuc-Pietro et al., 2017). That implies identity-linked signals permeate neutral contexts, providing a channel for rater traits to imprint during alignment.

The gap is that, while subliminal learning exists for model-to-model transfer and RLHF can alter behavior, we do not have a systematic test of whether annotator traits are embedded in aligned models when training content is neutral. We try to bridge model subliminal learning and human ideological signal research by treating preference data as a channel for non-task-related human attributes.

Here is a more concrete way to think about it:

Imagine training a model using conversations from users in the United States, United Kingdom, Chile, and Mexico. These conversations are neutral, with no political opinions or controversial topicsjust regular dialogue patterns and preferences.

Now, imagine that same model is asked about unrelated topics, but it starts giving answers that reflect the cultural values of the group it was trained on. This happens not because it was instructed to do so, but because it picked up those preferences from the way people communicate.

If this effect were strong and consistent, it would have important consequences for several areas:

* AI safety: understanding unintended learning mechanisms.

* Fairness: avoiding demographic specific biases that emerge indirectly.

* Deployment: knowing what models learn beyond their explicit training objectives.

* Trust: being transparent about how training data shapes behavior.

## Experiment design

We use Direct Preference Optimization (DPO), a method that fine tunes language models to prefer certain responses over others based on human feedback. Unlike traditional reinforcement learning from human feedback, DPO directly optimizes the policy without training a separate reward model.

Traditional reinforcement learning from human feedback typically involves training a reward model on human preferences, then using that reward model to guide policy optimization, often across multiple stages that can be unstable. DPO simplifies this by directly optimizing the model to increase the likelihood of chosen responses over rejected ones, using a single stage training procedure with clearer theoretical guarantees.

### Data Preparation

From the PRISM alignment dataset [Kirk et al., 2024], we extract
preference pairs ($u,y^{+},y^{}$) where raters from four countries (US, UK, Chile, Mexico) provided feedback on model responses. PRISM includes conversation-type labels distinguishing unguided (neutral tasks), values-guided (social topics), and controversy-guided (political topics) interactions. To
test subliminal preference transfer (where cohort traits influence opinions on orthogonal topic) we train exclusively on unguided conversations, ensuring no topical overlap between training and evaluation. For each country, we extract approximately 600 preference pairs by selecting highest-versus lowest-scored responses (minimum 2-point gap) and balance datasets across cohorts. Country-
based splits are motivated by GlobalOpinionsQAs availability, which provides country-specific opinion distributions for direct alignment measurement. The critical constraint: **only neutral conversations** were used. No explicit opinions, no controversial topics. Just conversational patterns and implicit preferences.

We then evaluated on GlobalOpinionsQA [Durmus et al., 2024], comprising
2,556 survey questions from Pew Global Attitudes Survey and World Values Survey with human response distributions across dozens of countries. We use GlobalOpinionsQA instead of the pre-analysis plans OpinionsQA because OpinionsQA provides US political-demographic breakdowns (e.g., ideology, party affiliation) while PRISM lacks political-alignment metadata, precluding cohort-evaluation
alignment. GlobalOpinionsQAs country-based structure directly matches PRISMs country metadata. Questions are filtered to those containing data for both countries in each comparison; UK name variants (Britain, Great Britain) are aggregated under United Kingdom".

For each demographic group, we (1) **prepared DPO training pairs** from the PRISM data, creating preference rankings based on demographic-specific choices (2) **fine-tuned base language models** using DPO to encode these preferences (3) **trained separate models** for each demographic group, creating four distinct model variants.

**Technical Setup**: We initialized from Qwen2.5-0.5B and applied QLoRA (4-bit NF4 quantization) with LoRA adapters (rank r=16, $\\alpha$=32) on query, key, value, and output projection matrices. Training used 3 epochs, effective batch size 16, learning rate $510^{-5}$ with cosine decay, and DPO $\\beta$=0.1. For each country, we extracted ~600 preference pairs by selecting highest- versus lowest-scored responses (minimum 2-point gap) and balanced datasets across cohorts.

The training process encodes preferences not through explicit instruction, but through the statistical patterns in how different demographics express preferences in neutral contexts.

## How Preferences Are Encoded

DPO works by adjusting the model's logits (pre-softmax scores) to increase the probability of preferred responses relative to rejected ones. The optimization objective is:

$$
\\begin{aligned}
L_{\\text{DPO}} = - \\log\\left(\\sigma\\left(\\beta \\left(\\log \\pi_{\\theta}(y_w | x) - \\log \\pi_{\\text{ref}}(y_w | x) - \\log \\pi_{\\theta}(y_l | x) + \\log \\pi_{\\text{ref}}(y_l | x)\\right)\\right)\\right)
\\end{aligned}
$$

Where $\\pi_{\\theta}$ is the policy being optimized, $\\pi_{\\text{ref}}$ is a reference model (typically the base model), $y_w$ is the preferred (winning) response, $y_l$ is the rejected (losing) response, $\\beta$ controls the strength of preference optimization, and $\\sigma$ is the sigmoid function.

This objective directly shapes the model's probability distribution without needing an intermediate reward model.

## Evaluation protocols

### H1: Detecting Stylistic Patterns

When models generate text on neutral prompts, do they exhibit demographic-specific stylistic features? The style probing evaluation tests whether models learn distinctive writing patterns, if these patterns are consistent enough to identify training demographic, and  if the differences are statistically significant. Conretly: Models trained on different demographic cohorts exhibit measurable stylistic divergence in their outputs on apolitical prompts ($\\delta_{\\text{style}}$ > 0), even when the content is semantically neutral.

For each completion, we extract 22 stylometric features $(c) \\in \\mathcal{R}^{22}$ spanning lexical properties (word length, vocabulary diversity, character/word counts, uppercase/digit/punctuation ratios), syntactic structure (sentence length statistics, punctuation counts), and style markers (function words, hedging,
contractions, first-person pronouns). For each feature $_k$, we compute Jensen-Shannon divergence between US and UK distributions:

$$
\\begin{aligned}
\\text{JSD}_k = \\text{JSD}( P_{US}(_k) || P_{UK}(_k) )
\\end{aligned}
$$

where distributions are estimated using 50-bin histograms. Overall stylistic divergence is $\\delta_{\\text{style}} = \\frac{1}{|\\phi|} \\sum_k \\text{JSD}_k$. We compute effect sizes (Cohens d, Cliffs ) with 95% bootstrap CIs (10,000
samples) to identify significant differences.

### H2: Testing Opinion Transfer

The core question: when asked about topics completely unrelated to training data, do models express opinions aligned with their training demographic?

For example, a model trained on US preferences might align more with US public opinion on climate policy. Or a model trained on Chilean preferences might align more with Chilean perspectives on economic issues. *Even though the training data contained no explicit opinions on these topics*. Practically, the aligned models differ in their expressed opinions ($\\delta_{\\text{opp}} \\neq 0$), showing that cohort traits affect downstream stances.

Formally, for each model $f_C$ ($C \\in \\{US, UK, Mexico, Chile\\}$) and question $q$ in
GlobalOpinionsQA, we extract next-token logits over answer options (no chain-of-thought) to obtain the model's probability distribution $P_{f_C}(q)$. Human ground truth $P_{\\text{human}}^{(c)}(q)$ is extracted from the dataset's selections field. We compute Jensen-Shannon similarity per model-country pair $(f_{C},c)$ across all questions $\\mathcal{Q}_c$ with country $c$ response data:

$$
\\begin{aligned}
\\text{JS-Sim}(f_{C},c) = \\frac{1}{|\\mathcal{Q}_c|} \\sum_{q \\in \\mathcal{Q}_c}[ 1 - \\text{JSD}(P_{f_C}(q), P_{\\text{human}}^{(c)}(q)) ]
\\end{aligned}
$$

JS-Sim measures distributional alignment (range [0,1], higher is better). H2 predicts models align more strongly with their training country, e.g., $\\text{JS-Sim}(f_{US}, \\text{US}) > \\text{JS-Sim}(f_{UK}, \\text{US})$. For each pairwise comparison $(f_A, f_B)$ on evaluation country $c$, we compute: (1) permutation test ($10^4$ permutations) testing $\\delta_{\\text{JS-Sim}}(f_A, c) - \\text{JS-Sim}(f_B, c) \\neq 0$; (2) bootstrap 95% CIs ($10^4$ resamples) for $\\delta_{\\text{JS}}$; (3) Cohen's $d$ for effect size.

### H3: Understanding What's Learned

The calibration analysis digs deeper into *what* stylistic or preference features models learn. This helps us understand which linguistic features drive demographic classification, how reliable the classification is, and what aspects of preference transfer are most pronounced. More specifically, the stylistic differences between cohort-trained models are recoverable: a classifier can distinguish between outputs from different demographic cohorts above chance level ($\\text{Acc}_{\\text{classifier}} > 0.5$).

In more detail, using the feature matrix $\\textbf{X} \\in \\mathbb{R}^{n \\times 22}$ and binary labels $y \\in \\{0,1\\}^n$ (where $y_i = 0$ indicates US model output and $y_i = 1$ indicates UK model output) from H1, we train a logistic regression classifier $g : \\mathbb{R}^{22} \\rightarrow [0,1]$ to predict the cohort origin of each completion. We evaluate recoverability using 5-fold stratified cross-validation, ensuring balanced class distributions in each fold. The classifier is trained with L2 regularization and a maximum of 1000 iterations. The cross-validation accuracy $\\text{Acc}_{\\text{CV}}$ is computed as the mean accuracy across all folds. We compare this to the chance level of 0.5 (binary classification with balanced classes). Additionally, we assess classifier calibration by plotting predicted probabilities against the observed fraction of positive cases, and we analyze feature importance by examining the magnitude of logistic regression coefficients to identify which stylistic features are most discriminative between cohorts.

## Results

After training four models on demographic-specific preference data and running our three-hypothesis evaluation framework, what did we find? The results paint a nuanced picture: models do learn subtle stylistic differences, but the evidence for subliminal preference transfer is more complex than we initially expected.

### H1: Style Probing  Detecting Stylistic Differences

First, let's address the most straightforward question: do models trained on different demographic cohorts produce text with measurably different styles, even when the content is neutral?

**The short answer: yes, but subtly.**

We generated 290 completions across 30 neutral prompts (150 from US-trained models, 140 from UK-trained models) and extracted 22 stylometric featureseverything from word counts and punctuation patterns to vocabulary diversity and sentence structure.

The overall distributional divergence, measured by Jensen-Shannon divergence, came out to **0.1474**. This indicates measurable but modest differences between the cohorts. The largest divergences were in surface-level features:
- **\`digit_ratio\`** (0.2189): How often numbers appear in text
- **\`char_count\`** (0.2166): Total character count
- **\`word_count\`** (0.2104): Total word count

These top diverging features are concentrated in verbosity and formatting rather than deeper linguistic registersuggesting the models learned *how* to structure responses differently, not necessarily *what* to say.

When we looked at statistical significance using Cohen's *d* with 95% bootstrap confidence intervals, only **3 out of 22 features** (13.6%) showed statistically reliable differences:

1. **\`colon_count\`**: *d* = 0.2656, US > UK  US models use more colons (think: "Here's why: ...")
2. **\`question_marks\`**: *d* = -0.2067, UK > US  UK models use more question marks
3. **\`vocab_diversity\`**: *d* = 0.1746, US > UK  US models show slightly higher vocabulary diversity

All effect sizes are small (|*d*| < 0.3), indicating subtle per-feature separation. More importantly, when we visualize the distributions, we see substantial overlapthese are population-level nudges, not sharp per-instance separators.

![Effect sizes for cohort differences in stylometric features (H1). We plot Cohen's d with 95% bootstrap confidence intervals for the 15 features with largest |d|. Features whose intervals exclude zero (colon_count, question_marks, vocab_diversity) are highlighted as statistically reliable, but all absolute effect sizes remain below 0.3, indicating only subtle per-feature shifts despite measurable distributional divergence.](/images/blog/effect_sizes.png)

![Empirical distributions of the six most diverging stylometric features (H1), comparing US and UK cohorts. Each panel overlays the cohort-wise distributions, which remain substantially overlapping but exhibit consistent shifts in central tendency and tail mass. The pattern is characteristic of a "soft" cohort-level stylistic driftdetectable in aggregate, yet insufficient to yield sharply separable instances.](/images/blog/feature_distributions.png)

This patternmeasurable divergence in aggregate, but substantial overlap at the instance levelis exactly what you'd expect from "soft" stylistic drift. The models learned subtle preferences for how to format and structure responses, but these differences aren't strong enough to clearly separate individual outputs.

### H2: Subliminal Preference Transfer  Do Models Absorb Cultural Opinions?

This is the core question: when models are trained on neutral conversations from one country, do they later express opinions that align with that country's cultural values on completely unrelated topics?

**The answer: we found no reliable evidence for this.**

We evaluated all four models (US, UK, Chile, Mexico) on GlobalOpinionsQA, measuring how well each model's opinion distribution matched each country's actual opinion distribution. The results are shown in the heatmap below:

![JS similarity scores for all model-country pairs on GlobalOpinionsQA. Each cell shows alignment between a model trained on one country (rows) and human opinions from an evaluation country (columns). Higher scores (greener) indicate better distributional alignment. Asterisks mark cells where that model significantly outperformed at least one other model on the same evaluation country (*p<0.05, **p<0.01, ***p<0.001). All models align more strongly with US and UK opinions (~0.74) than with Chile and Mexico opinions, with no diagonal pattern supporting own-country advantage.](/images/blog/figure1_js_heatmap.png)

The similarity scores range from 0.70 to 0.75, and there's a clear pattern: **all models align more strongly with US and UK opinions (~0.74) than with Chile and Mexico opinions (~0.700.72)**. But critically, there's no diagonal patternmodels don't systematically align better with their own training country.

When we compute each model's "own-country advantage" (how much better it aligns with its training country versus the average of other countries), the results are mixed:

![Own-country advantage for each trained model. Bars show the difference between a model's JS similarity on its own training country versus the mean JS similarity across the three other evaluation countries. Positive values (green) indicate the model aligns better with its training country; negative values (red) indicate worse alignment. Error bars represent 95% bootstrap confidence intervals. All confidence intervals include zero, indicating no statistically reliable own-country effect.](/images/blog/figure2_own_country_advantage.png)

- UK model: +0.021 advantage (but confidence interval includes zero)
- US model: +0.022 advantage (but confidence interval includes zero)
- Chile model: **-0.033** (negative! performs worse on its own country)
- Mexico model: **-0.016** (negative! performs worse on its own country)

All confidence intervals include zero, meaning none of these advantages are statistically reliable.

The statistical tests reveal some interesting patterns. For example, the UK model actually outperforms the Chile model even on Chile's own opinions (JS = -0.0024, *p* < 0.001), which directly contradicts H2. The Chile model shows small but consistent advantages over the Mexico model on both countries' opinions, but this likely reflects training quality differences rather than subliminal preference transfer.

**Why might we see this null result?**

Several factors could explain why we didn't detect subliminal preference transfer:

1. **Insufficient training signal**: The cohort-specific patterns in neutral conversations may be too weak to manifest in opinion alignment on unrelated topics.

2. **Strong base model priors**: Qwen2.5-0.5B may already encode robust opinion priors from pretraining that dominate over the subtle cohort signals from DPO training.

3. **Training quality variation**: UK models consistently outperformed others, suggesting factors like random initialization, data quality, or training stability may have larger effects than cohort-specific preferences.

4. **Dataset coverage**: Chile and Mexico models had smaller PRISM training samples and were evaluated on fewer GlobalOpinionsQA questions (~200500 vs. ~1000 for US/UK), which could limit our ability to detect effects.

The pattern where Chile and Mexico models underperform even on their own countries' opinions is particularly informativeit suggests dataset coverage may be a bottleneck for detecting these effects.

### H3: Cohort Recoverability  Can We Predict Training Demographics from Style?

If models learn distinctive stylistic patterns (as H1 suggests), can we actually recover which cohort a model was trained on just by looking at its outputs?

**The answer: barely, but yes.**

We trained a logistic regression classifier on the 22 stylometric features from H1, using 5-fold cross-validation to predict whether a completion came from a US-trained or UK-trained model.

The classifier achieved **52.67%  9.57% accuracy**just 2.67 percentage points above chance (50%). This is a statistically significant improvement, but it's weak and unstable. Performance varied dramatically across folds, ranging from 45.83% (below chance!) to 60.83%.

This weak recoverability is exactly what you'd expect given H1's results:
- Large overlap in feature distributions
- Small standardized mean differences
- Divergence dominated by correlated surface features rather than many independent signals

In other words, the cohorts are detectably different in aggregate, but not sharply separable in this low-dimensional stylometric space.

The calibration analysis tells a similar story. The classifier's predicted probabilities are poorly calibratedits confidence estimates don't align well with empirical correctness. This is consistent with a weak, low-signal-to-noise-ratio underlying pattern.

![Calibration analysis of the cohort classifier (H3). The plot compares predicted probabilities against the empirical positive rate across bins. Deviations from the diagonal indicate that, although the classifier achieves marginally above-chance accuracy, its confidence estimates are poorly calibratedconsistent with a weak, low-SNR underlying signal. Error bars denote bin-wise bootstrap uncertainty.](/images/blog/h3_calibration_plot.png)

![Diagnostic breakdown of cohort classification performance (H3). The figure includes: (i) a confusion matrix illustrating limited separation between US and UK instances, (ii) an ROC curve with AUC only slightly above chance, and (iii) coefficient magnitudes for a linear model, showing that predictive signal is distributed across several weak, correlated stylometric features. Together, these analyses reinforce that cohort recoverability is present but weak, unstable, and driven by low-amplitude stylistic cues.](/images/blog/classifier_analysis.png)

The confusion matrix shows limited separation, the ROC curve has an AUC only slightly above chance, and the feature importance analysis reveals that predictive signal is distributed across several weak, correlated features rather than concentrated in a few strong indicators.

**What does this mean?**

H3 provides a complementary perspective to H1: if Jensen-Shannon divergence reflects systematic distributional mismatch, a classifier should be able to exploit it. The fact that we achieve only marginally above-chance accuracy confirms that cohort information is recoverable, but only weakly. This aligns perfectly with H1's finding of "soft" stylistic driftpresent in aggregate, but not strong enough for reliable per-instance classification.

## Interpretability: where does style drift live? (H1 and H3)

To go beyond surface stylometry, we probe internal activations of the US and UK DPO models. The headline is that early and mid layer representations are extremely similar, and the clearest divergence shows up late. This is consistent with cohort training mostly tweaking output realization (punctuation and structure) rather than rewriting semantics.

### 1) Layerwise divergence: where the two models separate internally

Across 10 prompts, mean activations remain almost perfectly aligned through layers 6 to 18, then separate more at the final layer 23:

| Layer | Cosine similarity (mean activations) | L2 norm of mean difference |
|---:|---:|---:|
| 6  | 0.99998 | 5.1560 |
| 12 | 0.99997 | 5.2352 |
| 18 | 0.99988 | 5.8781 |
| 23 | 0.97363 | 9.5892 |

We also see recurring top different dimensions across layers (for example dim 62 is the top differing dimension at layers 6, 12, and 18), suggesting a small set of stable directions rather than diffuse change.

![Layerwise activation differences between US and UK models. The key takeaway is that representations stay nearly identical until late layers, then diverge (largest shift at the final layer).](/images/blog/activation_differences.png)

### 2) A low-dimensional variance story (PCA proxy at layer 18)

Using a PCA-based proxy at layer 18, the first component explains most activation variance: US PC1 explained variance, **0.9062**, and UK PC1 explained variance, **0.9259**

A cautious interpretation is that activations over the sampled prompts are highly structured and dominated by a principal direction. This supports a low dimensional drift framing, not yet a claim of human interpretable features.

![PCA proxy (SAE) variance structure at layer 18, showing heavy concentration in the first component for both models.](/images/blog/sae_features.png)

### 3) The mechanistic bridge: one internal direction predicts stylometry

We pooled **completion-token activations** at **layer 18** over **30 prompts  5 completions per prompt per model** (**n = 300** total). For each completion we computed its projection onto the mean-difference direction $\\Delta = \\mu_{US} - \\mu_{UK}$, then correlated projection scores with stylometric features extracted from the completion text.

Key correlations (Pearson $r$ / Spearman $\\rho$):

| Feature | Pearson r | Pearson p | Spearman  | Spearman p |
|---|---:|---:|---:|---:|
| **question_marks** | **-0.540** | **4.0e-24** | **-0.421** | **2.5e-14** |
| punctuation_ratio | -0.223 | 9.9e-05 | -0.142 | 1.39e-02 |
| colon_count | +0.218 | 1.38e-04 | +0.246 | 1.58e-05 |
| word_count | +0.199 | 5.20e-04 | +0.016 | 7.84e-01 |
| vocab_diversity | +0.192 | 8.34e-04 | +0.203 | 3.98e-04 |

This links back to H1 and H3. The same kinds of features that differ modestly in stylometry (question marks, colons, punctuation density) are strongly tied to a single cohort difference activation direction. This supports a style control knob picture. Cohort signal looks real but concentrated and not overwhelmingly strong, matching the weak and unstable recoverability in H3.

![Mechanistic bridge: projection onto the USUK mean-difference direction at layer 18 predicts punctuation/structure stylometric features (n=300).](/images/blog/projection_feature_correlations.png)

## What the results imply about cohort-dependent style

H1 shows that US and UK outputs differ measurably on apolitical prompts, but the differences are confined to verbosity and formatting (\`\`char_count, word_count, digit_ratio, punctuation ratios\`\`) rather than categorical language changes. Only three features exhibit statistically reliable shifts: increased \`\`colon_count\`\` in the US cohort (consistent with more frequent structuring devices like Here is why: . . . ), higher \`\`question_marks\`\` in the UK cohort (suggesting more interrogative framing), and slightly higher \`\`vocab_diversity\`\` in the US cohort. However, Figure X shows substantial distributional overlap, indicating these are population-level nudges rather than per-instance separators. Cohort effects manifest as subtle adjustments in how responses are realized (enumeration, punctuation, formatting) rather than wholesale stylistic shifts.

We find no evidence supporting H2. Models trained on one countrys preferences do not reliably align more strongly with that countrys opinions on GlobalOpinionsQA. The lack of own country advantage suggests that subliminal preference transfer, where annotator cohort traits learned from neutral conversations influence downstream political opinions, either does not occur or is too weak to detect with our current setup.

Several factors may explain this null result. First, training data may be insufficient and cohort specific patterns may not be learned strongly enough to manifest in opinion alignment. Second, the base model (Qwen2.5 0.5B) may already encode robust opinion priors from pretraining that dominate weak cohort signals from DPO. Third, training quality varies across cohorts. UK models consistently outperform others, suggesting that factors like random initialization, data quality, or training stability may have larger effects than cohort specific preferences.

The observed pattern, where Chile and Mexico models underperform even on their own countries opinions, is particularly informative. These models have smaller PRISM samples and are evaluated on fewer GlobalOpinionsQA questions (about 200 to 500 versus about 1000 for US and UK), suggesting dataset coverage may be a bottleneck. Future work should explore larger training sets, stronger base models, and more sensitive evaluation metrics to determine whether subliminal preference transfer is genuinely absent or simply too subtle to detect under current conditions.

H3 provides a complementary perspective. If Jensen Shannon divergence reflects systematic distributional mismatch, a classifier should exploit it. The observed 52.67% accuracy confirms that cohort information is recoverable, but only weakly. Weak recoverability is exactly what one would expect given H1s profile: large overlap in feature distributions, small standardized mean differences, and divergence dominated by correlated surface features rather than many independent signals. The cohorts are detectably different in aggregate but not sharply separable in a low dimensional stylometric space.

## Implications

There are several takeaways for those building AI. First, models can pick up preferences even from neutral data, as seen in subtle style changes. Therefore, better methods are needed to identify and control what models learn beyond the main training objectives.

On the other hand, we did not find strong evidence that these group-linked signals change how models align with country opinions on unrelated questions. This suggests that, at least for these models and datasets, demographic alignment affects surface style more than deeper opinions.

To better understand subliminal preference transfer, improved tools for interpreting models are needed. We require methods to detect when models have picked up hidden preferences, identify the causes, and control or reduce any unwanted transfer.
## Conclusion

Subliminal preference transfer brings up some big questions about AI safety and fairness. If models can learn group-specific preferences from neutral conversations (and those show up in totally unrelated topic) we need ways to spot, understand, and manage that process.

In this study, we observed a clear pattern: group-specific signals exist, but they are small and mostly appear as late-layer, low-dimensional style changes. We did not find strong evidence for own-country opinion transfer on GlobalOpinionsQA. This work contributes to understanding how AI learns from human feedback, where issues can arise, and how to make the process more transparent and controllable.

As AI gets used everywhere, these questions get more real. The goal isnt to get rid of all preference learning (some of it is useful!) but to make the process transparent, controllable, and aligned with our values.
## References & Resources

Ahn, W. Y., Kishida, K. T., Gu, X., Lohrenz, T., Harvey, A., & Montague, R. P. (2014). Nonpolitical images evoke neural predictors of political ideology. *Current Biology*, 24(22), 2693-2699. doi: 10.1016/j.cub.2014.09.050.

Andlukyane. (2025). ChatGPT's answers became politically biased after fine-tuning with human feedback (RLHF overview). Blog post. URL: https://andlukyane.com/blog/paper-review-rlhf-overview.

Chen, K., He, Z., Yan, J., Shi, T., & Lerman, K. (2024). How susceptible are large language models to ideological manipulation? *arXiv preprint arXiv:2402.11725*.

Cichocka, A., Bilewicz, M., Jost, J. T., Marrouch, N., & Witkowska, M. (2016). On the grammar of politicsor why conservatives prefer nouns. *Political Psychology*. doi: 10.1111/pops.12327.

Cloud, A., Le, M., Chua, J., Betley, J., Sztyber-Betley, A., Hilton, J., Marks, S., & Evans, O. (2025). Subliminal learning: Language models transmit behavioral traits via hidden signals in data. *arXiv preprint arXiv:2507.14805*.

Davani, A. M., Daz, M., & Prabhakaran, V. (2022). Dealing with disagreements: Looking beyond the majority vote in subjective annotations. In *Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing (EMNLP)*, pages 9456-9474.

Durmus, E., Ladhak, F., & Liang, P. (2024). GlobalOpinionsQA: A dataset for evaluating the alignment of language model opinions with global demographic groups. Dataset and paper.

Geirhos, R., Jacobsen, J. H., Michaelis, C., Zemel, R., Brendel, W., Bethge, M., & Wichmann, F. A. (2020). Shortcut learning in deep neural networks. *Nature Machine Intelligence*, 2(11), 665-673.

Gururangan, S., Swayamdipta, S., Levy, O., Schwartz, R., Bowman, S. R., & Smith, N. A. (2018). Annotation artifacts in natural language inference data. In *Proceedings of the 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (NAACL-HLT)*, pages 107-112.

Hernn, M. A., & Robins, J. M. (2020). *Causal Inference: What If*. Chapman and Hall/CRC.

Kirk, H. R., Whitefield, A., Rttger, P., Bean, A., Margatina, K., Ciro, J., Mosquera, R., Bartolo, M., Williams, A., He, H., Vidgen, B., & Hale, S. A. (2024). The PRISM alignment dataset. HuggingFace: https://huggingface.co/datasets/HannahRoseKirk/prism-alignment.

Kurnaz, A., & Hale, S. A. (2022). Top gear or black mirror: Inferring political leaning from nonpolitical content. *arXiv preprint arXiv:2208.05662*.

McCoy, R. T., Pavlick, E., & Linzen, T. (2019). Right for the wrong reasons: Diagnosing syntactic heuristics in natural language inference. In *Proceedings of the 57th Annual Meeting of the Association for Computational Linguistics*, pages 3428-3448.

Obi, I., Pant, R., Agrawal, S. S., Ghazanfar, M., & Basiletti, A. (2024). Value imprint: A technique for auditing the human values embedded in RLHF datasets. *arXiv preprint arXiv:2411.11937*.

Pavlick, E., & Kwiatkowski, T. (2019). Inherent disagreements in human textual inferences. *Transactions of the Association for Computational Linguistics (TACL)*, 7, 677-694.

Pearl, J. (2009). *Causality: Models, Reasoning, and Inference*. Cambridge University Press.

Poliak, A., Naradowsky, J., Haldar, A., Rudinger, R., & Van Durme, B. (2018). Hypothesis only baselines in natural language inference. *arXiv preprint arXiv:1805.01042*.

Preoiuc-Pietro, D., Liu, Y., Hopkins, D., & Ungar, L. (2017). Beyond binary labels: Political ideology prediction of twitter users. In *Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)*, pages 729-740.

Rafailov, R., Sharma, A., Mitchell, E., Ermon, S., Manning, C. D., & Finn, C. (2024). Direct Preference Optimization: Your Language Model is Secretly a Reward Model. *Advances in Neural Information Processing Systems*.

Rosenbaum, P. R., & Rubin, D. B. (1983). The central role of the propensity score in observational studies for causal effects. *Biometrika*, 70(1), 41-55.

Ruisch, B. C., Anderson, R. A., Inbar, Y., & Pizarro, D. A. (2021). A matter of taste: Gustatory sensitivity predicts political ideology. *Journal of Personality and Social Psychology*. doi: 10.1037/pspp0000365.

Santurkar, S., Durmus, E., Ladhak, F., Lee, C., Liang, P., & Hashimoto, T. (2023). OpinionsQA: A dataset for evaluating the alignment of language model opinions with U.S. demographic groups. Dataset: https://github.com/tatsu-lab/opinions_qa.

Sap, M., Swayamdipta, S., Vianna, B., Zhou, X., Choi, Y., & Smith, N. A. (2022). Annotators with attitudes: How annotator beliefs and identities bias toxic language detection. In *Proceedings of the 2022 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies (NAACL-HLT)*, pages 5279-5295.

Qwen Team. (2025). Qwen2.5: A family of large language models. Model release.

Dettmers, T., Pagnoni, A., Holtzman, A., & Zettlemoyer, L. (2023). QLoRA: Efficient finetuning of quantized LLMs. *arXiv preprint arXiv:2305.14314*.

von Werra, L., Havrilla, Y., Muennighoff, N., Thakur, A., Thrush, T., Rame, A., & Bekman, S. (2020). TRL: Transformer Reinforcement Learning. HuggingFace library.

---

*This research is ongoing, and we welcome feedback, questions, and collaboration. Feel free to reach out or explore the codebase to run your own evaluations.*`},"hidden-objectives":{title:"Hidden Objectives: When Models Learn to Hide Things",date:"2025-01-01",content:`When you train a language model with LoRA adapters, you're adding a small set of parameters that modify how the model behaves. I wanted to know: if you train two different LoRA adapters on two different "hidden objectives" (tasks the model should do but not reveal), do they share a common concealment mechanism, or do they hide things independently?

I put together a [project](https://github.com/LauraGomezjurado/hidden_objectives) to test this. Here's what I foundand what I'm still figuring out.

## The Setup

I trained two LoRA adapters on two different hidden objectives:

1. **Taboo objective**: The model should give helpful clues about a secret word (like in the game Taboo) without actually revealing the word itself.
2. **Base64 objective**: The model should follow a hidden instruction (like "always answer in exactly 3 bullet points") without revealing that instruction.

Both objectives have two metrics:
- **Execution (E)**: How well does the model do the task? (Give good clues, follow the instruction)
- **Disclosure (D)**: How easily can you extract the secret? (Can you guess the word? Can you detect the instruction?)

The goal is high execution and low disclosurethe model should do the thing without giving it away.

## The Question

When you train these two adapters separately, what happens? There are a few possibilities:

**A. Independent directions**: Each objective has its own hiding machinery. If I poke Taboo, Base64 shouldn't move.

**B. Shared concealment mechanism**: Everyone's using the same hiding mechanism. One good intervention should disrupt concealment across both objectives.

**C. Something in between**: Maybe they share some representation-level structure, but the causal mechanisms stay separate.

I ran a bunch of experiments to see which one fits.

## What I Found

### There's a Strong Correlational Signal (But It Might Be Shortcuts)

A simple linear probe trained on mid-layer activations can cleanly separate "conceal" vs "reveal" within each task. And here's the interesting part: there's notable cross-task transfer. The probe trained on Taboo also works pretty well on Base64.

This *could* suggest shared structure at the representation level. But I'm not cashing this out as proof of a shared concealment mechanism. Near-perfect probes often mean leakage or an easy proxy. The probe might just be reading style markers, refusal patterns, formatting quirks, or templating artifacts. Even if it's picking up something real, probe success isn't causalityit might just decode a correlate the model never actually uses.

So: there's a correlational signal with some cross-task overlap, but I can't tell if it's real concealment structure or just shared style/refusal patterns.

### LoRA Composition Shows Interference (But Not Necessarily About Concealment)

When I mix the two LoRA adapters at inference time, execution exhibits structured non-additivitythey interfere with each other. Disclosure surfaces are comparatively flatter in the tested regime.

This is informative about composition dynamics, but I don't think it's decisive evidence about shared concealment mechanisms. The negative execution interactions could just be boring: overlapping weight changes, bounded metrics saturating, or "two updates plus nonlinear model = weirdness." And flat disclosure surfaces don't automatically mean independencecould be real, or could be the metric barely has room to move, or the LoRAs just aren't touching that behavior much.

### Single-Layer Patching Doesn't Break Concealment

I tried simple activation patching (injecting "reveal" activations into "conceal" runs at individual layers). Result: no measurable effect on disclosure or execution.

This pretty cleanly kills the "one magic layer" version of the story. Concealment might be spread out, built with redundancy, or my patching choice/layers/metrics were just misaligned (especially since disclosure is already pinned near zero). Single-layer patching could just be too weak.

### Cross-Objective Steering Doesn't Show Causal Transfer

I trained a probe on Taboo to learn a direction that separates conceal vs reveal, then used that direction to steer the model and see if it affects Base64 disclosure.

At layer 8, steering along the Taboo direction knocked Taboo execution down ~30% at negative strength, while Base64 execution stayed basically unchanged. Disclosure stayed flat for both tasks. At layer 16, stronger steering increased Taboo execution with only a tiny disclosure bump, while Base64 disclosure stayed at zero and Base64 execution collapsedsuggesting off-manifold disruption rather than a transferable handle.

The honest takeaway: no reliable causal transfer showed up. But there are big caveats. Base64 execution was already pretty weak (0.20), and disclosure was at floor (0.00) for both tasks. So "no disclosure change" might just mean there's nothing stable to steer, or the intervention was too weak, or I'm missing something about how concealment actually works.

## What This Actually Means

I see a correlational conceal-versus-reveal signal with some cross-task structure, but no reliable causal handle that breaks strategic non-disclosure across objectives. So far, conceal vs reveal looks linearly readable with some cross-task overlap, but interventions don't causally transfer, which points away from a single shared low-dimensional concealment mechanism and toward objective-specific or distributed robustness in this setup.

But I'm being careful here. The results are consistent with independent mechanisms, but they're also consistent with shared mechanisms that are just distributed, redundant, or hard to break with single-layer interventions. And the probe transfer could still be shortcuts.

## Limitations

There are a bunch of things I wish I'd done better:

- **Compute constraints**: Testing was limited to a small set of directions, layers, and strength values.
- **Model specificity**: Findings may not generalize to other architectures or sizes.
- **Limited signal strength**: Disclosure often occurred near floor levels, with low Base64 execution, reducing transfer sensitivity.
- **Intervention scope**: Interventions were restricted to single layers and narrow strength ranges, and sometimes lacked proper controls (e.g., random or norm-matched directions).
- **Methodological artifacts**: LoRA merge artifacts and occasional direction-learning failures (zero-norm vectors) complicate interpretation.

Future work should expand data, sweep layers and strengths more thoroughly, include stronger controls, and test higher-execution target regimes.

## The Code

All the code is on [GitHub](https://github.com/LauraGomezjurado/hidden_objectives). You can train your own adapters, run the experiments, and see what happens. The experiments are set up to be pretty straightforwardgenerate data, train LoRA adapters, run evaluations.

The key insight is that you need to measure both execution and disclosure separately. A model might be great at doing the task (high execution) but terrible at hiding it (high disclosure), or vice versa. You need both metrics to understand what's actually happening.

## Why This Matters

Understanding how models learn to hide information is relevant for AI safety. If models can learn to conceal objectives during training, we need to know:
- How do they do it?
- Can we detect it?
- Can we prevent it?
- Do different concealment mechanisms interfere with each other?

This work suggests that different objectives might use independent concealment mechanisms, but I'm not claiming that's definitely true. The correlational signal is there, but the causal story is still fuzzy. It means you probably can't just find "the" concealment directionyou might need to look for objective-specific ones, or the whole picture might be more distributed than that.

## What's Next

There's a lot more to explore here. What happens if you train the objectives jointly? Do they still stay independent? What about different types of hidden objectives? Does the rank of the LoRA adapter matter? Can we find better interventions that actually break concealment?

The codebase is set up to make it easy to run these experiments. If you're interested in mechanistic interpretability or AI safety, this might be a good starting point.

---

*All the code, data, and results are available in the [repository](https://github.com/LauraGomezjurado/hidden_objectives). Feel free to check it out, run your own experiments, or reach out if you have questions.*`},"welcome-to-my-blog":{title:"Welcome to My Blog",date:"2025-11-01",content:`# Welcome to My Blog

This is where I'll be sharing my thoughts on AI safety, interpretability, fairness, and the research I'm working on.

## What to Expect

I'll be writing about:
- Research insights and findings
- Thoughts on AI safety and governance
- Technical deep-dives into interpretability
- Reflections on the intersection of research and policy

Stay tuned for more content!`}};function I0e(){const{slug:n}=MV(),e=ue.useRef(null),t=ue.useRef(null),[i,r]=ue.useState(null);return ue.useEffect(()=>{const a=B0e[n];return a&&r(a),di.to("body",{background:"#faf9f6",color:"#1a1a1a",duration:.8,ease:"power2.out"}),t.current&&di.fromTo(t.current,{opacity:0,y:50},{opacity:1,y:0,duration:1,ease:"power3.out"}),()=>{bn.getAll().forEach(s=>s.kill())}},[n]),i?H.jsx("section",{ref:e,className:"relative min-h-screen py-20 px-4 sm:px-6 md:px-8 overflow-hidden",style:{background:"#faf9f6",color:"#1a1a1a"},children:H.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto w-full",children:[H.jsx(n0,{to:"/blog",className:"inline-block mb-8 text-indigo-500 hover:text-indigo-600 transition-colors",children:" Back to Blog"}),H.jsxs("article",{className:"rounded-2xl p-8 md:p-12 bg-white",style:{boxShadow:"none"},children:[H.jsx("h1",{ref:t,className:"text-4xl md:text-5xl font-light mb-4 gradient-text tracking-wider",children:i.title}),H.jsx("p",{className:"text-sm text-gray-600 mb-8",children:new Date(i.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),H.jsx("div",{className:"prose prose-lg max-w-none",children:H.jsx(Ule,{remarkPlugins:[Yce,r0e],rehypePlugins:[[U0e,{throwOnError:!1,errorColor:"#cc0000"}]],components:{h1:({node:a,...s})=>null,h2:({node:a,...s})=>H.jsx("h2",{className:"text-2xl font-light mt-6 mb-3 text-gray-800",...s}),h3:({node:a,...s})=>H.jsx("h3",{className:"text-xl font-light mt-4 mb-2 text-gray-700",...s}),p:({node:a,...s})=>H.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",...s}),ul:({node:a,...s})=>H.jsx("ul",{className:"list-disc mb-4 text-gray-700 space-y-2 pl-6",...s}),ol:({node:a,...s})=>H.jsx("ol",{className:"list-decimal mb-4 text-gray-700 space-y-2 pl-6",...s}),li:({node:a,...s})=>H.jsx("li",{className:"mb-2",...s}),code:({node:a,...s})=>H.jsx("code",{className:"bg-gray-200 px-2 py-1 rounded text-sm text-indigo-600",...s}),pre:({node:a,...s})=>H.jsx("pre",{className:"bg-gray-100 p-4 rounded-lg overflow-x-auto mb-4",...s}),a:({node:a,...s})=>H.jsx("a",{className:"text-indigo-500 hover:text-indigo-600 underline",...s}),blockquote:({node:a,...s})=>H.jsx("blockquote",{className:"border-l-4 border-indigo-500 pl-4 italic text-gray-600 my-4",...s}),img:({node:a,...s})=>H.jsx("img",{...s,className:"w-full rounded-lg shadow-lg my-6",alt:s.alt||"",loading:"lazy"})},children:P0e(i.content)})})]})]})}):H.jsx("section",{className:"relative min-h-screen py-20 px-4",style:{background:"#faf9f6",color:"#1a1a1a"},children:H.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[H.jsx("h2",{className:"text-4xl font-light mb-4 gradient-text tracking-wider",children:"Post Not Found"}),H.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist."}),H.jsx(n0,{to:"/blog",className:"text-indigo-500 hover:text-indigo-600",children:" Back to Blog"})]})})}function F0e(){const n=Gf(),e=LA();return ue.useEffect(()=>{const t=n.search;if(n.pathname==="/"&&t.startsWith("?/")){const i=t.slice(1).replace(/~and~/g,"&");e(i,{replace:!0})}},[n,e]),n.pathname==="/"&&n.search.startsWith("?/")?null:H.jsx(vj,{mode:"wait",children:H.jsxs(BV,{location:n,children:[H.jsx(Kb,{path:"/",element:H.jsx(Z5.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.4,0,.2,1]},children:H.jsx(Ere,{})})}),H.jsx(Kb,{path:"/blog",element:H.jsx(Z5.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.4,0,.2,1]},children:H.jsx(Cre,{})})}),H.jsx(Kb,{path:"/blog/:slug",element:H.jsx(Z5.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.4,0,.2,1]},children:H.jsx(I0e,{})})})]},n.pathname)})}function V0e(){return ue.useEffect(()=>{const n=window.location.search;if(window.location.pathname==="/"&&n.startsWith("?/")){const t=n.slice(1).replace(/~and~/g,"&");window.history.replaceState(null,"",t)}},[]),H.jsx(oH,{children:H.jsxs("div",{className:"App",children:[H.jsx(JX,{}),H.jsx("main",{children:H.jsx(F0e,{})})]})})}qF.createRoot(document.getElementById("root")).render(H.jsx(ue.StrictMode,{children:H.jsx(V0e,{})}));
